var O5=Object.defineProperty;var D5=(e,n,r)=>n in e?O5(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var cm=(e,n,r)=>D5(e,typeof n!="symbol"?n+"":n,r);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function P5(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var r=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),r}var ng={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function M5(){if(OT)return uu;OT=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(a,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:e,type:a,key:l,ref:s!==void 0?s:null,props:o}}return uu.Fragment=n,uu.jsx=r,uu.jsxs=r,uu}var DT;function _5(){return DT||(DT=1,ng.exports=M5()),ng.exports}var t=_5(),rg={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function I5(){if(PT)return ct;PT=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=p&&I[p]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,j={};function w(I,q,B){this.props=I,this.context=q,this.refs=j,this.updater=B||b}w.prototype.isReactComponent={},w.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},w.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function T(){}T.prototype=w.prototype;function A(I,q,B){this.props=I,this.context=q,this.refs=j,this.updater=B||b}var O=A.prototype=new T;O.constructor=A,x(O,w.prototype),O.isPureReactComponent=!0;var P=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function k(I,q,B,H,K,ie){return B=ie.ref,{$$typeof:e,type:I,key:q,ref:B!==void 0?B:null,props:ie}}function D(I,q){return k(I.type,q,void 0,void 0,void 0,I.props)}function _(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function U(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(B){return q[B]})}var R=/\/+/g;function $(I,q){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):q.toString(36)}function L(){}function z(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(L,L):(I.status="pending",I.then(function(q){I.status==="pending"&&(I.status="fulfilled",I.value=q)},function(q){I.status==="pending"&&(I.status="rejected",I.reason=q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function W(I,q,B,H,K){var ie=typeof I;(ie==="undefined"||ie==="boolean")&&(I=null);var ae=!1;if(I===null)ae=!0;else switch(ie){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(I.$$typeof){case e:case n:ae=!0;break;case f:return ae=I._init,W(ae(I._payload),q,B,H,K)}}if(ae)return K=K(I),ae=H===""?"."+$(I,0):H,P(K)?(B="",ae!=null&&(B=ae.replace(R,"$&/")+"/"),W(K,q,B,"",function(fe){return fe})):K!=null&&(_(K)&&(K=D(K,B+(K.key==null||I&&I.key===K.key?"":(""+K.key).replace(R,"$&/")+"/")+ae)),q.push(K)),1;ae=0;var me=H===""?".":H+":";if(P(I))for(var de=0;de<I.length;de++)H=I[de],ie=me+$(H,de),ae+=W(H,q,B,ie,K);else if(de=y(I),typeof de=="function")for(I=de.call(I),de=0;!(H=I.next()).done;)H=H.value,ie=me+$(H,de++),ae+=W(H,q,B,ie,K);else if(ie==="object"){if(typeof I.then=="function")return W(z(I),q,B,H,K);throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ae}function M(I,q,B){if(I==null)return I;var H=[],K=0;return W(I,H,"","",function(ie){return q.call(B,ie,K++)}),H}function F(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(B){(I._status===0||I._status===-1)&&(I._status=1,I._result=B)},function(B){(I._status===0||I._status===-1)&&(I._status=2,I._result=B)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var G=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function J(){}return ct.Children={map:M,forEach:function(I,q,B){M(I,function(){q.apply(this,arguments)},B)},count:function(I){var q=0;return M(I,function(){q++}),q},toArray:function(I){return M(I,function(q){return q})||[]},only:function(I){if(!_(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ct.Component=w,ct.Fragment=r,ct.Profiler=s,ct.PureComponent=A,ct.StrictMode=a,ct.Suspense=d,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,ct.__COMPILER_RUNTIME={__proto__:null,c:function(I){return S.H.useMemoCache(I)}},ct.cache=function(I){return function(){return I.apply(null,arguments)}},ct.cloneElement=function(I,q,B){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var H=x({},I.props),K=I.key,ie=void 0;if(q!=null)for(ae in q.ref!==void 0&&(ie=void 0),q.key!==void 0&&(K=""+q.key),q)!E.call(q,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&q.ref===void 0||(H[ae]=q[ae]);var ae=arguments.length-2;if(ae===1)H.children=B;else if(1<ae){for(var me=Array(ae),de=0;de<ae;de++)me[de]=arguments[de+2];H.children=me}return k(I.type,K,void 0,void 0,ie,H)},ct.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},ct.createElement=function(I,q,B){var H,K={},ie=null;if(q!=null)for(H in q.key!==void 0&&(ie=""+q.key),q)E.call(q,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(K[H]=q[H]);var ae=arguments.length-2;if(ae===1)K.children=B;else if(1<ae){for(var me=Array(ae),de=0;de<ae;de++)me[de]=arguments[de+2];K.children=me}if(I&&I.defaultProps)for(H in ae=I.defaultProps,ae)K[H]===void 0&&(K[H]=ae[H]);return k(I,ie,void 0,void 0,null,K)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(I){return{$$typeof:u,render:I}},ct.isValidElement=_,ct.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:F}},ct.memo=function(I,q){return{$$typeof:h,type:I,compare:q===void 0?null:q}},ct.startTransition=function(I){var q=S.T,B={};S.T=B;try{var H=I(),K=S.S;K!==null&&K(B,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(J,G)}catch(ie){G(ie)}finally{S.T=q}},ct.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},ct.use=function(I){return S.H.use(I)},ct.useActionState=function(I,q,B){return S.H.useActionState(I,q,B)},ct.useCallback=function(I,q){return S.H.useCallback(I,q)},ct.useContext=function(I){return S.H.useContext(I)},ct.useDebugValue=function(){},ct.useDeferredValue=function(I,q){return S.H.useDeferredValue(I,q)},ct.useEffect=function(I,q,B){var H=S.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(I,q)},ct.useId=function(){return S.H.useId()},ct.useImperativeHandle=function(I,q,B){return S.H.useImperativeHandle(I,q,B)},ct.useInsertionEffect=function(I,q){return S.H.useInsertionEffect(I,q)},ct.useLayoutEffect=function(I,q){return S.H.useLayoutEffect(I,q)},ct.useMemo=function(I,q){return S.H.useMemo(I,q)},ct.useOptimistic=function(I,q){return S.H.useOptimistic(I,q)},ct.useReducer=function(I,q,B){return S.H.useReducer(I,q,B)},ct.useRef=function(I){return S.H.useRef(I)},ct.useState=function(I){return S.H.useState(I)},ct.useSyncExternalStore=function(I,q,B){return S.H.useSyncExternalStore(I,q,B)},ct.useTransition=function(){return S.H.useTransition()},ct.version="19.1.0",ct}var MT;function Rd(){return MT||(MT=1,rg.exports=I5()),rg.exports}var g=Rd();const le=kt(g);var ag={exports:{}},du={},sg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function R5(){return _T||(_T=1,function(e){function n(M,F){var G=M.length;M.push(F);e:for(;0<G;){var J=G-1>>>1,I=M[J];if(0<s(I,F))M[J]=F,M[G]=I,G=J;else break e}}function r(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var F=M[0],G=M.pop();if(G!==F){M[0]=G;e:for(var J=0,I=M.length,q=I>>>1;J<q;){var B=2*(J+1)-1,H=M[B],K=B+1,ie=M[K];if(0>s(H,G))K<I&&0>s(ie,H)?(M[J]=ie,M[K]=G,J=K):(M[J]=H,M[B]=G,J=B);else if(K<I&&0>s(ie,G))M[J]=ie,M[K]=G,J=K;else break e}}return F}function s(M,F){var G=M.sortIndex-F.sortIndex;return G!==0?G:M.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],f=1,p=null,y=3,b=!1,x=!1,j=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(M){for(var F=r(h);F!==null;){if(F.callback===null)a(h);else if(F.startTime<=M)a(h),F.sortIndex=F.expirationTime,n(d,F);else break;F=r(h)}}function S(M){if(j=!1,P(M),!x)if(r(d)!==null)x=!0,E||(E=!0,$());else{var F=r(h);F!==null&&W(S,F.startTime-M)}}var E=!1,k=-1,D=5,_=-1;function U(){return w?!0:!(e.unstable_now()-_<D)}function R(){if(w=!1,E){var M=e.unstable_now();_=M;var F=!0;try{e:{x=!1,j&&(j=!1,A(k),k=-1),b=!0;var G=y;try{t:{for(P(M),p=r(d);p!==null&&!(p.expirationTime>M&&U());){var J=p.callback;if(typeof J=="function"){p.callback=null,y=p.priorityLevel;var I=J(p.expirationTime<=M);if(M=e.unstable_now(),typeof I=="function"){p.callback=I,P(M),F=!0;break t}p===r(d)&&a(d),P(M)}else a(d);p=r(d)}if(p!==null)F=!0;else{var q=r(h);q!==null&&W(S,q.startTime-M),F=!1}}break e}finally{p=null,y=G,b=!1}F=void 0}}finally{F?$():E=!1}}}var $;if(typeof O=="function")$=function(){O(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=R,$=function(){z.postMessage(null)}}else $=function(){T(R,0)};function W(M,F){k=T(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(M){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var G=y;y=F;try{return M()}finally{y=G}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=y;y=M;try{return F()}finally{y=G}},e.unstable_scheduleCallback=function(M,F,G){var J=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,M){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=G+I,M={id:f++,callback:F,priorityLevel:M,startTime:G,expirationTime:I,sortIndex:-1},G>J?(M.sortIndex=G,n(h,M),r(d)===null&&M===r(h)&&(j?(A(k),k=-1):j=!0,W(S,G-J))):(M.sortIndex=I,n(d,M),x||b||(x=!0,E||(E=!0,$()))),M},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(M){var F=y;return function(){var G=y;y=F;try{return M.apply(this,arguments)}finally{y=G}}}}(ig)),ig}var IT;function q5(){return IT||(IT=1,sg.exports=R5()),sg.exports}var og={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function L5(){if(RT)return Hn;RT=1;var e=Rd();function n(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:d,containerInfo:h,implementation:f}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Hn.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return o(d,h,null,f)},Hn.flushSync=function(d){var h=l.T,f=a.p;try{if(l.T=null,a.p=2,d)return d()}finally{l.T=h,a.p=f,a.d.f()}},Hn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(d,h))},Hn.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Hn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,p=u(f,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?a.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):f==="script"&&a.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Hn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=u(h.as,h.crossOrigin);a.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(d)},Hn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=u(f,h.crossOrigin);a.d.L(d,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Hn.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=u(h.as,h.crossOrigin);a.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(d)},Hn.requestFormReset=function(d){a.d.r(d)},Hn.unstable_batchedUpdates=function(d,h){return d(h)},Hn.useFormState=function(d,h,f){return l.H.useFormState(d,h,f)},Hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hn.version="19.1.0",Hn}var qT;function mM(){if(qT)return og.exports;qT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),og.exports=L5(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function $5(){if(LT)return du;LT=1;var e=q5(),n=Rd(),r=mM();function a(i){var c="https://react.dev/errors/"+i;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var c=i,m=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(m=c.return),i=c.return;while(i)}return c.tag===3?m:null}function l(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(a(188))}function d(i){var c=i.alternate;if(!c){if(c=o(i),c===null)throw Error(a(188));return c!==i?null:i}for(var m=i,v=c;;){var N=m.return;if(N===null)break;var C=N.alternate;if(C===null){if(v=N.return,v!==null){m=v;continue}break}if(N.child===C.child){for(C=N.child;C;){if(C===m)return u(N),i;if(C===v)return u(N),c;C=C.sibling}throw Error(a(188))}if(m.return!==v.return)m=N,v=C;else{for(var Q=!1,ne=N.child;ne;){if(ne===m){Q=!0,m=N,v=C;break}if(ne===v){Q=!0,v=N,m=C;break}ne=ne.sibling}if(!Q){for(ne=C.child;ne;){if(ne===m){Q=!0,m=C,v=N;break}if(ne===v){Q=!0,v=C,m=N;break}ne=ne.sibling}if(!Q)throw Error(a(189))}}if(m.alternate!==v)throw Error(a(190))}if(m.tag!==3)throw Error(a(188));return m.stateNode.current===m?i:c}function h(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i;for(i=i.child;i!==null;){if(c=h(i),c!==null)return c;i=i.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case w:return"Profiler";case j:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case _:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case O:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case P:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return c=i.displayName||null,c!==null?c:z(i.type)||"Memo";case D:c=i._payload,i=i._init;try{return z(i(c))}catch{}}return null}var W=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},J=[],I=-1;function q(i){return{current:i}}function B(i){0>I||(i.current=J[I],J[I]=null,I--)}function H(i,c){I++,J[I]=i.current,i.current=c}var K=q(null),ie=q(null),ae=q(null),me=q(null);function de(i,c){switch(H(ae,c),H(ie,i),H(K,null),c.nodeType){case 9:case 11:i=(i=c.documentElement)&&(i=i.namespaceURI)?aT(i):0;break;default:if(i=c.tagName,c=c.namespaceURI)c=aT(c),i=sT(c,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}B(K),H(K,i)}function fe(){B(K),B(ie),B(ae)}function X(i){i.memoizedState!==null&&H(me,i);var c=K.current,m=sT(c,i.type);c!==m&&(H(ie,i),H(K,m))}function Z(i){ie.current===i&&(B(K),B(ie)),me.current===i&&(B(me),su._currentValue=G)}var V=Object.prototype.hasOwnProperty,Y=e.unstable_scheduleCallback,ee=e.unstable_cancelCallback,ce=e.unstable_shouldYield,re=e.unstable_requestPaint,te=e.unstable_now,he=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,oe=e.unstable_UserBlockingPriority,xe=e.unstable_NormalPriority,pe=e.unstable_LowPriority,je=e.unstable_IdlePriority,qe=e.log,ke=e.unstable_setDisableYieldValue,Oe=null,Be=null;function Ke(i){if(typeof qe=="function"&&ke(i),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Oe,i)}catch{}}var bt=Math.clz32?Math.clz32:Fe,Se=Math.log,Le=Math.LN2;function Fe(i){return i>>>=0,i===0?32:31-(Se(i)/Le|0)|0}var ze=256,Xe=4194304;function pt(i){var c=i&42;if(c!==0)return c;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function en(i,c,m){var v=i.pendingLanes;if(v===0)return 0;var N=0,C=i.suspendedLanes,Q=i.pingedLanes;i=i.warmLanes;var ne=v&134217727;return ne!==0?(v=ne&~C,v!==0?N=pt(v):(Q&=ne,Q!==0?N=pt(Q):m||(m=ne&~i,m!==0&&(N=pt(m))))):(ne=v&~C,ne!==0?N=pt(ne):Q!==0?N=pt(Q):m||(m=v&~i,m!==0&&(N=pt(m)))),N===0?0:c!==0&&c!==N&&(c&C)===0&&(C=N&-N,m=c&-c,C>=m||C===32&&(m&4194048)!==0)?c:N}function Bt(i,c){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&c)===0}function qn(i,c){switch(i){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(){var i=ze;return ze<<=1,(ze&4194048)===0&&(ze=256),i}function Jn(){var i=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),i}function ja(i){for(var c=[],m=0;31>m;m++)c.push(i);return c}function Mr(i,c){i.pendingLanes|=c,c!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function di(i,c,m,v,N,C){var Q=i.pendingLanes;i.pendingLanes=m,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=m,i.entangledLanes&=m,i.errorRecoveryDisabledLanes&=m,i.shellSuspendCounter=0;var ne=i.entanglements,ue=i.expirationTimes,we=i.hiddenUpdates;for(m=Q&~m;0<m;){var Pe=31-bt(m),Ie=1<<Pe;ne[Pe]=0,ue[Pe]=-1;var Te=we[Pe];if(Te!==null)for(we[Pe]=null,Pe=0;Pe<Te.length;Pe++){var Ae=Te[Pe];Ae!==null&&(Ae.lane&=-536870913)}m&=~Ie}v!==0&&Re(i,v,0),C!==0&&N===0&&i.tag!==0&&(i.suspendedLanes|=C&~(Q&~c))}function Re(i,c,m){i.pendingLanes|=c,i.suspendedLanes&=~c;var v=31-bt(c);i.entangledLanes|=c,i.entanglements[v]=i.entanglements[v]|1073741824|m&4194090}function _e(i,c){var m=i.entangledLanes|=c;for(i=i.entanglements;m;){var v=31-bt(m),N=1<<v;N&c|i[v]&c&&(i[v]|=c),m&=~N}}function ve(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ee(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $e(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:ST(i.type))}function We(i,c){var m=F.p;try{return F.p=i,c()}finally{F.p=m}}var jt=Math.random().toString(36).slice(2),tn="__reactFiber$"+jt,un="__reactProps$"+jt,Zr="__reactContainer$"+jt,_r="__reactEvents$"+jt,yo="__reactListeners$"+jt,Jd="__reactHandles$"+jt,V2="__reactResources$"+jt,vc="__reactMarker$"+jt;function Kp(i){delete i[tn],delete i[un],delete i[_r],delete i[yo],delete i[Jd]}function go(i){var c=i[tn];if(c)return c;for(var m=i.parentNode;m;){if(c=m[Zr]||m[tn]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(i=cT(i);i!==null;){if(m=i[tn])return m;i=cT(i)}return c}i=m,m=i.parentNode}return null}function xo(i){if(i=i[tn]||i[Zr]){var c=i.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return i}return null}function yc(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i.stateNode;throw Error(a(33))}function bo(i){var c=i[V2];return c||(c=i[V2]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function An(i){i[vc]=!0}var Y2=new Set,G2={};function hi(i,c){jo(i,c),jo(i+"Capture",c)}function jo(i,c){for(G2[i]=c,i=0;i<c.length;i++)Y2.add(c[i])}var N8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),K2={},Q2={};function w8(i){return V.call(Q2,i)?!0:V.call(K2,i)?!1:N8.test(i)?Q2[i]=!0:(K2[i]=!0,!1)}function Zd(i,c,m){if(w8(c))if(m===null)i.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":i.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){i.removeAttribute(c);return}}i.setAttribute(c,""+m)}}function eh(i,c,m){if(m===null)i.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttribute(c,""+m)}}function za(i,c,m,v){if(v===null)i.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(m);return}i.setAttributeNS(c,m,""+v)}}var Qp,X2;function No(i){if(Qp===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Qp=c&&c[1]||"",X2=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qp+i+X2}var Xp=!1;function Jp(i,c){if(!i||Xp)return"";Xp=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(Ae){var Te=Ae}Reflect.construct(i,[],Ie)}else{try{Ie.call()}catch(Ae){Te=Ae}i.call(Ie.prototype)}}else{try{throw Error()}catch(Ae){Te=Ae}(Ie=i())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(Ae){if(Ae&&Te&&typeof Ae.stack=="string")return[Ae.stack,Te.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),Q=C[0],ne=C[1];if(Q&&ne){var ue=Q.split(`
`),we=ne.split(`
`);for(N=v=0;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;for(;N<we.length&&!we[N].includes("DetermineComponentFrameRoot");)N++;if(v===ue.length||N===we.length)for(v=ue.length-1,N=we.length-1;1<=v&&0<=N&&ue[v]!==we[N];)N--;for(;1<=v&&0<=N;v--,N--)if(ue[v]!==we[N]){if(v!==1||N!==1)do if(v--,N--,0>N||ue[v]!==we[N]){var Pe=`
`+ue[v].replace(" at new "," at ");return i.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",i.displayName)),Pe}while(1<=v&&0<=N);break}}}finally{Xp=!1,Error.prepareStackTrace=m}return(m=i?i.displayName||i.name:"")?No(m):""}function S8(i){switch(i.tag){case 26:case 27:case 5:return No(i.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 15:return Jp(i.type,!1);case 11:return Jp(i.type.render,!1);case 1:return Jp(i.type,!0);case 31:return No("Activity");default:return""}}function J2(i){try{var c="";do c+=S8(i),i=i.return;while(i);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Ir(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Z2(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function E8(i){var c=Z2(i)?"checked":"value",m=Object.getOwnPropertyDescriptor(i.constructor.prototype,c),v=""+i[c];if(!i.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,C=m.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return N.call(this)},set:function(Q){v=""+Q,C.call(this,Q)}}),Object.defineProperty(i,c,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(Q){v=""+Q},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function th(i){i._valueTracker||(i._valueTracker=E8(i))}function ew(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return i&&(v=Z2(i)?i.checked?"true":"false":i.value),i=v,i!==m?(c.setValue(i),!0):!1}function nh(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var T8=/[\n"\\]/g;function Rr(i){return i.replace(T8,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Zp(i,c,m,v,N,C,Q,ne){i.name="",Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.type=Q:i.removeAttribute("type"),c!=null?Q==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+Ir(c)):i.value!==""+Ir(c)&&(i.value=""+Ir(c)):Q!=="submit"&&Q!=="reset"||i.removeAttribute("value"),c!=null?ev(i,Q,Ir(c)):m!=null?ev(i,Q,Ir(m)):v!=null&&i.removeAttribute("value"),N==null&&C!=null&&(i.defaultChecked=!!C),N!=null&&(i.checked=N&&typeof N!="function"&&typeof N!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?i.name=""+Ir(ne):i.removeAttribute("name")}function tw(i,c,m,v,N,C,Q,ne){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.type=C),c!=null||m!=null){if(!(C!=="submit"&&C!=="reset"||c!=null))return;m=m!=null?""+Ir(m):"",c=c!=null?""+Ir(c):m,ne||c===i.value||(i.value=c),i.defaultValue=c}v=v??N,v=typeof v!="function"&&typeof v!="symbol"&&!!v,i.checked=ne?i.checked:!!v,i.defaultChecked=!!v,Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(i.name=Q)}function ev(i,c,m){c==="number"&&nh(i.ownerDocument)===i||i.defaultValue===""+m||(i.defaultValue=""+m)}function wo(i,c,m,v){if(i=i.options,c){c={};for(var N=0;N<m.length;N++)c["$"+m[N]]=!0;for(m=0;m<i.length;m++)N=c.hasOwnProperty("$"+i[m].value),i[m].selected!==N&&(i[m].selected=N),N&&v&&(i[m].defaultSelected=!0)}else{for(m=""+Ir(m),c=null,N=0;N<i.length;N++){if(i[N].value===m){i[N].selected=!0,v&&(i[N].defaultSelected=!0);return}c!==null||i[N].disabled||(c=i[N])}c!==null&&(c.selected=!0)}}function nw(i,c,m){if(c!=null&&(c=""+Ir(c),c!==i.value&&(i.value=c),m==null)){i.defaultValue!==c&&(i.defaultValue=c);return}i.defaultValue=m!=null?""+Ir(m):""}function rw(i,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(a(92));if(W(v)){if(1<v.length)throw Error(a(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Ir(c),i.defaultValue=m,v=i.textContent,v===m&&v!==""&&v!==null&&(i.value=v)}function So(i,c){if(c){var m=i.firstChild;if(m&&m===i.lastChild&&m.nodeType===3){m.nodeValue=c;return}}i.textContent=c}var A8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aw(i,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="":v?i.setProperty(c,m):typeof m!="number"||m===0||A8.has(c)?c==="float"?i.cssFloat=m:i[c]=(""+m).trim():i[c]=m+"px"}function sw(i,c,m){if(c!=null&&typeof c!="object")throw Error(a(62));if(i=i.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?i.setProperty(v,""):v==="float"?i.cssFloat="":i[v]="");for(var N in c)v=c[N],c.hasOwnProperty(N)&&m[N]!==v&&aw(i,N,v)}else for(var C in c)c.hasOwnProperty(C)&&aw(i,C,c[C])}function tv(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rh(i){return k8.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var nv=null;function rv(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Eo=null,To=null;function iw(i){var c=xo(i);if(c&&(i=c.stateNode)){var m=i[un]||null;e:switch(i=c.stateNode,c.type){case"input":if(Zp(i,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=i;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Rr(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==i&&v.form===i.form){var N=v[un]||null;if(!N)throw Error(a(90));Zp(v,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===i.form&&ew(v)}break e;case"textarea":nw(i,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&wo(i,!!m.multiple,c,!1)}}}var av=!1;function ow(i,c,m){if(av)return i(c,m);av=!0;try{var v=i(c);return v}finally{if(av=!1,(Eo!==null||To!==null)&&(Fh(),Eo&&(c=Eo,i=To,To=Eo=null,iw(c),i)))for(c=0;c<i.length;c++)iw(i[c])}}function gc(i,c){var m=i.stateNode;if(m===null)return null;var v=m[un]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(m&&typeof m!="function")throw Error(a(231,c,typeof m));return m}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=!1;if(Wa)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){sv=!0}}),window.addEventListener("test",xc,xc),window.removeEventListener("test",xc,xc)}catch{sv=!1}var Ts=null,iv=null,ah=null;function lw(){if(ah)return ah;var i,c=iv,m=c.length,v,N="value"in Ts?Ts.value:Ts.textContent,C=N.length;for(i=0;i<m&&c[i]===N[i];i++);var Q=m-i;for(v=1;v<=Q&&c[m-v]===N[C-v];v++);return ah=N.slice(i,1<v?1-v:void 0)}function sh(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function ih(){return!0}function cw(){return!1}function or(i){function c(m,v,N,C,Q){this._reactName=m,this._targetInst=N,this.type=v,this.nativeEvent=C,this.target=Q,this.currentTarget=null;for(var ne in i)i.hasOwnProperty(ne)&&(m=i[ne],this[ne]=m?m(C):C[ne]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ih:cw,this.isPropagationStopped=cw,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ih)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ih)},persist:function(){},isPersistent:ih}),c}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oh=or(mi),bc=f({},mi,{view:0,detail:0}),O8=or(bc),ov,lv,jc,lh=f({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jc&&(jc&&i.type==="mousemove"?(ov=i.screenX-jc.screenX,lv=i.screenY-jc.screenY):lv=ov=0,jc=i),ov)},movementY:function(i){return"movementY"in i?i.movementY:lv}}),uw=or(lh),D8=f({},lh,{dataTransfer:0}),P8=or(D8),M8=f({},bc,{relatedTarget:0}),cv=or(M8),_8=f({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),I8=or(_8),R8=f({},mi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),q8=or(R8),L8=f({},mi,{data:0}),dw=or(L8),$8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F8(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=U8[i])?!!c[i]:!1}function uv(){return F8}var H8=f({},bc,{key:function(i){if(i.key){var c=$8[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=sh(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?B8[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(i){return i.type==="keypress"?sh(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sh(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),z8=or(H8),W8=f({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hw=or(W8),V8=f({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),Y8=or(V8),G8=f({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),K8=or(G8),Q8=f({},lh,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X8=or(Q8),J8=f({},mi,{newState:0,oldState:0}),Z8=or(J8),eq=[9,13,27,32],dv=Wa&&"CompositionEvent"in window,Nc=null;Wa&&"documentMode"in document&&(Nc=document.documentMode);var tq=Wa&&"TextEvent"in window&&!Nc,mw=Wa&&(!dv||Nc&&8<Nc&&11>=Nc),fw=" ",pw=!1;function vw(i,c){switch(i){case"keyup":return eq.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ao=!1;function nq(i,c){switch(i){case"compositionend":return yw(c);case"keypress":return c.which!==32?null:(pw=!0,fw);case"textInput":return i=c.data,i===fw&&pw?null:i;default:return null}}function rq(i,c){if(Ao)return i==="compositionend"||!dv&&vw(i,c)?(i=lw(),ah=iv=Ts=null,Ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return mw&&c.locale!=="ko"?null:c.data;default:return null}}var aq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gw(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!aq[i.type]:c==="textarea"}function xw(i,c,m,v){Eo?To?To.push(v):To=[v]:Eo=v,c=Gh(c,"onChange"),0<c.length&&(m=new oh("onChange","change",null,m,v),i.push({event:m,listeners:c}))}var wc=null,Sc=null;function sq(i){ZE(i,0)}function ch(i){var c=yc(i);if(ew(c))return i}function bw(i,c){if(i==="change")return c}var jw=!1;if(Wa){var hv;if(Wa){var mv="oninput"in document;if(!mv){var Nw=document.createElement("div");Nw.setAttribute("oninput","return;"),mv=typeof Nw.oninput=="function"}hv=mv}else hv=!1;jw=hv&&(!document.documentMode||9<document.documentMode)}function ww(){wc&&(wc.detachEvent("onpropertychange",Sw),Sc=wc=null)}function Sw(i){if(i.propertyName==="value"&&ch(Sc)){var c=[];xw(c,Sc,i,rv(i)),ow(sq,c)}}function iq(i,c,m){i==="focusin"?(ww(),wc=c,Sc=m,wc.attachEvent("onpropertychange",Sw)):i==="focusout"&&ww()}function oq(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ch(Sc)}function lq(i,c){if(i==="click")return ch(c)}function cq(i,c){if(i==="input"||i==="change")return ch(c)}function uq(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var gr=typeof Object.is=="function"?Object.is:uq;function Ec(i,c){if(gr(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var m=Object.keys(i),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var N=m[v];if(!V.call(c,N)||!gr(i[N],c[N]))return!1}return!0}function Ew(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tw(i,c){var m=Ew(i);i=0;for(var v;m;){if(m.nodeType===3){if(v=i+m.textContent.length,i<=c&&v>=c)return{node:m,offset:c-i};i=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ew(m)}}function Aw(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?Aw(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function Cw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var c=nh(i.document);c instanceof i.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)i=c.contentWindow;else break;c=nh(i.document)}return c}function fv(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}var dq=Wa&&"documentMode"in document&&11>=document.documentMode,Co=null,pv=null,Tc=null,vv=!1;function kw(i,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;vv||Co==null||Co!==nh(v)||(v=Co,"selectionStart"in v&&fv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Tc&&Ec(Tc,v)||(Tc=v,v=Gh(pv,"onSelect"),0<v.length&&(c=new oh("onSelect","select",null,c,m),i.push({event:c,listeners:v}),c.target=Co)))}function fi(i,c){var m={};return m[i.toLowerCase()]=c.toLowerCase(),m["Webkit"+i]="webkit"+c,m["Moz"+i]="moz"+c,m}var ko={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionrun:fi("Transition","TransitionRun"),transitionstart:fi("Transition","TransitionStart"),transitioncancel:fi("Transition","TransitionCancel"),transitionend:fi("Transition","TransitionEnd")},yv={},Ow={};Wa&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function pi(i){if(yv[i])return yv[i];if(!ko[i])return i;var c=ko[i],m;for(m in c)if(c.hasOwnProperty(m)&&m in Ow)return yv[i]=c[m];return i}var Dw=pi("animationend"),Pw=pi("animationiteration"),Mw=pi("animationstart"),hq=pi("transitionrun"),mq=pi("transitionstart"),fq=pi("transitioncancel"),_w=pi("transitionend"),Iw=new Map,gv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gv.push("scrollEnd");function ea(i,c){Iw.set(i,c),hi(c,[i])}var Rw=new WeakMap;function qr(i,c){if(typeof i=="object"&&i!==null){var m=Rw.get(i);return m!==void 0?m:(c={value:i,source:c,stack:J2(c)},Rw.set(i,c),c)}return{value:i,source:c,stack:J2(c)}}var Lr=[],Oo=0,xv=0;function uh(){for(var i=Oo,c=xv=Oo=0;c<i;){var m=Lr[c];Lr[c++]=null;var v=Lr[c];Lr[c++]=null;var N=Lr[c];Lr[c++]=null;var C=Lr[c];if(Lr[c++]=null,v!==null&&N!==null){var Q=v.pending;Q===null?N.next=N:(N.next=Q.next,Q.next=N),v.pending=N}C!==0&&qw(m,N,C)}}function dh(i,c,m,v){Lr[Oo++]=i,Lr[Oo++]=c,Lr[Oo++]=m,Lr[Oo++]=v,xv|=v,i.lanes|=v,i=i.alternate,i!==null&&(i.lanes|=v)}function bv(i,c,m,v){return dh(i,c,m,v),hh(i)}function Do(i,c){return dh(i,null,null,c),hh(i)}function qw(i,c,m){i.lanes|=m;var v=i.alternate;v!==null&&(v.lanes|=m);for(var N=!1,C=i.return;C!==null;)C.childLanes|=m,v=C.alternate,v!==null&&(v.childLanes|=m),C.tag===22&&(i=C.stateNode,i===null||i._visibility&1||(N=!0)),i=C,C=C.return;return i.tag===3?(C=i.stateNode,N&&c!==null&&(N=31-bt(m),i=C.hiddenUpdates,v=i[N],v===null?i[N]=[c]:v.push(c),c.lane=m|536870912),C):null}function hh(i){if(50<Xc)throw Xc=0,Ty=null,Error(a(185));for(var c=i.return;c!==null;)i=c,c=i.return;return i.tag===3?i.stateNode:null}var Po={};function pq(i,c,m,v){this.tag=i,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(i,c,m,v){return new pq(i,c,m,v)}function jv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Va(i,c){var m=i.alternate;return m===null?(m=xr(i.tag,c,i.key,i.mode),m.elementType=i.elementType,m.type=i.type,m.stateNode=i.stateNode,m.alternate=i,i.alternate=m):(m.pendingProps=c,m.type=i.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=i.flags&65011712,m.childLanes=i.childLanes,m.lanes=i.lanes,m.child=i.child,m.memoizedProps=i.memoizedProps,m.memoizedState=i.memoizedState,m.updateQueue=i.updateQueue,c=i.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=i.sibling,m.index=i.index,m.ref=i.ref,m.refCleanup=i.refCleanup,m}function Lw(i,c){i.flags&=65011714;var m=i.alternate;return m===null?(i.childLanes=0,i.lanes=c,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=m.childLanes,i.lanes=m.lanes,i.child=m.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=m.memoizedProps,i.memoizedState=m.memoizedState,i.updateQueue=m.updateQueue,i.type=m.type,c=m.dependencies,i.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),i}function mh(i,c,m,v,N,C){var Q=0;if(v=i,typeof i=="function")jv(i)&&(Q=1);else if(typeof i=="string")Q=y5(i,m,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case _:return i=xr(31,m,c,N),i.elementType=_,i.lanes=C,i;case x:return vi(m.children,N,C,c);case j:Q=8,N|=24;break;case w:return i=xr(12,m,c,N|2),i.elementType=w,i.lanes=C,i;case S:return i=xr(13,m,c,N),i.elementType=S,i.lanes=C,i;case E:return i=xr(19,m,c,N),i.elementType=E,i.lanes=C,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case O:Q=10;break e;case A:Q=9;break e;case P:Q=11;break e;case k:Q=14;break e;case D:Q=16,v=null;break e}Q=29,m=Error(a(130,i===null?"null":typeof i,"")),v=null}return c=xr(Q,m,c,N),c.elementType=i,c.type=v,c.lanes=C,c}function vi(i,c,m,v){return i=xr(7,i,v,c),i.lanes=m,i}function Nv(i,c,m){return i=xr(6,i,null,c),i.lanes=m,i}function wv(i,c,m){return c=xr(4,i.children!==null?i.children:[],i.key,c),c.lanes=m,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}var Mo=[],_o=0,fh=null,ph=0,$r=[],Br=0,yi=null,Ya=1,Ga="";function gi(i,c){Mo[_o++]=ph,Mo[_o++]=fh,fh=i,ph=c}function $w(i,c,m){$r[Br++]=Ya,$r[Br++]=Ga,$r[Br++]=yi,yi=i;var v=Ya;i=Ga;var N=32-bt(v)-1;v&=~(1<<N),m+=1;var C=32-bt(c)+N;if(30<C){var Q=N-N%5;C=(v&(1<<Q)-1).toString(32),v>>=Q,N-=Q,Ya=1<<32-bt(c)+N|m<<N|v,Ga=C+i}else Ya=1<<C|m<<N|v,Ga=i}function Sv(i){i.return!==null&&(gi(i,1),$w(i,1,0))}function Ev(i){for(;i===fh;)fh=Mo[--_o],Mo[_o]=null,ph=Mo[--_o],Mo[_o]=null;for(;i===yi;)yi=$r[--Br],$r[Br]=null,Ga=$r[--Br],$r[Br]=null,Ya=$r[--Br],$r[Br]=null}var Zn=null,nn=null,Et=!1,xi=null,Na=!1,Tv=Error(a(519));function bi(i){var c=Error(a(418,""));throw kc(qr(c,i)),Tv}function Bw(i){var c=i.stateNode,m=i.type,v=i.memoizedProps;switch(c[tn]=i,c[un]=v,m){case"dialog":yt("cancel",c),yt("close",c);break;case"iframe":case"object":case"embed":yt("load",c);break;case"video":case"audio":for(m=0;m<Zc.length;m++)yt(Zc[m],c);break;case"source":yt("error",c);break;case"img":case"image":case"link":yt("error",c),yt("load",c);break;case"details":yt("toggle",c);break;case"input":yt("invalid",c),tw(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),th(c);break;case"select":yt("invalid",c);break;case"textarea":yt("invalid",c),rw(c,v.value,v.defaultValue,v.children),th(c)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||rT(c.textContent,m)?(v.popover!=null&&(yt("beforetoggle",c),yt("toggle",c)),v.onScroll!=null&&yt("scroll",c),v.onScrollEnd!=null&&yt("scrollend",c),v.onClick!=null&&(c.onclick=Kh),c=!0):c=!1,c||bi(i)}function Uw(i){for(Zn=i.return;Zn;)switch(Zn.tag){case 5:case 13:Na=!1;return;case 27:case 3:Na=!0;return;default:Zn=Zn.return}}function Ac(i){if(i!==Zn)return!1;if(!Et)return Uw(i),Et=!0,!1;var c=i.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=i.type,m=!(m!=="form"&&m!=="button")||Fy(i.type,i.memoizedProps)),m=!m),m&&nn&&bi(i),Uw(i),c===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,c=0;i;){if(i.nodeType===8)if(m=i.data,m==="/$"){if(c===0){nn=na(i.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++;i=i.nextSibling}nn=null}}else c===27?(c=nn,Fs(i.type)?(i=Vy,Vy=null,nn=i):nn=c):nn=Zn?na(i.stateNode.nextSibling):null;return!0}function Cc(){nn=Zn=null,Et=!1}function Fw(){var i=xi;return i!==null&&(ur===null?ur=i:ur.push.apply(ur,i),xi=null),i}function kc(i){xi===null?xi=[i]:xi.push(i)}var Av=q(null),ji=null,Ka=null;function As(i,c,m){H(Av,c._currentValue),c._currentValue=m}function Qa(i){i._currentValue=Av.current,B(Av)}function Cv(i,c,m){for(;i!==null;){var v=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),i===m)break;i=i.return}}function kv(i,c,m,v){var N=i.child;for(N!==null&&(N.return=i);N!==null;){var C=N.dependencies;if(C!==null){var Q=N.child;C=C.firstContext;e:for(;C!==null;){var ne=C;C=N;for(var ue=0;ue<c.length;ue++)if(ne.context===c[ue]){C.lanes|=m,ne=C.alternate,ne!==null&&(ne.lanes|=m),Cv(C.return,m,i),v||(Q=null);break e}C=ne.next}}else if(N.tag===18){if(Q=N.return,Q===null)throw Error(a(341));Q.lanes|=m,C=Q.alternate,C!==null&&(C.lanes|=m),Cv(Q,m,i),Q=null}else Q=N.child;if(Q!==null)Q.return=N;else for(Q=N;Q!==null;){if(Q===i){Q=null;break}if(N=Q.sibling,N!==null){N.return=Q.return,Q=N;break}Q=Q.return}N=Q}}function Oc(i,c,m,v){i=null;for(var N=c,C=!1;N!==null;){if(!C){if((N.flags&524288)!==0)C=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var Q=N.alternate;if(Q===null)throw Error(a(387));if(Q=Q.memoizedProps,Q!==null){var ne=N.type;gr(N.pendingProps.value,Q.value)||(i!==null?i.push(ne):i=[ne])}}else if(N===me.current){if(Q=N.alternate,Q===null)throw Error(a(387));Q.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(i!==null?i.push(su):i=[su])}N=N.return}i!==null&&kv(c,i,m,v),c.flags|=262144}function vh(i){for(i=i.firstContext;i!==null;){if(!gr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ni(i){ji=i,Ka=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fn(i){return Hw(ji,i)}function yh(i,c){return ji===null&&Ni(i),Hw(i,c)}function Hw(i,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Ka===null){if(i===null)throw Error(a(308));Ka=c,i.dependencies={lanes:0,firstContext:c},i.flags|=524288}else Ka=Ka.next=c;return m}var vq=typeof AbortController<"u"?AbortController:function(){var i=[],c=this.signal={aborted:!1,addEventListener:function(m,v){i.push(v)}};this.abort=function(){c.aborted=!0,i.forEach(function(m){return m()})}},yq=e.unstable_scheduleCallback,gq=e.unstable_NormalPriority,jn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ov(){return{controller:new vq,data:new Map,refCount:0}}function Dc(i){i.refCount--,i.refCount===0&&yq(gq,function(){i.controller.abort()})}var Pc=null,Dv=0,Io=0,Ro=null;function xq(i,c){if(Pc===null){var m=Pc=[];Dv=0,Io=My(),Ro={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Dv++,c.then(zw,zw),c}function zw(){if(--Dv===0&&Pc!==null){Ro!==null&&(Ro.status="fulfilled");var i=Pc;Pc=null,Io=0,Ro=null;for(var c=0;c<i.length;c++)(0,i[c])()}}function bq(i,c){var m=[],v={status:"pending",value:null,reason:null,then:function(N){m.push(N)}};return i.then(function(){v.status="fulfilled",v.value=c;for(var N=0;N<m.length;N++)(0,m[N])(c)},function(N){for(v.status="rejected",v.reason=N,N=0;N<m.length;N++)(0,m[N])(void 0)}),v}var Ww=M.S;M.S=function(i,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&xq(i,c),Ww!==null&&Ww(i,c)};var wi=q(null);function Pv(){var i=wi.current;return i!==null?i:Ut.pooledCache}function gh(i,c){c===null?H(wi,wi.current):H(wi,c.pool)}function Vw(){var i=Pv();return i===null?null:{parent:jn._currentValue,pool:i}}var Mc=Error(a(460)),Yw=Error(a(474)),xh=Error(a(542)),Mv={then:function(){}};function Gw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bh(){}function Kw(i,c,m){switch(m=i[m],m===void 0?i.push(c):m!==c&&(c.then(bh,bh),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,Xw(i),i;default:if(typeof c.status=="string")c.then(bh,bh);else{if(i=Ut,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=c,i.status="pending",i.then(function(v){if(c.status==="pending"){var N=c;N.status="fulfilled",N.value=v}},function(v){if(c.status==="pending"){var N=c;N.status="rejected",N.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,Xw(i),i}throw _c=c,Mc}}var _c=null;function Qw(){if(_c===null)throw Error(a(459));var i=_c;return _c=null,i}function Xw(i){if(i===Mc||i===xh)throw Error(a(483))}var Cs=!1;function _v(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iv(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ks(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Os(i,c,m){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(Ot&2)!==0){var N=v.pending;return N===null?c.next=c:(c.next=N.next,N.next=c),v.pending=c,c=hh(i),qw(i,null,m),c}return dh(i,v,c,m),hh(i)}function Ic(i,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=i.pendingLanes,m|=v,c.lanes=m,_e(i,m)}}function Rv(i,c){var m=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var N=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var Q={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};C===null?N=C=Q:C=C.next=Q,m=m.next}while(m!==null);C===null?N=C=c:C=C.next=c}else N=C=c;m={baseState:v.baseState,firstBaseUpdate:N,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},i.updateQueue=m;return}i=m.lastBaseUpdate,i===null?m.firstBaseUpdate=c:i.next=c,m.lastBaseUpdate=c}var qv=!1;function Rc(){if(qv){var i=Ro;if(i!==null)throw i}}function qc(i,c,m,v){qv=!1;var N=i.updateQueue;Cs=!1;var C=N.firstBaseUpdate,Q=N.lastBaseUpdate,ne=N.shared.pending;if(ne!==null){N.shared.pending=null;var ue=ne,we=ue.next;ue.next=null,Q===null?C=we:Q.next=we,Q=ue;var Pe=i.alternate;Pe!==null&&(Pe=Pe.updateQueue,ne=Pe.lastBaseUpdate,ne!==Q&&(ne===null?Pe.firstBaseUpdate=we:ne.next=we,Pe.lastBaseUpdate=ue))}if(C!==null){var Ie=N.baseState;Q=0,Pe=we=ue=null,ne=C;do{var Te=ne.lane&-536870913,Ae=Te!==ne.lane;if(Ae?(xt&Te)===Te:(v&Te)===Te){Te!==0&&Te===Io&&(qv=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var rt=i,Je=ne;Te=c;var It=m;switch(Je.tag){case 1:if(rt=Je.payload,typeof rt=="function"){Ie=rt.call(It,Ie,Te);break e}Ie=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=Je.payload,Te=typeof rt=="function"?rt.call(It,Ie,Te):rt,Te==null)break e;Ie=f({},Ie,Te);break e;case 2:Cs=!0}}Te=ne.callback,Te!==null&&(i.flags|=64,Ae&&(i.flags|=8192),Ae=N.callbacks,Ae===null?N.callbacks=[Te]:Ae.push(Te))}else Ae={lane:Te,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Pe===null?(we=Pe=Ae,ue=Ie):Pe=Pe.next=Ae,Q|=Te;if(ne=ne.next,ne===null){if(ne=N.shared.pending,ne===null)break;Ae=ne,ne=Ae.next,Ae.next=null,N.lastBaseUpdate=Ae,N.shared.pending=null}}while(!0);Pe===null&&(ue=Ie),N.baseState=ue,N.firstBaseUpdate=we,N.lastBaseUpdate=Pe,C===null&&(N.shared.lanes=0),Ls|=Q,i.lanes=Q,i.memoizedState=Ie}}function Jw(i,c){if(typeof i!="function")throw Error(a(191,i));i.call(c)}function Zw(i,c){var m=i.callbacks;if(m!==null)for(i.callbacks=null,i=0;i<m.length;i++)Jw(m[i],c)}var qo=q(null),jh=q(0);function eS(i,c){i=rs,H(jh,i),H(qo,c),rs=i|c.baseLanes}function Lv(){H(jh,rs),H(qo,qo.current)}function $v(){rs=jh.current,B(qo),B(jh)}var Ds=0,dt=null,Mt=null,fn=null,Nh=!1,Lo=!1,Si=!1,wh=0,Lc=0,$o=null,jq=0;function dn(){throw Error(a(321))}function Bv(i,c){if(c===null)return!1;for(var m=0;m<c.length&&m<i.length;m++)if(!gr(i[m],c[m]))return!1;return!0}function Uv(i,c,m,v,N,C){return Ds=C,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,M.H=i===null||i.memoizedState===null?qS:LS,Si=!1,C=m(v,N),Si=!1,Lo&&(C=nS(c,m,v,N)),tS(i),C}function tS(i){M.H=kh;var c=Mt!==null&&Mt.next!==null;if(Ds=0,fn=Mt=dt=null,Nh=!1,Lc=0,$o=null,c)throw Error(a(300));i===null||Cn||(i=i.dependencies,i!==null&&vh(i)&&(Cn=!0))}function nS(i,c,m,v){dt=i;var N=0;do{if(Lo&&($o=null),Lc=0,Lo=!1,25<=N)throw Error(a(301));if(N+=1,fn=Mt=null,i.updateQueue!=null){var C=i.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}M.H=Cq,C=c(m,v)}while(Lo);return C}function Nq(){var i=M.H,c=i.useState()[0];return c=typeof c.then=="function"?$c(c):c,i=i.useState()[0],(Mt!==null?Mt.memoizedState:null)!==i&&(dt.flags|=1024),c}function Fv(){var i=wh!==0;return wh=0,i}function Hv(i,c,m){c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~m}function zv(i){if(Nh){for(i=i.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}Nh=!1}Ds=0,fn=Mt=dt=null,Lo=!1,Lc=wh=0,$o=null}function lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?dt.memoizedState=fn=i:fn=fn.next=i,fn}function pn(){if(Mt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var c=fn===null?dt.memoizedState:fn.next;if(c!==null)fn=c,Mt=i;else{if(i===null)throw dt.alternate===null?Error(a(467)):Error(a(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},fn===null?dt.memoizedState=fn=i:fn=fn.next=i}return fn}function Wv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $c(i){var c=Lc;return Lc+=1,$o===null&&($o=[]),i=Kw($o,i,c),c=dt,(fn===null?c.memoizedState:fn.next)===null&&(c=c.alternate,M.H=c===null||c.memoizedState===null?qS:LS),i}function Sh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return $c(i);if(i.$$typeof===O)return Fn(i)}throw Error(a(438,String(i)))}function Vv(i){var c=null,m=dt.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=dt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(N){return N.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Wv(),dt.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(i),v=0;v<i;v++)m[v]=U;return c.index++,m}function Xa(i,c){return typeof c=="function"?c(i):c}function Eh(i){var c=pn();return Yv(c,Mt,i)}function Yv(i,c,m){var v=i.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=m;var N=i.baseQueue,C=v.pending;if(C!==null){if(N!==null){var Q=N.next;N.next=C.next,C.next=Q}c.baseQueue=N=C,v.pending=null}if(C=i.baseState,N===null)i.memoizedState=C;else{c=N.next;var ne=Q=null,ue=null,we=c,Pe=!1;do{var Ie=we.lane&-536870913;if(Ie!==we.lane?(xt&Ie)===Ie:(Ds&Ie)===Ie){var Te=we.revertLane;if(Te===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Ie===Io&&(Pe=!0);else if((Ds&Te)===Te){we=we.next,Te===Io&&(Pe=!0);continue}else Ie={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ue===null?(ne=ue=Ie,Q=C):ue=ue.next=Ie,dt.lanes|=Te,Ls|=Te;Ie=we.action,Si&&m(C,Ie),C=we.hasEagerState?we.eagerState:m(C,Ie)}else Te={lane:Ie,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ue===null?(ne=ue=Te,Q=C):ue=ue.next=Te,dt.lanes|=Ie,Ls|=Ie;we=we.next}while(we!==null&&we!==c);if(ue===null?Q=C:ue.next=ne,!gr(C,i.memoizedState)&&(Cn=!0,Pe&&(m=Ro,m!==null)))throw m;i.memoizedState=C,i.baseState=Q,i.baseQueue=ue,v.lastRenderedState=C}return N===null&&(v.lanes=0),[i.memoizedState,v.dispatch]}function Gv(i){var c=pn(),m=c.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=i;var v=m.dispatch,N=m.pending,C=c.memoizedState;if(N!==null){m.pending=null;var Q=N=N.next;do C=i(C,Q.action),Q=Q.next;while(Q!==N);gr(C,c.memoizedState)||(Cn=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),m.lastRenderedState=C}return[C,v]}function rS(i,c,m){var v=dt,N=pn(),C=Et;if(C){if(m===void 0)throw Error(a(407));m=m()}else m=c();var Q=!gr((Mt||N).memoizedState,m);Q&&(N.memoizedState=m,Cn=!0),N=N.queue;var ne=iS.bind(null,v,N,i);if(Bc(2048,8,ne,[i]),N.getSnapshot!==c||Q||fn!==null&&fn.memoizedState.tag&1){if(v.flags|=2048,Bo(9,Th(),sS.bind(null,v,N,m,c),null),Ut===null)throw Error(a(349));C||(Ds&124)!==0||aS(v,c,m)}return m}function aS(i,c,m){i.flags|=16384,i={getSnapshot:c,value:m},c=dt.updateQueue,c===null?(c=Wv(),dt.updateQueue=c,c.stores=[i]):(m=c.stores,m===null?c.stores=[i]:m.push(i))}function sS(i,c,m,v){c.value=m,c.getSnapshot=v,oS(c)&&lS(i)}function iS(i,c,m){return m(function(){oS(c)&&lS(i)})}function oS(i){var c=i.getSnapshot;i=i.value;try{var m=c();return!gr(i,m)}catch{return!0}}function lS(i){var c=Do(i,2);c!==null&&Sr(c,i,2)}function Kv(i){var c=lr();if(typeof i=="function"){var m=i;if(i=m(),Si){Ke(!0);try{m()}finally{Ke(!1)}}}return c.memoizedState=c.baseState=i,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:i},c}function cS(i,c,m,v){return i.baseState=m,Yv(i,Mt,typeof v=="function"?v:Xa)}function wq(i,c,m,v,N){if(Ch(i))throw Error(a(485));if(i=c.action,i!==null){var C={payload:N,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){C.listeners.push(Q)}};M.T!==null?m(!0):C.isTransition=!1,v(C),m=c.pending,m===null?(C.next=c.pending=C,uS(c,C)):(C.next=m.next,c.pending=m.next=C)}}function uS(i,c){var m=c.action,v=c.payload,N=i.state;if(c.isTransition){var C=M.T,Q={};M.T=Q;try{var ne=m(N,v),ue=M.S;ue!==null&&ue(Q,ne),dS(i,c,ne)}catch(we){Qv(i,c,we)}finally{M.T=C}}else try{C=m(N,v),dS(i,c,C)}catch(we){Qv(i,c,we)}}function dS(i,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){hS(i,c,v)},function(v){return Qv(i,c,v)}):hS(i,c,m)}function hS(i,c,m){c.status="fulfilled",c.value=m,mS(c),i.state=m,c=i.pending,c!==null&&(m=c.next,m===c?i.pending=null:(m=m.next,c.next=m,uS(i,m)))}function Qv(i,c,m){var v=i.pending;if(i.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,mS(c),c=c.next;while(c!==v)}i.action=null}function mS(i){i=i.listeners;for(var c=0;c<i.length;c++)(0,i[c])()}function fS(i,c){return c}function pS(i,c){if(Et){var m=Ut.formState;if(m!==null){e:{var v=dt;if(Et){if(nn){t:{for(var N=nn,C=Na;N.nodeType!==8;){if(!C){N=null;break t}if(N=na(N.nextSibling),N===null){N=null;break t}}C=N.data,N=C==="F!"||C==="F"?N:null}if(N){nn=na(N.nextSibling),v=N.data==="F!";break e}}bi(v)}v=!1}v&&(c=m[0])}}return m=lr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fS,lastRenderedState:c},m.queue=v,m=_S.bind(null,dt,v),v.dispatch=m,v=Kv(!1),C=ty.bind(null,dt,!1,v.queue),v=lr(),N={state:c,dispatch:null,action:i,pending:null},v.queue=N,m=wq.bind(null,dt,N,C,m),N.dispatch=m,v.memoizedState=i,[c,m,!1]}function vS(i){var c=pn();return yS(c,Mt,i)}function yS(i,c,m){if(c=Yv(i,c,fS)[0],i=Eh(Xa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=$c(c)}catch(Q){throw Q===Mc?xh:Q}else v=c;c=pn();var N=c.queue,C=N.dispatch;return m!==c.memoizedState&&(dt.flags|=2048,Bo(9,Th(),Sq.bind(null,N,m),null)),[v,C,i]}function Sq(i,c){i.action=c}function gS(i){var c=pn(),m=Mt;if(m!==null)return yS(c,m,i);pn(),c=c.memoizedState,m=pn();var v=m.queue.dispatch;return m.memoizedState=i,[c,v,!1]}function Bo(i,c,m,v){return i={tag:i,create:m,deps:v,inst:c,next:null},c=dt.updateQueue,c===null&&(c=Wv(),dt.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=i.next=i:(v=m.next,m.next=i,i.next=v,c.lastEffect=i),i}function Th(){return{destroy:void 0,resource:void 0}}function xS(){return pn().memoizedState}function Ah(i,c,m,v){var N=lr();v=v===void 0?null:v,dt.flags|=i,N.memoizedState=Bo(1|c,Th(),m,v)}function Bc(i,c,m,v){var N=pn();v=v===void 0?null:v;var C=N.memoizedState.inst;Mt!==null&&v!==null&&Bv(v,Mt.memoizedState.deps)?N.memoizedState=Bo(c,C,m,v):(dt.flags|=i,N.memoizedState=Bo(1|c,C,m,v))}function bS(i,c){Ah(8390656,8,i,c)}function jS(i,c){Bc(2048,8,i,c)}function NS(i,c){return Bc(4,2,i,c)}function wS(i,c){return Bc(4,4,i,c)}function SS(i,c){if(typeof c=="function"){i=i();var m=c(i);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function ES(i,c,m){m=m!=null?m.concat([i]):null,Bc(4,4,SS.bind(null,c,i),m)}function Xv(){}function TS(i,c){var m=pn();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&Bv(c,v[1])?v[0]:(m.memoizedState=[i,c],i)}function AS(i,c){var m=pn();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&Bv(c,v[1]))return v[0];if(v=i(),Si){Ke(!0);try{i()}finally{Ke(!1)}}return m.memoizedState=[v,c],v}function Jv(i,c,m){return m===void 0||(Ds&1073741824)!==0?i.memoizedState=c:(i.memoizedState=m,i=OE(),dt.lanes|=i,Ls|=i,m)}function CS(i,c,m,v){return gr(m,c)?m:qo.current!==null?(i=Jv(i,m,v),gr(i,c)||(Cn=!0),i):(Ds&42)===0?(Cn=!0,i.memoizedState=m):(i=OE(),dt.lanes|=i,Ls|=i,c)}function kS(i,c,m,v,N){var C=F.p;F.p=C!==0&&8>C?C:8;var Q=M.T,ne={};M.T=ne,ty(i,!1,c,m);try{var ue=N(),we=M.S;if(we!==null&&we(ne,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Pe=bq(ue,v);Uc(i,c,Pe,wr(i))}else Uc(i,c,v,wr(i))}catch(Ie){Uc(i,c,{then:function(){},status:"rejected",reason:Ie},wr())}finally{F.p=C,M.T=Q}}function Eq(){}function Zv(i,c,m,v){if(i.tag!==5)throw Error(a(476));var N=OS(i).queue;kS(i,N,c,G,m===null?Eq:function(){return DS(i),m(v)})}function OS(i){var c=i.memoizedState;if(c!==null)return c;c={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:G},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:m},next:null},i.memoizedState=c,i=i.alternate,i!==null&&(i.memoizedState=c),c}function DS(i){var c=OS(i).next.queue;Uc(i,c,{},wr())}function ey(){return Fn(su)}function PS(){return pn().memoizedState}function MS(){return pn().memoizedState}function Tq(i){for(var c=i.return;c!==null;){switch(c.tag){case 24:case 3:var m=wr();i=ks(m);var v=Os(c,i,m);v!==null&&(Sr(v,c,m),Ic(v,c,m)),c={cache:Ov()},i.payload=c;return}c=c.return}}function Aq(i,c,m){var v=wr();m={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Ch(i)?IS(c,m):(m=bv(i,c,m,v),m!==null&&(Sr(m,i,v),RS(m,c,v)))}function _S(i,c,m){var v=wr();Uc(i,c,m,v)}function Uc(i,c,m,v){var N={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ch(i))IS(c,N);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var Q=c.lastRenderedState,ne=C(Q,m);if(N.hasEagerState=!0,N.eagerState=ne,gr(ne,Q))return dh(i,c,N,0),Ut===null&&uh(),!1}catch{}finally{}if(m=bv(i,c,N,v),m!==null)return Sr(m,i,v),RS(m,c,v),!0}return!1}function ty(i,c,m,v){if(v={lane:2,revertLane:My(),action:v,hasEagerState:!1,eagerState:null,next:null},Ch(i)){if(c)throw Error(a(479))}else c=bv(i,m,v,2),c!==null&&Sr(c,i,2)}function Ch(i){var c=i.alternate;return i===dt||c!==null&&c===dt}function IS(i,c){Lo=Nh=!0;var m=i.pending;m===null?c.next=c:(c.next=m.next,m.next=c),i.pending=c}function RS(i,c,m){if((m&4194048)!==0){var v=c.lanes;v&=i.pendingLanes,m|=v,c.lanes=m,_e(i,m)}}var kh={readContext:Fn,use:Sh,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},qS={readContext:Fn,use:Sh,useCallback:function(i,c){return lr().memoizedState=[i,c===void 0?null:c],i},useContext:Fn,useEffect:bS,useImperativeHandle:function(i,c,m){m=m!=null?m.concat([i]):null,Ah(4194308,4,SS.bind(null,c,i),m)},useLayoutEffect:function(i,c){return Ah(4194308,4,i,c)},useInsertionEffect:function(i,c){Ah(4,2,i,c)},useMemo:function(i,c){var m=lr();c=c===void 0?null:c;var v=i();if(Si){Ke(!0);try{i()}finally{Ke(!1)}}return m.memoizedState=[v,c],v},useReducer:function(i,c,m){var v=lr();if(m!==void 0){var N=m(c);if(Si){Ke(!0);try{m(c)}finally{Ke(!1)}}}else N=c;return v.memoizedState=v.baseState=N,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:N},v.queue=i,i=i.dispatch=Aq.bind(null,dt,i),[v.memoizedState,i]},useRef:function(i){var c=lr();return i={current:i},c.memoizedState=i},useState:function(i){i=Kv(i);var c=i.queue,m=_S.bind(null,dt,c);return c.dispatch=m,[i.memoizedState,m]},useDebugValue:Xv,useDeferredValue:function(i,c){var m=lr();return Jv(m,i,c)},useTransition:function(){var i=Kv(!1);return i=kS.bind(null,dt,i.queue,!0,!1),lr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,c,m){var v=dt,N=lr();if(Et){if(m===void 0)throw Error(a(407));m=m()}else{if(m=c(),Ut===null)throw Error(a(349));(xt&124)!==0||aS(v,c,m)}N.memoizedState=m;var C={value:m,getSnapshot:c};return N.queue=C,bS(iS.bind(null,v,C,i),[i]),v.flags|=2048,Bo(9,Th(),sS.bind(null,v,C,m,c),null),m},useId:function(){var i=lr(),c=Ut.identifierPrefix;if(Et){var m=Ga,v=Ya;m=(v&~(1<<32-bt(v)-1)).toString(32)+m,c=""+c+"R"+m,m=wh++,0<m&&(c+="H"+m.toString(32)),c+=""}else m=jq++,c=""+c+"r"+m.toString(32)+"";return i.memoizedState=c},useHostTransitionStatus:ey,useFormState:pS,useActionState:pS,useOptimistic:function(i){var c=lr();c.memoizedState=c.baseState=i;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=ty.bind(null,dt,!0,m),m.dispatch=c,[i,c]},useMemoCache:Vv,useCacheRefresh:function(){return lr().memoizedState=Tq.bind(null,dt)}},LS={readContext:Fn,use:Sh,useCallback:TS,useContext:Fn,useEffect:jS,useImperativeHandle:ES,useInsertionEffect:NS,useLayoutEffect:wS,useMemo:AS,useReducer:Eh,useRef:xS,useState:function(){return Eh(Xa)},useDebugValue:Xv,useDeferredValue:function(i,c){var m=pn();return CS(m,Mt.memoizedState,i,c)},useTransition:function(){var i=Eh(Xa)[0],c=pn().memoizedState;return[typeof i=="boolean"?i:$c(i),c]},useSyncExternalStore:rS,useId:PS,useHostTransitionStatus:ey,useFormState:vS,useActionState:vS,useOptimistic:function(i,c){var m=pn();return cS(m,Mt,i,c)},useMemoCache:Vv,useCacheRefresh:MS},Cq={readContext:Fn,use:Sh,useCallback:TS,useContext:Fn,useEffect:jS,useImperativeHandle:ES,useInsertionEffect:NS,useLayoutEffect:wS,useMemo:AS,useReducer:Gv,useRef:xS,useState:function(){return Gv(Xa)},useDebugValue:Xv,useDeferredValue:function(i,c){var m=pn();return Mt===null?Jv(m,i,c):CS(m,Mt.memoizedState,i,c)},useTransition:function(){var i=Gv(Xa)[0],c=pn().memoizedState;return[typeof i=="boolean"?i:$c(i),c]},useSyncExternalStore:rS,useId:PS,useHostTransitionStatus:ey,useFormState:gS,useActionState:gS,useOptimistic:function(i,c){var m=pn();return Mt!==null?cS(m,Mt,i,c):(m.baseState=i,[i,m.queue.dispatch])},useMemoCache:Vv,useCacheRefresh:MS},Uo=null,Fc=0;function Oh(i){var c=Fc;return Fc+=1,Uo===null&&(Uo=[]),Kw(Uo,i,c)}function Hc(i,c){c=c.props.ref,i.ref=c!==void 0?c:null}function Dh(i,c){throw c.$$typeof===p?Error(a(525)):(i=Object.prototype.toString.call(c),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i)))}function $S(i){var c=i._init;return c(i._payload)}function BS(i){function c(be,ge){if(i){var Ne=be.deletions;Ne===null?(be.deletions=[ge],be.flags|=16):Ne.push(ge)}}function m(be,ge){if(!i)return null;for(;ge!==null;)c(be,ge),ge=ge.sibling;return null}function v(be){for(var ge=new Map;be!==null;)be.key!==null?ge.set(be.key,be):ge.set(be.index,be),be=be.sibling;return ge}function N(be,ge){return be=Va(be,ge),be.index=0,be.sibling=null,be}function C(be,ge,Ne){return be.index=Ne,i?(Ne=be.alternate,Ne!==null?(Ne=Ne.index,Ne<ge?(be.flags|=67108866,ge):Ne):(be.flags|=67108866,ge)):(be.flags|=1048576,ge)}function Q(be){return i&&be.alternate===null&&(be.flags|=67108866),be}function ne(be,ge,Ne,Me){return ge===null||ge.tag!==6?(ge=Nv(Ne,be.mode,Me),ge.return=be,ge):(ge=N(ge,Ne),ge.return=be,ge)}function ue(be,ge,Ne,Me){var Ye=Ne.type;return Ye===x?Pe(be,ge,Ne.props.children,Me,Ne.key):ge!==null&&(ge.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===D&&$S(Ye)===ge.type)?(ge=N(ge,Ne.props),Hc(ge,Ne),ge.return=be,ge):(ge=mh(Ne.type,Ne.key,Ne.props,null,be.mode,Me),Hc(ge,Ne),ge.return=be,ge)}function we(be,ge,Ne,Me){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ne.containerInfo||ge.stateNode.implementation!==Ne.implementation?(ge=wv(Ne,be.mode,Me),ge.return=be,ge):(ge=N(ge,Ne.children||[]),ge.return=be,ge)}function Pe(be,ge,Ne,Me,Ye){return ge===null||ge.tag!==7?(ge=vi(Ne,be.mode,Me,Ye),ge.return=be,ge):(ge=N(ge,Ne),ge.return=be,ge)}function Ie(be,ge,Ne){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=Nv(""+ge,be.mode,Ne),ge.return=be,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return Ne=mh(ge.type,ge.key,ge.props,null,be.mode,Ne),Hc(Ne,ge),Ne.return=be,Ne;case b:return ge=wv(ge,be.mode,Ne),ge.return=be,ge;case D:var Me=ge._init;return ge=Me(ge._payload),Ie(be,ge,Ne)}if(W(ge)||$(ge))return ge=vi(ge,be.mode,Ne,null),ge.return=be,ge;if(typeof ge.then=="function")return Ie(be,Oh(ge),Ne);if(ge.$$typeof===O)return Ie(be,yh(be,ge),Ne);Dh(be,ge)}return null}function Te(be,ge,Ne,Me){var Ye=ge!==null?ge.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ye!==null?null:ne(be,ge,""+Ne,Me);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case y:return Ne.key===Ye?ue(be,ge,Ne,Me):null;case b:return Ne.key===Ye?we(be,ge,Ne,Me):null;case D:return Ye=Ne._init,Ne=Ye(Ne._payload),Te(be,ge,Ne,Me)}if(W(Ne)||$(Ne))return Ye!==null?null:Pe(be,ge,Ne,Me,null);if(typeof Ne.then=="function")return Te(be,ge,Oh(Ne),Me);if(Ne.$$typeof===O)return Te(be,ge,yh(be,Ne),Me);Dh(be,Ne)}return null}function Ae(be,ge,Ne,Me,Ye){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return be=be.get(Ne)||null,ne(ge,be,""+Me,Ye);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case y:return be=be.get(Me.key===null?Ne:Me.key)||null,ue(ge,be,Me,Ye);case b:return be=be.get(Me.key===null?Ne:Me.key)||null,we(ge,be,Me,Ye);case D:var mt=Me._init;return Me=mt(Me._payload),Ae(be,ge,Ne,Me,Ye)}if(W(Me)||$(Me))return be=be.get(Ne)||null,Pe(ge,be,Me,Ye,null);if(typeof Me.then=="function")return Ae(be,ge,Ne,Oh(Me),Ye);if(Me.$$typeof===O)return Ae(be,ge,Ne,yh(ge,Me),Ye);Dh(ge,Me)}return null}function rt(be,ge,Ne,Me){for(var Ye=null,mt=null,Qe=ge,Ze=ge=0,On=null;Qe!==null&&Ze<Ne.length;Ze++){Qe.index>Ze?(On=Qe,Qe=null):On=Qe.sibling;var wt=Te(be,Qe,Ne[Ze],Me);if(wt===null){Qe===null&&(Qe=On);break}i&&Qe&&wt.alternate===null&&c(be,Qe),ge=C(wt,ge,Ze),mt===null?Ye=wt:mt.sibling=wt,mt=wt,Qe=On}if(Ze===Ne.length)return m(be,Qe),Et&&gi(be,Ze),Ye;if(Qe===null){for(;Ze<Ne.length;Ze++)Qe=Ie(be,Ne[Ze],Me),Qe!==null&&(ge=C(Qe,ge,Ze),mt===null?Ye=Qe:mt.sibling=Qe,mt=Qe);return Et&&gi(be,Ze),Ye}for(Qe=v(Qe);Ze<Ne.length;Ze++)On=Ae(Qe,be,Ze,Ne[Ze],Me),On!==null&&(i&&On.alternate!==null&&Qe.delete(On.key===null?Ze:On.key),ge=C(On,ge,Ze),mt===null?Ye=On:mt.sibling=On,mt=On);return i&&Qe.forEach(function(Ys){return c(be,Ys)}),Et&&gi(be,Ze),Ye}function Je(be,ge,Ne,Me){if(Ne==null)throw Error(a(151));for(var Ye=null,mt=null,Qe=ge,Ze=ge=0,On=null,wt=Ne.next();Qe!==null&&!wt.done;Ze++,wt=Ne.next()){Qe.index>Ze?(On=Qe,Qe=null):On=Qe.sibling;var Ys=Te(be,Qe,wt.value,Me);if(Ys===null){Qe===null&&(Qe=On);break}i&&Qe&&Ys.alternate===null&&c(be,Qe),ge=C(Ys,ge,Ze),mt===null?Ye=Ys:mt.sibling=Ys,mt=Ys,Qe=On}if(wt.done)return m(be,Qe),Et&&gi(be,Ze),Ye;if(Qe===null){for(;!wt.done;Ze++,wt=Ne.next())wt=Ie(be,wt.value,Me),wt!==null&&(ge=C(wt,ge,Ze),mt===null?Ye=wt:mt.sibling=wt,mt=wt);return Et&&gi(be,Ze),Ye}for(Qe=v(Qe);!wt.done;Ze++,wt=Ne.next())wt=Ae(Qe,be,Ze,wt.value,Me),wt!==null&&(i&&wt.alternate!==null&&Qe.delete(wt.key===null?Ze:wt.key),ge=C(wt,ge,Ze),mt===null?Ye=wt:mt.sibling=wt,mt=wt);return i&&Qe.forEach(function(k5){return c(be,k5)}),Et&&gi(be,Ze),Ye}function It(be,ge,Ne,Me){if(typeof Ne=="object"&&Ne!==null&&Ne.type===x&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case y:e:{for(var Ye=Ne.key;ge!==null;){if(ge.key===Ye){if(Ye=Ne.type,Ye===x){if(ge.tag===7){m(be,ge.sibling),Me=N(ge,Ne.props.children),Me.return=be,be=Me;break e}}else if(ge.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===D&&$S(Ye)===ge.type){m(be,ge.sibling),Me=N(ge,Ne.props),Hc(Me,Ne),Me.return=be,be=Me;break e}m(be,ge);break}else c(be,ge);ge=ge.sibling}Ne.type===x?(Me=vi(Ne.props.children,be.mode,Me,Ne.key),Me.return=be,be=Me):(Me=mh(Ne.type,Ne.key,Ne.props,null,be.mode,Me),Hc(Me,Ne),Me.return=be,be=Me)}return Q(be);case b:e:{for(Ye=Ne.key;ge!==null;){if(ge.key===Ye)if(ge.tag===4&&ge.stateNode.containerInfo===Ne.containerInfo&&ge.stateNode.implementation===Ne.implementation){m(be,ge.sibling),Me=N(ge,Ne.children||[]),Me.return=be,be=Me;break e}else{m(be,ge);break}else c(be,ge);ge=ge.sibling}Me=wv(Ne,be.mode,Me),Me.return=be,be=Me}return Q(be);case D:return Ye=Ne._init,Ne=Ye(Ne._payload),It(be,ge,Ne,Me)}if(W(Ne))return rt(be,ge,Ne,Me);if($(Ne)){if(Ye=$(Ne),typeof Ye!="function")throw Error(a(150));return Ne=Ye.call(Ne),Je(be,ge,Ne,Me)}if(typeof Ne.then=="function")return It(be,ge,Oh(Ne),Me);if(Ne.$$typeof===O)return It(be,ge,yh(be,Ne),Me);Dh(be,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,ge!==null&&ge.tag===6?(m(be,ge.sibling),Me=N(ge,Ne),Me.return=be,be=Me):(m(be,ge),Me=Nv(Ne,be.mode,Me),Me.return=be,be=Me),Q(be)):m(be,ge)}return function(be,ge,Ne,Me){try{Fc=0;var Ye=It(be,ge,Ne,Me);return Uo=null,Ye}catch(Qe){if(Qe===Mc||Qe===xh)throw Qe;var mt=xr(29,Qe,null,be.mode);return mt.lanes=Me,mt.return=be,mt}finally{}}}var Fo=BS(!0),US=BS(!1),Ur=q(null),wa=null;function Ps(i){var c=i.alternate;H(Nn,Nn.current&1),H(Ur,i),wa===null&&(c===null||qo.current!==null||c.memoizedState!==null)&&(wa=i)}function FS(i){if(i.tag===22){if(H(Nn,Nn.current),H(Ur,i),wa===null){var c=i.alternate;c!==null&&c.memoizedState!==null&&(wa=i)}}else Ms()}function Ms(){H(Nn,Nn.current),H(Ur,Ur.current)}function Ja(i){B(Ur),wa===i&&(wa=null),B(Nn)}var Nn=q(0);function Ph(i){for(var c=i;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||Wy(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function ny(i,c,m,v){c=i.memoizedState,m=m(v,c),m=m==null?c:f({},c,m),i.memoizedState=m,i.lanes===0&&(i.updateQueue.baseState=m)}var ry={enqueueSetState:function(i,c,m){i=i._reactInternals;var v=wr(),N=ks(v);N.payload=c,m!=null&&(N.callback=m),c=Os(i,N,v),c!==null&&(Sr(c,i,v),Ic(c,i,v))},enqueueReplaceState:function(i,c,m){i=i._reactInternals;var v=wr(),N=ks(v);N.tag=1,N.payload=c,m!=null&&(N.callback=m),c=Os(i,N,v),c!==null&&(Sr(c,i,v),Ic(c,i,v))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var m=wr(),v=ks(m);v.tag=2,c!=null&&(v.callback=c),c=Os(i,v,m),c!==null&&(Sr(c,i,m),Ic(c,i,m))}};function HS(i,c,m,v,N,C,Q){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,C,Q):c.prototype&&c.prototype.isPureReactComponent?!Ec(m,v)||!Ec(N,C):!0}function zS(i,c,m,v){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==i&&ry.enqueueReplaceState(c,c.state,null)}function Ei(i,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(i=i.defaultProps){m===c&&(m=f({},m));for(var N in i)m[N]===void 0&&(m[N]=i[N])}return m}var Mh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function WS(i){Mh(i)}function VS(i){console.error(i)}function YS(i){Mh(i)}function _h(i,c){try{var m=i.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function GS(i,c,m){try{var v=i.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function ay(i,c,m){return m=ks(m),m.tag=3,m.payload={element:null},m.callback=function(){_h(i,c)},m}function KS(i){return i=ks(i),i.tag=3,i}function QS(i,c,m,v){var N=m.type.getDerivedStateFromError;if(typeof N=="function"){var C=v.value;i.payload=function(){return N(C)},i.callback=function(){GS(c,m,v)}}var Q=m.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(i.callback=function(){GS(c,m,v),typeof N!="function"&&($s===null?$s=new Set([this]):$s.add(this));var ne=v.stack;this.componentDidCatch(v.value,{componentStack:ne!==null?ne:""})})}function kq(i,c,m,v,N){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&Oc(c,m,N,!0),m=Ur.current,m!==null){switch(m.tag){case 13:return wa===null?Cy():m.alternate===null&&rn===0&&(rn=3),m.flags&=-257,m.flags|=65536,m.lanes=N,v===Mv?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),Oy(i,v,N)),!1;case 22:return m.flags|=65536,v===Mv?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),Oy(i,v,N)),!1}throw Error(a(435,m.tag))}return Oy(i,v,N),Cy(),!1}if(Et)return c=Ur.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=N,v!==Tv&&(i=Error(a(422),{cause:v}),kc(qr(i,m)))):(v!==Tv&&(c=Error(a(423),{cause:v}),kc(qr(c,m))),i=i.current.alternate,i.flags|=65536,N&=-N,i.lanes|=N,v=qr(v,m),N=ay(i.stateNode,v,N),Rv(i,N),rn!==4&&(rn=2)),!1;var C=Error(a(520),{cause:v});if(C=qr(C,m),Qc===null?Qc=[C]:Qc.push(C),rn!==4&&(rn=2),c===null)return!0;v=qr(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,i=N&-N,m.lanes|=i,i=ay(m.stateNode,v,i),Rv(m,i),!1;case 1:if(c=m.type,C=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&($s===null||!$s.has(C))))return m.flags|=65536,N&=-N,m.lanes|=N,N=KS(N),QS(N,i,m,v),Rv(m,N),!1}m=m.return}while(m!==null);return!1}var XS=Error(a(461)),Cn=!1;function Ln(i,c,m,v){c.child=i===null?US(c,null,m,v):Fo(c,i.child,m,v)}function JS(i,c,m,v,N){m=m.render;var C=c.ref;if("ref"in v){var Q={};for(var ne in v)ne!=="ref"&&(Q[ne]=v[ne])}else Q=v;return Ni(c),v=Uv(i,c,m,Q,C,N),ne=Fv(),i!==null&&!Cn?(Hv(i,c,N),Za(i,c,N)):(Et&&ne&&Sv(c),c.flags|=1,Ln(i,c,v,N),c.child)}function ZS(i,c,m,v,N){if(i===null){var C=m.type;return typeof C=="function"&&!jv(C)&&C.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=C,eE(i,c,C,v,N)):(i=mh(m.type,null,v,c,c.mode,N),i.ref=c.ref,i.return=c,c.child=i)}if(C=i.child,!hy(i,N)){var Q=C.memoizedProps;if(m=m.compare,m=m!==null?m:Ec,m(Q,v)&&i.ref===c.ref)return Za(i,c,N)}return c.flags|=1,i=Va(C,v),i.ref=c.ref,i.return=c,c.child=i}function eE(i,c,m,v,N){if(i!==null){var C=i.memoizedProps;if(Ec(C,v)&&i.ref===c.ref)if(Cn=!1,c.pendingProps=v=C,hy(i,N))(i.flags&131072)!==0&&(Cn=!0);else return c.lanes=i.lanes,Za(i,c,N)}return sy(i,c,m,v,N)}function tE(i,c,m){var v=c.pendingProps,N=v.children,C=i!==null?i.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=C!==null?C.baseLanes|m:m,i!==null){for(N=c.child=i.child,C=0;N!==null;)C=C|N.lanes|N.childLanes,N=N.sibling;c.childLanes=C&~v}else c.childLanes=0,c.child=null;return nE(i,c,v,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},i!==null&&gh(c,C!==null?C.cachePool:null),C!==null?eS(c,C):Lv(),FS(c);else return c.lanes=c.childLanes=536870912,nE(i,c,C!==null?C.baseLanes|m:m,m)}else C!==null?(gh(c,C.cachePool),eS(c,C),Ms(),c.memoizedState=null):(i!==null&&gh(c,null),Lv(),Ms());return Ln(i,c,N,m),c.child}function nE(i,c,m,v){var N=Pv();return N=N===null?null:{parent:jn._currentValue,pool:N},c.memoizedState={baseLanes:m,cachePool:N},i!==null&&gh(c,null),Lv(),FS(c),i!==null&&Oc(i,c,v,!0),null}function Ih(i,c){var m=c.ref;if(m===null)i!==null&&i.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(a(284));(i===null||i.ref!==m)&&(c.flags|=4194816)}}function sy(i,c,m,v,N){return Ni(c),m=Uv(i,c,m,v,void 0,N),v=Fv(),i!==null&&!Cn?(Hv(i,c,N),Za(i,c,N)):(Et&&v&&Sv(c),c.flags|=1,Ln(i,c,m,N),c.child)}function rE(i,c,m,v,N,C){return Ni(c),c.updateQueue=null,m=nS(c,v,m,N),tS(i),v=Fv(),i!==null&&!Cn?(Hv(i,c,C),Za(i,c,C)):(Et&&v&&Sv(c),c.flags|=1,Ln(i,c,m,C),c.child)}function aE(i,c,m,v,N){if(Ni(c),c.stateNode===null){var C=Po,Q=m.contextType;typeof Q=="object"&&Q!==null&&(C=Fn(Q)),C=new m(v,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ry,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=v,C.state=c.memoizedState,C.refs={},_v(c),Q=m.contextType,C.context=typeof Q=="object"&&Q!==null?Fn(Q):Po,C.state=c.memoizedState,Q=m.getDerivedStateFromProps,typeof Q=="function"&&(ny(c,m,Q,v),C.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(Q=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),Q!==C.state&&ry.enqueueReplaceState(C,C.state,null),qc(c,v,C,N),Rc(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(i===null){C=c.stateNode;var ne=c.memoizedProps,ue=Ei(m,ne);C.props=ue;var we=C.context,Pe=m.contextType;Q=Po,typeof Pe=="object"&&Pe!==null&&(Q=Fn(Pe));var Ie=m.getDerivedStateFromProps;Pe=typeof Ie=="function"||typeof C.getSnapshotBeforeUpdate=="function",ne=c.pendingProps!==ne,Pe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ne||we!==Q)&&zS(c,C,v,Q),Cs=!1;var Te=c.memoizedState;C.state=Te,qc(c,v,C,N),Rc(),we=c.memoizedState,ne||Te!==we||Cs?(typeof Ie=="function"&&(ny(c,m,Ie,v),we=c.memoizedState),(ue=Cs||HS(c,m,ue,v,Te,we,Q))?(Pe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=we),C.props=v,C.state=we,C.context=Q,v=ue):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{C=c.stateNode,Iv(i,c),Q=c.memoizedProps,Pe=Ei(m,Q),C.props=Pe,Ie=c.pendingProps,Te=C.context,we=m.contextType,ue=Po,typeof we=="object"&&we!==null&&(ue=Fn(we)),ne=m.getDerivedStateFromProps,(we=typeof ne=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Q!==Ie||Te!==ue)&&zS(c,C,v,ue),Cs=!1,Te=c.memoizedState,C.state=Te,qc(c,v,C,N),Rc();var Ae=c.memoizedState;Q!==Ie||Te!==Ae||Cs||i!==null&&i.dependencies!==null&&vh(i.dependencies)?(typeof ne=="function"&&(ny(c,m,ne,v),Ae=c.memoizedState),(Pe=Cs||HS(c,m,Pe,v,Te,Ae,ue)||i!==null&&i.dependencies!==null&&vh(i.dependencies))?(we||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,Ae,ue),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,Ae,ue)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||Q===i.memoizedProps&&Te===i.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&Te===i.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ae),C.props=v,C.state=Ae,C.context=ue,v=Pe):(typeof C.componentDidUpdate!="function"||Q===i.memoizedProps&&Te===i.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&Te===i.memoizedState||(c.flags|=1024),v=!1)}return C=v,Ih(i,c),v=(c.flags&128)!==0,C||v?(C=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,i!==null&&v?(c.child=Fo(c,i.child,null,N),c.child=Fo(c,null,m,N)):Ln(i,c,m,N),c.memoizedState=C.state,i=c.child):i=Za(i,c,N),i}function sE(i,c,m,v){return Cc(),c.flags|=256,Ln(i,c,m,v),c.child}var iy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oy(i){return{baseLanes:i,cachePool:Vw()}}function ly(i,c,m){return i=i!==null?i.childLanes&~m:0,c&&(i|=Fr),i}function iE(i,c,m){var v=c.pendingProps,N=!1,C=(c.flags&128)!==0,Q;if((Q=C)||(Q=i!==null&&i.memoizedState===null?!1:(Nn.current&2)!==0),Q&&(N=!0,c.flags&=-129),Q=(c.flags&32)!==0,c.flags&=-33,i===null){if(Et){if(N?Ps(c):Ms(),Et){var ne=nn,ue;if(ue=ne){e:{for(ue=ne,ne=Na;ue.nodeType!==8;){if(!ne){ne=null;break e}if(ue=na(ue.nextSibling),ue===null){ne=null;break e}}ne=ue}ne!==null?(c.memoizedState={dehydrated:ne,treeContext:yi!==null?{id:Ya,overflow:Ga}:null,retryLane:536870912,hydrationErrors:null},ue=xr(18,null,null,0),ue.stateNode=ne,ue.return=c,c.child=ue,Zn=c,nn=null,ue=!0):ue=!1}ue||bi(c)}if(ne=c.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return Wy(ne)?c.lanes=32:c.lanes=536870912,null;Ja(c)}return ne=v.children,v=v.fallback,N?(Ms(),N=c.mode,ne=Rh({mode:"hidden",children:ne},N),v=vi(v,N,m,null),ne.return=c,v.return=c,ne.sibling=v,c.child=ne,N=c.child,N.memoizedState=oy(m),N.childLanes=ly(i,Q,m),c.memoizedState=iy,v):(Ps(c),cy(c,ne))}if(ue=i.memoizedState,ue!==null&&(ne=ue.dehydrated,ne!==null)){if(C)c.flags&256?(Ps(c),c.flags&=-257,c=uy(i,c,m)):c.memoizedState!==null?(Ms(),c.child=i.child,c.flags|=128,c=null):(Ms(),N=v.fallback,ne=c.mode,v=Rh({mode:"visible",children:v.children},ne),N=vi(N,ne,m,null),N.flags|=2,v.return=c,N.return=c,v.sibling=N,c.child=v,Fo(c,i.child,null,m),v=c.child,v.memoizedState=oy(m),v.childLanes=ly(i,Q,m),c.memoizedState=iy,c=N);else if(Ps(c),Wy(ne)){if(Q=ne.nextSibling&&ne.nextSibling.dataset,Q)var we=Q.dgst;Q=we,v=Error(a(419)),v.stack="",v.digest=Q,kc({value:v,source:null,stack:null}),c=uy(i,c,m)}else if(Cn||Oc(i,c,m,!1),Q=(m&i.childLanes)!==0,Cn||Q){if(Q=Ut,Q!==null&&(v=m&-m,v=(v&42)!==0?1:ve(v),v=(v&(Q.suspendedLanes|m))!==0?0:v,v!==0&&v!==ue.retryLane))throw ue.retryLane=v,Do(i,v),Sr(Q,i,v),XS;ne.data==="$?"||Cy(),c=uy(i,c,m)}else ne.data==="$?"?(c.flags|=192,c.child=i.child,c=null):(i=ue.treeContext,nn=na(ne.nextSibling),Zn=c,Et=!0,xi=null,Na=!1,i!==null&&($r[Br++]=Ya,$r[Br++]=Ga,$r[Br++]=yi,Ya=i.id,Ga=i.overflow,yi=c),c=cy(c,v.children),c.flags|=4096);return c}return N?(Ms(),N=v.fallback,ne=c.mode,ue=i.child,we=ue.sibling,v=Va(ue,{mode:"hidden",children:v.children}),v.subtreeFlags=ue.subtreeFlags&65011712,we!==null?N=Va(we,N):(N=vi(N,ne,m,null),N.flags|=2),N.return=c,v.return=c,v.sibling=N,c.child=v,v=N,N=c.child,ne=i.child.memoizedState,ne===null?ne=oy(m):(ue=ne.cachePool,ue!==null?(we=jn._currentValue,ue=ue.parent!==we?{parent:we,pool:we}:ue):ue=Vw(),ne={baseLanes:ne.baseLanes|m,cachePool:ue}),N.memoizedState=ne,N.childLanes=ly(i,Q,m),c.memoizedState=iy,v):(Ps(c),m=i.child,i=m.sibling,m=Va(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,i!==null&&(Q=c.deletions,Q===null?(c.deletions=[i],c.flags|=16):Q.push(i)),c.child=m,c.memoizedState=null,m)}function cy(i,c){return c=Rh({mode:"visible",children:c},i.mode),c.return=i,i.child=c}function Rh(i,c){return i=xr(22,i,null,c),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function uy(i,c,m){return Fo(c,i.child,null,m),i=cy(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function oE(i,c,m){i.lanes|=c;var v=i.alternate;v!==null&&(v.lanes|=c),Cv(i.return,c,m)}function dy(i,c,m,v,N){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:N}:(C.isBackwards=c,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=m,C.tailMode=N)}function lE(i,c,m){var v=c.pendingProps,N=v.revealOrder,C=v.tail;if(Ln(i,c,v.children,m),v=Nn.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&oE(i,m,c);else if(i.tag===19)oE(i,m,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}switch(H(Nn,v),N){case"forwards":for(m=c.child,N=null;m!==null;)i=m.alternate,i!==null&&Ph(i)===null&&(N=m),m=m.sibling;m=N,m===null?(N=c.child,c.child=null):(N=m.sibling,m.sibling=null),dy(c,!1,N,m,C);break;case"backwards":for(m=null,N=c.child,c.child=null;N!==null;){if(i=N.alternate,i!==null&&Ph(i)===null){c.child=N;break}i=N.sibling,N.sibling=m,m=N,N=i}dy(c,!0,m,null,C);break;case"together":dy(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Za(i,c,m){if(i!==null&&(c.dependencies=i.dependencies),Ls|=c.lanes,(m&c.childLanes)===0)if(i!==null){if(Oc(i,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(i!==null&&c.child!==i.child)throw Error(a(153));if(c.child!==null){for(i=c.child,m=Va(i,i.pendingProps),c.child=m,m.return=c;i.sibling!==null;)i=i.sibling,m=m.sibling=Va(i,i.pendingProps),m.return=c;m.sibling=null}return c.child}function hy(i,c){return(i.lanes&c)!==0?!0:(i=i.dependencies,!!(i!==null&&vh(i)))}function Oq(i,c,m){switch(c.tag){case 3:de(c,c.stateNode.containerInfo),As(c,jn,i.memoizedState.cache),Cc();break;case 27:case 5:X(c);break;case 4:de(c,c.stateNode.containerInfo);break;case 10:As(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Ps(c),c.flags|=128,null):(m&c.child.childLanes)!==0?iE(i,c,m):(Ps(c),i=Za(i,c,m),i!==null?i.sibling:null);Ps(c);break;case 19:var N=(i.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(Oc(i,c,m,!1),v=(m&c.childLanes)!==0),N){if(v)return lE(i,c,m);c.flags|=128}if(N=c.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),H(Nn,Nn.current),v)break;return null;case 22:case 23:return c.lanes=0,tE(i,c,m);case 24:As(c,jn,i.memoizedState.cache)}return Za(i,c,m)}function cE(i,c,m){if(i!==null)if(i.memoizedProps!==c.pendingProps)Cn=!0;else{if(!hy(i,m)&&(c.flags&128)===0)return Cn=!1,Oq(i,c,m);Cn=(i.flags&131072)!==0}else Cn=!1,Et&&(c.flags&1048576)!==0&&$w(c,ph,c.index);switch(c.lanes=0,c.tag){case 16:e:{i=c.pendingProps;var v=c.elementType,N=v._init;if(v=N(v._payload),c.type=v,typeof v=="function")jv(v)?(i=Ei(v,i),c.tag=1,c=aE(null,c,v,i,m)):(c.tag=0,c=sy(null,c,v,i,m));else{if(v!=null){if(N=v.$$typeof,N===P){c.tag=11,c=JS(null,c,v,i,m);break e}else if(N===k){c.tag=14,c=ZS(null,c,v,i,m);break e}}throw c=z(v)||v,Error(a(306,c,""))}}return c;case 0:return sy(i,c,c.type,c.pendingProps,m);case 1:return v=c.type,N=Ei(v,c.pendingProps),aE(i,c,v,N,m);case 3:e:{if(de(c,c.stateNode.containerInfo),i===null)throw Error(a(387));v=c.pendingProps;var C=c.memoizedState;N=C.element,Iv(i,c),qc(c,v,null,m);var Q=c.memoizedState;if(v=Q.cache,As(c,jn,v),v!==C.cache&&kv(c,[jn],m,!0),Rc(),v=Q.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:Q.cache},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){c=sE(i,c,v,m);break e}else if(v!==N){N=qr(Error(a(424)),c),kc(N),c=sE(i,c,v,m);break e}else{switch(i=c.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nn=na(i.firstChild),Zn=c,Et=!0,xi=null,Na=!0,m=US(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Cc(),v===N){c=Za(i,c,m);break e}Ln(i,c,v,m)}c=c.child}return c;case 26:return Ih(i,c),i===null?(m=mT(c.type,null,c.pendingProps,null))?c.memoizedState=m:Et||(m=c.type,i=c.pendingProps,v=Qh(ae.current).createElement(m),v[tn]=c,v[un]=i,Bn(v,m,i),An(v),c.stateNode=v):c.memoizedState=mT(c.type,i.memoizedProps,c.pendingProps,i.memoizedState),null;case 27:return X(c),i===null&&Et&&(v=c.stateNode=uT(c.type,c.pendingProps,ae.current),Zn=c,Na=!0,N=nn,Fs(c.type)?(Vy=N,nn=na(v.firstChild)):nn=N),Ln(i,c,c.pendingProps.children,m),Ih(i,c),i===null&&(c.flags|=4194304),c.child;case 5:return i===null&&Et&&((N=v=nn)&&(v=a5(v,c.type,c.pendingProps,Na),v!==null?(c.stateNode=v,Zn=c,nn=na(v.firstChild),Na=!1,N=!0):N=!1),N||bi(c)),X(c),N=c.type,C=c.pendingProps,Q=i!==null?i.memoizedProps:null,v=C.children,Fy(N,C)?v=null:Q!==null&&Fy(N,Q)&&(c.flags|=32),c.memoizedState!==null&&(N=Uv(i,c,Nq,null,null,m),su._currentValue=N),Ih(i,c),Ln(i,c,v,m),c.child;case 6:return i===null&&Et&&((i=m=nn)&&(m=s5(m,c.pendingProps,Na),m!==null?(c.stateNode=m,Zn=c,nn=null,i=!0):i=!1),i||bi(c)),null;case 13:return iE(i,c,m);case 4:return de(c,c.stateNode.containerInfo),v=c.pendingProps,i===null?c.child=Fo(c,null,v,m):Ln(i,c,v,m),c.child;case 11:return JS(i,c,c.type,c.pendingProps,m);case 7:return Ln(i,c,c.pendingProps,m),c.child;case 8:return Ln(i,c,c.pendingProps.children,m),c.child;case 12:return Ln(i,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,As(c,c.type,v.value),Ln(i,c,v.children,m),c.child;case 9:return N=c.type._context,v=c.pendingProps.children,Ni(c),N=Fn(N),v=v(N),c.flags|=1,Ln(i,c,v,m),c.child;case 14:return ZS(i,c,c.type,c.pendingProps,m);case 15:return eE(i,c,c.type,c.pendingProps,m);case 19:return lE(i,c,m);case 31:return v=c.pendingProps,m=c.mode,v={mode:v.mode,children:v.children},i===null?(m=Rh(v,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=Va(i.child,v),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return tE(i,c,m);case 24:return Ni(c),v=Fn(jn),i===null?(N=Pv(),N===null&&(N=Ut,C=Ov(),N.pooledCache=C,C.refCount++,C!==null&&(N.pooledCacheLanes|=m),N=C),c.memoizedState={parent:v,cache:N},_v(c),As(c,jn,N)):((i.lanes&m)!==0&&(Iv(i,c),qc(c,null,null,m),Rc()),N=i.memoizedState,C=c.memoizedState,N.parent!==v?(N={parent:v,cache:v},c.memoizedState=N,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=N),As(c,jn,v)):(v=C.cache,As(c,jn,v),v!==N.cache&&kv(c,[jn],m,!0))),Ln(i,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(a(156,c.tag))}function es(i){i.flags|=4}function uE(i,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!gT(c)){if(c=Ur.current,c!==null&&((xt&4194048)===xt?wa!==null:(xt&62914560)!==xt&&(xt&536870912)===0||c!==wa))throw _c=Mv,Yw;i.flags|=8192}}function qh(i,c){c!==null&&(i.flags|=4),i.flags&16384&&(c=i.tag!==22?Jn():536870912,i.lanes|=c,Vo|=c)}function zc(i,c){if(!Et)switch(i.tailMode){case"hidden":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?i.tail=null:m.sibling=null;break;case"collapsed":m=i.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function Jt(i){var c=i.alternate!==null&&i.alternate.child===i.child,m=0,v=0;if(c)for(var N=i.child;N!==null;)m|=N.lanes|N.childLanes,v|=N.subtreeFlags&65011712,v|=N.flags&65011712,N.return=i,N=N.sibling;else for(N=i.child;N!==null;)m|=N.lanes|N.childLanes,v|=N.subtreeFlags,v|=N.flags,N.return=i,N=N.sibling;return i.subtreeFlags|=v,i.childLanes=m,c}function Dq(i,c,m){var v=c.pendingProps;switch(Ev(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(c),null;case 1:return Jt(c),null;case 3:return m=c.stateNode,v=null,i!==null&&(v=i.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Qa(jn),fe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Ac(c)?es(c):i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Fw())),Jt(c),null;case 26:return m=c.memoizedState,i===null?(es(c),m!==null?(Jt(c),uE(c,m)):(Jt(c),c.flags&=-16777217)):m?m!==i.memoizedState?(es(c),Jt(c),uE(c,m)):(Jt(c),c.flags&=-16777217):(i.memoizedProps!==v&&es(c),Jt(c),c.flags&=-16777217),null;case 27:Z(c),m=ae.current;var N=c.type;if(i!==null&&c.stateNode!=null)i.memoizedProps!==v&&es(c);else{if(!v){if(c.stateNode===null)throw Error(a(166));return Jt(c),null}i=K.current,Ac(c)?Bw(c):(i=uT(N,v,m),c.stateNode=i,es(c))}return Jt(c),null;case 5:if(Z(c),m=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==v&&es(c);else{if(!v){if(c.stateNode===null)throw Error(a(166));return Jt(c),null}if(i=K.current,Ac(c))Bw(c);else{switch(N=Qh(ae.current),i){case 1:i=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:i=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":i=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":i=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":i=N.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof v.is=="string"?N.createElement("select",{is:v.is}):N.createElement("select"),v.multiple?i.multiple=!0:v.size&&(i.size=v.size);break;default:i=typeof v.is=="string"?N.createElement(m,{is:v.is}):N.createElement(m)}}i[tn]=c,i[un]=v;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)i.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=i;e:switch(Bn(i,m,v),m){case"button":case"input":case"select":case"textarea":i=!!v.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&es(c)}}return Jt(c),c.flags&=-16777217,null;case 6:if(i&&c.stateNode!=null)i.memoizedProps!==v&&es(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(a(166));if(i=ae.current,Ac(c)){if(i=c.stateNode,m=c.memoizedProps,v=null,N=Zn,N!==null)switch(N.tag){case 27:case 5:v=N.memoizedProps}i[tn]=c,i=!!(i.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||rT(i.nodeValue,m)),i||bi(c)}else i=Qh(i).createTextNode(v),i[tn]=c,c.stateNode=i}return Jt(c),null;case 13:if(v=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(N=Ac(c),v!==null&&v.dehydrated!==null){if(i===null){if(!N)throw Error(a(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(a(317));N[tn]=c}else Cc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Jt(c),N=!1}else N=Fw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=N),N=!0;if(!N)return c.flags&256?(Ja(c),c):(Ja(c),null)}if(Ja(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=v!==null,i=i!==null&&i.memoizedState!==null,m){v=c.child,N=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(N=v.alternate.memoizedState.cachePool.pool);var C=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==N&&(v.flags|=2048)}return m!==i&&m&&(c.child.flags|=8192),qh(c,c.updateQueue),Jt(c),null;case 4:return fe(),i===null&&qy(c.stateNode.containerInfo),Jt(c),null;case 10:return Qa(c.type),Jt(c),null;case 19:if(B(Nn),N=c.memoizedState,N===null)return Jt(c),null;if(v=(c.flags&128)!==0,C=N.rendering,C===null)if(v)zc(N,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if(C=Ph(i),C!==null){for(c.flags|=128,zc(N,!1),i=C.updateQueue,c.updateQueue=i,qh(c,i),c.subtreeFlags=0,i=m,m=c.child;m!==null;)Lw(m,i),m=m.sibling;return H(Nn,Nn.current&1|2),c.child}i=i.sibling}N.tail!==null&&te()>Bh&&(c.flags|=128,v=!0,zc(N,!1),c.lanes=4194304)}else{if(!v)if(i=Ph(C),i!==null){if(c.flags|=128,v=!0,i=i.updateQueue,c.updateQueue=i,qh(c,i),zc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!C.alternate&&!Et)return Jt(c),null}else 2*te()-N.renderingStartTime>Bh&&m!==536870912&&(c.flags|=128,v=!0,zc(N,!1),c.lanes=4194304);N.isBackwards?(C.sibling=c.child,c.child=C):(i=N.last,i!==null?i.sibling=C:c.child=C,N.last=C)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=te(),c.sibling=null,i=Nn.current,H(Nn,v?i&1|2:i&1),c):(Jt(c),null);case 22:case 23:return Ja(c),$v(),v=c.memoizedState!==null,i!==null?i.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(Jt(c),c.subtreeFlags&6&&(c.flags|=8192)):Jt(c),m=c.updateQueue,m!==null&&qh(c,m.retryQueue),m=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),i!==null&&B(wi),null;case 24:return m=null,i!==null&&(m=i.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Qa(jn),Jt(c),null;case 25:return null;case 30:return null}throw Error(a(156,c.tag))}function Pq(i,c){switch(Ev(c),c.tag){case 1:return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return Qa(jn),fe(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 26:case 27:case 5:return Z(c),null;case 13:if(Ja(c),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(a(340));Cc()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return B(Nn),null;case 4:return fe(),null;case 10:return Qa(c.type),null;case 22:case 23:return Ja(c),$v(),i!==null&&B(wi),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 24:return Qa(jn),null;case 25:return null;default:return null}}function dE(i,c){switch(Ev(c),c.tag){case 3:Qa(jn),fe();break;case 26:case 27:case 5:Z(c);break;case 4:fe();break;case 13:Ja(c);break;case 19:B(Nn);break;case 10:Qa(c.type);break;case 22:case 23:Ja(c),$v(),i!==null&&B(wi);break;case 24:Qa(jn)}}function Wc(i,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var N=v.next;m=N;do{if((m.tag&i)===i){v=void 0;var C=m.create,Q=m.inst;v=C(),Q.destroy=v}m=m.next}while(m!==N)}}catch(ne){qt(c,c.return,ne)}}function _s(i,c,m){try{var v=c.updateQueue,N=v!==null?v.lastEffect:null;if(N!==null){var C=N.next;v=C;do{if((v.tag&i)===i){var Q=v.inst,ne=Q.destroy;if(ne!==void 0){Q.destroy=void 0,N=c;var ue=m,we=ne;try{we()}catch(Pe){qt(N,ue,Pe)}}}v=v.next}while(v!==C)}}catch(Pe){qt(c,c.return,Pe)}}function hE(i){var c=i.updateQueue;if(c!==null){var m=i.stateNode;try{Zw(c,m)}catch(v){qt(i,i.return,v)}}}function mE(i,c,m){m.props=Ei(i.type,i.memoizedProps),m.state=i.memoizedState;try{m.componentWillUnmount()}catch(v){qt(i,c,v)}}function Vc(i,c){try{var m=i.ref;if(m!==null){switch(i.tag){case 26:case 27:case 5:var v=i.stateNode;break;case 30:v=i.stateNode;break;default:v=i.stateNode}typeof m=="function"?i.refCleanup=m(v):m.current=v}}catch(N){qt(i,c,N)}}function Sa(i,c){var m=i.ref,v=i.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(N){qt(i,c,N)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(N){qt(i,c,N)}else m.current=null}function fE(i){var c=i.type,m=i.memoizedProps,v=i.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(N){qt(i,i.return,N)}}function my(i,c,m){try{var v=i.stateNode;Zq(v,i.type,m,c),v[un]=c}catch(N){qt(i,i.return,N)}}function pE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fs(i.type)||i.tag===4}function fy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||pE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function py(i,c,m){var v=i.tag;if(v===5||v===6)i=i.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(i,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(i),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Kh));else if(v!==4&&(v===27&&Fs(i.type)&&(m=i.stateNode,c=null),i=i.child,i!==null))for(py(i,c,m),i=i.sibling;i!==null;)py(i,c,m),i=i.sibling}function Lh(i,c,m){var v=i.tag;if(v===5||v===6)i=i.stateNode,c?m.insertBefore(i,c):m.appendChild(i);else if(v!==4&&(v===27&&Fs(i.type)&&(m=i.stateNode),i=i.child,i!==null))for(Lh(i,c,m),i=i.sibling;i!==null;)Lh(i,c,m),i=i.sibling}function vE(i){var c=i.stateNode,m=i.memoizedProps;try{for(var v=i.type,N=c.attributes;N.length;)c.removeAttributeNode(N[0]);Bn(c,v,m),c[tn]=i,c[un]=m}catch(C){qt(i,i.return,C)}}var ts=!1,hn=!1,vy=!1,yE=typeof WeakSet=="function"?WeakSet:Set,kn=null;function Mq(i,c){if(i=i.containerInfo,By=nm,i=Cw(i),fv(i)){if("selectionStart"in i)var m={start:i.selectionStart,end:i.selectionEnd};else e:{m=(m=i.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var N=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var Q=0,ne=-1,ue=-1,we=0,Pe=0,Ie=i,Te=null;t:for(;;){for(var Ae;Ie!==m||N!==0&&Ie.nodeType!==3||(ne=Q+N),Ie!==C||v!==0&&Ie.nodeType!==3||(ue=Q+v),Ie.nodeType===3&&(Q+=Ie.nodeValue.length),(Ae=Ie.firstChild)!==null;)Te=Ie,Ie=Ae;for(;;){if(Ie===i)break t;if(Te===m&&++we===N&&(ne=Q),Te===C&&++Pe===v&&(ue=Q),(Ae=Ie.nextSibling)!==null)break;Ie=Te,Te=Ie.parentNode}Ie=Ae}m=ne===-1||ue===-1?null:{start:ne,end:ue}}else m=null}m=m||{start:0,end:0}}else m=null;for(Uy={focusedElem:i,selectionRange:m},nm=!1,kn=c;kn!==null;)if(c=kn,i=c.child,(c.subtreeFlags&1024)!==0&&i!==null)i.return=c,kn=i;else for(;kn!==null;){switch(c=kn,C=c.alternate,i=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&C!==null){i=void 0,m=c,N=C.memoizedProps,C=C.memoizedState,v=m.stateNode;try{var rt=Ei(m.type,N,m.elementType===m.type);i=v.getSnapshotBeforeUpdate(rt,C),v.__reactInternalSnapshotBeforeUpdate=i}catch(Je){qt(m,m.return,Je)}}break;case 3:if((i&1024)!==0){if(i=c.stateNode.containerInfo,m=i.nodeType,m===9)zy(i);else if(m===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=c.sibling,i!==null){i.return=c.return,kn=i;break}kn=c.return}}function gE(i,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Is(i,m),v&4&&Wc(5,m);break;case 1:if(Is(i,m),v&4)if(i=m.stateNode,c===null)try{i.componentDidMount()}catch(Q){qt(m,m.return,Q)}else{var N=Ei(m.type,c.memoizedProps);c=c.memoizedState;try{i.componentDidUpdate(N,c,i.__reactInternalSnapshotBeforeUpdate)}catch(Q){qt(m,m.return,Q)}}v&64&&hE(m),v&512&&Vc(m,m.return);break;case 3:if(Is(i,m),v&64&&(i=m.updateQueue,i!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{Zw(i,c)}catch(Q){qt(m,m.return,Q)}}break;case 27:c===null&&v&4&&vE(m);case 26:case 5:Is(i,m),c===null&&v&4&&fE(m),v&512&&Vc(m,m.return);break;case 12:Is(i,m);break;case 13:Is(i,m),v&4&&jE(i,m),v&64&&(i=m.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(m=Fq.bind(null,m),i5(i,m))));break;case 22:if(v=m.memoizedState!==null||ts,!v){c=c!==null&&c.memoizedState!==null||hn,N=ts;var C=hn;ts=v,(hn=c)&&!C?Rs(i,m,(m.subtreeFlags&8772)!==0):Is(i,m),ts=N,hn=C}break;case 30:break;default:Is(i,m)}}function xE(i){var c=i.alternate;c!==null&&(i.alternate=null,xE(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&Kp(c)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,cr=!1;function ns(i,c,m){for(m=m.child;m!==null;)bE(i,c,m),m=m.sibling}function bE(i,c,m){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Oe,m)}catch{}switch(m.tag){case 26:hn||Sa(m,c),ns(i,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:hn||Sa(m,c);var v=Yt,N=cr;Fs(m.type)&&(Yt=m.stateNode,cr=!1),ns(i,c,m),tu(m.stateNode),Yt=v,cr=N;break;case 5:hn||Sa(m,c);case 6:if(v=Yt,N=cr,Yt=null,ns(i,c,m),Yt=v,cr=N,Yt!==null)if(cr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(m.stateNode)}catch(C){qt(m,c,C)}else try{Yt.removeChild(m.stateNode)}catch(C){qt(m,c,C)}break;case 18:Yt!==null&&(cr?(i=Yt,lT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,m.stateNode),cu(i)):lT(Yt,m.stateNode));break;case 4:v=Yt,N=cr,Yt=m.stateNode.containerInfo,cr=!0,ns(i,c,m),Yt=v,cr=N;break;case 0:case 11:case 14:case 15:hn||_s(2,m,c),hn||_s(4,m,c),ns(i,c,m);break;case 1:hn||(Sa(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&mE(m,c,v)),ns(i,c,m);break;case 21:ns(i,c,m);break;case 22:hn=(v=hn)||m.memoizedState!==null,ns(i,c,m),hn=v;break;default:ns(i,c,m)}}function jE(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cu(i)}catch(m){qt(c,c.return,m)}}function _q(i){switch(i.tag){case 13:case 19:var c=i.stateNode;return c===null&&(c=i.stateNode=new yE),c;case 22:return i=i.stateNode,c=i._retryCache,c===null&&(c=i._retryCache=new yE),c;default:throw Error(a(435,i.tag))}}function yy(i,c){var m=_q(i);c.forEach(function(v){var N=Hq.bind(null,i,v);m.has(v)||(m.add(v),v.then(N,N))})}function br(i,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var N=m[v],C=i,Q=c,ne=Q;e:for(;ne!==null;){switch(ne.tag){case 27:if(Fs(ne.type)){Yt=ne.stateNode,cr=!1;break e}break;case 5:Yt=ne.stateNode,cr=!1;break e;case 3:case 4:Yt=ne.stateNode.containerInfo,cr=!0;break e}ne=ne.return}if(Yt===null)throw Error(a(160));bE(C,Q,N),Yt=null,cr=!1,C=N.alternate,C!==null&&(C.return=null),N.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)NE(c,i),c=c.sibling}var ta=null;function NE(i,c){var m=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:br(c,i),jr(i),v&4&&(_s(3,i,i.return),Wc(3,i),_s(5,i,i.return));break;case 1:br(c,i),jr(i),v&512&&(hn||m===null||Sa(m,m.return)),v&64&&ts&&(i=i.updateQueue,i!==null&&(v=i.callbacks,v!==null&&(m=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var N=ta;if(br(c,i),jr(i),v&512&&(hn||m===null||Sa(m,m.return)),v&4){var C=m!==null?m.memoizedState:null;if(v=i.memoizedState,m===null)if(v===null)if(i.stateNode===null){e:{v=i.type,m=i.memoizedProps,N=N.ownerDocument||N;t:switch(v){case"title":C=N.getElementsByTagName("title")[0],(!C||C[vc]||C[tn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=N.createElement(v),N.head.insertBefore(C,N.querySelector("head > title"))),Bn(C,v,m),C[tn]=i,An(C),v=C;break e;case"link":var Q=vT("link","href",N).get(v+(m.href||""));if(Q){for(var ne=0;ne<Q.length;ne++)if(C=Q[ne],C.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&C.getAttribute("rel")===(m.rel==null?null:m.rel)&&C.getAttribute("title")===(m.title==null?null:m.title)&&C.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){Q.splice(ne,1);break t}}C=N.createElement(v),Bn(C,v,m),N.head.appendChild(C);break;case"meta":if(Q=vT("meta","content",N).get(v+(m.content||""))){for(ne=0;ne<Q.length;ne++)if(C=Q[ne],C.getAttribute("content")===(m.content==null?null:""+m.content)&&C.getAttribute("name")===(m.name==null?null:m.name)&&C.getAttribute("property")===(m.property==null?null:m.property)&&C.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&C.getAttribute("charset")===(m.charSet==null?null:m.charSet)){Q.splice(ne,1);break t}}C=N.createElement(v),Bn(C,v,m),N.head.appendChild(C);break;default:throw Error(a(468,v))}C[tn]=i,An(C),v=C}i.stateNode=v}else yT(N,i.type,i.stateNode);else i.stateNode=pT(N,v,i.memoizedProps);else C!==v?(C===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):C.count--,v===null?yT(N,i.type,i.stateNode):pT(N,v,i.memoizedProps)):v===null&&i.stateNode!==null&&my(i,i.memoizedProps,m.memoizedProps)}break;case 27:br(c,i),jr(i),v&512&&(hn||m===null||Sa(m,m.return)),m!==null&&v&4&&my(i,i.memoizedProps,m.memoizedProps);break;case 5:if(br(c,i),jr(i),v&512&&(hn||m===null||Sa(m,m.return)),i.flags&32){N=i.stateNode;try{So(N,"")}catch(Ae){qt(i,i.return,Ae)}}v&4&&i.stateNode!=null&&(N=i.memoizedProps,my(i,N,m!==null?m.memoizedProps:N)),v&1024&&(vy=!0);break;case 6:if(br(c,i),jr(i),v&4){if(i.stateNode===null)throw Error(a(162));v=i.memoizedProps,m=i.stateNode;try{m.nodeValue=v}catch(Ae){qt(i,i.return,Ae)}}break;case 3:if(Zh=null,N=ta,ta=Xh(c.containerInfo),br(c,i),ta=N,jr(i),v&4&&m!==null&&m.memoizedState.isDehydrated)try{cu(c.containerInfo)}catch(Ae){qt(i,i.return,Ae)}vy&&(vy=!1,wE(i));break;case 4:v=ta,ta=Xh(i.stateNode.containerInfo),br(c,i),jr(i),ta=v;break;case 12:br(c,i),jr(i);break;case 13:br(c,i),jr(i),i.child.flags&8192&&i.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(wy=te()),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,yy(i,v)));break;case 22:N=i.memoizedState!==null;var ue=m!==null&&m.memoizedState!==null,we=ts,Pe=hn;if(ts=we||N,hn=Pe||ue,br(c,i),hn=Pe,ts=we,jr(i),v&8192)e:for(c=i.stateNode,c._visibility=N?c._visibility&-2:c._visibility|1,N&&(m===null||ue||ts||hn||Ti(i)),m=null,c=i;;){if(c.tag===5||c.tag===26){if(m===null){ue=m=c;try{if(C=ue.stateNode,N)Q=C.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none";else{ne=ue.stateNode;var Ie=ue.memoizedProps.style,Te=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;ne.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Ae){qt(ue,ue.return,Ae)}}}else if(c.tag===6){if(m===null){ue=c;try{ue.stateNode.nodeValue=N?"":ue.memoizedProps}catch(Ae){qt(ue,ue.return,Ae)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===i)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break e;for(;c.sibling===null;){if(c.return===null||c.return===i)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=i.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,yy(i,m))));break;case 19:br(c,i),jr(i),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,yy(i,v)));break;case 30:break;case 21:break;default:br(c,i),jr(i)}}function jr(i){var c=i.flags;if(c&2){try{for(var m,v=i.return;v!==null;){if(pE(v)){m=v;break}v=v.return}if(m==null)throw Error(a(160));switch(m.tag){case 27:var N=m.stateNode,C=fy(i);Lh(i,C,N);break;case 5:var Q=m.stateNode;m.flags&32&&(So(Q,""),m.flags&=-33);var ne=fy(i);Lh(i,ne,Q);break;case 3:case 4:var ue=m.stateNode.containerInfo,we=fy(i);py(i,we,ue);break;default:throw Error(a(161))}}catch(Pe){qt(i,i.return,Pe)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function wE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var c=i;wE(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),i=i.sibling}}function Is(i,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)gE(i,c.alternate,c),c=c.sibling}function Ti(i){for(i=i.child;i!==null;){var c=i;switch(c.tag){case 0:case 11:case 14:case 15:_s(4,c,c.return),Ti(c);break;case 1:Sa(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&mE(c,c.return,m),Ti(c);break;case 27:tu(c.stateNode);case 26:case 5:Sa(c,c.return),Ti(c);break;case 22:c.memoizedState===null&&Ti(c);break;case 30:Ti(c);break;default:Ti(c)}i=i.sibling}}function Rs(i,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,N=i,C=c,Q=C.flags;switch(C.tag){case 0:case 11:case 15:Rs(N,C,m),Wc(4,C);break;case 1:if(Rs(N,C,m),v=C,N=v.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(we){qt(v,v.return,we)}if(v=C,N=v.updateQueue,N!==null){var ne=v.stateNode;try{var ue=N.shared.hiddenCallbacks;if(ue!==null)for(N.shared.hiddenCallbacks=null,N=0;N<ue.length;N++)Jw(ue[N],ne)}catch(we){qt(v,v.return,we)}}m&&Q&64&&hE(C),Vc(C,C.return);break;case 27:vE(C);case 26:case 5:Rs(N,C,m),m&&v===null&&Q&4&&fE(C),Vc(C,C.return);break;case 12:Rs(N,C,m);break;case 13:Rs(N,C,m),m&&Q&4&&jE(N,C);break;case 22:C.memoizedState===null&&Rs(N,C,m),Vc(C,C.return);break;case 30:break;default:Rs(N,C,m)}c=c.sibling}}function gy(i,c){var m=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),i=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(i=c.memoizedState.cachePool.pool),i!==m&&(i!=null&&i.refCount++,m!=null&&Dc(m))}function xy(i,c){i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&Dc(i))}function Ea(i,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)SE(i,c,m,v),c=c.sibling}function SE(i,c,m,v){var N=c.flags;switch(c.tag){case 0:case 11:case 15:Ea(i,c,m,v),N&2048&&Wc(9,c);break;case 1:Ea(i,c,m,v);break;case 3:Ea(i,c,m,v),N&2048&&(i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&Dc(i)));break;case 12:if(N&2048){Ea(i,c,m,v),i=c.stateNode;try{var C=c.memoizedProps,Q=C.id,ne=C.onPostCommit;typeof ne=="function"&&ne(Q,c.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ue){qt(c,c.return,ue)}}else Ea(i,c,m,v);break;case 13:Ea(i,c,m,v);break;case 23:break;case 22:C=c.stateNode,Q=c.alternate,c.memoizedState!==null?C._visibility&2?Ea(i,c,m,v):Yc(i,c):C._visibility&2?Ea(i,c,m,v):(C._visibility|=2,Ho(i,c,m,v,(c.subtreeFlags&10256)!==0)),N&2048&&gy(Q,c);break;case 24:Ea(i,c,m,v),N&2048&&xy(c.alternate,c);break;default:Ea(i,c,m,v)}}function Ho(i,c,m,v,N){for(N=N&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var C=i,Q=c,ne=m,ue=v,we=Q.flags;switch(Q.tag){case 0:case 11:case 15:Ho(C,Q,ne,ue,N),Wc(8,Q);break;case 23:break;case 22:var Pe=Q.stateNode;Q.memoizedState!==null?Pe._visibility&2?Ho(C,Q,ne,ue,N):Yc(C,Q):(Pe._visibility|=2,Ho(C,Q,ne,ue,N)),N&&we&2048&&gy(Q.alternate,Q);break;case 24:Ho(C,Q,ne,ue,N),N&&we&2048&&xy(Q.alternate,Q);break;default:Ho(C,Q,ne,ue,N)}c=c.sibling}}function Yc(i,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=i,v=c,N=v.flags;switch(v.tag){case 22:Yc(m,v),N&2048&&gy(v.alternate,v);break;case 24:Yc(m,v),N&2048&&xy(v.alternate,v);break;default:Yc(m,v)}c=c.sibling}}var Gc=8192;function zo(i){if(i.subtreeFlags&Gc)for(i=i.child;i!==null;)EE(i),i=i.sibling}function EE(i){switch(i.tag){case 26:zo(i),i.flags&Gc&&i.memoizedState!==null&&x5(ta,i.memoizedState,i.memoizedProps);break;case 5:zo(i);break;case 3:case 4:var c=ta;ta=Xh(i.stateNode.containerInfo),zo(i),ta=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Gc,Gc=16777216,zo(i),Gc=c):zo(i));break;default:zo(i)}}function TE(i){var c=i.alternate;if(c!==null&&(i=c.child,i!==null)){c.child=null;do c=i.sibling,i.sibling=null,i=c;while(i!==null)}}function Kc(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];kn=v,CE(v,i)}TE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)AE(i),i=i.sibling}function AE(i){switch(i.tag){case 0:case 11:case 15:Kc(i),i.flags&2048&&_s(9,i,i.return);break;case 3:Kc(i);break;case 12:Kc(i);break;case 22:var c=i.stateNode;i.memoizedState!==null&&c._visibility&2&&(i.return===null||i.return.tag!==13)?(c._visibility&=-3,$h(i)):Kc(i);break;default:Kc(i)}}function $h(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];kn=v,CE(v,i)}TE(i)}for(i=i.child;i!==null;){switch(c=i,c.tag){case 0:case 11:case 15:_s(8,c,c.return),$h(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,$h(c));break;default:$h(c)}i=i.sibling}}function CE(i,c){for(;kn!==null;){var m=kn;switch(m.tag){case 0:case 11:case 15:_s(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Dc(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,kn=v;else e:for(m=i;kn!==null;){v=kn;var N=v.sibling,C=v.return;if(xE(v),v===m){kn=null;break e}if(N!==null){N.return=C,kn=N;break e}kn=C}}}var Iq={getCacheForType:function(i){var c=Fn(jn),m=c.data.get(i);return m===void 0&&(m=i(),c.data.set(i,m)),m}},Rq=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Ut=null,vt=null,xt=0,Dt=0,Nr=null,qs=!1,Wo=!1,by=!1,rs=0,rn=0,Ls=0,Ai=0,jy=0,Fr=0,Vo=0,Qc=null,ur=null,Ny=!1,wy=0,Bh=1/0,Uh=null,$s=null,$n=0,Bs=null,Yo=null,Go=0,Sy=0,Ey=null,kE=null,Xc=0,Ty=null;function wr(){if((Ot&2)!==0&&xt!==0)return xt&-xt;if(M.T!==null){var i=Io;return i!==0?i:My()}return $e()}function OE(){Fr===0&&(Fr=(xt&536870912)===0||Et?Jr():536870912);var i=Ur.current;return i!==null&&(i.flags|=32),Fr}function Sr(i,c,m){(i===Ut&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),Us(i,xt,Fr,!1)),Mr(i,m),((Ot&2)===0||i!==Ut)&&(i===Ut&&((Ot&2)===0&&(Ai|=m),rn===4&&Us(i,xt,Fr,!1)),Ta(i))}function DE(i,c,m){if((Ot&6)!==0)throw Error(a(327));var v=!m&&(c&124)===0&&(c&i.expiredLanes)===0||Bt(i,c),N=v?$q(i,c):ky(i,c,!0),C=v;do{if(N===0){Wo&&!v&&Us(i,c,0,!1);break}else{if(m=i.current.alternate,C&&!qq(m)){N=ky(i,c,!1),C=!1;continue}if(N===2){if(C=c,i.errorRecoveryDisabledLanes&C)var Q=0;else Q=i.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){c=Q;e:{var ne=i;N=Qc;var ue=ne.current.memoizedState.isDehydrated;if(ue&&(Ko(ne,Q).flags|=256),Q=ky(ne,Q,!1),Q!==2){if(by&&!ue){ne.errorRecoveryDisabledLanes|=C,Ai|=C,N=4;break e}C=ur,ur=N,C!==null&&(ur===null?ur=C:ur.push.apply(ur,C))}N=Q}if(C=!1,N!==2)continue}}if(N===1){Ko(i,0),Us(i,c,0,!0);break}e:{switch(v=i,C=N,C){case 0:case 1:throw Error(a(345));case 4:if((c&4194048)!==c)break;case 6:Us(v,c,Fr,!qs);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(a(329))}if((c&62914560)===c&&(N=wy+300-te(),10<N)){if(Us(v,c,Fr,!qs),en(v,0,!0)!==0)break e;v.timeoutHandle=iT(PE.bind(null,v,m,ur,Uh,Ny,c,Fr,Ai,Vo,qs,C,2,-0,0),N);break e}PE(v,m,ur,Uh,Ny,c,Fr,Ai,Vo,qs,C,0,-0,0)}}break}while(!0);Ta(i)}function PE(i,c,m,v,N,C,Q,ne,ue,we,Pe,Ie,Te,Ae){if(i.timeoutHandle=-1,Ie=c.subtreeFlags,(Ie&8192||(Ie&16785408)===16785408)&&(au={stylesheets:null,count:0,unsuspend:g5},EE(c),Ie=b5(),Ie!==null)){i.cancelPendingCommit=Ie($E.bind(null,i,c,C,m,v,N,Q,ne,ue,Pe,1,Te,Ae)),Us(i,C,Q,!we);return}$E(i,c,C,m,v,N,Q,ne,ue)}function qq(i){for(var c=i;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var N=m[v],C=N.getSnapshot;N=N.value;try{if(!gr(C(),N))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Us(i,c,m,v){c&=~jy,c&=~Ai,i.suspendedLanes|=c,i.pingedLanes&=~c,v&&(i.warmLanes|=c),v=i.expirationTimes;for(var N=c;0<N;){var C=31-bt(N),Q=1<<C;v[C]=-1,N&=~Q}m!==0&&Re(i,m,c)}function Fh(){return(Ot&6)===0?(Jc(0),!1):!0}function Ay(){if(vt!==null){if(Dt===0)var i=vt.return;else i=vt,Ka=ji=null,zv(i),Uo=null,Fc=0,i=vt;for(;i!==null;)dE(i.alternate,i),i=i.return;vt=null}}function Ko(i,c){var m=i.timeoutHandle;m!==-1&&(i.timeoutHandle=-1,t5(m)),m=i.cancelPendingCommit,m!==null&&(i.cancelPendingCommit=null,m()),Ay(),Ut=i,vt=m=Va(i.current,null),xt=c,Dt=0,Nr=null,qs=!1,Wo=Bt(i,c),by=!1,Vo=Fr=jy=Ai=Ls=rn=0,ur=Qc=null,Ny=!1,(c&8)!==0&&(c|=c&32);var v=i.entangledLanes;if(v!==0)for(i=i.entanglements,v&=c;0<v;){var N=31-bt(v),C=1<<N;c|=i[N],v&=~C}return rs=c,uh(),m}function ME(i,c){dt=null,M.H=kh,c===Mc||c===xh?(c=Qw(),Dt=3):c===Yw?(c=Qw(),Dt=4):Dt=c===XS?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Nr=c,vt===null&&(rn=1,_h(i,qr(c,i.current)))}function _E(){var i=M.H;return M.H=kh,i===null?kh:i}function IE(){var i=M.A;return M.A=Iq,i}function Cy(){rn=4,qs||(xt&4194048)!==xt&&Ur.current!==null||(Wo=!0),(Ls&134217727)===0&&(Ai&134217727)===0||Ut===null||Us(Ut,xt,Fr,!1)}function ky(i,c,m){var v=Ot;Ot|=2;var N=_E(),C=IE();(Ut!==i||xt!==c)&&(Uh=null,Ko(i,c)),c=!1;var Q=rn;e:do try{if(Dt!==0&&vt!==null){var ne=vt,ue=Nr;switch(Dt){case 8:Ay(),Q=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(c=!0);var we=Dt;if(Dt=0,Nr=null,Qo(i,ne,ue,we),m&&Wo){Q=0;break e}break;default:we=Dt,Dt=0,Nr=null,Qo(i,ne,ue,we)}}Lq(),Q=rn;break}catch(Pe){ME(i,Pe)}while(!0);return c&&i.shellSuspendCounter++,Ka=ji=null,Ot=v,M.H=N,M.A=C,vt===null&&(Ut=null,xt=0,uh()),Q}function Lq(){for(;vt!==null;)RE(vt)}function $q(i,c){var m=Ot;Ot|=2;var v=_E(),N=IE();Ut!==i||xt!==c?(Uh=null,Bh=te()+500,Ko(i,c)):Wo=Bt(i,c);e:do try{if(Dt!==0&&vt!==null){c=vt;var C=Nr;t:switch(Dt){case 1:Dt=0,Nr=null,Qo(i,c,C,1);break;case 2:case 9:if(Gw(C)){Dt=0,Nr=null,qE(c);break}c=function(){Dt!==2&&Dt!==9||Ut!==i||(Dt=7),Ta(i)},C.then(c,c);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:Gw(C)?(Dt=0,Nr=null,qE(c)):(Dt=0,Nr=null,Qo(i,c,C,7));break;case 5:var Q=null;switch(vt.tag){case 26:Q=vt.memoizedState;case 5:case 27:var ne=vt;if(!Q||gT(Q)){Dt=0,Nr=null;var ue=ne.sibling;if(ue!==null)vt=ue;else{var we=ne.return;we!==null?(vt=we,Hh(we)):vt=null}break t}}Dt=0,Nr=null,Qo(i,c,C,5);break;case 6:Dt=0,Nr=null,Qo(i,c,C,6);break;case 8:Ay(),rn=6;break e;default:throw Error(a(462))}}Bq();break}catch(Pe){ME(i,Pe)}while(!0);return Ka=ji=null,M.H=v,M.A=N,Ot=m,vt!==null?0:(Ut=null,xt=0,uh(),rn)}function Bq(){for(;vt!==null&&!ce();)RE(vt)}function RE(i){var c=cE(i.alternate,i,rs);i.memoizedProps=i.pendingProps,c===null?Hh(i):vt=c}function qE(i){var c=i,m=c.alternate;switch(c.tag){case 15:case 0:c=rE(m,c,c.pendingProps,c.type,void 0,xt);break;case 11:c=rE(m,c,c.pendingProps,c.type.render,c.ref,xt);break;case 5:zv(c);default:dE(m,c),c=vt=Lw(c,rs),c=cE(m,c,rs)}i.memoizedProps=i.pendingProps,c===null?Hh(i):vt=c}function Qo(i,c,m,v){Ka=ji=null,zv(c),Uo=null,Fc=0;var N=c.return;try{if(kq(i,N,c,m,xt)){rn=1,_h(i,qr(m,i.current)),vt=null;return}}catch(C){if(N!==null)throw vt=N,C;rn=1,_h(i,qr(m,i.current)),vt=null;return}c.flags&32768?(Et||v===1?i=!0:Wo||(xt&536870912)!==0?i=!1:(qs=i=!0,(v===2||v===9||v===3||v===6)&&(v=Ur.current,v!==null&&v.tag===13&&(v.flags|=16384))),LE(c,i)):Hh(c)}function Hh(i){var c=i;do{if((c.flags&32768)!==0){LE(c,qs);return}i=c.return;var m=Dq(c.alternate,c,rs);if(m!==null){vt=m;return}if(c=c.sibling,c!==null){vt=c;return}vt=c=i}while(c!==null);rn===0&&(rn=5)}function LE(i,c){do{var m=Pq(i.alternate,i);if(m!==null){m.flags&=32767,vt=m;return}if(m=i.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(i=i.sibling,i!==null)){vt=i;return}vt=i=m}while(i!==null);rn=6,vt=null}function $E(i,c,m,v,N,C,Q,ne,ue){i.cancelPendingCommit=null;do zh();while($n!==0);if((Ot&6)!==0)throw Error(a(327));if(c!==null){if(c===i.current)throw Error(a(177));if(C=c.lanes|c.childLanes,C|=xv,di(i,m,C,Q,ne,ue),i===Ut&&(vt=Ut=null,xt=0),Yo=c,Bs=i,Go=m,Sy=C,Ey=N,kE=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,zq(xe,function(){return zE(),null})):(i.callbackNode=null,i.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=M.T,M.T=null,N=F.p,F.p=2,Q=Ot,Ot|=4;try{Mq(i,c,m)}finally{Ot=Q,F.p=N,M.T=v}}$n=1,BE(),UE(),FE()}}function BE(){if($n===1){$n=0;var i=Bs,c=Yo,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=M.T,M.T=null;var v=F.p;F.p=2;var N=Ot;Ot|=4;try{NE(c,i);var C=Uy,Q=Cw(i.containerInfo),ne=C.focusedElem,ue=C.selectionRange;if(Q!==ne&&ne&&ne.ownerDocument&&Aw(ne.ownerDocument.documentElement,ne)){if(ue!==null&&fv(ne)){var we=ue.start,Pe=ue.end;if(Pe===void 0&&(Pe=we),"selectionStart"in ne)ne.selectionStart=we,ne.selectionEnd=Math.min(Pe,ne.value.length);else{var Ie=ne.ownerDocument||document,Te=Ie&&Ie.defaultView||window;if(Te.getSelection){var Ae=Te.getSelection(),rt=ne.textContent.length,Je=Math.min(ue.start,rt),It=ue.end===void 0?Je:Math.min(ue.end,rt);!Ae.extend&&Je>It&&(Q=It,It=Je,Je=Q);var be=Tw(ne,Je),ge=Tw(ne,It);if(be&&ge&&(Ae.rangeCount!==1||Ae.anchorNode!==be.node||Ae.anchorOffset!==be.offset||Ae.focusNode!==ge.node||Ae.focusOffset!==ge.offset)){var Ne=Ie.createRange();Ne.setStart(be.node,be.offset),Ae.removeAllRanges(),Je>It?(Ae.addRange(Ne),Ae.extend(ge.node,ge.offset)):(Ne.setEnd(ge.node,ge.offset),Ae.addRange(Ne))}}}}for(Ie=[],Ae=ne;Ae=Ae.parentNode;)Ae.nodeType===1&&Ie.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<Ie.length;ne++){var Me=Ie[ne];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}nm=!!By,Uy=By=null}finally{Ot=N,F.p=v,M.T=m}}i.current=c,$n=2}}function UE(){if($n===2){$n=0;var i=Bs,c=Yo,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=M.T,M.T=null;var v=F.p;F.p=2;var N=Ot;Ot|=4;try{gE(i,c.alternate,c)}finally{Ot=N,F.p=v,M.T=m}}$n=3}}function FE(){if($n===4||$n===3){$n=0,re();var i=Bs,c=Yo,m=Go,v=kE;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?$n=5:($n=0,Yo=Bs=null,HE(i,i.pendingLanes));var N=i.pendingLanes;if(N===0&&($s=null),Ee(m),c=c.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Oe,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=M.T,N=F.p,F.p=2,M.T=null;try{for(var C=i.onRecoverableError,Q=0;Q<v.length;Q++){var ne=v[Q];C(ne.value,{componentStack:ne.stack})}}finally{M.T=c,F.p=N}}(Go&3)!==0&&zh(),Ta(i),N=i.pendingLanes,(m&4194090)!==0&&(N&42)!==0?i===Ty?Xc++:(Xc=0,Ty=i):Xc=0,Jc(0)}}function HE(i,c){(i.pooledCacheLanes&=c)===0&&(c=i.pooledCache,c!=null&&(i.pooledCache=null,Dc(c)))}function zh(i){return BE(),UE(),FE(),zE()}function zE(){if($n!==5)return!1;var i=Bs,c=Sy;Sy=0;var m=Ee(Go),v=M.T,N=F.p;try{F.p=32>m?32:m,M.T=null,m=Ey,Ey=null;var C=Bs,Q=Go;if($n=0,Yo=Bs=null,Go=0,(Ot&6)!==0)throw Error(a(331));var ne=Ot;if(Ot|=4,AE(C.current),SE(C,C.current,Q,m),Ot=ne,Jc(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Oe,C)}catch{}return!0}finally{F.p=N,M.T=v,HE(i,c)}}function WE(i,c,m){c=qr(m,c),c=ay(i.stateNode,c,2),i=Os(i,c,2),i!==null&&(Mr(i,2),Ta(i))}function qt(i,c,m){if(i.tag===3)WE(i,i,m);else for(;c!==null;){if(c.tag===3){WE(c,i,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&($s===null||!$s.has(v))){i=qr(m,i),m=KS(2),v=Os(c,m,2),v!==null&&(QS(m,v,c,i),Mr(v,2),Ta(v));break}}c=c.return}}function Oy(i,c,m){var v=i.pingCache;if(v===null){v=i.pingCache=new Rq;var N=new Set;v.set(c,N)}else N=v.get(c),N===void 0&&(N=new Set,v.set(c,N));N.has(m)||(by=!0,N.add(m),i=Uq.bind(null,i,c,m),c.then(i,i))}function Uq(i,c,m){var v=i.pingCache;v!==null&&v.delete(c),i.pingedLanes|=i.suspendedLanes&m,i.warmLanes&=~m,Ut===i&&(xt&m)===m&&(rn===4||rn===3&&(xt&62914560)===xt&&300>te()-wy?(Ot&2)===0&&Ko(i,0):jy|=m,Vo===xt&&(Vo=0)),Ta(i)}function VE(i,c){c===0&&(c=Jn()),i=Do(i,c),i!==null&&(Mr(i,c),Ta(i))}function Fq(i){var c=i.memoizedState,m=0;c!==null&&(m=c.retryLane),VE(i,m)}function Hq(i,c){var m=0;switch(i.tag){case 13:var v=i.stateNode,N=i.memoizedState;N!==null&&(m=N.retryLane);break;case 19:v=i.stateNode;break;case 22:v=i.stateNode._retryCache;break;default:throw Error(a(314))}v!==null&&v.delete(c),VE(i,m)}function zq(i,c){return Y(i,c)}var Wh=null,Xo=null,Dy=!1,Vh=!1,Py=!1,Ci=0;function Ta(i){i!==Xo&&i.next===null&&(Xo===null?Wh=Xo=i:Xo=Xo.next=i),Vh=!0,Dy||(Dy=!0,Vq())}function Jc(i,c){if(!Py&&Vh){Py=!0;do for(var m=!1,v=Wh;v!==null;){if(i!==0){var N=v.pendingLanes;if(N===0)var C=0;else{var Q=v.suspendedLanes,ne=v.pingedLanes;C=(1<<31-bt(42|i)+1)-1,C&=N&~(Q&~ne),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(m=!0,QE(v,C))}else C=xt,C=en(v,v===Ut?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||Bt(v,C)||(m=!0,QE(v,C));v=v.next}while(m);Py=!1}}function Wq(){YE()}function YE(){Vh=Dy=!1;var i=0;Ci!==0&&(e5()&&(i=Ci),Ci=0);for(var c=te(),m=null,v=Wh;v!==null;){var N=v.next,C=GE(v,c);C===0?(v.next=null,m===null?Wh=N:m.next=N,N===null&&(Xo=m)):(m=v,(i!==0||(C&3)!==0)&&(Vh=!0)),v=N}Jc(i)}function GE(i,c){for(var m=i.suspendedLanes,v=i.pingedLanes,N=i.expirationTimes,C=i.pendingLanes&-62914561;0<C;){var Q=31-bt(C),ne=1<<Q,ue=N[Q];ue===-1?((ne&m)===0||(ne&v)!==0)&&(N[Q]=qn(ne,c)):ue<=c&&(i.expiredLanes|=ne),C&=~ne}if(c=Ut,m=xt,m=en(i,i===c?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),v=i.callbackNode,m===0||i===c&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)return v!==null&&v!==null&&ee(v),i.callbackNode=null,i.callbackPriority=0;if((m&3)===0||Bt(i,m)){if(c=m&-m,c===i.callbackPriority)return c;switch(v!==null&&ee(v),Ee(m)){case 2:case 8:m=oe;break;case 32:m=xe;break;case 268435456:m=je;break;default:m=xe}return v=KE.bind(null,i),m=Y(m,v),i.callbackPriority=c,i.callbackNode=m,c}return v!==null&&v!==null&&ee(v),i.callbackPriority=2,i.callbackNode=null,2}function KE(i,c){if($n!==0&&$n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var m=i.callbackNode;if(zh()&&i.callbackNode!==m)return null;var v=xt;return v=en(i,i===Ut?v:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),v===0?null:(DE(i,v,c),GE(i,te()),i.callbackNode!=null&&i.callbackNode===m?KE.bind(null,i):null)}function QE(i,c){if(zh())return null;DE(i,c,!0)}function Vq(){n5(function(){(Ot&6)!==0?Y(se,Wq):YE()})}function My(){return Ci===0&&(Ci=Jr()),Ci}function XE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rh(""+i)}function JE(i,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,i.id&&m.setAttribute("form",i.id),c.parentNode.insertBefore(m,c),i=new FormData(i),m.parentNode.removeChild(m),i}function Yq(i,c,m,v,N){if(c==="submit"&&m&&m.stateNode===N){var C=XE((N[un]||null).action),Q=v.submitter;Q&&(c=(c=Q[un]||null)?XE(c.formAction):Q.getAttribute("formAction"),c!==null&&(C=c,Q=null));var ne=new oh("action","action",null,v,N);i.push({event:ne,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ci!==0){var ue=Q?JE(N,Q):new FormData(N);Zv(m,{pending:!0,data:ue,method:N.method,action:C},null,ue)}}else typeof C=="function"&&(ne.preventDefault(),ue=Q?JE(N,Q):new FormData(N),Zv(m,{pending:!0,data:ue,method:N.method,action:C},C,ue))},currentTarget:N}]})}}for(var _y=0;_y<gv.length;_y++){var Iy=gv[_y],Gq=Iy.toLowerCase(),Kq=Iy[0].toUpperCase()+Iy.slice(1);ea(Gq,"on"+Kq)}ea(Dw,"onAnimationEnd"),ea(Pw,"onAnimationIteration"),ea(Mw,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(hq,"onTransitionRun"),ea(mq,"onTransitionStart"),ea(fq,"onTransitionCancel"),ea(_w,"onTransitionEnd"),jo("onMouseEnter",["mouseout","mouseover"]),jo("onMouseLeave",["mouseout","mouseover"]),jo("onPointerEnter",["pointerout","pointerover"]),jo("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function ZE(i,c){c=(c&4)!==0;for(var m=0;m<i.length;m++){var v=i[m],N=v.event;v=v.listeners;e:{var C=void 0;if(c)for(var Q=v.length-1;0<=Q;Q--){var ne=v[Q],ue=ne.instance,we=ne.currentTarget;if(ne=ne.listener,ue!==C&&N.isPropagationStopped())break e;C=ne,N.currentTarget=we;try{C(N)}catch(Pe){Mh(Pe)}N.currentTarget=null,C=ue}else for(Q=0;Q<v.length;Q++){if(ne=v[Q],ue=ne.instance,we=ne.currentTarget,ne=ne.listener,ue!==C&&N.isPropagationStopped())break e;C=ne,N.currentTarget=we;try{C(N)}catch(Pe){Mh(Pe)}N.currentTarget=null,C=ue}}}}function yt(i,c){var m=c[_r];m===void 0&&(m=c[_r]=new Set);var v=i+"__bubble";m.has(v)||(eT(c,i,2,!1),m.add(v))}function Ry(i,c,m){var v=0;c&&(v|=4),eT(m,i,v,c)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function qy(i){if(!i[Yh]){i[Yh]=!0,Y2.forEach(function(m){m!=="selectionchange"&&(Qq.has(m)||Ry(m,!1,i),Ry(m,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[Yh]||(c[Yh]=!0,Ry("selectionchange",!1,c))}}function eT(i,c,m,v){switch(ST(c)){case 2:var N=w5;break;case 8:N=S5;break;default:N=Xy}m=N.bind(null,c,m,i),N=void 0,!sv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(N=!0),v?N!==void 0?i.addEventListener(c,m,{capture:!0,passive:N}):i.addEventListener(c,m,!0):N!==void 0?i.addEventListener(c,m,{passive:N}):i.addEventListener(c,m,!1)}function Ly(i,c,m,v,N){var C=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var Q=v.tag;if(Q===3||Q===4){var ne=v.stateNode.containerInfo;if(ne===N)break;if(Q===4)for(Q=v.return;Q!==null;){var ue=Q.tag;if((ue===3||ue===4)&&Q.stateNode.containerInfo===N)return;Q=Q.return}for(;ne!==null;){if(Q=go(ne),Q===null)return;if(ue=Q.tag,ue===5||ue===6||ue===26||ue===27){v=C=Q;continue e}ne=ne.parentNode}}v=v.return}ow(function(){var we=C,Pe=rv(m),Ie=[];e:{var Te=Iw.get(i);if(Te!==void 0){var Ae=oh,rt=i;switch(i){case"keypress":if(sh(m)===0)break e;case"keydown":case"keyup":Ae=z8;break;case"focusin":rt="focus",Ae=cv;break;case"focusout":rt="blur",Ae=cv;break;case"beforeblur":case"afterblur":Ae=cv;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=P8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=Y8;break;case Dw:case Pw:case Mw:Ae=I8;break;case _w:Ae=K8;break;case"scroll":case"scrollend":Ae=O8;break;case"wheel":Ae=X8;break;case"copy":case"cut":case"paste":Ae=q8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=hw;break;case"toggle":case"beforetoggle":Ae=Z8}var Je=(c&4)!==0,It=!Je&&(i==="scroll"||i==="scrollend"),be=Je?Te!==null?Te+"Capture":null:Te;Je=[];for(var ge=we,Ne;ge!==null;){var Me=ge;if(Ne=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||Ne===null||be===null||(Me=gc(ge,be),Me!=null&&Je.push(eu(ge,Me,Ne))),It)break;ge=ge.return}0<Je.length&&(Te=new Ae(Te,rt,null,m,Pe),Ie.push({event:Te,listeners:Je}))}}if((c&7)===0){e:{if(Te=i==="mouseover"||i==="pointerover",Ae=i==="mouseout"||i==="pointerout",Te&&m!==nv&&(rt=m.relatedTarget||m.fromElement)&&(go(rt)||rt[Zr]))break e;if((Ae||Te)&&(Te=Pe.window===Pe?Pe:(Te=Pe.ownerDocument)?Te.defaultView||Te.parentWindow:window,Ae?(rt=m.relatedTarget||m.toElement,Ae=we,rt=rt?go(rt):null,rt!==null&&(It=o(rt),Je=rt.tag,rt!==It||Je!==5&&Je!==27&&Je!==6)&&(rt=null)):(Ae=null,rt=we),Ae!==rt)){if(Je=uw,Me="onMouseLeave",be="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(Je=hw,Me="onPointerLeave",be="onPointerEnter",ge="pointer"),It=Ae==null?Te:yc(Ae),Ne=rt==null?Te:yc(rt),Te=new Je(Me,ge+"leave",Ae,m,Pe),Te.target=It,Te.relatedTarget=Ne,Me=null,go(Pe)===we&&(Je=new Je(be,ge+"enter",rt,m,Pe),Je.target=Ne,Je.relatedTarget=It,Me=Je),It=Me,Ae&&rt)t:{for(Je=Ae,be=rt,ge=0,Ne=Je;Ne;Ne=Jo(Ne))ge++;for(Ne=0,Me=be;Me;Me=Jo(Me))Ne++;for(;0<ge-Ne;)Je=Jo(Je),ge--;for(;0<Ne-ge;)be=Jo(be),Ne--;for(;ge--;){if(Je===be||be!==null&&Je===be.alternate)break t;Je=Jo(Je),be=Jo(be)}Je=null}else Je=null;Ae!==null&&tT(Ie,Te,Ae,Je,!1),rt!==null&&It!==null&&tT(Ie,It,rt,Je,!0)}}e:{if(Te=we?yc(we):window,Ae=Te.nodeName&&Te.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&Te.type==="file")var Ye=bw;else if(gw(Te))if(jw)Ye=cq;else{Ye=oq;var mt=iq}else Ae=Te.nodeName,!Ae||Ae.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?we&&tv(we.elementType)&&(Ye=bw):Ye=lq;if(Ye&&(Ye=Ye(i,we))){xw(Ie,Ye,m,Pe);break e}mt&&mt(i,Te,we),i==="focusout"&&we&&Te.type==="number"&&we.memoizedProps.value!=null&&ev(Te,"number",Te.value)}switch(mt=we?yc(we):window,i){case"focusin":(gw(mt)||mt.contentEditable==="true")&&(Co=mt,pv=we,Tc=null);break;case"focusout":Tc=pv=Co=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,kw(Ie,m,Pe);break;case"selectionchange":if(dq)break;case"keydown":case"keyup":kw(Ie,m,Pe)}var Qe;if(dv)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ao?vw(i,m)&&(Ze="onCompositionEnd"):i==="keydown"&&m.keyCode===229&&(Ze="onCompositionStart");Ze&&(mw&&m.locale!=="ko"&&(Ao||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ao&&(Qe=lw()):(Ts=Pe,iv="value"in Ts?Ts.value:Ts.textContent,Ao=!0)),mt=Gh(we,Ze),0<mt.length&&(Ze=new dw(Ze,i,null,m,Pe),Ie.push({event:Ze,listeners:mt}),Qe?Ze.data=Qe:(Qe=yw(m),Qe!==null&&(Ze.data=Qe)))),(Qe=tq?nq(i,m):rq(i,m))&&(Ze=Gh(we,"onBeforeInput"),0<Ze.length&&(mt=new dw("onBeforeInput","beforeinput",null,m,Pe),Ie.push({event:mt,listeners:Ze}),mt.data=Qe)),Yq(Ie,i,we,m,Pe)}ZE(Ie,c)})}function eu(i,c,m){return{instance:i,listener:c,currentTarget:m}}function Gh(i,c){for(var m=c+"Capture",v=[];i!==null;){var N=i,C=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||C===null||(N=gc(i,m),N!=null&&v.unshift(eu(i,N,C)),N=gc(i,c),N!=null&&v.push(eu(i,N,C))),i.tag===3)return v;i=i.return}return[]}function Jo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function tT(i,c,m,v,N){for(var C=c._reactName,Q=[];m!==null&&m!==v;){var ne=m,ue=ne.alternate,we=ne.stateNode;if(ne=ne.tag,ue!==null&&ue===v)break;ne!==5&&ne!==26&&ne!==27||we===null||(ue=we,N?(we=gc(m,C),we!=null&&Q.unshift(eu(m,we,ue))):N||(we=gc(m,C),we!=null&&Q.push(eu(m,we,ue)))),m=m.return}Q.length!==0&&i.push({event:c,listeners:Q})}var Xq=/\r\n?/g,Jq=/\u0000|\uFFFD/g;function nT(i){return(typeof i=="string"?i:""+i).replace(Xq,`
`).replace(Jq,"")}function rT(i,c){return c=nT(c),nT(i)===c}function Kh(){}function _t(i,c,m,v,N,C){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||So(i,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&So(i,""+v);break;case"className":eh(i,"class",v);break;case"tabIndex":eh(i,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":eh(i,m,v);break;case"style":sw(i,v,C);break;case"data":if(c!=="object"){eh(i,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){i.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){i.removeAttribute(m);break}v=rh(""+v),i.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){i.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(m==="formAction"?(c!=="input"&&_t(i,c,"name",N.name,N,null),_t(i,c,"formEncType",N.formEncType,N,null),_t(i,c,"formMethod",N.formMethod,N,null),_t(i,c,"formTarget",N.formTarget,N,null)):(_t(i,c,"encType",N.encType,N,null),_t(i,c,"method",N.method,N,null),_t(i,c,"target",N.target,N,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){i.removeAttribute(m);break}v=rh(""+v),i.setAttribute(m,v);break;case"onClick":v!=null&&(i.onclick=Kh);break;case"onScroll":v!=null&&yt("scroll",i);break;case"onScrollEnd":v!=null&&yt("scrollend",i);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(a(61));if(m=v.__html,m!=null){if(N.children!=null)throw Error(a(60));i.innerHTML=m}}break;case"multiple":i.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":i.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){i.removeAttribute("xlink:href");break}m=rh(""+v),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(m,""+v):i.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(m,""):i.removeAttribute(m);break;case"capture":case"download":v===!0?i.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(m,v):i.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?i.setAttribute(m,v):i.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?i.removeAttribute(m):i.setAttribute(m,v);break;case"popover":yt("beforetoggle",i),yt("toggle",i),Zd(i,"popover",v);break;case"xlinkActuate":za(i,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":za(i,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":za(i,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":za(i,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":za(i,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":za(i,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":za(i,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":za(i,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":za(i,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Zd(i,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=C8.get(m)||m,Zd(i,m,v))}}function $y(i,c,m,v,N,C){switch(m){case"style":sw(i,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(a(61));if(m=v.__html,m!=null){if(N.children!=null)throw Error(a(60));i.innerHTML=m}}break;case"children":typeof v=="string"?So(i,v):(typeof v=="number"||typeof v=="bigint")&&So(i,""+v);break;case"onScroll":v!=null&&yt("scroll",i);break;case"onScrollEnd":v!=null&&yt("scrollend",i);break;case"onClick":v!=null&&(i.onclick=Kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!G2.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(N=m.endsWith("Capture"),c=m.slice(2,N?m.length-7:void 0),C=i[un]||null,C=C!=null?C[m]:null,typeof C=="function"&&i.removeEventListener(c,C,N),typeof v=="function")){typeof C!="function"&&C!==null&&(m in i?i[m]=null:i.hasAttribute(m)&&i.removeAttribute(m)),i.addEventListener(c,v,N);break e}m in i?i[m]=v:v===!0?i.setAttribute(m,""):Zd(i,m,v)}}}function Bn(i,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",i),yt("load",i);var v=!1,N=!1,C;for(C in m)if(m.hasOwnProperty(C)){var Q=m[C];if(Q!=null)switch(C){case"src":v=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:_t(i,c,C,Q,m,null)}}N&&_t(i,c,"srcSet",m.srcSet,m,null),v&&_t(i,c,"src",m.src,m,null);return;case"input":yt("invalid",i);var ne=C=Q=N=null,ue=null,we=null;for(v in m)if(m.hasOwnProperty(v)){var Pe=m[v];if(Pe!=null)switch(v){case"name":N=Pe;break;case"type":Q=Pe;break;case"checked":ue=Pe;break;case"defaultChecked":we=Pe;break;case"value":C=Pe;break;case"defaultValue":ne=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(a(137,c));break;default:_t(i,c,v,Pe,m,null)}}tw(i,C,ne,ue,we,Q,N,!1),th(i);return;case"select":yt("invalid",i),v=Q=C=null;for(N in m)if(m.hasOwnProperty(N)&&(ne=m[N],ne!=null))switch(N){case"value":C=ne;break;case"defaultValue":Q=ne;break;case"multiple":v=ne;default:_t(i,c,N,ne,m,null)}c=C,m=Q,i.multiple=!!v,c!=null?wo(i,!!v,c,!1):m!=null&&wo(i,!!v,m,!0);return;case"textarea":yt("invalid",i),C=N=v=null;for(Q in m)if(m.hasOwnProperty(Q)&&(ne=m[Q],ne!=null))switch(Q){case"value":v=ne;break;case"defaultValue":N=ne;break;case"children":C=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(91));break;default:_t(i,c,Q,ne,m,null)}rw(i,v,N,C),th(i);return;case"option":for(ue in m)if(m.hasOwnProperty(ue)&&(v=m[ue],v!=null))switch(ue){case"selected":i.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:_t(i,c,ue,v,m,null)}return;case"dialog":yt("beforetoggle",i),yt("toggle",i),yt("cancel",i),yt("close",i);break;case"iframe":case"object":yt("load",i);break;case"video":case"audio":for(v=0;v<Zc.length;v++)yt(Zc[v],i);break;case"image":yt("error",i),yt("load",i);break;case"details":yt("toggle",i);break;case"embed":case"source":case"link":yt("error",i),yt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in m)if(m.hasOwnProperty(we)&&(v=m[we],v!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:_t(i,c,we,v,m,null)}return;default:if(tv(c)){for(Pe in m)m.hasOwnProperty(Pe)&&(v=m[Pe],v!==void 0&&$y(i,c,Pe,v,m,void 0));return}}for(ne in m)m.hasOwnProperty(ne)&&(v=m[ne],v!=null&&_t(i,c,ne,v,m,null))}function Zq(i,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,C=null,Q=null,ne=null,ue=null,we=null,Pe=null;for(Ae in m){var Ie=m[Ae];if(m.hasOwnProperty(Ae)&&Ie!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":ue=Ie;default:v.hasOwnProperty(Ae)||_t(i,c,Ae,null,v,Ie)}}for(var Te in v){var Ae=v[Te];if(Ie=m[Te],v.hasOwnProperty(Te)&&(Ae!=null||Ie!=null))switch(Te){case"type":C=Ae;break;case"name":N=Ae;break;case"checked":we=Ae;break;case"defaultChecked":Pe=Ae;break;case"value":Q=Ae;break;case"defaultValue":ne=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(a(137,c));break;default:Ae!==Ie&&_t(i,c,Te,Ae,v,Ie)}}Zp(i,Q,ne,ue,we,Pe,C,N);return;case"select":Ae=Q=ne=Te=null;for(C in m)if(ue=m[C],m.hasOwnProperty(C)&&ue!=null)switch(C){case"value":break;case"multiple":Ae=ue;default:v.hasOwnProperty(C)||_t(i,c,C,null,v,ue)}for(N in v)if(C=v[N],ue=m[N],v.hasOwnProperty(N)&&(C!=null||ue!=null))switch(N){case"value":Te=C;break;case"defaultValue":ne=C;break;case"multiple":Q=C;default:C!==ue&&_t(i,c,N,C,v,ue)}c=ne,m=Q,v=Ae,Te!=null?wo(i,!!m,Te,!1):!!v!=!!m&&(c!=null?wo(i,!!m,c,!0):wo(i,!!m,m?[]:"",!1));return;case"textarea":Ae=Te=null;for(ne in m)if(N=m[ne],m.hasOwnProperty(ne)&&N!=null&&!v.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:_t(i,c,ne,null,v,N)}for(Q in v)if(N=v[Q],C=m[Q],v.hasOwnProperty(Q)&&(N!=null||C!=null))switch(Q){case"value":Te=N;break;case"defaultValue":Ae=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:N!==C&&_t(i,c,Q,N,v,C)}nw(i,Te,Ae);return;case"option":for(var rt in m)if(Te=m[rt],m.hasOwnProperty(rt)&&Te!=null&&!v.hasOwnProperty(rt))switch(rt){case"selected":i.selected=!1;break;default:_t(i,c,rt,null,v,Te)}for(ue in v)if(Te=v[ue],Ae=m[ue],v.hasOwnProperty(ue)&&Te!==Ae&&(Te!=null||Ae!=null))switch(ue){case"selected":i.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:_t(i,c,ue,Te,v,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in m)Te=m[Je],m.hasOwnProperty(Je)&&Te!=null&&!v.hasOwnProperty(Je)&&_t(i,c,Je,null,v,Te);for(we in v)if(Te=v[we],Ae=m[we],v.hasOwnProperty(we)&&Te!==Ae&&(Te!=null||Ae!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,c));break;default:_t(i,c,we,Te,v,Ae)}return;default:if(tv(c)){for(var It in m)Te=m[It],m.hasOwnProperty(It)&&Te!==void 0&&!v.hasOwnProperty(It)&&$y(i,c,It,void 0,v,Te);for(Pe in v)Te=v[Pe],Ae=m[Pe],!v.hasOwnProperty(Pe)||Te===Ae||Te===void 0&&Ae===void 0||$y(i,c,Pe,Te,v,Ae);return}}for(var be in m)Te=m[be],m.hasOwnProperty(be)&&Te!=null&&!v.hasOwnProperty(be)&&_t(i,c,be,null,v,Te);for(Ie in v)Te=v[Ie],Ae=m[Ie],!v.hasOwnProperty(Ie)||Te===Ae||Te==null&&Ae==null||_t(i,c,Ie,Te,v,Ae)}var By=null,Uy=null;function Qh(i){return i.nodeType===9?i:i.ownerDocument}function aT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sT(i,c){if(i===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&c==="foreignObject"?0:i}function Fy(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Hy=null;function e5(){var i=window.event;return i&&i.type==="popstate"?i===Hy?!1:(Hy=i,!0):(Hy=null,!1)}var iT=typeof setTimeout=="function"?setTimeout:void 0,t5=typeof clearTimeout=="function"?clearTimeout:void 0,oT=typeof Promise=="function"?Promise:void 0,n5=typeof queueMicrotask=="function"?queueMicrotask:typeof oT<"u"?function(i){return oT.resolve(null).then(i).catch(r5)}:iT;function r5(i){setTimeout(function(){throw i})}function Fs(i){return i==="head"}function lT(i,c){var m=c,v=0,N=0;do{var C=m.nextSibling;if(i.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(0<v&&8>v){m=v;var Q=i.ownerDocument;if(m&1&&tu(Q.documentElement),m&2&&tu(Q.body),m&4)for(m=Q.head,tu(m),Q=m.firstChild;Q;){var ne=Q.nextSibling,ue=Q.nodeName;Q[vc]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&Q.rel.toLowerCase()==="stylesheet"||m.removeChild(Q),Q=ne}}if(N===0){i.removeChild(C),cu(c);return}N--}else m==="$"||m==="$?"||m==="$!"?N++:v=m.charCodeAt(0)-48;else v=0;m=C}while(m);cu(c)}function zy(i){var c=i.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":zy(m),Kp(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}i.removeChild(m)}}function a5(i,c,m,v){for(;i.nodeType===1;){var N=m;if(i.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(v){if(!i[vc])switch(c){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(C=i.getAttribute("rel"),C==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(C!==N.rel||i.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||i.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||i.getAttribute("title")!==(N.title==null?null:N.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(C=i.getAttribute("src"),(C!==(N.src==null?null:N.src)||i.getAttribute("type")!==(N.type==null?null:N.type)||i.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&C&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(c==="input"&&i.type==="hidden"){var C=N.name==null?null:""+N.name;if(N.type==="hidden"&&i.getAttribute("name")===C)return i}else return i;if(i=na(i.nextSibling),i===null)break}return null}function s5(i,c,m){if(c==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!m||(i=na(i.nextSibling),i===null))return null;return i}function Wy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function i5(i,c){var m=i.ownerDocument;if(i.data!=="$?"||m.readyState==="complete")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),i._reactRetry=v}}function na(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return i}var Vy=null;function cT(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var m=i.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return i;c--}else m==="/$"&&c++}i=i.previousSibling}return null}function uT(i,c,m){switch(c=Qh(m),i){case"html":if(i=c.documentElement,!i)throw Error(a(452));return i;case"head":if(i=c.head,!i)throw Error(a(453));return i;case"body":if(i=c.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function tu(i){for(var c=i.attributes;c.length;)i.removeAttributeNode(c[0]);Kp(i)}var Hr=new Map,dT=new Set;function Xh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var as=F.d;F.d={f:o5,r:l5,D:c5,C:u5,L:d5,m:h5,X:f5,S:m5,M:p5};function o5(){var i=as.f(),c=Fh();return i||c}function l5(i){var c=xo(i);c!==null&&c.tag===5&&c.type==="form"?DS(c):as.r(i)}var Zo=typeof document>"u"?null:document;function hT(i,c,m){var v=Zo;if(v&&typeof c=="string"&&c){var N=Rr(c);N='link[rel="'+i+'"][href="'+N+'"]',typeof m=="string"&&(N+='[crossorigin="'+m+'"]'),dT.has(N)||(dT.add(N),i={rel:i,crossOrigin:m,href:c},v.querySelector(N)===null&&(c=v.createElement("link"),Bn(c,"link",i),An(c),v.head.appendChild(c)))}}function c5(i){as.D(i),hT("dns-prefetch",i,null)}function u5(i,c){as.C(i,c),hT("preconnect",i,c)}function d5(i,c,m){as.L(i,c,m);var v=Zo;if(v&&i&&c){var N='link[rel="preload"][as="'+Rr(c)+'"]';c==="image"&&m&&m.imageSrcSet?(N+='[imagesrcset="'+Rr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(N+='[imagesizes="'+Rr(m.imageSizes)+'"]')):N+='[href="'+Rr(i)+'"]';var C=N;switch(c){case"style":C=el(i);break;case"script":C=tl(i)}Hr.has(C)||(i=f({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:i,as:c},m),Hr.set(C,i),v.querySelector(N)!==null||c==="style"&&v.querySelector(nu(C))||c==="script"&&v.querySelector(ru(C))||(c=v.createElement("link"),Bn(c,"link",i),An(c),v.head.appendChild(c)))}}function h5(i,c){as.m(i,c);var m=Zo;if(m&&i){var v=c&&typeof c.as=="string"?c.as:"script",N='link[rel="modulepreload"][as="'+Rr(v)+'"][href="'+Rr(i)+'"]',C=N;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=tl(i)}if(!Hr.has(C)&&(i=f({rel:"modulepreload",href:i},c),Hr.set(C,i),m.querySelector(N)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(ru(C)))return}v=m.createElement("link"),Bn(v,"link",i),An(v),m.head.appendChild(v)}}}function m5(i,c,m){as.S(i,c,m);var v=Zo;if(v&&i){var N=bo(v).hoistableStyles,C=el(i);c=c||"default";var Q=N.get(C);if(!Q){var ne={loading:0,preload:null};if(Q=v.querySelector(nu(C)))ne.loading=5;else{i=f({rel:"stylesheet",href:i,"data-precedence":c},m),(m=Hr.get(C))&&Yy(i,m);var ue=Q=v.createElement("link");An(ue),Bn(ue,"link",i),ue._p=new Promise(function(we,Pe){ue.onload=we,ue.onerror=Pe}),ue.addEventListener("load",function(){ne.loading|=1}),ue.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,Jh(Q,c,v)}Q={type:"stylesheet",instance:Q,count:1,state:ne},N.set(C,Q)}}}function f5(i,c){as.X(i,c);var m=Zo;if(m&&i){var v=bo(m).hoistableScripts,N=tl(i),C=v.get(N);C||(C=m.querySelector(ru(N)),C||(i=f({src:i,async:!0},c),(c=Hr.get(N))&&Gy(i,c),C=m.createElement("script"),An(C),Bn(C,"link",i),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(N,C))}}function p5(i,c){as.M(i,c);var m=Zo;if(m&&i){var v=bo(m).hoistableScripts,N=tl(i),C=v.get(N);C||(C=m.querySelector(ru(N)),C||(i=f({src:i,async:!0,type:"module"},c),(c=Hr.get(N))&&Gy(i,c),C=m.createElement("script"),An(C),Bn(C,"link",i),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(N,C))}}function mT(i,c,m,v){var N=(N=ae.current)?Xh(N):null;if(!N)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=el(m.href),m=bo(N).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){i=el(m.href);var C=bo(N).hoistableStyles,Q=C.get(i);if(Q||(N=N.ownerDocument||N,Q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(i,Q),(C=N.querySelector(nu(i)))&&!C._p&&(Q.instance=C,Q.state.loading=5),Hr.has(i)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Hr.set(i,m),C||v5(N,i,m,Q.state))),c&&v===null)throw Error(a(528,""));return Q}if(c&&v!==null)throw Error(a(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=tl(m),m=bo(N).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function el(i){return'href="'+Rr(i)+'"'}function nu(i){return'link[rel="stylesheet"]['+i+"]"}function fT(i){return f({},i,{"data-precedence":i.precedence,precedence:null})}function v5(i,c,m,v){i.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=i.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),Bn(c,"link",m),An(c),i.head.appendChild(c))}function tl(i){return'[src="'+Rr(i)+'"]'}function ru(i){return"script[async]"+i}function pT(i,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=i.querySelector('style[data-href~="'+Rr(m.href)+'"]');if(v)return c.instance=v,An(v),v;var N=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(i.ownerDocument||i).createElement("style"),An(v),Bn(v,"style",N),Jh(v,m.precedence,i),c.instance=v;case"stylesheet":N=el(m.href);var C=i.querySelector(nu(N));if(C)return c.state.loading|=4,c.instance=C,An(C),C;v=fT(m),(N=Hr.get(N))&&Yy(v,N),C=(i.ownerDocument||i).createElement("link"),An(C);var Q=C;return Q._p=new Promise(function(ne,ue){Q.onload=ne,Q.onerror=ue}),Bn(C,"link",v),c.state.loading|=4,Jh(C,m.precedence,i),c.instance=C;case"script":return C=tl(m.src),(N=i.querySelector(ru(C)))?(c.instance=N,An(N),N):(v=m,(N=Hr.get(C))&&(v=f({},m),Gy(v,N)),i=i.ownerDocument||i,N=i.createElement("script"),An(N),Bn(N,"link",v),i.head.appendChild(N),c.instance=N);case"void":return null;default:throw Error(a(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Jh(v,m.precedence,i));return c.instance}function Jh(i,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=v.length?v[v.length-1]:null,C=N,Q=0;Q<v.length;Q++){var ne=v[Q];if(ne.dataset.precedence===c)C=ne;else if(C!==N)break}C?C.parentNode.insertBefore(i,C.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(i,c.firstChild))}function Yy(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.title==null&&(i.title=c.title)}function Gy(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.integrity==null&&(i.integrity=c.integrity)}var Zh=null;function vT(i,c,m){if(Zh===null){var v=new Map,N=Zh=new Map;N.set(m,v)}else N=Zh,v=N.get(m),v||(v=new Map,N.set(m,v));if(v.has(i))return v;for(v.set(i,null),m=m.getElementsByTagName(i),N=0;N<m.length;N++){var C=m[N];if(!(C[vc]||C[tn]||i==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var Q=C.getAttribute(c)||"";Q=i+Q;var ne=v.get(Q);ne?ne.push(C):v.set(Q,[C])}}return v}function yT(i,c,m){i=i.ownerDocument||i,i.head.insertBefore(m,c==="title"?i.querySelector("head > title"):null)}function y5(i,c,m){if(m===1||c.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return i=c.disabled,typeof c.precedence=="string"&&i==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function gT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var au=null;function g5(){}function x5(i,c,m){if(au===null)throw Error(a(475));var v=au;if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var N=el(m.href),C=i.querySelector(nu(N));if(C){i=C._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(v.count++,v=em.bind(v),i.then(v,v)),c.state.loading|=4,c.instance=C,An(C);return}C=i.ownerDocument||i,m=fT(m),(N=Hr.get(N))&&Yy(m,N),C=C.createElement("link"),An(C);var Q=C;Q._p=new Promise(function(ne,ue){Q.onload=ne,Q.onerror=ue}),Bn(C,"link",m),c.instance=C}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,i),(i=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=em.bind(v),i.addEventListener("load",c),i.addEventListener("error",c))}}function b5(){if(au===null)throw Error(a(475));var i=au;return i.stylesheets&&i.count===0&&Ky(i,i.stylesheets),0<i.count?function(c){var m=setTimeout(function(){if(i.stylesheets&&Ky(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(m)}}:null}function em(){if(this.count--,this.count===0){if(this.stylesheets)Ky(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tm=null;function Ky(i,c){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tm=new Map,c.forEach(j5,i),tm=null,em.call(i))}function j5(i,c){if(!(c.state.loading&4)){var m=tm.get(i);if(m)var v=m.get(null);else{m=new Map,tm.set(i,m);for(var N=i.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<N.length;C++){var Q=N[C];(Q.nodeName==="LINK"||Q.getAttribute("media")!=="not all")&&(m.set(Q.dataset.precedence,Q),v=Q)}v&&m.set(null,v)}N=c.instance,Q=N.getAttribute("data-precedence"),C=m.get(Q)||v,C===v&&m.set(null,N),m.set(Q,N),this.count++,v=em.bind(this),N.addEventListener("load",v),N.addEventListener("error",v),C?C.parentNode.insertBefore(N,C.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(N,i.firstChild)),c.state.loading|=4}}var su={$$typeof:O,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function N5(i,c,m,v,N,C,Q,ne){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=v,this.onUncaughtError=N,this.onCaughtError=C,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function xT(i,c,m,v,N,C,Q,ne,ue,we,Pe,Ie){return i=new N5(i,c,m,Q,ne,ue,we,Ie),c=1,C===!0&&(c|=24),C=xr(3,null,null,c),i.current=C,C.stateNode=i,c=Ov(),c.refCount++,i.pooledCache=c,c.refCount++,C.memoizedState={element:v,isDehydrated:m,cache:c},_v(C),i}function bT(i){return i?(i=Po,i):Po}function jT(i,c,m,v,N,C){N=bT(N),v.context===null?v.context=N:v.pendingContext=N,v=ks(c),v.payload={element:m},C=C===void 0?null:C,C!==null&&(v.callback=C),m=Os(i,v,c),m!==null&&(Sr(m,i,c),Ic(m,i,c))}function NT(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var m=i.retryLane;i.retryLane=m!==0&&m<c?m:c}}function Qy(i,c){NT(i,c),(i=i.alternate)&&NT(i,c)}function wT(i){if(i.tag===13){var c=Do(i,67108864);c!==null&&Sr(c,i,67108864),Qy(i,67108864)}}var nm=!0;function w5(i,c,m,v){var N=M.T;M.T=null;var C=F.p;try{F.p=2,Xy(i,c,m,v)}finally{F.p=C,M.T=N}}function S5(i,c,m,v){var N=M.T;M.T=null;var C=F.p;try{F.p=8,Xy(i,c,m,v)}finally{F.p=C,M.T=N}}function Xy(i,c,m,v){if(nm){var N=Jy(v);if(N===null)Ly(i,c,v,rm,m),ET(i,v);else if(T5(N,i,c,m,v))v.stopPropagation();else if(ET(i,v),c&4&&-1<E5.indexOf(i)){for(;N!==null;){var C=xo(N);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var Q=pt(C.pendingLanes);if(Q!==0){var ne=C;for(ne.pendingLanes|=2,ne.entangledLanes|=2;Q;){var ue=1<<31-bt(Q);ne.entanglements[1]|=ue,Q&=~ue}Ta(C),(Ot&6)===0&&(Bh=te()+500,Jc(0))}}break;case 13:ne=Do(C,2),ne!==null&&Sr(ne,C,2),Fh(),Qy(C,2)}if(C=Jy(v),C===null&&Ly(i,c,v,rm,m),C===N)break;N=C}N!==null&&v.stopPropagation()}else Ly(i,c,v,null,m)}}function Jy(i){return i=rv(i),Zy(i)}var rm=null;function Zy(i){if(rm=null,i=go(i),i!==null){var c=o(i);if(c===null)i=null;else{var m=c.tag;if(m===13){if(i=l(c),i!==null)return i;i=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null)}}return rm=i,null}function ST(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case se:return 2;case oe:return 8;case xe:case pe:return 32;case je:return 268435456;default:return 32}default:return 32}}var eg=!1,Hs=null,zs=null,Ws=null,iu=new Map,ou=new Map,Vs=[],E5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ET(i,c){switch(i){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":iu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(c.pointerId)}}function lu(i,c,m,v,N,C){return i===null||i.nativeEvent!==C?(i={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:C,targetContainers:[N]},c!==null&&(c=xo(c),c!==null&&wT(c)),i):(i.eventSystemFlags|=v,c=i.targetContainers,N!==null&&c.indexOf(N)===-1&&c.push(N),i)}function T5(i,c,m,v,N){switch(c){case"focusin":return Hs=lu(Hs,i,c,m,v,N),!0;case"dragenter":return zs=lu(zs,i,c,m,v,N),!0;case"mouseover":return Ws=lu(Ws,i,c,m,v,N),!0;case"pointerover":var C=N.pointerId;return iu.set(C,lu(iu.get(C)||null,i,c,m,v,N)),!0;case"gotpointercapture":return C=N.pointerId,ou.set(C,lu(ou.get(C)||null,i,c,m,v,N)),!0}return!1}function TT(i){var c=go(i.target);if(c!==null){var m=o(c);if(m!==null){if(c=m.tag,c===13){if(c=l(m),c!==null){i.blockedOn=c,We(i.priority,function(){if(m.tag===13){var v=wr();v=ve(v);var N=Do(m,v);N!==null&&Sr(N,m,v),Qy(m,v)}});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){i.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}i.blockedOn=null}function am(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var m=Jy(i.nativeEvent);if(m===null){m=i.nativeEvent;var v=new m.constructor(m.type,m);nv=v,m.target.dispatchEvent(v),nv=null}else return c=xo(m),c!==null&&wT(c),i.blockedOn=m,!1;c.shift()}return!0}function AT(i,c,m){am(i)&&m.delete(c)}function A5(){eg=!1,Hs!==null&&am(Hs)&&(Hs=null),zs!==null&&am(zs)&&(zs=null),Ws!==null&&am(Ws)&&(Ws=null),iu.forEach(AT),ou.forEach(AT)}function sm(i,c){i.blockedOn===c&&(i.blockedOn=null,eg||(eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,A5)))}var im=null;function CT(i){im!==i&&(im=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){im===i&&(im=null);for(var c=0;c<i.length;c+=3){var m=i[c],v=i[c+1],N=i[c+2];if(typeof v!="function"){if(Zy(v||m)===null)continue;break}var C=xo(m);C!==null&&(i.splice(c,3),c-=3,Zv(C,{pending:!0,data:N,method:m.method,action:v},v,N))}}))}function cu(i){function c(ue){return sm(ue,i)}Hs!==null&&sm(Hs,i),zs!==null&&sm(zs,i),Ws!==null&&sm(Ws,i),iu.forEach(c),ou.forEach(c);for(var m=0;m<Vs.length;m++){var v=Vs[m];v.blockedOn===i&&(v.blockedOn=null)}for(;0<Vs.length&&(m=Vs[0],m.blockedOn===null);)TT(m),m.blockedOn===null&&Vs.shift();if(m=(i.ownerDocument||i).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var N=m[v],C=m[v+1],Q=N[un]||null;if(typeof C=="function")Q||CT(m);else if(Q){var ne=null;if(C&&C.hasAttribute("formAction")){if(N=C,Q=C[un]||null)ne=Q.formAction;else if(Zy(N)!==null)continue}else ne=Q.action;typeof ne=="function"?m[v+1]=ne:(m.splice(v,3),v-=3),CT(m)}}}function tg(i){this._internalRoot=i}om.prototype.render=tg.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(a(409));var m=c.current,v=wr();jT(m,v,i,c,null,null)},om.prototype.unmount=tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;jT(i.current,2,null,i,null,null),Fh(),c[Zr]=null}};function om(i){this._internalRoot=i}om.prototype.unstable_scheduleHydration=function(i){if(i){var c=$e();i={blockedOn:null,target:i,priority:c};for(var m=0;m<Vs.length&&c!==0&&c<Vs[m].priority;m++);Vs.splice(m,0,i),m===0&&TT(i)}};var kT=n.version;if(kT!=="19.1.0")throw Error(a(527,kT,"19.1.0"));F.findDOMNode=function(i){var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=d(c),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var C5={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{Oe=lm.inject(C5),Be=lm}catch{}}return du.createRoot=function(i,c){if(!s(i))throw Error(a(299));var m=!1,v="",N=WS,C=VS,Q=YS,ne=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(N=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(Q=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ne=c.unstable_transitionCallbacks)),c=xT(i,1,!1,null,null,m,v,N,C,Q,ne,null),i[Zr]=c.current,qy(i),new tg(c)},du.hydrateRoot=function(i,c,m){if(!s(i))throw Error(a(299));var v=!1,N="",C=WS,Q=VS,ne=YS,ue=null,we=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onUncaughtError!==void 0&&(C=m.onUncaughtError),m.onCaughtError!==void 0&&(Q=m.onCaughtError),m.onRecoverableError!==void 0&&(ne=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ue=m.unstable_transitionCallbacks),m.formState!==void 0&&(we=m.formState)),c=xT(i,1,!0,c,m??null,v,N,C,Q,ne,ue,we),c.context=bT(null),m=c.current,v=wr(),v=ve(v),N=ks(v),N.callback=null,Os(m,N,v),m=v,c.current.lanes=m,Mr(c,m),Ta(c),i[Zr]=c.current,qy(i),new om(c)},du.version="19.1.0",du}var $T;function B5(){if($T)return ag.exports;$T=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),ag.exports=$5(),ag.exports}var U5=B5(),hu={},BT;function F5(){if(BT)return hu;BT=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.parse=l,hu.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,b){const x=new o,j=y.length;if(j<2)return x;const w=(b==null?void 0:b.decode)||f;let T=0;do{const A=y.indexOf("=",T);if(A===-1)break;const O=y.indexOf(";",T),P=O===-1?j:O;if(A>P){T=y.lastIndexOf(";",A-1)+1;continue}const S=u(y,T,A),E=d(y,A,S),k=y.slice(S,E);if(x[k]===void 0){let D=u(y,A+1,P),_=d(y,P,D);const U=w(y.slice(D,_));x[k]=U}T=P+1}while(T<j);return x}function u(y,b,x){do{const j=y.charCodeAt(b);if(j!==32&&j!==9)return b}while(++b<x);return x}function d(y,b,x){for(;b>x;){const j=y.charCodeAt(--b);if(j!==32&&j!==9)return b+1}return x}function h(y,b,x){const j=(x==null?void 0:x.encode)||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const w=j(b);if(!n.test(w))throw new TypeError(`argument val is invalid: ${b}`);let T=y+"="+w;if(!x)return T;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);T+="; Max-Age="+x.maxAge}if(x.domain){if(!r.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);T+="; Domain="+x.domain}if(x.path){if(!a.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);T+="; Path="+x.path}if(x.expires){if(!p(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);T+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(T+="; HttpOnly"),x.secure&&(T+="; Secure"),x.partitioned&&(T+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return T}function f(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function p(y){return s.call(y)==="[object Date]"}return hu}F5();var UT="popstate";function H5(e={}){function n(a,s){let{pathname:o,search:l,hash:u}=a.location;return Tj("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Wu(s)}return W5(n,r,null,e)}function Kt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ma(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function z5(){return Math.random().toString(36).substring(2,10)}function FT(e,n){return{usr:e.state,key:e.key,idx:n}}function Tj(e,n,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?nc(n):n,state:r,key:n&&n.key||a||z5()}}function Wu({pathname:e="/",search:n="",hash:r=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nc(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(n.search=e.substring(a),e=e.substring(0,a)),e&&(n.pathname=e)}return n}function W5(e,n,r,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,l=s.history,u="POP",d=null,h=f();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function f(){return(l.state||{idx:null}).idx}function p(){u="POP";let w=f(),T=w==null?null:w-h;h=w,d&&d({action:u,location:j.location,delta:T})}function y(w,T){u="PUSH";let A=Tj(j.location,w,T);h=f()+1;let O=FT(A,h),P=j.createHref(A);try{l.pushState(O,"",P)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(P)}o&&d&&d({action:u,location:j.location,delta:1})}function b(w,T){u="REPLACE";let A=Tj(j.location,w,T);h=f();let O=FT(A,h),P=j.createHref(A);l.replaceState(O,"",P),o&&d&&d({action:u,location:j.location,delta:0})}function x(w){return V5(w)}let j={get action(){return u},get location(){return e(s,l)},listen(w){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(UT,p),d=w,()=>{s.removeEventListener(UT,p),d=null}},createHref(w){return n(s,w)},createURL:x,encodeLocation(w){let T=x(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:b,go(w){return l.go(w)}};return j}function V5(e,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Wu(e);return a=a.replace(/ $/,"%20"),!n&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function fM(e,n,r="/"){return Y5(e,n,r,!1)}function Y5(e,n,r,a){let s=typeof n=="string"?nc(n):n,o=ys(s.pathname||"/",r);if(o==null)return null;let l=pM(e);G5(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=sL(o);u=rL(l[d],h,a)}return u}function pM(e,n=[],r=[],a=""){let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Kt(d.relativePath.startsWith(a),`Absolute route path "${d.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(a.length));let h=ms([a,d.relativePath]),f=r.concat(d);o.children&&o.children.length>0&&(Kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),pM(o.children,n,f,h)),!(o.path==null&&!o.index)&&n.push({path:h,score:tL(h,o.index),routesMeta:f})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of vM(o.path))s(o,l,d)}),n}function vM(e){let n=e.split("/");if(n.length===0)return[];let[r,...a]=n,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let l=vM(a.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function G5(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:nL(n.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var K5=/^:[\w-]+$/,Q5=3,X5=2,J5=1,Z5=10,eL=-2,HT=e=>e==="*";function tL(e,n){let r=e.split("/"),a=r.length;return r.some(HT)&&(a+=eL),n&&(a+=X5),r.filter(s=>!HT(s)).reduce((s,o)=>s+(K5.test(o)?Q5:o===""?J5:Z5),a)}function nL(e,n){return e.length===n.length&&e.slice(0,-1).every((a,s)=>a===n[s])?e[e.length-1]-n[n.length-1]:0}function rL(e,n,r=!1){let{routesMeta:a}=e,s={},o="/",l=[];for(let u=0;u<a.length;++u){let d=a[u],h=u===a.length-1,f=o==="/"?n:n.slice(o.length)||"/",p=Um({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),y=d.route;if(!p&&h&&r&&!a[a.length-1].route.index&&(p=Um({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:ms([o,p.pathname]),pathnameBase:cL(ms([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=ms([o,p.pathnameBase]))}return l}function Um(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=aL(e.path,e.caseSensitive,e.end),s=n.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:a.reduce((h,{paramName:f,isOptional:p},y)=>{if(f==="*"){let x=u[y]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const b=u[y];return p&&!b?h[f]=void 0:h[f]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function aL(e,n=!1,r=!0){ma(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(a.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),a]}function sL(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ma(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function ys(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function iL(e,n="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?nc(e):e;return{pathname:r?r.startsWith("/")?r:oL(r,n):n,search:uL(a),hash:dL(s)}}function oL(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lg(e,n,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lL(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function xN(e){let n=lL(e);return n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase)}function bN(e,n,r,a=!1){let s;typeof e=="string"?s=nc(e):(s={...e},Kt(!s.pathname||!s.pathname.includes("?"),lg("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),lg("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),lg("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=r;else{let p=n.length-1;if(!a&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;s.pathname=y.join("/")}u=p>=0?n[p]:"/"}let d=iL(s,u),h=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),cL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var yM=["POST","PUT","PATCH","DELETE"];new Set(yM);var mL=["GET",...yM];new Set(mL);var rc=g.createContext(null);rc.displayName="DataRouter";var rp=g.createContext(null);rp.displayName="DataRouterState";var gM=g.createContext({isTransitioning:!1});gM.displayName="ViewTransition";var fL=g.createContext(new Map);fL.displayName="Fetchers";var pL=g.createContext(null);pL.displayName="Await";var va=g.createContext(null);va.displayName="Navigation";var qd=g.createContext(null);qd.displayName="Location";var Qr=g.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var jN=g.createContext(null);jN.displayName="RouteError";function vL(e,{relative:n}={}){Kt(ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=g.useContext(va),{hash:s,pathname:o,search:l}=Ld(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ms([r,o])),a.createHref({pathname:u,search:l,hash:s})}function ac(){return g.useContext(qd)!=null}function Ba(){return Kt(ac(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(qd).location}var xM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bM(e){g.useContext(va).static||g.useLayoutEffect(e)}function Tt(){let{isDataRoute:e}=g.useContext(Qr);return e?DL():yL()}function yL(){Kt(ac(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(rc),{basename:n,navigator:r}=g.useContext(va),{matches:a}=g.useContext(Qr),{pathname:s}=Ba(),o=JSON.stringify(xN(a)),l=g.useRef(!1);return bM(()=>{l.current=!0}),g.useCallback((d,h={})=>{if(ma(l.current,xM),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=bN(d,JSON.parse(o),s,h.relative==="path");e==null&&n!=="/"&&(f.pathname=f.pathname==="/"?n:ms([n,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[n,r,o,s,e])}var gL=g.createContext(null);function xL(e){let n=g.useContext(Qr).outlet;return n&&g.createElement(gL.Provider,{value:e},n)}function ya(){let{matches:e}=g.useContext(Qr),n=e[e.length-1];return n?n.params:{}}function Ld(e,{relative:n}={}){let{matches:r}=g.useContext(Qr),{pathname:a}=Ba(),s=JSON.stringify(xN(r));return g.useMemo(()=>bN(e,JSON.parse(s),a,n==="path"),[e,s,a,n])}function bL(e,n){return jM(e,n)}function jM(e,n,r,a){var A;Kt(ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=g.useContext(va),{matches:l}=g.useContext(Qr),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",f=u?u.pathnameBase:"/",p=u&&u.route;{let O=p&&p.path||"";NM(h,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=Ba(),b;if(n){let O=typeof n=="string"?nc(n):n;Kt(f==="/"||((A=O.pathname)==null?void 0:A.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=y;let x=b.pathname||"/",j=x;if(f!=="/"){let O=f.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=!o&&r&&r.matches&&r.matches.length>0?r.matches:fM(e,{pathname:j});ma(p||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ma(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=EL(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:ms([f,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:ms([f,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,r,a);return n&&T?g.createElement(qd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function jL(){let e=OL(),n=hL(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:o},"ErrorBoundary")," or"," ",g.createElement("code",{style:o},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},n),r?g.createElement("pre",{style:s},r):null,l)}var NL=g.createElement(jL,null),wL=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Qr.Provider,{value:this.props.routeContext},g.createElement(jN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SL({routeContext:e,match:n,children:r}){let a=g.useContext(rc);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Qr.Provider,{value:e},r)}function EL(e,n=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let p,y=!1,b=null,x=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||NL,l&&(u<0&&f===0?(NM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):u===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let j=n.concat(s.slice(0,f+1)),w=()=>{let T;return p?T=b:y?T=x:h.route.Component?T=g.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,g.createElement(SL,{match:h,routeContext:{outlet:d,matches:j,isDataRoute:r!=null},children:T})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(wL,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:w(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):w()},null)}function NN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TL(e){let n=g.useContext(rc);return Kt(n,NN(e)),n}function AL(e){let n=g.useContext(rp);return Kt(n,NN(e)),n}function CL(e){let n=g.useContext(Qr);return Kt(n,NN(e)),n}function wN(e){let n=CL(e),r=n.matches[n.matches.length-1];return Kt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function kL(){return wN("useRouteId")}function OL(){var a;let e=g.useContext(jN),n=AL("useRouteError"),r=wN("useRouteError");return e!==void 0?e:(a=n.errors)==null?void 0:a[r]}function DL(){let{router:e}=TL("useNavigate"),n=wN("useNavigate"),r=g.useRef(!1);return bM(()=>{r.current=!0}),g.useCallback(async(s,o={})=>{ma(r.current,xM),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:n,...o}))},[e,n])}var zT={};function NM(e,n,r){!n&&!zT[e]&&(zT[e]=!0,ma(!1,r))}g.memo(PL);function PL({routes:e,future:n,state:r}){return jM(e,void 0,r,n)}function Vu({to:e,replace:n,state:r,relative:a}){Kt(ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=g.useContext(va);ma(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=g.useContext(Qr),{pathname:l}=Ba(),u=Tt(),d=bN(e,xN(o),l,a==="path"),h=JSON.stringify(d);return g.useEffect(()=>{u(JSON.parse(h),{replace:n,state:r,relative:a})},[u,h,a,n,r]),null}function SN(e){return xL(e.context)}function ut(e){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ML({basename:e="/",children:n=null,location:r,navigationType:a="POP",navigator:s,static:o=!1}){Kt(!ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof r=="string"&&(r=nc(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=r,b=g.useMemo(()=>{let x=ys(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:y},navigationType:a}},[l,d,h,f,p,y,a]);return ma(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:g.createElement(va.Provider,{value:u},g.createElement(qd.Provider,{children:n,value:b}))}function _L({children:e,location:n}){return bL(Aj(e),n)}function Aj(e,n=[]){let r=[];return g.Children.forEach(e,(a,s)=>{if(!g.isValidElement(a))return;let o=[...n,s];if(a.type===g.Fragment){r.push.apply(r,Aj(a.props.children,o));return}Kt(a.type===ut,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=Aj(a.props.children,o)),r.push(l)}),r}var Im="get",Rm="application/x-www-form-urlencoded";function ap(e){return e!=null&&typeof e.tagName=="string"}function IL(e){return ap(e)&&e.tagName.toLowerCase()==="button"}function RL(e){return ap(e)&&e.tagName.toLowerCase()==="form"}function qL(e){return ap(e)&&e.tagName.toLowerCase()==="input"}function LL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $L(e,n){return e.button===0&&(!n||n==="_self")&&!LL(e)}var dm=null;function BL(){if(dm===null)try{new FormData(document.createElement("form"),0),dm=!1}catch{dm=!0}return dm}var UL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cg(e){return e!=null&&!UL.has(e)?(ma(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rm}"`),null):e}function FL(e,n){let r,a,s,o,l;if(RL(e)){let u=e.getAttribute("action");a=u?ys(u,n):null,r=e.getAttribute("method")||Im,s=cg(e.getAttribute("enctype"))||Rm,o=new FormData(e)}else if(IL(e)||qL(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(a=d?ys(d,n):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Im,s=cg(e.getAttribute("formenctype"))||cg(u.getAttribute("enctype"))||Rm,o=new FormData(u,e),!BL()){let{name:h,type:f,value:p}=e;if(f==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,p)}}else{if(ap(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Im,a=null,s=Rm,l=e}return o&&s==="text/plain"&&(l=o,o=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:o,body:l}}function EN(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}async function HL(e,n){if(e.id in n)return n[e.id];try{let r=await import(e.module);return n[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function WL(e,n,r){let a=await Promise.all(e.map(async s=>{let o=n.routes[s.route.id];if(o){let l=await HL(o,r);return l.links?l.links():[]}return[]}));return KL(a.flat(1).filter(zL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function WT(e,n,r,a,s,o){let l=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>{var f;return r[h].pathname!==d.pathname||((f=r[h].route.path)==null?void 0:f.endsWith("*"))&&r[h].params["*"]!==d.params["*"]};return o==="assets"?n.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?n.filter((d,h)=>{var p;let f=a.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function VL(e,n,{includeHydrateFallback:r}={}){return YL(e.map(a=>{let s=n.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function YL(e){return[...new Set(e)]}function GL(e){let n={},r=Object.keys(e).sort();for(let a of r)n[a]=e[a];return n}function KL(e,n){let r=new Set;return new Set(n),e.reduce((a,s)=>{let o=JSON.stringify(GL(s));return r.has(o)||(r.add(o),a.push({key:o,link:s})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QL=new Set([100,101,204,205]);function XL(e,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":n&&ys(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function wM(){let e=g.useContext(rc);return EN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function JL(){let e=g.useContext(rp);return EN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var TN=g.createContext(void 0);TN.displayName="FrameworkContext";function SM(){let e=g.useContext(TN);return EN(e,"You must render this element inside a <HydratedRouter> element"),e}function ZL(e,n){let r=g.useContext(TN),[a,s]=g.useState(!1),[o,l]=g.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=n,y=g.useRef(null);g.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let j=T=>{T.forEach(A=>{l(A.isIntersecting)})},w=new IntersectionObserver(j,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[e]),g.useEffect(()=>{if(a){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[a]);let b=()=>{s(!0)},x=()=>{s(!1),l(!1)};return r?e!=="intent"?[o,y,{}]:[o,y,{onFocus:mu(u,b),onBlur:mu(d,x),onMouseEnter:mu(h,b),onMouseLeave:mu(f,x),onTouchStart:mu(p,b)}]:[!1,y,{}]}function mu(e,n){return r=>{e&&e(r),r.defaultPrevented||n(r)}}function e$({page:e,...n}){let{router:r}=wM(),a=g.useMemo(()=>fM(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?g.createElement(n$,{page:e,matches:a,...n}):null}function t$(e){let{manifest:n,routeModules:r}=SM(),[a,s]=g.useState([]);return g.useEffect(()=>{let o=!1;return WL(e,n,r).then(l=>{o||s(l)}),()=>{o=!0}},[e,n,r]),a}function n$({page:e,matches:n,...r}){let a=Ba(),{manifest:s,routeModules:o}=SM(),{basename:l}=wM(),{loaderData:u,matches:d}=JL(),h=g.useMemo(()=>WT(e,n,d,s,a,"data"),[e,n,d,s,a]),f=g.useMemo(()=>WT(e,n,d,s,a,"assets"),[e,n,d,s,a]),p=g.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let x=new Set,j=!1;if(n.forEach(T=>{var O;let A=s.routes[T.route.id];!A||!A.hasLoader||(!h.some(P=>P.route.id===T.route.id)&&T.route.id in u&&((O=o[T.route.id])!=null&&O.shouldRevalidate)||A.hasClientLoader?j=!0:x.add(T.route.id))}),x.size===0)return[];let w=XL(e,l);return j&&x.size>0&&w.searchParams.set("_routes",n.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[l,u,a,s,h,n,e,o]),y=g.useMemo(()=>VL(f,s),[f,s]),b=t$(f);return g.createElement(g.Fragment,null,p.map(x=>g.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),y.map(x=>g.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),b.map(({key:x,link:j})=>g.createElement("link",{key:x,...j})))}function r$(...e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var EM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EM&&(window.__reactRouterVersion="7.6.0")}catch{}function a$({basename:e,children:n,window:r}){let a=g.useRef();a.current==null&&(a.current=H5({window:r,v5Compat:!0}));let s=a.current,[o,l]=g.useState({action:s.action,location:s.location}),u=g.useCallback(d=>{g.startTransition(()=>l(d))},[l]);return g.useLayoutEffect(()=>s.listen(u),[s,u]),g.createElement(ML,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var TM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AM=g.forwardRef(function({onClick:n,discover:r="render",prefetch:a="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:f,viewTransition:p,...y},b){let{basename:x}=g.useContext(va),j=typeof h=="string"&&TM.test(h),w,T=!1;if(typeof h=="string"&&j&&(w=h,EM))try{let _=new URL(window.location.href),U=h.startsWith("//")?new URL(_.protocol+h):new URL(h),R=ys(U.pathname,x);U.origin===_.origin&&R!=null?h=R+U.search+U.hash:T=!0}catch{ma(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=vL(h,{relative:s}),[O,P,S]=ZL(a,y),E=o$(h,{replace:l,state:u,target:d,preventScrollReset:f,relative:s,viewTransition:p});function k(_){n&&n(_),_.defaultPrevented||E(_)}let D=g.createElement("a",{...y,...S,href:w||A,onClick:T||o?n:k,ref:r$(b,P),target:d,"data-discover":!j&&r==="render"?"true":void 0});return O&&!j?g.createElement(g.Fragment,null,D,g.createElement(e$,{page:A})):D});AM.displayName="Link";var Yu=g.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...h},f){let p=Ld(l,{relative:h.relative}),y=Ba(),b=g.useContext(rp),{navigator:x,basename:j}=g.useContext(va),w=b!=null&&h$(p)&&u===!0,T=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,A=y.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(A=A.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&j&&(O=ys(O,j)||O);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let S=A===T||!s&&A.startsWith(T)&&A.charAt(P)==="/",E=O!=null&&(O===T||!s&&O.startsWith(T)&&O.charAt(T.length)==="/"),k={isActive:S,isPending:E,isTransitioning:w},D=S?n:void 0,_;typeof a=="function"?_=a(k):_=[a,S?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(k):o;return g.createElement(AM,{...h,"aria-current":D,className:_,ref:f,style:U,to:l,viewTransition:u},typeof d=="function"?d(k):d)});Yu.displayName="NavLink";var s$=g.forwardRef(({discover:e="render",fetcherKey:n,navigate:r,reloadDocument:a,replace:s,state:o,method:l=Im,action:u,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:p,...y},b)=>{let x=u$(),j=d$(u,{relative:h}),w=l.toLowerCase()==="get"?"get":"post",T=typeof u=="string"&&TM.test(u),A=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let P=O.nativeEvent.submitter,S=(P==null?void 0:P.getAttribute("formmethod"))||l;x(P||O.currentTarget,{fetcherKey:n,method:S,navigate:r,replace:s,state:o,relative:h,preventScrollReset:f,viewTransition:p})};return g.createElement("form",{ref:b,method:w,action:j,onSubmit:a?d:A,...y,"data-discover":!T&&e==="render"?"true":void 0})});s$.displayName="Form";function i$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CM(e){let n=g.useContext(rc);return Kt(n,i$(e)),n}function o$(e,{target:n,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=Tt(),d=Ba(),h=Ld(e,{relative:o});return g.useCallback(f=>{if($L(f,n)){f.preventDefault();let p=r!==void 0?r:Wu(d)===Wu(h);u(e,{replace:p,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,h,r,a,n,e,s,o,l])}var l$=0,c$=()=>`__${String(++l$)}__`;function u$(){let{router:e}=CM("useSubmit"),{basename:n}=g.useContext(va),r=kL();return g.useCallback(async(a,s={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=FL(a,n);if(s.navigate===!1){let f=s.fetcherKey||c$();await e.fetch(f,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,n,r])}function d$(e,{relative:n}={}){let{basename:r}=g.useContext(va),a=g.useContext(Qr);Kt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...Ld(e||".",{relative:n})},l=Ba();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(f=>f==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let f=u.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:ms([r,o.pathname])),Wu(o)}function h$(e,n={}){let r=g.useContext(gM);Kt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=CM("useViewTransitionState"),s=Ld(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=ys(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=ys(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Um(s.pathname,l)!=null||Um(s.pathname,o)!=null}[...QL];const at=e=>typeof e=="string",fu=()=>{let e,n;const r=new Promise((a,s)=>{e=a,n=s});return r.resolve=e,r.reject=n,r},VT=e=>e==null?"":""+e,m$=(e,n,r)=>{e.forEach(a=>{n[a]&&(r[a]=n[a])})},f$=/###/g,YT=e=>e&&e.indexOf("###")>-1?e.replace(f$,"."):e,GT=e=>!e||at(e),_u=(e,n,r)=>{const a=at(n)?n.split("."):n;let s=0;for(;s<a.length-1;){if(GT(e))return{};const o=YT(a[s]);!e[o]&&r&&(e[o]=new r),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return GT(e)?{}:{obj:e,k:YT(a[s])}},KT=(e,n,r)=>{const{obj:a,k:s}=_u(e,n,Object);if(a!==void 0||n.length===1){a[s]=r;return}let o=n[n.length-1],l=n.slice(0,n.length-1),u=_u(e,l,Object);for(;u.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),u=_u(e,l,Object),u!=null&&u.obj&&typeof u.obj[`${u.k}.${o}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${o}`]=r},p$=(e,n,r,a)=>{const{obj:s,k:o}=_u(e,n,Object);s[o]=s[o]||[],s[o].push(r)},Fm=(e,n)=>{const{obj:r,k:a}=_u(e,n);if(r&&Object.prototype.hasOwnProperty.call(r,a))return r[a]},v$=(e,n,r)=>{const a=Fm(e,r);return a!==void 0?a:Fm(n,r)},kM=(e,n,r)=>{for(const a in n)a!=="__proto__"&&a!=="constructor"&&(a in e?at(e[a])||e[a]instanceof String||at(n[a])||n[a]instanceof String?r&&(e[a]=n[a]):kM(e[a],n[a],r):e[a]=n[a]);return e},nl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var y$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const g$=e=>at(e)?e.replace(/[&<>"'\/]/g,n=>y$[n]):e;class x${constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const r=this.regExpMap.get(n);if(r!==void 0)return r;const a=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,a),this.regExpQueue.push(n),a}}const b$=[" ",",","?","!",";"],j$=new x$(20),N$=(e,n,r)=>{n=n||"",r=r||"";const a=b$.filter(l=>n.indexOf(l)<0&&r.indexOf(l)<0);if(a.length===0)return!0;const s=j$.getRegExp(`(${a.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!s.test(e);if(!o){const l=e.indexOf(r);l>0&&!s.test(e.substring(0,l))&&(o=!0)}return o},Cj=(e,n,r=".")=>{if(!e)return;if(e[n])return Object.prototype.hasOwnProperty.call(e,n)?e[n]:void 0;const a=n.split(r);let s=e;for(let o=0;o<a.length;){if(!s||typeof s!="object")return;let l,u="";for(let d=o;d<a.length;++d)if(d!==o&&(u+=r),u+=a[d],l=s[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<a.length-1)continue;o+=d-o+1;break}s=l}return s},Gu=e=>e==null?void 0:e.replace("_","-"),w$={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,n){var r,a;(a=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||a.call(r,console,n)}};class Hm{constructor(n,r={}){this.init(n,r)}init(n,r={}){this.prefix=r.prefix||"i18next:",this.logger=n||w$,this.options=r,this.debug=r.debug}log(...n){return this.forward(n,"log","",!0)}warn(...n){return this.forward(n,"warn","",!0)}error(...n){return this.forward(n,"error","")}deprecate(...n){return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(n,r,a,s){return s&&!this.debug?null:(at(n[0])&&(n[0]=`${a}${this.prefix} ${n[0]}`),this.logger[r](n))}create(n){return new Hm(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Hm(this.logger,n)}}var Da=new Hm;let sp=class{constructor(){this.observers={}}on(n,r){return n.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const s=this.observers[a].get(r)||0;this.observers[a].set(r,s+1)}),this}off(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n].delete(r)}}emit(n,...r){this.observers[n]&&Array.from(this.observers[n].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let l=0;l<o;l++)s.apply(s,[n,...r])})}};class QT extends sp{constructor(n,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=n||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const r=this.options.ns.indexOf(n);r>-1&&this.options.ns.splice(r,1)}getResource(n,r,a,s={}){var h,f;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;n.indexOf(".")>-1?u=n.split("."):(u=[n,r],a&&(Array.isArray(a)?u.push(...a):at(a)&&o?u.push(...a.split(o)):u.push(a)));const d=Fm(this.data,u);return!d&&!r&&!a&&n.indexOf(".")>-1&&(n=u[0],r=u[1],a=u.slice(2).join(".")),d||!l||!at(a)?d:Cj((f=(h=this.data)==null?void 0:h[n])==null?void 0:f[r],a,o)}addResource(n,r,a,s,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let u=[n,r];a&&(u=u.concat(l?a.split(l):a)),n.indexOf(".")>-1&&(u=n.split("."),s=r,r=u[1]),this.addNamespaces(r),KT(this.data,u,s),o.silent||this.emit("added",n,r,a,s)}addResources(n,r,a,s={silent:!1}){for(const o in a)(at(a[o])||Array.isArray(a[o]))&&this.addResource(n,r,o,a[o],{silent:!0});s.silent||this.emit("added",n,r,a)}addResourceBundle(n,r,a,s,o,l={silent:!1,skipCopy:!1}){let u=[n,r];n.indexOf(".")>-1&&(u=n.split("."),s=a,a=r,r=u[1]),this.addNamespaces(r);let d=Fm(this.data,u)||{};l.skipCopy||(a=JSON.parse(JSON.stringify(a))),s?kM(d,a,o):d={...d,...a},KT(this.data,u,d),l.silent||this.emit("added",n,r,a)}removeResourceBundle(n,r){this.hasResourceBundle(n,r)&&delete this.data[n][r],this.removeNamespaces(r),this.emit("removed",n,r)}hasResourceBundle(n,r){return this.getResource(n,r)!==void 0}getResourceBundle(n,r){return r||(r=this.options.defaultNS),this.getResource(n,r)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const r=this.getDataByLanguage(n);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var OM={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,n,r,a,s){return e.forEach(o=>{var l;n=((l=this.processors[o])==null?void 0:l.process(n,r,a,s))??n}),n}};const XT={},JT=e=>!at(e)&&typeof e!="boolean"&&typeof e!="number";class zm extends sp{constructor(n,r={}){super(),m$(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Da.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n,r={interpolation:{}}){const a={...r};if(n==null)return!1;const s=this.resolve(n,a);return(s==null?void 0:s.res)!==void 0}extractFromKey(n,r){let a=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const l=a&&n.indexOf(a)>-1,u=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!N$(n,a,s);if(l&&!u){const d=n.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:n,namespaces:at(o)?[o]:o};const h=n.split(a);(a!==s||a===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),n=h.join(s)}return{key:n,namespaces:at(o)?[o]:o}}translate(n,r,a){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(n[n.length-1],s),h=d[d.length-1];let f=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const p=s.lng||this.language,y=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return y?o?{res:`${h}${f}${u}`,usedKey:u,exactUsedKey:u,usedLng:p,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${f}${u}`:o?{res:u,usedKey:u,exactUsedKey:u,usedLng:p,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:u;const b=this.resolve(n,s);let x=b==null?void 0:b.res;const j=(b==null?void 0:b.usedKey)||u,w=(b==null?void 0:b.exactUsedKey)||u,T=["[object Number]","[object Function]","[object RegExp]"],A=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,P=s.count!==void 0&&!at(s.count),S=zm.hasDefaultValue(s),E=P?this.pluralResolver.getSuffix(p,s.count,s):"",k=s.ordinal&&P?this.pluralResolver.getSuffix(p,s.count,{ordinal:!1}):"",D=P&&!s.ordinal&&s.count===0,_=D&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${k}`]||s.defaultValue;let U=x;O&&!x&&S&&(U=_);const R=JT(U),$=Object.prototype.toString.apply(U);if(O&&U&&R&&T.indexOf($)<0&&!(at(A)&&Array.isArray(U))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,U,{...s,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return o?(b.res=L,b.usedParams=this.getUsedParamsDetails(s),b):L}if(l){const L=Array.isArray(U),z=L?[]:{},W=L?w:j;for(const M in U)if(Object.prototype.hasOwnProperty.call(U,M)){const F=`${W}${l}${M}`;S&&!x?z[M]=this.translate(F,{...s,defaultValue:JT(_)?_[M]:void 0,joinArrays:!1,ns:d}):z[M]=this.translate(F,{...s,joinArrays:!1,ns:d}),z[M]===F&&(z[M]=U[M])}x=z}}else if(O&&at(A)&&Array.isArray(x))x=x.join(A),x&&(x=this.extendTranslation(x,n,s,a));else{let L=!1,z=!1;!this.isValidLookup(x)&&S&&(L=!0,x=_),this.isValidLookup(x)||(z=!0,x=u);const M=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:x,F=S&&_!==x&&this.options.updateMissing;if(z||L||F){if(this.logger.log(F?"updateKey":"missingKey",p,h,u,F?_:x),l){const q=this.resolve(u,{...s,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(let q=0;q<J.length;q++)G.push(J[q]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(s.lng||this.language):G.push(s.lng||this.language);const I=(q,B,H)=>{var ie;const K=S&&H!==x?H:M;this.options.missingKeyHandler?this.options.missingKeyHandler(q,h,B,K,F,s):(ie=this.backendConnector)!=null&&ie.saveMissing&&this.backendConnector.saveMissing(q,h,B,K,F,s),this.emit("missingKey",q,h,B,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?G.forEach(q=>{const B=this.pluralResolver.getSuffixes(q,s);D&&s[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(H=>{I([q],u+H,s[`defaultValue${H}`]||_)})}):I(G,u,_))}x=this.extendTranslation(x,n,s,b,a),z&&x===u&&this.options.appendNamespaceToMissingKey&&(x=`${h}${f}${u}`),(z||L)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${f}${u}`:u,L?x:void 0,s))}return o?(b.res=x,b.usedParams=this.getUsedParamsDetails(s),b):x}extendTranslation(n,r,a,s,o){var d,h;if((d=this.i18nFormat)!=null&&d.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const f=at(n)&&(((h=a==null?void 0:a.interpolation)==null?void 0:h.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const b=n.match(this.interpolator.nestingRegexp);p=b&&b.length}let y=a.replace&&!at(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),n=this.interpolator.interpolate(n,y,a.lng||this.language||s.usedLng,a),f){const b=n.match(this.interpolator.nestingRegexp),x=b&&b.length;p<x&&(a.nest=!1)}!a.lng&&s&&s.res&&(a.lng=this.language||s.usedLng),a.nest!==!1&&(n=this.interpolator.nest(n,(...b)=>(o==null?void 0:o[0])===b[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${r[0]}`),null):this.translate(...b,r),a)),a.interpolation&&this.interpolator.reset()}const l=a.postProcess||this.options.postProcess,u=at(l)?[l]:l;return n!=null&&(u!=null&&u.length)&&a.applyPostProcessor!==!1&&(n=OM.handle(u,n,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),n}resolve(n,r={}){let a,s,o,l,u;return at(n)&&(n=[n]),n.forEach(d=>{if(this.isValidLookup(a))return;const h=this.extractFromKey(d,r),f=h.key;s=f;let p=h.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const y=r.count!==void 0&&!at(r.count),b=y&&!r.ordinal&&r.count===0,x=r.context!==void 0&&(at(r.context)||typeof r.context=="number")&&r.context!=="",j=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);p.forEach(w=>{var T,A;this.isValidLookup(a)||(u=w,!XT[`${j[0]}-${w}`]&&((T=this.utils)!=null&&T.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(u))&&(XT[`${j[0]}-${w}`]=!0,this.logger.warn(`key "${s}" for languages "${j.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(O=>{var E;if(this.isValidLookup(a))return;l=O;const P=[f];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(P,f,O,w,r);else{let k;y&&(k=this.pluralResolver.getSuffix(O,r.count,r));const D=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(P.push(f+k),r.ordinal&&k.indexOf(_)===0&&P.push(f+k.replace(_,this.options.pluralSeparator)),b&&P.push(f+D)),x){const U=`${f}${this.options.contextSeparator}${r.context}`;P.push(U),y&&(P.push(U+k),r.ordinal&&k.indexOf(_)===0&&P.push(U+k.replace(_,this.options.pluralSeparator)),b&&P.push(U+D))}}let S;for(;S=P.pop();)this.isValidLookup(a)||(o=S,a=this.getResource(O,w,S,r))}))})}),{res:a,usedKey:s,exactUsedKey:o,usedLng:l,usedNS:u}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,r,a,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(n,r,a,s):this.resourceStore.getResource(n,r,a,s)}getUsedParamsDetails(n={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=n.replace&&!at(n.replace);let s=a?n.replace:n;if(a&&typeof n.count<"u"&&(s.count=n.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!a){s={...s};for(const o of r)delete s[o]}return s}static hasDefaultValue(n){const r="defaultValue";for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&r===a.substring(0,r.length)&&n[a]!==void 0)return!0;return!1}}class ZT{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Da.create("languageUtils")}getScriptPartFromCode(n){if(n=Gu(n),!n||n.indexOf("-")<0)return null;const r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(n){if(n=Gu(n),!n||n.indexOf("-")<0)return n;const r=n.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(n){if(at(n)&&n.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(n)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?n.toLowerCase():n)}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let r;return n.forEach(a=>{if(r)return;const s=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&n.forEach(a=>{if(r)return;const s=this.getScriptPartFromCode(a);if(this.isSupportedCode(s))return r=s;const o=this.getLanguagePartFromCode(a);if(this.isSupportedCode(o))return r=o;r=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),at(n)&&(n=[n]),Array.isArray(n))return n;if(!r)return n.default||[];let a=n[r];return a||(a=n[this.getScriptPartFromCode(r)]),a||(a=n[this.formatLanguageCode(r)]),a||(a=n[this.getLanguagePartFromCode(r)]),a||(a=n.default),a||[]}toResolveHierarchy(n,r){const a=this.getFallbackCodes(r||this.options.fallbackLng||[],n),s=[],o=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return at(n)&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):at(n)&&o(this.formatLanguageCode(n)),a.forEach(l=>{s.indexOf(l)<0&&o(this.formatLanguageCode(l))}),s}}const eA={zero:0,one:1,two:2,few:3,many:4,other:5},tA={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class S${constructor(n,r={}){this.languageUtils=n,this.options=r,this.logger=Da.create("pluralResolver"),this.pluralRulesCache={}}addRule(n,r){this.rules[n]=r}clearCache(){this.pluralRulesCache={}}getRule(n,r={}){const a=Gu(n==="dev"?"en":n),s=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:a,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(a,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),tA;if(!n.match(/-|_/))return tA;const d=this.languageUtils.getLanguagePartFromCode(n);l=this.getRule(d,r)}return this.pluralRulesCache[o]=l,l}needsPlural(n,r={}){let a=this.getRule(n,r);return a||(a=this.getRule("dev",r)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(n,r,a={}){return this.getSuffixes(n,a).map(s=>`${r}${s}`)}getSuffixes(n,r={}){let a=this.getRule(n,r);return a||(a=this.getRule("dev",r)),a?a.resolvedOptions().pluralCategories.sort((s,o)=>eA[s]-eA[o]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(n,r,a={}){const s=this.getRule(n,a);return s?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${n}`),this.getSuffix("dev",r,a))}}const nA=(e,n,r,a=".",s=!0)=>{let o=v$(e,n,r);return!o&&s&&at(r)&&(o=Cj(e,r,a),o===void 0&&(o=Cj(n,r,a))),o},ug=e=>e.replace(/\$/g,"$$$$");class E${constructor(n={}){var r;this.logger=Da.create("interpolator"),this.options=n,this.format=((r=n==null?void 0:n.interpolation)==null?void 0:r.format)||(a=>a),this.init(n)}init(n={}){n.interpolation||(n.interpolation={escapeValue:!0});const{escape:r,escapeValue:a,useRawValueToEscape:s,prefix:o,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:h,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:x,nestingSuffixEscaped:j,nestingOptionsSeparator:w,maxReplaces:T,alwaysFormat:A}=n.interpolation;this.escape=r!==void 0?r:g$,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?nl(o):l||"{{",this.suffix=u?nl(u):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=y?nl(y):b||nl("$t("),this.nestingSuffix=x?nl(x):j||nl(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=T||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(r,a)=>(r==null?void 0:r.source)===a?(r.lastIndex=0,r):new RegExp(a,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,r,a,s){var b;let o,l,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=x=>{if(x.indexOf(this.formatSeparator)<0){const A=nA(r,d,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,a,{...s,...r,interpolationkey:x}):A}const j=x.split(this.formatSeparator),w=j.shift().trim(),T=j.join(this.formatSeparator).trim();return this.format(nA(r,d,w,this.options.keySeparator,this.options.ignoreJSONStructure),T,a,{...s,...r,interpolationkey:w})};this.resetRegExp();const f=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((b=s==null?void 0:s.interpolation)==null?void 0:b.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>ug(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?ug(this.escape(x)):ug(x)}].forEach(x=>{for(u=0;o=x.regex.exec(n);){const j=o[1].trim();if(l=h(j),l===void 0)if(typeof f=="function"){const T=f(n,o,s);l=at(T)?T:""}else if(s&&Object.prototype.hasOwnProperty.call(s,j))l="";else if(p){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${n}`),l="";else!at(l)&&!this.useRawValueToEscape&&(l=VT(l));const w=x.safeValue(l);if(n=n.replace(o[0],w),p?(x.regex.lastIndex+=l.length,x.regex.lastIndex-=o[0].length):x.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),n}nest(n,r,a={}){let s,o,l;const u=(d,h)=>{const f=this.nestingOptionsSeparator;if(d.indexOf(f)<0)return d;const p=d.split(new RegExp(`${f}[ ]*{`));let y=`{${p[1]}`;d=p[0],y=this.interpolate(y,l);const b=y.match(/'/g),x=y.match(/"/g);(((b==null?void 0:b.length)??0)%2===0&&!x||x.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,j),`${d}${f}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(n);){let d=[];l={...a},l=l.replace&&!at(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const f=s[1].split(this.formatSeparator).map(p=>p.trim());s[1]=f.shift(),d=f,h=!0}if(o=r(u.call(this,s[1].trim(),l),l),o&&s[0]===n&&!at(o))return o;at(o)||(o=VT(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${n}`),o=""),h&&(o=d.reduce((f,p)=>this.format(f,p,a.lng,{...a,interpolationkey:s[1].trim()}),o.trim())),n=n.replace(s[0],o),this.regexp.lastIndex=0}return n}}const T$=e=>{let n=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const a=e.split("(");n=a[0].toLowerCase().trim();const s=a[1].substring(0,a[1].length-1);n==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):n==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(l=>{if(l){const[u,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),f=u.trim();r[f]||(r[f]=h),h==="false"&&(r[f]=!1),h==="true"&&(r[f]=!0),isNaN(h)||(r[f]=parseInt(h,10))}})}return{formatName:n,formatOptions:r}},rA=e=>{const n={};return(r,a,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const l=a+JSON.stringify(o);let u=n[l];return u||(u=e(Gu(a),s),n[l]=u),u(r)}},A$=e=>(n,r,a)=>e(Gu(r),a)(n);class C${constructor(n={}){this.logger=Da.create("formatter"),this.options=n,this.init(n)}init(n,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const a=r.cacheInBuiltFormats?rA:A$;this.formats={number:a((s,o)=>{const l=new Intl.NumberFormat(s,{...o});return u=>l.format(u)}),currency:a((s,o)=>{const l=new Intl.NumberFormat(s,{...o,style:"currency"});return u=>l.format(u)}),datetime:a((s,o)=>{const l=new Intl.DateTimeFormat(s,{...o});return u=>l.format(u)}),relativetime:a((s,o)=>{const l=new Intl.RelativeTimeFormat(s,{...o});return u=>l.format(u,o.range||"day")}),list:a((s,o)=>{const l=new Intl.ListFormat(s,{...o});return u=>l.format(u)})}}add(n,r){this.formats[n.toLowerCase().trim()]=r}addCached(n,r){this.formats[n.toLowerCase().trim()]=rA(r)}format(n,r,a,s={}){const o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(u=>u.indexOf(")")>-1)){const u=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,u)].join(this.formatSeparator)}return o.reduce((u,d)=>{var p;const{formatName:h,formatOptions:f}=T$(d);if(this.formats[h]){let y=u;try{const b=((p=s==null?void 0:s.formatParams)==null?void 0:p[s.interpolationkey])||{},x=b.locale||b.lng||s.locale||s.lng||a;y=this.formats[h](u,x,{...f,...s,...b})}catch(b){this.logger.warn(b)}return y}else this.logger.warn(`there was no format function for ${h}`);return u},n)}}const k$=(e,n)=>{e.pending[n]!==void 0&&(delete e.pending[n],e.pendingCount--)};class O$ extends sp{constructor(n,r,a,s={}){var o,l;super(),this.backend=n,this.store=r,this.services=a,this.languageUtils=a.languageUtils,this.options=s,this.logger=Da.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(l=(o=this.backend)==null?void 0:o.init)==null||l.call(o,a,s.backend,s)}queueLoad(n,r,a,s){const o={},l={},u={},d={};return n.forEach(h=>{let f=!0;r.forEach(p=>{const y=`${h}|${p}`;!a.reload&&this.store.hasResourceBundle(h,p)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,f=!1,l[y]===void 0&&(l[y]=!0),o[y]===void 0&&(o[y]=!0),d[p]===void 0&&(d[p]=!0)))}),f||(u[h]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(n,r,a){const s=n.split("|"),o=s[0],l=s[1];r&&this.emit("failedLoading",o,l,r),!r&&a&&this.store.addResourceBundle(o,l,a,void 0,void 0,{skipCopy:!0}),this.state[n]=r?-1:2,r&&a&&(this.state[n]=0);const u={};this.queue.forEach(d=>{p$(d.loaded,[o],l),k$(d,n),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{u[h]||(u[h]={});const f=d.loaded[h];f.length&&f.forEach(p=>{u[h][p]===void 0&&(u[h][p]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(n,r,a,s=0,o=this.retryTimeout,l){if(!n.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:r,fcName:a,tried:s,wait:o,callback:l});return}this.readingCalls++;const u=(h,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(h&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,n,r,a,s+1,o*2,l)},o);return}l(h,f)},d=this.backend[a].bind(this.backend);if(d.length===2){try{const h=d(n,r);h&&typeof h.then=="function"?h.then(f=>u(null,f)).catch(u):u(null,h)}catch(h){u(h)}return}return d(n,r,u)}prepareLoading(n,r,a={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();at(n)&&(n=this.languageUtils.toResolveHierarchy(n)),at(r)&&(r=[r]);const o=this.queueLoad(n,r,a,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(n,r,a){this.prepareLoading(n,r,{},a)}reload(n,r,a){this.prepareLoading(n,r,{reload:!0},a)}loadOne(n,r=""){const a=n.split("|"),s=a[0],o=a[1];this.read(s,o,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${r}loading namespace ${o} for language ${s} failed`,l),!l&&u&&this.logger.log(`${r}loaded namespace ${o} for language ${s}`,u),this.loaded(n,l,u)})}saveMissing(n,r,a,s,o,l={},u=()=>{}){var d,h,f,p,y;if((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace&&!((p=(f=this.services)==null?void 0:f.utils)!=null&&p.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${a}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((y=this.backend)!=null&&y.create){const b={...l,isUpdate:o},x=this.backend.create.bind(this.backend);if(x.length<6)try{let j;x.length===5?j=x(n,r,a,s,b):j=x(n,r,a,s),j&&typeof j.then=="function"?j.then(w=>u(null,w)).catch(u):u(null,j)}catch(j){u(j)}else x(n,r,a,s,u,b)}!n||!n[0]||this.store.addResource(n[0],r,a,s)}}}const aA=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let n={};if(typeof e[1]=="object"&&(n=e[1]),at(e[1])&&(n.defaultValue=e[1]),at(e[2])&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(a=>{n[a]=r[a]})}return n},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),sA=e=>{var n,r;return at(e.ns)&&(e.ns=[e.ns]),at(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),at(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(n=e.supportedLngs)==null?void 0:n.indexOf)==null?void 0:r.call(n,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},hm=()=>{},D$=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Ku extends sp{constructor(n={},r){if(super(),this.options=sA(n),this.services={},this.logger=Da,this.modules={external:[]},D$(this),r&&!this.isInitialized&&!n.isClone){if(!this.options.initAsync)return this.init(n,r),this;setTimeout(()=>{this.init(n,r)},0)}}init(n={},r){this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(at(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=aA();this.options={...a,...this.options,...sA(n)},this.options.interpolation={...a.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Da.init(s(this.modules.logger),this.options):Da.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=C$;const f=new ZT(this.options);this.store=new QT(this.options.resources,this.options);const p=this.services;p.logger=Da,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new S$(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(p.formatter=s(h),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new E$(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new O$(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(y,...b)=>{this.emit(y,...b)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new zm(this.services,this.options),this.translator.on("*",(y,...b)=>{this.emit(y,...b)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,r||(r=hm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...f)=>this.store[h](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...f)=>(this.store[h](...f),this)});const u=fu(),d=()=>{const h=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(p),r(f,p)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(n,r=hm){var o,l;let a=r;const s=at(n)?n:this.language;if(typeof n=="function"&&(a=n),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const u=[],d=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(p=>{p!=="cimode"&&u.indexOf(p)<0&&u.push(p)})};s?d(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>d(f)),(l=(o=this.options.preload)==null?void 0:o.forEach)==null||l.call(o,h=>d(h)),this.services.backendConnector.load(u,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(h)})}else a(null)}reloadResources(n,r,a){const s=fu();return typeof n=="function"&&(a=n,n=void 0),typeof r=="function"&&(a=r,r=void 0),n||(n=this.languages),r||(r=this.options.ns),a||(a=hm),this.services.backendConnector.reload(n,r,o=>{s.resolve(),a(o)}),s}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&OM.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1)){for(let r=0;r<this.languages.length;r++){const a=this.languages[r];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(n)<0&&this.store.hasLanguageSomeTranslations(n)&&(this.resolvedLanguage=n,this.languages.unshift(n))}}changeLanguage(n,r){this.isLanguageChangingTo=n;const a=fu();this.emit("languageChanging",n);const s=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,d)=>{d?this.isLanguageChangingTo===n&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,a.resolve((...h)=>this.t(...h)),r&&r(u,(...h)=>this.t(...h))},l=u=>{var f,p;!n&&!u&&this.services.languageDetector&&(u=[]);const d=at(u)?u:u&&u[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(at(u)?[u]:u);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),(p=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||p.call(f,h)),this.loadResources(h,y=>{o(y,h)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(n),a}getFixedT(n,r,a){const s=(o,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(u)):d={...l},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||a||s.keyPrefix);const h=this.options.keySeparator||".";let f;return d.keyPrefix&&Array.isArray(o)?f=o.map(p=>`${d.keyPrefix}${h}${p}`):f=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o,this.t(f,d)};return at(n)?s.lng=n:s.lngs=n,s.ns=r,s.keyPrefix=a,s}t(...n){var r;return(r=this.translator)==null?void 0:r.translate(...n)}exists(...n){var r;return(r=this.translator)==null?void 0:r.exists(...n)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const h=this.services.backendConnector.state[`${u}|${d}`];return h===-1||h===0||h===2};if(r.precheck){const u=r.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(a,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(a,n)&&(!s||l(o,n)))}loadNamespaces(n,r){const a=fu();return this.options.ns?(at(n)&&(n=[n]),n.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{a.resolve(),r&&r(s)}),a):(r&&r(),Promise.resolve())}loadLanguages(n,r){const a=fu();at(n)&&(n=[n]);const s=this.options.preload||[],o=n.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=s.concat(o),this.loadResources(l=>{a.resolve(),r&&r(l)}),a):(r&&r(),Promise.resolve())}dir(n){var s,o;if(n||(n=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!n)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((o=this.services)==null?void 0:o.languageUtils)||new ZT(aA());return r.indexOf(a.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(n={},r){return new Ku(n,r)}cloneInstance(n={},r=hm){const a=n.forkResourceStore;a&&delete n.forkResourceStore;const s={...this.options,...n,isClone:!0},o=new Ku(s);if((n.debug!==void 0||n.prefix!==void 0)&&(o.logger=o.logger.clone(n)),["store","services","language"].forEach(u=>{o[u]=this[u]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},a){const u=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((f,p)=>(f[p]={...d[h][p]},f),d[h]),d),{});o.store=new QT(u,s),o.services.resourceStore=o.store}return o.translator=new zm(o.services,s),o.translator.on("*",(u,...d)=>{o.emit(u,...d)}),o.init(s,r),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const In=Ku.createInstance();In.createInstance=Ku.createInstance;In.createInstance;In.dir;In.init;In.loadResources;In.reloadResources;In.use;In.changeLanguage;In.getFixedT;In.t;In.exists;In.setDefaultNamespace;In.hasLoadedNamespace;In.loadNamespaces;In.loadLanguages;const P$=(e,n,r,a)=>{var o,l,u,d;const s=[r,{code:n,...a||{}}];if((l=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&l.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Vi(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(d=(u=e==null?void 0:e.services)==null?void 0:u.logger)!=null&&d.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},iA={},kj=(e,n,r,a)=>{Vi(r)&&iA[r]||(Vi(r)&&(iA[r]=new Date),P$(e,n,r,a))},DM=(e,n)=>()=>{if(e.isInitialized)n();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),n()};e.on("initialized",r)}},Oj=(e,n,r)=>{e.loadNamespaces(n,DM(e,r))},oA=(e,n,r,a)=>{if(Vi(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(n)>-1)return Oj(e,r,a);r.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(n,DM(e,a))},M$=(e,n,r={})=>!n.languages||!n.languages.length?(kj(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(e,{lng:r.lng,precheck:(a,s)=>{var o;if(((o=r.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!s(a.isLanguageChangingTo,e))return!1}}),Vi=e=>typeof e=="string",_$=e=>typeof e=="object"&&e!==null,I$=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,R$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},q$=e=>R$[e],L$=e=>e.replace(I$,q$);let Dj={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:L$};const $$=(e={})=>{Dj={...Dj,...e}},B$=()=>Dj;let PM;const U$=e=>{PM=e},F$=()=>PM,H$={type:"3rdParty",init(e){$$(e.options.react),U$(e)}},z$=g.createContext();class W${constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const V$=(e,n)=>{const r=g.useRef();return g.useEffect(()=>{r.current=e},[e,n]),r.current},MM=(e,n,r,a)=>e.getFixedT(n,r,a),Y$=(e,n,r,a)=>g.useCallback(MM(e,n,r,a),[e,n,r,a]),ln=(e,n={})=>{var P,S,E,k;const{i18n:r}=n,{i18n:a,defaultNS:s}=g.useContext(z$)||{},o=r||a||F$();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new W$),!o){kj(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const D=(U,R)=>Vi(R)?R:_$(R)&&Vi(R.defaultValue)?R.defaultValue:Array.isArray(U)?U[U.length-1]:U,_=[D,{},!1];return _.t=D,_.i18n={},_.ready=!1,_}(P=o.options.react)!=null&&P.wait&&kj(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...B$(),...o.options.react,...n},{useSuspense:u,keyPrefix:d}=l;let h=s||((S=o.options)==null?void 0:S.defaultNS);h=Vi(h)?[h]:h||["translation"],(k=(E=o.reportNamespaces).addUsedNamespaces)==null||k.call(E,h);const f=(o.isInitialized||o.initializedStoreOnce)&&h.every(D=>M$(D,o,l)),p=Y$(o,n.lng||null,l.nsMode==="fallback"?h:h[0],d),y=()=>p,b=()=>MM(o,n.lng||null,l.nsMode==="fallback"?h:h[0],d),[x,j]=g.useState(y);let w=h.join();n.lng&&(w=`${n.lng}${w}`);const T=V$(w),A=g.useRef(!0);g.useEffect(()=>{const{bindI18n:D,bindI18nStore:_}=l;A.current=!0,!f&&!u&&(n.lng?oA(o,n.lng,h,()=>{A.current&&j(b)}):Oj(o,h,()=>{A.current&&j(b)})),f&&T&&T!==w&&A.current&&j(b);const U=()=>{A.current&&j(b)};return D&&(o==null||o.on(D,U)),_&&(o==null||o.store.on(_,U)),()=>{A.current=!1,o&&(D==null||D.split(" ").forEach(R=>o.off(R,U))),_&&o&&_.split(" ").forEach(R=>o.store.off(R,U))}},[o,w]),g.useEffect(()=>{A.current&&f&&j(y)},[o,d,f]);const O=[x,o,f];if(O.t=x,O.i18n=o,O.ready=f,f||!f&&!u)return O;throw new Promise(D=>{n.lng?oA(o,n.lng,h,()=>D()):Oj(o,h,()=>D())})},{slice:G$,forEach:K$}=[];function Q$(e){return K$.call(G$.call(arguments,1),n=>{if(n)for(const r in n)e[r]===void 0&&(e[r]=n[r])}),e}function X$(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const lA=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,J$=function(e,n){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(n);let o=`${e}=${s}`;if(a.maxAge>0){const l=a.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(a.domain){if(!lA.test(a.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${a.domain}`}if(a.path){if(!lA.test(a.path))throw new TypeError("option path is invalid");o+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(o+="; HttpOnly"),a.secure&&(o+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(o+="; Partitioned"),o},cA={create(e,n,r,a){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),a&&(s.domain=a),document.cookie=J$(e,encodeURIComponent(n),s)},read(e){const n=`${e}=`,r=document.cookie.split(";");for(let a=0;a<r.length;a++){let s=r[a];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null},remove(e){this.create(e,"",-1)}};var Z$={name:"cookie",lookup(e){let{lookupCookie:n}=e;if(n&&typeof document<"u")return cA.read(n)||void 0},cacheUserLanguage(e,n){let{lookupCookie:r,cookieMinutes:a,cookieDomain:s,cookieOptions:o}=n;r&&typeof document<"u"&&cA.create(r,e,a,s,o)}},e7={name:"querystring",lookup(e){var a;let{lookupQuerystring:n}=e,r;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const l=s.substring(1).split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===n&&(r=l[u].substring(d+1))}}return r}};let rl=null;const uA=()=>{if(rl!==null)return rl;try{if(rl=typeof window<"u"&&window.localStorage!==null,!rl)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{rl=!1}return rl};var t7={name:"localStorage",lookup(e){let{lookupLocalStorage:n}=e;if(n&&uA())return window.localStorage.getItem(n)||void 0},cacheUserLanguage(e,n){let{lookupLocalStorage:r}=n;r&&uA()&&window.localStorage.setItem(r,e)}};let al=null;const dA=()=>{if(al!==null)return al;try{if(al=typeof window<"u"&&window.sessionStorage!==null,!al)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{al=!1}return al};var n7={name:"sessionStorage",lookup(e){let{lookupSessionStorage:n}=e;if(n&&dA())return window.sessionStorage.getItem(n)||void 0},cacheUserLanguage(e,n){let{lookupSessionStorage:r}=n;r&&dA()&&window.sessionStorage.setItem(r,e)}},r7={name:"navigator",lookup(e){const n=[];if(typeof navigator<"u"){const{languages:r,userLanguage:a,language:s}=navigator;if(r)for(let o=0;o<r.length;o++)n.push(r[o]);a&&n.push(a),s&&n.push(s)}return n.length>0?n:void 0}},a7={name:"htmlTag",lookup(e){let{htmlTag:n}=e,r;const a=n||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(r=a.getAttribute("lang")),r}},s7={name:"path",lookup(e){var s;let{lookupFromPathIndex:n}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(s=r[typeof n=="number"?n:0])==null?void 0:s.replace("/",""):void 0}},i7={name:"subdomain",lookup(e){var s,o;let{lookupFromSubdomainIndex:n}=e;const r=typeof n=="number"?n+1:1,a=typeof window<"u"&&((o=(s=window.location)==null?void 0:s.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[r]}};let _M=!1;try{document.cookie,_M=!0}catch{}const IM=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];_M||IM.splice(1,1);const o7=()=>({order:IM,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class RM{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(n,r)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=Q$(r,this.options||{},o7()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(Z$),this.addDetector(e7),this.addDetector(t7),this.addDetector(n7),this.addDetector(r7),this.addDetector(a7),this.addDetector(s7),this.addDetector(i7)}addDetector(n){return this.detectors[n.name]=n,this}detect(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return n.forEach(a=>{if(this.detectors[a]){let s=this.detectors[a].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.filter(a=>a!=null&&!X$(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(n,this.options)}))}}RM.type="languageDetector";function Pj(e){"@babel/helpers - typeof";return Pj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pj(e)}function qM(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Pj(XMLHttpRequest))==="object"}function l7(e){return!!e&&typeof e.then=="function"}function c7(e){return l7(e)?e:Promise.resolve(e)}const u7="modulepreload",d7=function(e){return"/"+e},hA={},h7=function(n,r,a){let s=Promise.resolve();if(r&&r.length>0){let l=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(r.map(h=>{if(h=d7(h),h in hA)return;hA[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":u7,f||(y.as="script"),y.crossOrigin="",y.href=h,d&&y.setAttribute("nonce",d),document.head.appendChild(y),f)return new Promise((b,x)=>{y.addEventListener("load",b),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return n().catch(o)})};function mA(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fA(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?mA(Object(r),!0).forEach(function(a){m7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function m7(e,n,r){return(n=f7(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f7(e){var n=p7(e,"string");return Ji(n)=="symbol"?n:n+""}function p7(e,n){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ji(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ji(e)}var ai=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ai=global.fetch:typeof window<"u"&&window.fetch&&(ai=window.fetch);var Qu;qM()&&(typeof global<"u"&&global.XMLHttpRequest?Qu=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Qu=window.XMLHttpRequest));var Wm;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Wm=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Wm=window.ActiveXObject));typeof ai!="function"&&(ai=void 0);if(!ai&&!Qu&&!Wm)try{h7(()=>import("./browser-ponyfill-DkVAi9kr.js").then(e=>e.b),[]).then(function(e){ai=e.default}).catch(function(){})}catch{}var Mj=function(n,r){if(r&&Ji(r)==="object"){var a="";for(var s in r)a+="&"+encodeURIComponent(s)+"="+encodeURIComponent(r[s]);if(!a)return n;n=n+(n.indexOf("?")!==-1?"&":"?")+a.slice(1)}return n},pA=function(n,r,a,s){var o=function(d){if(!d.ok)return a(d.statusText||"Error",{status:d.status});d.text().then(function(h){a(null,{status:d.status,data:h})}).catch(a)};if(s){var l=s(n,r);if(l instanceof Promise){l.then(o).catch(a);return}}typeof fetch=="function"?fetch(n,r).then(o).catch(a):ai(n,r).then(o).catch(a)},vA=!1,v7=function(n,r,a,s){n.queryStringParams&&(r=Mj(r,n.queryStringParams));var o=fA({},typeof n.customHeaders=="function"?n.customHeaders():n.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),a&&(o["Content-Type"]="application/json");var l=typeof n.requestOptions=="function"?n.requestOptions(a):n.requestOptions,u=fA({method:a?"POST":"GET",body:a?n.stringify(a):void 0,headers:o},vA?{}:l),d=typeof n.alternateFetch=="function"&&n.alternateFetch.length>=1?n.alternateFetch:void 0;try{pA(r,u,s,d)}catch(h){if(!l||Object.keys(l).length===0||!h.message||h.message.indexOf("not implemented")<0)return s(h);try{Object.keys(l).forEach(function(f){delete u[f]}),pA(r,u,s,d),vA=!0}catch(f){s(f)}}},y7=function(n,r,a,s){a&&Ji(a)==="object"&&(a=Mj("",a).slice(1)),n.queryStringParams&&(r=Mj(r,n.queryStringParams));try{var o=Qu?new Qu:new Wm("MSXML2.XMLHTTP.3.0");o.open(a?"POST":"GET",r,1),n.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var l=n.customHeaders;if(l=typeof l=="function"?l():l,l)for(var u in l)o.setRequestHeader(u,l[u]);o.onreadystatechange=function(){o.readyState>3&&s(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(a)}catch(d){console&&console.log(d)}},g7=function(n,r,a,s){if(typeof a=="function"&&(s=a,a=void 0),s=s||function(){},ai&&r.indexOf("file:")!==0)return v7(n,r,a,s);if(qM()||typeof ActiveXObject=="function")return y7(n,r,a,s);s(new Error("No fetch and no xhr implementation found!"))};function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},El(e)}function yA(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dg(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?yA(Object(r),!0).forEach(function(a){LM(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function x7(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function b7(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$M(a.key),a)}}function j7(e,n,r){return n&&b7(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LM(e,n,r){return(n=$M(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function $M(e){var n=N7(e,"string");return El(n)=="symbol"?n:n+""}function N7(e,n){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(El(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var w7=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,a,s){return LM({},a,s||"")},parseLoadPayload:function(r,a){},request:g7,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},BM=function(){function e(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};x7(this,e),this.services=n,this.options=r,this.allOptions=a,this.type="backend",this.init(n,r,a)}return j7(e,[{key:"init",value:function(r){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=dg(dg(dg({},w7()),this.options||{}),s),this.allOptions=o,this.services&&this.options.reloadInterval){var l=setInterval(function(){return a.reload()},this.options.reloadInterval);El(l)==="object"&&typeof l.unref=="function"&&l.unref()}}},{key:"readMulti",value:function(r,a,s){this._readAny(r,r,a,a,s)}},{key:"read",value:function(r,a,s){this._readAny([r],r,[a],a,s)}},{key:"_readAny",value:function(r,a,s,o,l){var u=this,d=this.options.loadPath;typeof this.options.loadPath=="function"&&(d=this.options.loadPath(r,s)),d=c7(d),d.then(function(h){if(!h)return l(null,{});var f=u.services.interpolator.interpolate(h,{lng:r.join("+"),ns:s.join("+")});u.loadUrl(f,l,a,o)})}},{key:"loadUrl",value:function(r,a,s,o){var l=this,u=typeof s=="string"?[s]:s,d=typeof o=="string"?[o]:o,h=this.options.parseLoadPayload(u,d);this.options.request(this.options,r,h,function(f,p){if(p&&(p.status>=500&&p.status<600||!p.status))return a("failed loading "+r+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return a("failed loading "+r+"; status code: "+p.status,!1);if(!p&&f&&f.message){var y=f.message.toLowerCase(),b=["failed","fetch","network","load"].find(function(w){return y.indexOf(w)>-1});if(b)return a("failed loading "+r+": "+f.message,!0)}if(f)return a(f,!1);var x,j;try{typeof p.data=="string"?x=l.options.parse(p.data,s,o):x=p.data}catch{j="failed parsing "+r+" to json"}if(j)return a(j,!1);a(null,x)})}},{key:"create",value:function(r,a,s,o,l){var u=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var d=this.options.parsePayload(a,s,o),h=0,f=[],p=[];r.forEach(function(y){var b=u.options.addPath;typeof u.options.addPath=="function"&&(b=u.options.addPath(y,a));var x=u.services.interpolator.interpolate(b,{lng:y,ns:a});u.options.request(u.options,x,d,function(j,w){h+=1,f.push(j),p.push(w),h===r.length&&typeof l=="function"&&l(f,p)})})}}},{key:"reload",value:function(){var r=this,a=this.services,s=a.backendConnector,o=a.languageUtils,l=a.logger,u=s.language;if(!(u&&u.toLowerCase()==="cimode")){var d=[],h=function(p){var y=o.toResolveHierarchy(p);y.forEach(function(b){d.indexOf(b)<0&&d.push(b)})};h(u),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return h(f)}),d.forEach(function(f){r.allOptions.ns.forEach(function(p){s.read(f,p,"read",null,null,function(y,b){y&&l.warn("loading namespace ".concat(p," for language ").concat(f," failed"),y),!y&&b&&l.log("loaded namespace ".concat(p," for language ").concat(f),b),s.loaded("".concat(f,"|").concat(p),y,b)})})})}}}])}();BM.type="backend";const S7={common:{dashboard:"Dashboard",admin:"Admin",logout:"Logout",welcome:"Welcome",loading:"Loading...",noData:"No data available",error:"An error occurred",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",confirm:"Confirm",notification:"Notification",details:"Details",uploadPhoto:"Upload Photo",editPhoto:"Edit Photo",type:"Type",model:"Model",status:"Status",action:"Action",name:"Name",mobileNumber:"Mobile Number",category:"Category"},auth:{login:"Login",username:"Username",password:"Password",forgotPassword:"Forgot Password?",loginButton:"Log In",loginFailed:"Login failed. Please check your credentials.",sessionExpired:"Session expired, please login again",enterUsername:"@username",enterPassword:"Enter your password"},admin:{userManagement:"User Management",usersList:"Users List",userDetails:"User Details",addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",firstName:"First Name",lastName:"Last Name",role:"Role",actions:"Actions",confirmDelete:"Are you sure you want to delete this user?",userDeleted:"User deleted successfully",userSaved:"User saved successfully",userStats:"User Statistics",userRoleDistribution:"User Role Distribution",totalUsers:"Total Users"},roles:{ADMIN:"Administrator",USER:"User",SITE_ADMIN:"Site Admin",PROCUREMENT:"Procurement",WAREHOUSE_MANAGER:"Warehouse Manager",SECRETARY:"Secretary",EQUIPMENT_MANAGER:"Equipment Manager",HR_MANAGER:"HR Manager",HR_EMPLOYEE:"HR Employee",FINANCE_EMPLOYEE:"Finance Employee",FINANCE_MANAGER:"Finance Manager"},hr:{dashboard:{title:"HR Dashboard",salaryStatistics:"Salary Statistics",employeeDistribution:"Employee Distribution",averageSalary:"Average Salary",totalSalary:"Total Salary",employeeCount:"Employee Count",totalBonuses:"Total Bonuses",totalCommissions:"Total Commissions",departmentSalaries:"Department Salaries",monthlySalaries:"Monthly Salary Totals",employeesByPosition:"Employees by Position",employees:"Employees",department:"Department",position:"Position",employmentType:"Employment Type",departments:"Departments",positions:"Positions",employmentTypes:"Employment Types",allSites:"All Sites"},employees:"Employees",vacancies:"Vacancies",candidates:"Candidates",positions:"Positions",tasks:"Tasks",contractType:"Contract Type",employeeName:"Employee Name"},site:{site:"Site",siteManagement:"Site Management",siteList:"Site List",siteDetails:"Site Details",addSite:"Add Site",editSite:"Edit Site",deleteSite:"Delete Site",siteName:"Site Name",siteLocation:"Site Location",siteManager:"Site Manager",confirmDelete:"Are you sure you want to delete this site?",siteSaved:"Site saved successfully",siteDeleted:"Site deleted successfully",efficiency:"Efficiency",companyAddress:"Company Address",physicalAddress:"Physical Address",creationDate:"Creation Date",partners:"Partners",selectPartners:"Select Partners",noPartnersAvailable:"No Partners Available",siteEquipmentReport:"Site Equipment Report",assignEquipment:"Assign Equipment",noEquipmentAvailable:"No available equipment to assign",assign:"Assign",loadingEquipment:"Loading Equipment...",loadingEmployees:"Loading Employees...",siteEmployeesReport:"Site Employees Report",assignEmployee:"Assign Employee",noEmployeesAvailable:"No available employees to assign",unassign:"Unassign",loadingWarehouses:"Loading Warehouses...",siteWarehousesReport:"Site Warehouses Report",assignWarehouse:"Assign Warehouse",noWarehousesAvailable:"No available warehouses to assign",noRecordsFound:"No Records Found",loadingFixedAssets:"Loading Fixed Assets...",siteFixedAssetsReport:"Site Fixed Assets Report",loadingMerchants:"Loading Merchants...",siteMerchantsReport:"Site Merchants Report",assignFixedAsset:"Assign Fixed Asset",noFixedAssetsAvailable:"No Available Fixed Assets"},equipment:{equipment:"Equipment",equipmentType:"Equipment Type",modelNumber:"Model Number",driverName:"Driver Name",manufactureDate:"Manufacture Date",purchaseDate:"Purchase Date"},warehouse:{warehouses:"Warehouses",capacity:"Capacity"},fixedAssets:{fixedAssets:"Fixed Assets",areaOrQuantity:"Area/Quantity"},merchants:{merchants:"Merchants",merchantName:"Merchant Name",merchantType:"Merchant Type",totalSales:"Total Sales"}},E7={common:{dashboard:" ",admin:"",logout:" ",welcome:"",loading:" ...",noData:"   ",error:" ",save:"",cancel:"",delete:"",edit:"",confirm:"",notification:"",details:"",uploadPhoto:" ",editPhoto:" ",type:"",model:"",status:"",action:"",name:"",mobileNumber:" ",category:""},auth:{login:" ",username:" ",password:" ",forgotPassword:"  ",loginButton:" ",loginFailed:"  .       .",sessionExpired:"      ",enterUsername:"    ",enterPassword:"    "},admin:{userManagement:" ",usersList:" ",userDetails:" ",addUser:" ",editUser:" ",deleteUser:" ",firstName:" ",lastName:" ",role:"",actions:"",confirmDelete:"       ",userDeleted:"   ",userSaved:"   ",userStats:" ",userRoleDistribution:"  ",totalUsers:" "},roles:{ADMIN:"",USER:"",SITE_ADMIN:" ",PROCUREMENT:"",WAREHOUSE_MANAGER:" ",SECRETARY:"",EQUIPMENT_MANAGER:" ",HR_MANAGER:"  ",HR_EMPLOYEE:"  ",FINANCE_EMPLOYEE:" ",FINANCE_MANAGER:" "},site:{site:"",siteManagement:" ",siteList:" ",siteDetails:" ",addSite:" ",editSite:" ",deleteSite:" ",siteName:" ",siteLocation:" ",siteManager:" ",confirmDelete:"       ",siteSaved:"   ",siteDeleted:"   ",efficiency:"",companyAddress:" ",physicalAddress:" ",creationDate:" ",partners:"",selectPartners:" ",noPartnersAvailable:"   ",siteEquipmentReport:"  ",assignEquipment:" ",noEquipmentAvailable:"    ",assign:"",loadingEquipment:"  ...",loadingEmployees:"  ...",siteEmployeesReport:"  ",assignEmployee:" ",noEmployeesAvailable:"    ",unassign:" ",loadingWarehouses:"  ...",siteWarehousesReport:"  ",assignWarehouse:" ",noWarehousesAvailable:"    ",noRecordsFound:"    ",loadingFixedAssets:"   ...",siteFixedAssetsReport:"   ",loadingMerchants:"  ...",siteMerchantsReport:"  ",assignFixedAsset:"  ",noFixedAssetsAvailable:"    "},hr:{dashboard:{title:"   ",salaryStatistics:" ",employeeDistribution:" ",averageSalary:" ",totalSalary:" ",employeeCount:" ",totalBonuses:" ",totalCommissions:" ",departmentSalaries:" ",monthlySalaries:"  ",employeesByPosition:"  ",employees:"",department:"",position:"",employmentType:" ",departments:"",positions:"",employmentTypes:" ",allSites:" "},employees:"",vacancies:" ",candidates:"",positions:"",tasks:"",contractType:" ",employeeName:" "},equipment:{equipment:"",equipmentType:" ",modelNumber:" ",driverName:" ",manufactureDate:" ",purchaseDate:" "},warehouse:{warehouses:"",capacity:""},fixedAssets:{fixedAssets:" ",areaOrQuantity:"/"},merchants:{merchants:"",merchantName:" ",merchantType:" ",totalSales:" "}};In.use(BM).use(RM).use(H$).init({resources:{en:{translation:S7},ar:{translation:E7}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},react:{useSuspense:!0},detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18nextLng",caches:["localStorage"]}});const UM=e=>{e==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar",document.body.classList.add("rtl")):(document.documentElement.dir="ltr",document.documentElement.lang="en",document.body.classList.remove("rtl"))},T7=e=>(In.changeLanguage(e),UM(e),e);UM(In.language);const FM=g.createContext(null),A7=({children:e})=>{const[n,r]=g.useState(localStorage.getItem("i18nextLng")||"en"),a=s=>{T7(s),r(s),localStorage.setItem("i18nextLng",s),s==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar",document.body.classList.add("rtl")):(document.documentElement.dir="ltr",document.documentElement.lang="en",document.body.classList.remove("rtl"))};return g.useEffect(()=>{n==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar",document.body.classList.add("rtl")):(document.documentElement.dir="ltr",document.documentElement.lang="en",document.body.classList.remove("rtl"))},[]),t.jsx(FM.Provider,{value:{language:n,switchLanguage:a},children:e})},C7=()=>{const e=g.useContext(FM);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},HM=g.createContext({theme:"light",toggleTheme:()=>{}}),k7=({children:e})=>{const[n,r]=g.useState("light"),[a,s]=g.useState(!1);g.useEffect(()=>{const u=localStorage.getItem("theme"),d=window.matchMedia("(prefers-color-scheme: dark)").matches,h=u||(d?"dark":"light");r(h),o(h),s(!0);const f=window.matchMedia("(prefers-color-scheme: dark)"),p=y=>{const b=y.matches?"dark":"light";localStorage.getItem("theme")||(r(b),o(b))};return f.addEventListener?(f.addEventListener("change",p),()=>f.removeEventListener("change",p)):(f.addListener(p),()=>f.removeListener(p))},[]);const o=u=>{document.documentElement.setAttribute("data-theme",u),u==="dark"?(document.documentElement.classList.add("dark-mode"),document.documentElement.classList.remove("light-mode")):(document.documentElement.classList.add("light-mode"),document.documentElement.classList.remove("dark-mode"));const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",u==="dark"?"#1e1e1e":"#f9f9f9"),console.log("Theme changed to:",u)},l=()=>{const u=n==="light"?"dark":"light";r(u),o(u),localStorage.setItem("theme",u)};return t.jsx(HM.Provider,{value:{theme:n,toggleTheme:l,isLoaded:a},children:e})},AN=()=>{const e=g.useContext(HM);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},zM=g.createContext(null),O7=({children:e})=>{const[n,r]=g.useState(null),[a,s]=g.useState(localStorage.getItem("token")||null),[o,l]=g.useState(!!a),[u,d]=g.useState(!0),{t:h}=ln(),f=x=>{if(!x)return!0;try{const j=x.split(".")[1],w=JSON.parse(atob(j));return w.exp?w.exp*1e3<Date.now():!1}catch(j){return console.error("Error checking token expiration:",j),!0}},p=async(x,j)=>{try{const w=await fetch("http://localhost:8080/api/v1/auth/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x,password:j})});if(!w.ok){const D=await w.json().catch(()=>({}));throw new Error(D.message||h("auth.loginFailed"))}const T=await w.json(),{token:A,role:O,firstName:P,lastName:S,username:E}=T;localStorage.setItem("token",A);const k={role:O,firstName:P,lastName:S,username:E};return localStorage.setItem("userInfo",JSON.stringify(k)),s(A),r(k),l(!0),d(!1),T}catch(w){throw console.error("Login error:",w),w}},y=()=>{localStorage.removeItem("token"),localStorage.removeItem("userInfo"),s(null),r(null),l(!1)};g.useEffect(()=>{const x=localStorage.getItem("token"),j=localStorage.getItem("userInfo");if(x)if(f(x))y();else{if(s(x),j)try{const w=JSON.parse(j);r(w)}catch(w){console.error("Error parsing stored user info:",w)}l(!0)}d(!1)},[]),g.useEffect(()=>{if(a&&o){const x=setInterval(()=>{f(a)&&(clearInterval(x),y())},6e4);return()=>clearInterval(x)}},[a,o]);const b={currentUser:n,token:a,isAuthenticated:o,loading:u,login:p,logout:y,isTokenExpired:f};return t.jsx(zM.Provider,{value:b,children:e})},Xt=()=>{const e=g.useContext(zM);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},D7=()=>{const[e,n]=g.useState(""),[r,a]=g.useState(""),[s,o]=g.useState(!1),[l,u]=g.useState(""),[d,h]=g.useState(!1),{login:f}=Xt(),p=Tt(),y=async b=>{b.preventDefault(),u(""),o(!0);try{const x=await f(e,r);console.log("[LoginPage] Login successful:",x),x.role==="ADMIN"?(console.log("[LoginPage] Redirecting to admin page"),p("/admin")):(console.log("[LoginPage] Redirecting to dashboard"),p("/dashboard"))}catch(x){u(x.message||"Failed to login. Please check your credentials."),console.error("[LoginPage] Login error:",x)}finally{o(!1)}};return t.jsx("div",{className:"rockops-login__container",children:t.jsxs("div",{className:"rockops-login__card",children:[t.jsxs("div",{className:"rockops-login__header",children:[t.jsx("h2",{className:"rockops-login__title",children:"Login to Account"}),t.jsx("p",{className:"rockops-login__subtitle",children:"Please enter your username and password to continue"})]}),l&&t.jsx("div",{className:"rockops-login__error",children:l}),t.jsxs("form",{onSubmit:y,children:[t.jsxs("div",{className:"rockops-login__form-group",children:[t.jsx("label",{className:"rockops-login__label",htmlFor:"username",children:"Username"}),t.jsx("input",{id:"username",type:"text",className:"rockops-login__input",placeholder:"@username",value:e,onChange:b=>n(b.target.value),required:!0})]}),t.jsxs("div",{className:"rockops-login__form-group",children:[t.jsx("div",{className:"rockops-login__password-header",children:t.jsx("label",{className:"rockops-login__label",htmlFor:"password",children:"Password"})}),t.jsx("input",{id:"password",type:"password",className:"rockops-login__input",value:r,onChange:b=>a(b.target.value),required:!0}),t.jsx("a",{href:"#",className:"rockops-login__forgot-link",children:"Forgot Password?"})]}),t.jsxs("div",{className:"rockops-login__remember",children:[t.jsx("input",{id:"remember",type:"checkbox",className:"rockops-login__checkbox",checked:d,onChange:b=>h(b.target.checked)}),t.jsx("label",{htmlFor:"remember",className:"rockops-login__remember-label",children:"Remember Password"})]}),t.jsx("button",{type:"submit",className:"rockops-login__button",disabled:s,children:s?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"rockops-login__spinner"}),"Signing in..."]}):"Sign In"})]}),t.jsxs("div",{className:"rockops-login__signup",children:[t.jsx("span",{children:"Don't have an account? "}),t.jsx("a",{href:"/register",className:"rockops-login__signup-link",children:"Create Account"})]})]})})};var WM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gA=le.createContext&&le.createContext(WM),P7=["attr","size","title"];function M7(e,n){if(e==null)return{};var r=_7(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _7(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vm.apply(this,arguments)}function xA(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ym(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?xA(Object(r),!0).forEach(function(a){I7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function I7(e,n,r){return n=R7(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function R7(e){var n=q7(e,"string");return typeof n=="symbol"?n:n+""}function q7(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function VM(e){return e&&e.map((n,r)=>le.createElement(n.tag,Ym({key:r},n.attr),VM(n.child)))}function Ue(e){return n=>le.createElement(L7,Vm({attr:Ym({},e.attr)},n),VM(e.child))}function L7(e){var n=r=>{var{attr:a,size:s,title:o}=e,l=M7(e,P7),u=s||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),le.createElement("svg",Vm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,l,{className:d,style:Ym(Ym({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&le.createElement("title",null,o),e.children)};return gA!==void 0?le.createElement(gA.Consumer,null,r=>n(r)):n(WM)}function $7(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function bA(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function YM(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function B7(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function GM(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function Gm(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function KM(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function hg(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"},child:[]}]})(e)}function U7(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function F7(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function H7(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function z7(e){return Ue({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function jA(e){return Ue({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function W7(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(e)}function V7(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Y7(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(e)}function ga(e){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function G7(e){return Ue({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function os(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function K7(e){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Q7(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function X7(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function J7(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(e)}function Z7(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function NA(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(e)}function QM(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function e9(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function wA(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function _j(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function t9(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function n9(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64z"},child:[]}]})(e)}function r9(e){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function qi(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function a9(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function XM(e){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function s9(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function i9(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function Tl(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ij(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function CN(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function o9(e){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function JM(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function l9(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function c9(e){return Ue({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(e)}function u9(e){return Ue({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(e)}function d9(e){return Ue({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(e)}function h9(e){return Ue({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function m9(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function f9(e){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function SA(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function p9(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Zi(e){return Ue({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Km(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function kN(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Ua(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function EA(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function ZM(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function v9(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function y9(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function e_(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Rj(e){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Qm(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function t_(e){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M504 352H136.4c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 96H136.1c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0-192H136.6c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm106.5-139L338.4 3.7a48.15 48.15 0 0 0-36.9 0L29.5 117C11.7 124.5 0 141.9 0 161.3V504c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V256c0-17.6 14.6-32 32.6-32h382.8c18 0 32.6 14.4 32.6 32v248c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V161.3c0-19.4-11.7-36.8-29.5-44.3z"},child:[]}]})(e)}function g9(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}const x9="/assets/Logo-dark-9b-0A9nd.png",b9="/assets/Logo-Bv3kgcCP.png",n_=g.createContext(),j9=()=>{const e=g.useContext(n_);if(!e)throw new Error("useSidebar must be used within a SidebarProvider");return e},N9=({children:e})=>{const{theme:n}=AN(),[r,a]=g.useState(!0),[s,o]=g.useState(!1);g.useEffect(()=>{const u=()=>{const d=window.innerWidth<768;o(d),a(!d)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const l=()=>{a(!r)};return g.useEffect(()=>(r&&!s?document.body.classList.remove("sidebar-collapsed"):document.body.classList.add("sidebar-collapsed"),()=>{document.body.classList.remove("sidebar-collapsed")}),[r,s]),t.jsx(n_.Provider,{value:{isExpanded:r,setIsExpanded:a,isMobile:s,toggleSidebar:l},children:e})},w9=()=>{const{currentUser:e,logout:n}=Xt(),{theme:r,toggleTheme:a}=AN(),{t:s}=ln(),o=Ba(),l=Tt(),{isExpanded:u,setIsExpanded:d,isMobile:h,toggleSidebar:f}=j9(),[p,y]=g.useState({}),[b,x]=g.useState(["/login"]),j=(e==null?void 0:e.role)||"USER",w=r==="dark"?x9:b9;g.useEffect(()=>{x(E=>E[E.length-1]!==o.pathname?[...E,o.pathname].slice(-10):E)},[o.pathname]);const T=()=>{const E=b.length>1?b[b.length-2]:null;if(window.history.length<=2||E==="/login"){l("/dashboard");return}l(-1)},A=E=>{E.stopPropagation(),a()};g.useEffect(()=>{const E=o.pathname,k={...p};P.forEach(D=>{D.hasSubmenu&&D.submenuItems&&D.submenuItems.some(U=>E===U.path)&&(k[D.title]=!0)}),y(k)},[o.pathname]);const O=E=>{y(k=>({...k,[E]:!k[E]}))},P=[{title:"Admin",icon:t.jsx(Rj,{}),path:"/admin",roles:["ADMIN"]},{title:"Dashboard",icon:t.jsx(U7,{}),path:"/dashboard",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT","WAREHOUSE_MANAGER","SECRETARY","EQUIPMENT_MANAGER","HR_MANAGER","HR_EMPLOYEE"]},{title:"Sites",icon:t.jsx(XM,{}),path:"/sites",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT","WAREHOUSE_MANAGER","SECRETARY","EQUIPMENT_MANAGER","HR_MANAGER","HR_EMPLOYEE"]},{title:"Partners",icon:t.jsx(Qm,{}),path:"/partners",roles:["ADMIN","SITE_ADMIN"]},{title:"Equipment",icon:t.jsx(EA,{}),path:"/equipment",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT","WAREHOUSE_MANAGER","SECRETARY","EQUIPMENT_MANAGER","HR_MANAGER","HR_EMPLOYEE"],hasSubmenu:!0,submenuItems:[{title:"Equipment List",icon:t.jsx(EA,{}),path:"/equipment",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT","WAREHOUSE_MANAGER","SECRETARY","EQUIPMENT_MANAGER","HR_MANAGER","HR_EMPLOYEE"]},{title:"Equipment Types",icon:t.jsx(SA,{}),path:"/equipment/type-management",roles:["ADMIN","EQUIPMENT_MANAGER"]},{title:"Equipment Brands",icon:t.jsx(SA,{}),path:"/equipment/brand-management",roles:["ADMIN","EQUIPMENT_MANAGER"]},{title:"Work Types",icon:t.jsx(a9,{}),path:"/equipment/work-type-management",roles:["ADMIN","EQUIPMENT_MANAGER"]},{title:"Maintenance Types",icon:t.jsx(Km,{}),path:"/equipment/maintenance-type-management",roles:["ADMIN","EQUIPMENT_MANAGER"]}]},{title:"Warehouses",icon:t.jsx(t_,{}),path:"/warehouses",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT","WAREHOUSE_MANAGER","SECRETARY","EQUIPMENT_MANAGER","HR_MANAGER","HR_EMPLOYEE"]},{title:"Merchants",icon:t.jsx(h9,{}),path:"/merchants",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT"]},{title:"HR",icon:t.jsx(Qm,{}),path:"/hr",roles:["ADMIN","USER","HR_MANAGER","HR_EMPLOYEE"],hasSubmenu:!0,submenuItems:[{title:"Departments",icon:t.jsx(Gm,{}),path:"/hr/departments",roles:["USER","HR_MANAGER","HR_EMPLOYEE"]},{title:"Employees",icon:t.jsx(r9,{}),path:"/hr/employees",roles:["ADMIN","USER","HR_MANAGER","HR_EMPLOYEE"]},{title:"Vacancies",icon:t.jsx(GM,{}),path:"/hr/vacancies",roles:["ADMIN","USER","HR_MANAGER","HR_EMPLOYEE"]},{title:"Positions",icon:t.jsx(l9,{}),path:"/hr/positions",roles:["ADMIN","USER","HR_MANAGER","HR_EMPLOYEE"]},{title:"Attendance",icon:t.jsx(p9,{}),path:"/hr/attendance",roles:["ADMIN","USER","HR_MANAGER","HR_EMPLOYEE"]}]},{title:"Finance",icon:t.jsx(Z7,{}),path:"/finance",roles:["ADMIN","USER","FINANCE_MANAGER","FINANCE_EMPLOYEE"],hasSubmenu:!0,submenuItems:[]},{title:"Procurement",icon:t.jsx(o9,{}),path:"/procurement",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT"],hasSubmenu:!0,submenuItems:[{title:"Request Orders",icon:t.jsx(Q7,{}),path:"/procurement/request-orders",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT"]},{title:"Offers",icon:t.jsx(NA,{}),path:"/procurement/offers",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT"]},{title:"Purchase Orders",icon:t.jsx(NA,{}),path:"/procurement/purchase-orders",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT"]}]},{title:"Maintenance",icon:t.jsx(Km,{}),path:"/maintenance",roles:["ADMIN","USER","SITE_ADMIN","EQUIPMENT_MANAGER"]},{title:"Secretary",icon:t.jsx(W7,{}),path:"/secretary",roles:["ADMIN","USER","SITE_ADMIN","SECRETARY"]},{title:"Settings",icon:t.jsx(V7,{}),path:"/settings",roles:["ADMIN","USER","SITE_ADMIN","PROCUREMENT","WAREHOUSE_MANAGER","SECRETARY","EQUIPMENT_MANAGER","HR_MANAGER","HR_EMPLOYEE","FINANCE_MANAGER","FINANCE_EMPLOYEE"]}],S=()=>{n()};return t.jsxs(t.Fragment,{children:[h&&t.jsx("button",{className:"mobile-sidebar-toggle",onClick:f,"aria-label":"Toggle sidebar",children:u?t.jsx(Zi,{}):t.jsx(YM,{})}),t.jsxs("div",{className:`sidebar ${u?"expanded":"collapsed"}`,"data-expanded":u,children:[!h&&t.jsx("button",{className:"sidebar-toggle-btn",onClick:f,"aria-label":"Toggle sidebar",children:t.jsx("span",{className:`chevron-icon ${u?"expanded":"collapsed"}`,children:u?t.jsx(z7,{}):t.jsx(jA,{})})}),t.jsx("div",{className:"sidebar-header",children:t.jsx("div",{className:"logo-container",children:t.jsx("img",{src:w,alt:"Logo",className:"logo-image"},r)})}),t.jsx("div",{className:"sidebar-menu",children:P.map(E=>E.roles.includes(j)?t.jsxs("div",{className:"menu-item-container",children:[t.jsxs(Yu,{to:E.hasSubmenu?"#":E.path,className:()=>E.hasSubmenu?`menu-item ${o.pathname===E.path?"active":""}`:`menu-item ${o.pathname===E.path?"active":""}`,"data-tooltip":s(E.title),onClick:k=>{E.hasSubmenu?(k.preventDefault(),u?O(E.title):(d(!0),setTimeout(()=>{O(E.title)},100))):h&&f()},children:[t.jsx("span",{className:"menu-icon",children:E.icon}),t.jsx("span",{className:"menu-title",children:s(E.title)}),E.hasSubmenu&&t.jsx("span",{className:"submenu-toggle",children:p[E.title]?t.jsx(H7,{}):t.jsx(jA,{})})]}),E.hasSubmenu&&p[E.title]&&t.jsx("div",{className:`submenu ${p[E.title]?"expanded":""}`,children:E.submenuItems.map(k=>t.jsxs(Yu,{to:k.path,className:()=>`submenu-item ${o.pathname===k.path?"active":""}`,onClick:()=>{h&&f()},children:[t.jsx("span",{className:"menu-icon",children:k.icon}),t.jsx("span",{className:"menu-title",children:s(k.title)})]},k.title))})]},E.title):null)}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"back-button",onClick:T,title:s("common.back")||"Go back",children:[t.jsx($7,{}),u&&t.jsx("span",{className:"back-text",children:"Back"})]}),t.jsx("div",{className:"theme-toggle-container",children:t.jsxs("div",{className:"theme-toggle-item",onClick:A,children:[t.jsx("div",{className:"menu-icon",children:r==="dark"?t.jsx(i9,{}):t.jsx(m9,{})}),t.jsxs("div",{className:"menu-title",children:[r==="dark"?"Dark":"Light"," Mode"]}),t.jsxs("label",{className:"toggle-switch",onClick:E=>E.stopPropagation(),children:[t.jsx("input",{type:"checkbox",checked:r==="dark",onChange:A}),t.jsx("span",{className:"toggle-slider"})]})]})}),t.jsxs("button",{className:"logout-btn",onClick:S,children:[t.jsx("span",{className:"menu-icon",children:t.jsx(JM,{})}),t.jsx("span",{children:s("Logout")})]})]})]}),h&&u&&t.jsx("div",{className:"sidebar-backdrop active",onClick:()=>f()})]})},Nt=({data:e=[],columns:n=[],itemsPerPageOptions:r=[5,10,15,20],defaultItemsPerPage:a=10,defaultSortField:s=null,defaultSortDirection:o="asc",onRowClick:l=null,loading:u=!1,tableTitle:d="",showSearch:h=!0,showFilters:f=!0,filterableColumns:p=[],customFilters:y=[],className:b="",actions:x=[],actionsColumnWidth:j="120px",emptyMessage:w="No data available"})=>{const[T,A]=g.useState(1),[O,P]=g.useState(a),[S,E]=g.useState(s),[k,D]=g.useState(o),[_,U]=g.useState(""),[R,$]=g.useState({}),[L,z]=g.useState(!1),[W,M]=g.useState(null),F=g.useRef(null),G=g.useRef(null),J=x.length>0?[...n,{id:"actions",header:"ACTIONS",accessor:"actions",width:j,minWidth:j,sortable:!1,filterable:!1}]:n;g.useEffect(()=>{A(1)},[_,R,e]),g.useEffect(()=>{const te=he=>{W!==null&&!he.target.closest(".rockops-table__actions")&&M(null)};return document.addEventListener("click",te),()=>{document.removeEventListener("click",te)}},[W]);function I(te,he){if(!he)return te;const se=he.split(".");let oe=te;for(const xe of se){if(oe==null)return"";oe=oe[xe]}return oe}const q=g.useMemo(()=>_.trim()?e.filter(te=>n.some(he=>{if(!he.accessor||he.excludeFromSearch)return!1;const se=I(te,he.accessor);return se&&String(se).toLowerCase().includes(_.toLowerCase())})):e,[e,_,n]),B=g.useMemo(()=>Object.keys(R).length===0?q:q.filter(te=>Object.keys(R).every(he=>{const se=R[he];if(!se)return!0;const oe=I(te,he);if(Array.isArray(se))return se.length===0||se.includes(String(oe));if(typeof se=="object"&&se!==null){const{min:xe,max:pe}=se,je=Number(oe);return(xe===null||je>=xe)&&(pe===null||je<=pe)}else return String(oe).toLowerCase().includes(String(se).toLowerCase())})),[q,R]),H=g.useMemo(()=>S?[...B].sort((te,he)=>{const se=I(te,S),oe=I(he,S);return se==null?k==="asc"?-1:1:oe==null?k==="asc"?1:-1:typeof se=="number"&&typeof oe=="number"?k==="asc"?se-oe:oe-se:k==="asc"?String(se).localeCompare(String(oe)):String(oe).localeCompare(String(se))}):B,[B,S,k]),K=g.useMemo(()=>{const te=(T-1)*O;return H.slice(te,te+O)},[H,T,O]),ie=Math.ceil(H.length/O),ae=te=>{S===te?D(k==="asc"?"desc":"asc"):(E(te),D("asc"))},me=(te,he)=>{$(se=>({...se,[te]:he}))},de=te=>{te>=1&&te<=ie&&A(te)},fe=(te,he)=>{te.stopPropagation(),M(W===he?null:he)},X=(te,he,se)=>{te.stopPropagation(),M(null),he.onClick&&he.onClick(se)},Z=te=>{const he=e.map(se=>I(se,te)).filter(se=>se!=null);return[...new Set(he)].sort()},V=()=>{$({}),U("")},Y=te=>{$(he=>{const se={...he};return delete se[te],se})},ee=Object.values(R).filter(te=>te&&te!=="").length+(_?1:0),ce=()=>{const te=[];if(ie<=5)for(let se=1;se<=ie;se++)te.push(se);else if(T<=3){for(let se=1;se<=Math.min(5,ie);se++)te.push(se);ie>5&&(te.push("..."),te.push(ie))}else if(T>=ie-2){te.push(1),ie>5&&te.push("...");for(let se=Math.max(ie-4,2);se<=ie;se++)te.push(se)}else{te.push(1),te.push("...");for(let se=T-1;se<=T+1;se++)te.push(se);te.push("..."),te.push(ie)}return te},re=(T-1)*O;return Math.min(re+O,H.length),t.jsxs("div",{className:`rockops-table__container ${b}`,children:[t.jsxs("div",{className:"rockops-table__header-container",children:[d&&t.jsx("h3",{className:"rockops-table__title",children:d}),t.jsxs("div",{className:"rockops-table__controls",children:[h&&t.jsxs("div",{className:"rockops-table__search",children:[t.jsx(CN,{className:"rockops-table__search-icon"}),t.jsx("input",{type:"text",value:_,onChange:te=>U(te.target.value),placeholder:"Search...",className:"rockops-table__search-input"})]}),f&&p.length>0&&t.jsxs("button",{className:`rockops-table__filter-btn ${L?"rockops-table__filter-btn--active":""}`,onClick:()=>{L&&V(),z(!L)},children:[t.jsx(_j,{}),t.jsx("span",{children:"Filters"}),ee>0&&t.jsx("span",{className:"rockops-table__filter-count",children:ee})]})]})]}),f&&L&&t.jsxs("div",{className:"rockops-table__filter-panel",children:[t.jsxs("div",{className:"rockops-table__filter-header",children:[t.jsxs("h4",{children:[t.jsx(_j,{}),"Filter Options"]}),t.jsxs("div",{className:"filter-actions",children:[ee>0&&t.jsxs("span",{className:"filter-stats",children:[ee," active filter",ee!==1?"s":""]}),t.jsx("button",{className:"filter-collapse-btn",onClick:()=>{V(),z(!1)},title:"Close and reset filters",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"18,15 12,9 6,15"})})})]})]}),t.jsxs("div",{className:"rockops-table__filter-list",children:[p.map((te,he)=>t.jsxs("div",{className:`rockops-table__filter-item ${R[te.accessor]?"has-filter":""}`,children:[t.jsx("label",{children:te.header}),t.jsx("div",{className:"filter-input-wrapper",children:te.filterType==="select"?t.jsxs("select",{value:R[te.accessor]||"",onChange:se=>me(te.accessor,se.target.value),children:[t.jsxs("option",{value:"",children:["All ",te.header]}),Z(te.accessor).map(se=>t.jsx("option",{value:se,children:se},se))]}):t.jsxs(t.Fragment,{children:[t.jsx("input",{type:te.filterType==="number"?"number":"text",placeholder:`Search ${te.header.toLowerCase()}...`,value:R[te.accessor]||"",onChange:se=>me(te.accessor,se.target.value)}),R[te.accessor]&&t.jsx("button",{className:"clear-filter-btn",onClick:()=>Y(te.accessor),title:"Clear filter",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})})]},he)),y.map((te,he)=>t.jsxs("div",{className:"rockops-table__filter-item",children:[t.jsx("label",{children:te.label}),t.jsx("div",{className:"filter-input-wrapper",children:te.component})]},`custom-${he}`))]}),t.jsxs("div",{className:"rockops-table__filter-actions",children:[t.jsxs("div",{className:"filter-stats",children:[H.length," of ",e.length," results",ee>0&&` with ${ee} filter${ee!==1?"s":""} applied`]}),t.jsx("div",{className:"filter-buttons",children:t.jsx("button",{className:"rockops-table__btn rockops-table__btn--secondary",onClick:V,disabled:ee===0,children:"Clear All"})})]})]}),t.jsx("div",{ref:G,className:"rockops-table__wrapper full-width",children:u?t.jsxs("div",{className:"rockops-table__loading",children:[t.jsx("div",{className:"rockops-table__spinner"}),t.jsx("p",{children:"Loading data..."})]}):t.jsx("div",{style:{position:"relative"},children:t.jsxs("table",{ref:F,className:"rockops-table",children:[t.jsx("thead",{className:"rockops-table__header",children:t.jsxs("tr",{children:[n.map((te,he)=>t.jsx("th",{className:`rockops-table__th ${te.sortable!==!1?"rockops-table__th--sortable":""} ${S===te.accessor?`sorted-${k}`:""}`,style:{textAlign:te.align||"left",minWidth:te.minWidth||"auto"},"data-flex-weight":te.flexWeight||1,onClick:()=>te.sortable!==!1?ae(te.accessor):null,children:t.jsxs("div",{className:"rockops-table__th-content",children:[t.jsx("span",{children:te.header}),te.sortable!==!1&&t.jsx("span",{className:"rockops-table__sort-icon",children:S===te.accessor?k==="asc"?t.jsx(u9,{}):t.jsx(c9,{}):t.jsx(d9,{})})]})},he)),x.length>0&&t.jsx("th",{className:"rockops-table__th rockops-table__th--actions",style:{textAlign:"left",minWidth:j},"data-flex-weight":1,children:t.jsx("div",{className:"rockops-table__th-content",children:t.jsx("span",{children:"Actions"})})})]})}),t.jsx("tbody",{style:{position:"relative"},children:K.length===0?t.jsxs(t.Fragment,{children:[t.jsx("tr",{style:{height:"200px"},children:J.map((te,he)=>t.jsx("td",{style:{border:"none",padding:0}},he))}),t.jsx("div",{className:"rockops-table__empty-overlay",children:t.jsxs("div",{className:"rockops-table__empty",children:[t.jsx("p",{children:ee>0?"No results match your filters":w}),ee>0&&t.jsx("button",{className:"rockops-table__btn rockops-table__btn--secondary",onClick:V,children:"Clear Filters"})]})})]}):K.map((te,he)=>t.jsxs("tr",{className:`rockops-table__row ${l?"rockops-table__row--clickable":""}`,onClick:()=>l&&l(te),children:[n.map((se,oe)=>t.jsx("td",{className:`rockops-table__cell ${se.className||""}`,style:{textAlign:se.align||"left",minWidth:se.minWidth||"auto",...se.cellStyle?se.cellStyle(te,I(te,se.accessor)):{}},"data-flex-weight":se.flexWeight||1,children:se.render?se.render(te,I(te,se.accessor)):I(te,se.accessor)},oe)),x.length>0&&t.jsx("td",{className:"rockops-table__cell rockops-table__cell--actions",style:{textAlign:"left",minWidth:j},"data-flex-weight":1,onClick:se=>se.stopPropagation(),children:x.length>2?t.jsxs("div",{className:"rockops-table__actions",children:[t.jsx("button",{className:"rockops-table__action-toggle",onClick:se=>fe(se,he),"aria-label":"Toggle actions menu",children:t.jsx(G7,{})}),W===he&&t.jsx("div",{className:"rockops-table__actions-dropdown",children:x.map((se,oe)=>t.jsxs("button",{className:`rockops-table__action-item ${se.className||""}`,onClick:xe=>X(xe,se,te),disabled:se.isDisabled?se.isDisabled(te):!1,children:[se.icon&&t.jsx("span",{className:"rockops-table__action-icon",children:se.icon}),t.jsx("span",{children:se.label})]},oe))})]}):t.jsx("div",{className:"rockops-table__actions-inline",children:x.map((se,oe)=>t.jsx("button",{className:`rockops-table__action-button ${se.className||""}`,onClick:xe=>X(xe,se,te),disabled:se.isDisabled?se.isDisabled(te):!1,"aria-label":se.label,title:se.label,children:se.icon},oe))})})]},he))})]})})}),t.jsxs("div",{className:"rockops-table__footer",children:[t.jsx("div",{className:"rockops-table__footer-left",children:t.jsxs("div",{className:"rockops-table__items-per-page",children:[t.jsx("span",{children:"Items per page:"}),t.jsx("select",{value:O,onChange:te=>{P(Number(te.target.value)),A(1)},children:r.map(te=>t.jsx("option",{value:te,children:te},te))})]})}),t.jsx("div",{className:"rockops-table__footer-right",children:H.length>O&&t.jsxs("div",{className:"rockops-table__pagination-controls",children:[t.jsx("button",{className:"rockops-table__pagination-btn",onClick:()=>de(T-1),disabled:T===1,children:"Previous"}),t.jsx("div",{className:"rockops-table__pagination-numbers",children:ce().map((te,he)=>te==="..."?t.jsx("span",{className:"rockops-table__pagination-btn rockops-table__pagination-btn--ellipsis",children:"..."},`ellipsis-${he}`):t.jsx("button",{className:`rockops-table__pagination-btn ${T===te?"rockops-table__pagination-btn--active":""}`,onClick:()=>de(te),children:te},te))}),t.jsx("button",{className:"rockops-table__pagination-btn",onClick:()=>de(T+1),disabled:T===ie,children:"Next"})]})})]})]})},S9=({users:e})=>{const n=()=>{const a={};return e.forEach(s=>{a[s.role]?a[s.role]++:a[s.role]=1}),a},r=()=>{const a=n(),s=Object.keys(a),l=Object.values(a).reduce((w,T)=>w+T,0),u=220,d=u/2,h=d*.65,f=d,p=d;let y=0;const b=[],x=["#5d5fef","#f77171","#68d283","#ffc107","#9d5de0","#ff9f43","#41b6e6","#fd7e89","#2ec4b6"];s.forEach((w,T)=>{const O=a[w]/l*100/100*360,P=y+O,S=(y-90)*(Math.PI/180),E=(P-90)*(Math.PI/180),k=f+d*Math.cos(S),D=p+d*Math.sin(S),_=f+d*Math.cos(E),U=p+d*Math.sin(E),R=f+h*Math.cos(S),$=p+h*Math.sin(S),L=f+h*Math.cos(E),z=p+h*Math.sin(E),W=O>180?1:0,M=[`M ${k} ${D}`,`A ${d} ${d} 0 ${W} 1 ${_} ${U}`,`L ${L} ${z}`,`A ${h} ${h} 0 ${W} 0 ${R} ${$}`,"Z"].join(" ");b.push(t.jsxs("g",{children:[t.jsx("path",{d:M,fill:x[T%x.length],stroke:"var(--section-background-color)",strokeWidth:"1"}),t.jsx("path",{d:M,fill:"url(#subtleGradient)",opacity:"0.15"})]},w)),y=P});const j=s.map((w,T)=>{const A=(a[w]/l*100).toFixed(1),O=a[w];return t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"color-dot",style:{backgroundColor:x[T%x.length]}}),t.jsxs("span",{className:"legend-text",children:[w," (",O,") ",t.jsxs("span",{style:{opacity:.7},children:[A,"%"]})]})]},w)});return t.jsxs("div",{className:"donut-chart-container",children:[t.jsx("div",{className:"donut-chart",children:t.jsxs("svg",{width:u,height:u,viewBox:`0 0 ${u} ${u}`,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"subtleGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"var(--color-text-inverse)",stopOpacity:"0.1"}),t.jsx("stop",{offset:"100%",stopColor:"var(--text-color)",stopOpacity:"0.1"})]}),t.jsxs("filter",{id:"dropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[t.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3"}),t.jsx("feOffset",{dx:"0",dy:"2",result:"offsetblur"}),t.jsx("feComponentTransfer",{children:t.jsx("feFuncA",{type:"linear",slope:"0.15"})}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx("circle",{cx:f,cy:p,r:d,fill:"var(--section-background-color)",filter:"url(#dropShadow)"}),t.jsx("g",{children:b}),t.jsx("circle",{cx:f,cy:p,r:h,fill:"var(--color-surface)"}),t.jsx("text",{x:f,y:p-12,fontSize:"35",fontWeight:"var(--bold-font-weight)",fill:"var(--color-primary)",textAnchor:"middle",children:l}),t.jsx("text",{x:f,y:p+16,fontSize:"14",fill:"var(--color-text-secondary)",textAnchor:"middle",fontWeight:"500",children:"Total Users"})]})}),t.jsx("div",{className:"chart-legend",children:j})]})};return t.jsxs("div",{className:"summary-card user-stats-card",children:[t.jsx("h2",{children:"User Role Distribution"}),t.jsxs("div",{className:"user-stats-content",children:[e.length>0&&r(),e.length===0&&t.jsx("p",{className:"no-data-message",children:"No user data available"})]})]})},E9=({user:e,mode:n="edit",onCancel:r,onSave:a})=>{const{t:s}=ln(),[o,l]=g.useState({firstName:"",lastName:"",username:"",password:"",role:"USER"});g.useEffect(()=>{l(e&&n==="edit"?{firstName:e.firstName||"",lastName:e.lastName||"",username:e.username||"",role:e.role||"USER",password:""}:{firstName:"",lastName:"",username:"",password:"",role:"USER"})},[e,n]);const u=f=>{const{name:p,value:y}=f.target;l({...o,[p]:y})},d=f=>{if(f.preventDefault(),n==="add"&&!o.password){alert(s("auth.passwordRequired"));return}let p;n==="edit"?p={role:o.role}:p={firstName:o.firstName,lastName:o.lastName,username:o.username,password:o.password,role:o.role},a(p)},h=()=>["ADMIN","USER","SITE_ADMIN","PROCUREMENT","WAREHOUSE_MANAGER","SECRETARY","EQUIPMENT_MANAGER","HR_MANAGER","HR_EMPLOYEE","FINANCE_EMPLOYEE","FINANCE_MANAGER"].map(p=>t.jsx("option",{value:p,children:s(`roles.${p}`)},p));return t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:s(n==="edit"?"admin.editUser":"admin.addUser")}),t.jsx("button",{className:"close-button",onClick:r,children:t.jsx(Zi,{})})]}),t.jsxs("form",{onSubmit:d,className:"edit-form",children:[n==="add"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:s("admin.firstName")}),t.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:u,required:!0,placeholder:s("admin.firstName")})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:s("admin.lastName")}),t.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:u,required:!0,placeholder:s("admin.lastName")})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:s("auth.username")}),t.jsx("input",{type:"text",name:"username",value:o.username,onChange:u,required:!0,placeholder:s("auth.username")})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:s("auth.password")}),t.jsx("input",{type:"password",name:"password",value:o.password,onChange:u,required:!0,placeholder:s("auth.password")})]})]}),n==="edit"&&t.jsxs("div",{className:"user-info-display",children:[t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"info-label",children:[s("auth.username"),":"]}),t.jsx("span",{className:"info-value",children:e.username})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"info-label",children:[s("admin.firstName"),":"]}),t.jsx("span",{className:"info-value",children:e.firstName})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"info-label",children:[s("admin.lastName"),":"]}),t.jsx("span",{className:"info-value",children:e.lastName})]}),t.jsx("div",{className:"form-note",children:s("admin.roleUpdateOnly")})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:s("admin.role")}),t.jsx("select",{name:"role",value:o.role,onChange:u,required:!0,children:h()})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:r,children:s("common.cancel")}),t.jsx("button",{type:"submit",className:"save-button",children:s(n==="edit"?"common.save":"admin.addUser")})]})]})]})})},T9=()=>{const{t:e}=ln(),[n,r]=g.useState([]),[a,s]=g.useState(!0),[o,l]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(!1),[p,y]=g.useState("edit");g.useEffect(()=>{b()},[]);const b=async()=>{s(!0);try{const D=await fetch("http://localhost:8080/api/v1/admin/users",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!D.ok){const U=await D.text();throw console.error("Error response:",U),new Error(`${e("common.error")}: ${D.status} ${D.statusText}`)}const _=await D.json();r(_),l(null)}catch(D){l(`${e("common.error")}: ${D.message}`),console.error("Error fetching users:",D)}finally{s(!1)}},x=async D=>{if(window.confirm(e("admin.confirmDelete")))try{if(!(await fetch(`http://localhost:8080/api/v1/admin/users/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error(e("common.error"));r(n.filter(U=>U.id!==D)),l(null)}catch(_){l(`${e("common.error")}: ${_.message}`),console.error("Error deleting user:",_)}},j=D=>{y("edit"),d(D),f(!0)},w=()=>{y("add"),d(null),f(!0)},T=async D=>{p==="edit"?await A(D):await O(D)},A=async D=>{try{if(!(await fetch(`http://localhost:8080/api/v1/admin/users/${u.id}/role`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({role:D.role})})).ok)throw new Error(`${e("common.error")}: Role update failed`);const U={...u,role:D.role};r(n.map(R=>R.id===u.id?U:R)),f(!1),d(null),l(null)}catch(_){l(`${e("common.error")}: ${_.message}`),console.error("Error updating user:",_)}},O=async D=>{try{const _=await fetch("http://localhost:8080/api/v1/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(D)});if(!_.ok){const U=await _.json();throw new Error(U.message||e("common.error"))}await b(),f(!1),l(null)}catch(_){l(`${e("common.error")}: ${_.message}`),console.error("Error creating user:",_)}},P=()=>{f(!1),d(null)},S=[{header:e("admin.firstName"),accessor:"firstName",sortable:!0},{header:e("admin.lastName"),accessor:"lastName",sortable:!0},{header:e("auth.username"),accessor:"username",sortable:!0},{header:e("admin.role"),accessor:"role",sortable:!0,render:(D,_)=>t.jsx("span",{className:`role-badge role-badge--${_.toLowerCase()}`,children:e(`roles.${_}`)})}],E=[{icon:t.jsx(ga,{}),label:e("common.edit"),onClick:j,className:"primary"},{icon:t.jsx(Ua,{}),label:e("common.delete"),onClick:D=>x(D.id),className:"danger"}],k=[{header:e("admin.firstName"),accessor:"firstName"},{header:e("admin.lastName"),accessor:"lastName"},{header:e("auth.username"),accessor:"username"},{header:e("admin.role"),accessor:"role"}];return t.jsxs("div",{className:"admin-container",children:[t.jsx("div",{className:"admin-content",children:t.jsx("main",{className:"admin-main",children:t.jsxs("div",{className:"",children:[t.jsx("div",{className:"summary-section",children:t.jsx(S9,{users:n})}),o&&t.jsx("div",{className:"error-message",children:o}),t.jsx("div",{className:"admin-actions",children:t.jsxs("button",{className:"btn btn-primary",onClick:w,children:[t.jsx(e_,{})," ",e("admin.addUser")]})}),t.jsx(Nt,{data:n,columns:S,loading:a,tableTitle:e("admin.usersList"),showSearch:!0,showFilters:!0,filterableColumns:k,defaultSortField:"firstName",defaultSortDirection:"asc",actions:E,actionsColumnWidth:"120px",itemsPerPageOptions:[10,25,50,100],defaultItemsPerPage:10})]})})}),h&&t.jsx(E9,{user:u,mode:p,onCancel:P,onSave:T})]})},A9=()=>{const{currentUser:e,logout:n}=Xt(),{language:r,switchLanguage:a}=C7(),{theme:s,toggleTheme:o}=AN(),{t:l}=ln(),u=Tt(),d=Ba(),[h,f]=g.useState(!1),[p,y]=g.useState(!1),[b,x]=g.useState(["/login"]);g.useEffect(()=>{x(O=>O[O.length-1]!==d.pathname?[...O,d.pathname].slice(-10):O)},[d.pathname]);const j=()=>{f(!h)},w=O=>{a(O),f(!1)},T=()=>{n(),u("/login")},A=()=>{y(!p),p||f(!1)};return t.jsx("nav",{className:"admin-navbar",children:t.jsxs("div",{className:"navbar-content",children:[t.jsx("div",{className:"navbar-left"}),t.jsx("button",{className:"mobile-menu-button",onClick:A,children:p?t.jsx(Zi,{}):t.jsx(YM,{})}),t.jsxs("div",{className:`navbar-right ${p?"mobile-menu-open":""}`,children:[t.jsx("div",{className:"language-selector",children:t.jsxs("div",{className:"language-dropdown-container",children:[t.jsxs("div",{className:"language-flag",onClick:j,children:[r==="en"?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:"https://cdn.britannica.com/29/22529-004-ED1907BE/Union-Flag-Cross-St-Andrew-of-George.jpg",alt:"English"}),t.jsx("span",{children:"English"})]}):t.jsxs(t.Fragment,{children:[t.jsx("img",{src:"https://cdn.britannica.com/79/5779-004-DC479508/Flag-Saudi-Arabia.jpg",alt:"Arabic"}),t.jsx("span",{children:""})]}),t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),h&&t.jsxs("div",{className:"language-dropdown-menu",children:[t.jsxs("div",{className:"language-option",onClick:()=>w("en"),children:[t.jsx("img",{src:"https://cdn.britannica.com/29/22529-004-ED1907BE/Union-Flag-Cross-St-Andrew-of-George.jpg",alt:"English"}),t.jsx("span",{children:"English"})]}),t.jsxs("div",{className:"language-option",onClick:()=>w("ar"),children:[t.jsx("img",{src:"https://cdn.britannica.com/79/5779-004-DC479508/Flag-Saudi-Arabia.jpg",alt:"Arabic"}),t.jsx("span",{children:""})]})]})]})}),t.jsxs("div",{className:"notification-icon",children:[t.jsx("span",{className:"notification-badge",children:"1"}),t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12.0001 22C13.1001 22 14.0001 21.1 14.0001 20H10.0001C10.0001 21.1 10.8901 22 12.0001 22ZM18.0001 16V11C18.0001 7.93 16.3601 5.36 13.5001 4.68V4C13.5001 3.17 12.8301 2.5 12.0001 2.5C11.1701 2.5 10.5001 3.17 10.5001 4V4.68C7.63005 5.36 6.00005 7.92 6.00005 11V16L4.71005 17.29C4.08005 17.92 4.52005 19 5.41005 19H18.5801C19.4701 19 19.9201 17.92 19.2901 17.29L18.0001 16Z",fill:"currentColor"})})]}),t.jsxs("div",{className:"user-profile",children:[t.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"User Avatar",className:"user-avatar"}),t.jsxs("div",{className:"user-info",children:[t.jsx("p",{className:"user-name",children:(e==null?void 0:e.firstName)||"N/A"}),t.jsx("p",{className:"user-role",children:(e==null?void 0:e.role.replace("_"," "))||"N/A"})]})]}),t.jsx("button",{className:"logout-button",onClick:T,title:l("common.logout"),children:t.jsx(JM,{})})]})]})})},C9=()=>t.jsxs("div",{className:"user-dashboard",children:[t.jsx("h1",{children:"User Dashboard"}),t.jsx("div",{className:"dashboard-cards",children:t.jsxs("div",{className:"dashboard-card",children:[t.jsx("h2",{children:"Welcome to the system"}),t.jsx("p",{children:"Select a module from the sidebar to get started."})]})})]}),k9=()=>{const{t:e}=ln(),[n,r]=g.useState(null),[a,s]=g.useState([]),[o,l]=g.useState(!0),[u,d]=g.useState(null);return t.jsx("div",{className:"hr-dashboard"})},O9=()=>{const{t:e}=ln(),[n,r]=g.useState(null),[a,s]=g.useState([]),[o,l]=g.useState(!0),[u,d]=g.useState(null);return t.jsx("div",{className:"hr-dashboard"})};function r_(e){var n,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(r=r_(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function lt(){for(var e,n,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(n=r_(e))&&(a&&(a+=" "),a+=n);return a}var mg,TA;function yr(){if(TA)return mg;TA=1;var e=Array.isArray;return mg=e,mg}var fg,AA;function a_(){if(AA)return fg;AA=1;var e=typeof um=="object"&&um&&um.Object===Object&&um;return fg=e,fg}var pg,CA;function Fa(){if(CA)return pg;CA=1;var e=a_(),n=typeof self=="object"&&self&&self.Object===Object&&self,r=e||n||Function("return this")();return pg=r,pg}var vg,kA;function $d(){if(kA)return vg;kA=1;var e=Fa(),n=e.Symbol;return vg=n,vg}var yg,OA;function D9(){if(OA)return yg;OA=1;var e=$d(),n=Object.prototype,r=n.hasOwnProperty,a=n.toString,s=e?e.toStringTag:void 0;function o(l){var u=r.call(l,s),d=l[s];try{l[s]=void 0;var h=!0}catch{}var f=a.call(l);return h&&(u?l[s]=d:delete l[s]),f}return yg=o,yg}var gg,DA;function P9(){if(DA)return gg;DA=1;var e=Object.prototype,n=e.toString;function r(a){return n.call(a)}return gg=r,gg}var xg,PA;function js(){if(PA)return xg;PA=1;var e=$d(),n=D9(),r=P9(),a="[object Null]",s="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:a:o&&o in Object(u)?n(u):r(u)}return xg=l,xg}var bg,MA;function Ns(){if(MA)return bg;MA=1;function e(n){return n!=null&&typeof n=="object"}return bg=e,bg}var jg,_A;function sc(){if(_A)return jg;_A=1;var e=js(),n=Ns(),r="[object Symbol]";function a(s){return typeof s=="symbol"||n(s)&&e(s)==r}return jg=a,jg}var Ng,IA;function ON(){if(IA)return Ng;IA=1;var e=yr(),n=sc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||n(o)?!0:a.test(o)||!r.test(o)||l!=null&&o in Object(l)}return Ng=s,Ng}var wg,RA;function ii(){if(RA)return wg;RA=1;function e(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}return wg=e,wg}var Sg,qA;function DN(){if(qA)return Sg;qA=1;var e=js(),n=ii(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!n(u))return!1;var d=e(u);return d==a||d==s||d==r||d==o}return Sg=l,Sg}var Eg,LA;function M9(){if(LA)return Eg;LA=1;var e=Fa(),n=e["__core-js_shared__"];return Eg=n,Eg}var Tg,$A;function _9(){if($A)return Tg;$A=1;var e=M9(),n=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function r(a){return!!n&&n in a}return Tg=r,Tg}var Ag,BA;function s_(){if(BA)return Ag;BA=1;var e=Function.prototype,n=e.toString;function r(a){if(a!=null){try{return n.call(a)}catch{}try{return a+""}catch{}}return""}return Ag=r,Ag}var Cg,UA;function I9(){if(UA)return Cg;UA=1;var e=DN(),n=_9(),r=ii(),a=s_(),s=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,h=u.hasOwnProperty,f=RegExp("^"+d.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!r(y)||n(y))return!1;var b=e(y)?f:o;return b.test(a(y))}return Cg=p,Cg}var kg,FA;function R9(){if(FA)return kg;FA=1;function e(n,r){return n==null?void 0:n[r]}return kg=e,kg}var Og,HA;function uo(){if(HA)return Og;HA=1;var e=I9(),n=R9();function r(a,s){var o=n(a,s);return e(o)?o:void 0}return Og=r,Og}var Dg,zA;function ip(){if(zA)return Dg;zA=1;var e=uo(),n=e(Object,"create");return Dg=n,Dg}var Pg,WA;function q9(){if(WA)return Pg;WA=1;var e=ip();function n(){this.__data__=e?e(null):{},this.size=0}return Pg=n,Pg}var Mg,VA;function L9(){if(VA)return Mg;VA=1;function e(n){var r=this.has(n)&&delete this.__data__[n];return this.size-=r?1:0,r}return Mg=e,Mg}var _g,YA;function $9(){if(YA)return _g;YA=1;var e=ip(),n="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function s(o){var l=this.__data__;if(e){var u=l[o];return u===n?void 0:u}return a.call(l,o)?l[o]:void 0}return _g=s,_g}var Ig,GA;function B9(){if(GA)return Ig;GA=1;var e=ip(),n=Object.prototype,r=n.hasOwnProperty;function a(s){var o=this.__data__;return e?o[s]!==void 0:r.call(o,s)}return Ig=a,Ig}var Rg,KA;function U9(){if(KA)return Rg;KA=1;var e=ip(),n="__lodash_hash_undefined__";function r(a,s){var o=this.__data__;return this.size+=this.has(a)?0:1,o[a]=e&&s===void 0?n:s,this}return Rg=r,Rg}var qg,QA;function F9(){if(QA)return qg;QA=1;var e=q9(),n=L9(),r=$9(),a=B9(),s=U9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=s,qg=o,qg}var Lg,XA;function H9(){if(XA)return Lg;XA=1;function e(){this.__data__=[],this.size=0}return Lg=e,Lg}var $g,JA;function PN(){if(JA)return $g;JA=1;function e(n,r){return n===r||n!==n&&r!==r}return $g=e,$g}var Bg,ZA;function op(){if(ZA)return Bg;ZA=1;var e=PN();function n(r,a){for(var s=r.length;s--;)if(e(r[s][0],a))return s;return-1}return Bg=n,Bg}var Ug,eC;function z9(){if(eC)return Ug;eC=1;var e=op(),n=Array.prototype,r=n.splice;function a(s){var o=this.__data__,l=e(o,s);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return Ug=a,Ug}var Fg,tC;function W9(){if(tC)return Fg;tC=1;var e=op();function n(r){var a=this.__data__,s=e(a,r);return s<0?void 0:a[s][1]}return Fg=n,Fg}var Hg,nC;function V9(){if(nC)return Hg;nC=1;var e=op();function n(r){return e(this.__data__,r)>-1}return Hg=n,Hg}var zg,rC;function Y9(){if(rC)return zg;rC=1;var e=op();function n(r,a){var s=this.__data__,o=e(s,r);return o<0?(++this.size,s.push([r,a])):s[o][1]=a,this}return zg=n,zg}var Wg,aC;function lp(){if(aC)return Wg;aC=1;var e=H9(),n=z9(),r=W9(),a=V9(),s=Y9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=s,Wg=o,Wg}var Vg,sC;function MN(){if(sC)return Vg;sC=1;var e=uo(),n=Fa(),r=e(n,"Map");return Vg=r,Vg}var Yg,iC;function G9(){if(iC)return Yg;iC=1;var e=F9(),n=lp(),r=MN();function a(){this.size=0,this.__data__={hash:new e,map:new(r||n),string:new e}}return Yg=a,Yg}var Gg,oC;function K9(){if(oC)return Gg;oC=1;function e(n){var r=typeof n;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null}return Gg=e,Gg}var Kg,lC;function cp(){if(lC)return Kg;lC=1;var e=K9();function n(r,a){var s=r.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return Kg=n,Kg}var Qg,cC;function Q9(){if(cC)return Qg;cC=1;var e=cp();function n(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return Qg=n,Qg}var Xg,uC;function X9(){if(uC)return Xg;uC=1;var e=cp();function n(r){return e(this,r).get(r)}return Xg=n,Xg}var Jg,dC;function J9(){if(dC)return Jg;dC=1;var e=cp();function n(r){return e(this,r).has(r)}return Jg=n,Jg}var Zg,hC;function Z9(){if(hC)return Zg;hC=1;var e=cp();function n(r,a){var s=e(this,r),o=s.size;return s.set(r,a),this.size+=s.size==o?0:1,this}return Zg=n,Zg}var ex,mC;function _N(){if(mC)return ex;mC=1;var e=G9(),n=Q9(),r=X9(),a=J9(),s=Z9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var h=l[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=s,ex=o,ex}var tx,fC;function i_(){if(fC)return tx;fC=1;var e=_N(),n="Expected a function";function r(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(n);var o=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var h=a.apply(this,l);return o.cache=d.set(u,h)||d,h};return o.cache=new(r.Cache||e),o}return r.Cache=e,tx=r,tx}var nx,pC;function eB(){if(pC)return nx;pC=1;var e=i_(),n=500;function r(a){var s=e(a,function(l){return o.size===n&&o.clear(),l}),o=s.cache;return s}return nx=r,nx}var rx,vC;function tB(){if(vC)return rx;vC=1;var e=eB(),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(n,function(l,u,d,h){o.push(d?h.replace(r,"$1"):u||l)}),o});return rx=a,rx}var ax,yC;function IN(){if(yC)return ax;yC=1;function e(n,r){for(var a=-1,s=n==null?0:n.length,o=Array(s);++a<s;)o[a]=r(n[a],a,n);return o}return ax=e,ax}var sx,gC;function nB(){if(gC)return sx;gC=1;var e=$d(),n=IN(),r=yr(),a=sc(),s=e?e.prototype:void 0,o=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return n(u,l)+"";if(a(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return sx=l,sx}var ix,xC;function o_(){if(xC)return ix;xC=1;var e=nB();function n(r){return r==null?"":e(r)}return ix=n,ix}var ox,bC;function l_(){if(bC)return ox;bC=1;var e=yr(),n=ON(),r=tB(),a=o_();function s(o,l){return e(o)?o:n(o,l)?[o]:r(a(o))}return ox=s,ox}var lx,jC;function up(){if(jC)return lx;jC=1;var e=sc();function n(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return lx=n,lx}var cx,NC;function RN(){if(NC)return cx;NC=1;var e=l_(),n=up();function r(a,s){s=e(s,a);for(var o=0,l=s.length;a!=null&&o<l;)a=a[n(s[o++])];return o&&o==l?a:void 0}return cx=r,cx}var ux,wC;function c_(){if(wC)return ux;wC=1;var e=RN();function n(r,a,s){var o=r==null?void 0:e(r,a);return o===void 0?s:o}return ux=n,ux}var rB=c_();const Or=kt(rB);var dx,SC;function aB(){if(SC)return dx;SC=1;function e(n){return n==null}return dx=e,dx}var sB=aB();const it=kt(sB);var hx,EC;function iB(){if(EC)return hx;EC=1;var e=js(),n=yr(),r=Ns(),a="[object String]";function s(o){return typeof o=="string"||!n(o)&&r(o)&&e(o)==a}return hx=s,hx}var oB=iB();const eo=kt(oB);var lB=DN();const tt=kt(lB);var cB=ii();const ic=kt(cB);var mx={exports:{}},At={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function uB(){if(TC)return At;TC=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function j(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case e:switch(w=w.type,w){case r:case s:case a:case h:case f:return w;default:switch(w=w&&w.$$typeof,w){case u:case l:case d:case y:case p:case o:return w;default:return T}}case n:return T}}}return At.ContextConsumer=l,At.ContextProvider=o,At.Element=e,At.ForwardRef=d,At.Fragment=r,At.Lazy=y,At.Memo=p,At.Portal=n,At.Profiler=s,At.StrictMode=a,At.Suspense=h,At.SuspenseList=f,At.isAsyncMode=function(){return!1},At.isConcurrentMode=function(){return!1},At.isContextConsumer=function(w){return j(w)===l},At.isContextProvider=function(w){return j(w)===o},At.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},At.isForwardRef=function(w){return j(w)===d},At.isFragment=function(w){return j(w)===r},At.isLazy=function(w){return j(w)===y},At.isMemo=function(w){return j(w)===p},At.isPortal=function(w){return j(w)===n},At.isProfiler=function(w){return j(w)===s},At.isStrictMode=function(w){return j(w)===a},At.isSuspense=function(w){return j(w)===h},At.isSuspenseList=function(w){return j(w)===f},At.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===s||w===a||w===h||w===f||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===p||w.$$typeof===o||w.$$typeof===l||w.$$typeof===d||w.$$typeof===x||w.getModuleId!==void 0)},At.typeOf=j,At}var AC;function dB(){return AC||(AC=1,mx.exports=uB()),mx.exports}var hB=dB(),fx,CC;function u_(){if(CC)return fx;CC=1;var e=js(),n=Ns(),r="[object Number]";function a(s){return typeof s=="number"||n(s)&&e(s)==r}return fx=a,fx}var px,kC;function mB(){if(kC)return px;kC=1;var e=u_();function n(r){return e(r)&&r!=+r}return px=n,px}var fB=mB();const oc=kt(fB);var pB=u_();const vB=kt(pB);var nr=function(n){return n===0?0:n>0?1:-1},$i=function(n){return eo(n)&&n.indexOf("%")===n.length-1},He=function(n){return vB(n)&&!oc(n)},En=function(n){return He(n)||eo(n)},yB=0,ho=function(n){var r=++yB;return"".concat(n||"").concat(r)},rr=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(n)&&!eo(n))return a;var o;if($i(n)){var l=n.indexOf("%");o=r*parseFloat(n.slice(0,l))/100}else o=+n;return oc(o)&&(o=a),s&&o>r&&(o=r),o},Zs=function(n){if(!n)return null;var r=Object.keys(n);return r&&r.length?n[r[0]]:null},gB=function(n){if(!Array.isArray(n))return!1;for(var r=n.length,a={},s=0;s<r;s++)if(!a[n[s]])a[n[s]]=!0;else return!0;return!1},Sn=function(n,r){return He(n)&&He(r)?function(a){return n+a*(r-n)}:function(){return r}};function Xm(e,n,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof n=="function"?n(a):Or(a,n))===r})}var xB=function(n,r){return He(n)&&He(r)?n-r:eo(n)&&eo(r)?n.localeCompare(r):n instanceof Date&&r instanceof Date?n.getTime()-r.getTime():String(n).localeCompare(String(r))};function Nl(e,n){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(n,r)||e[r]!==n[r]))return!1;for(var a in n)if({}.hasOwnProperty.call(n,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function qj(e){"@babel/helpers - typeof";return qj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qj(e)}var bB=["viewBox","children"],jB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OC=["points","pathLength"],vx={svg:bB,polygon:OC,polyline:OC},qN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jm=function(n,r){if(!n||typeof n=="function"||typeof n=="boolean")return null;var a=n;if(g.isValidElement(n)&&(a=n.props),!ic(a))return null;var s={};return Object.keys(a).forEach(function(o){qN.includes(o)&&(s[o]=r||function(l){return a[o](a,l)})}),s},NB=function(n,r,a){return function(s){return n(r,a,s),null}},to=function(n,r,a){if(!ic(n)||qj(n)!=="object")return null;var s=null;return Object.keys(n).forEach(function(o){var l=n[o];qN.includes(o)&&typeof l=="function"&&(s||(s={}),s[o]=NB(l,r,a))}),s},wB=["children"],SB=["children"];function DC(e,n){if(e==null)return{};var r=EB(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function EB(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Lj(e){"@babel/helpers - typeof";return Lj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lj(e)}var PC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fs=function(n){return typeof n=="string"?n:n?n.displayName||n.name||"Component":""},MC=null,yx=null,LN=function e(n){if(n===MC&&Array.isArray(yx))return yx;var r=[];return g.Children.forEach(n,function(a){it(a)||(hB.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),yx=r,MC=n,r};function Dr(e,n){var r=[],a=[];return Array.isArray(n)?a=n.map(function(s){return fs(s)}):a=[fs(n)],LN(e).forEach(function(s){var o=Or(s,"type.displayName")||Or(s,"type.name");a.indexOf(o)!==-1&&r.push(s)}),r}function Cr(e,n){var r=Dr(e,n);return r&&r[0]}var _C=function(n){if(!n||!n.props)return!1;var r=n.props,a=r.width,s=r.height;return!(!He(a)||a<=0||!He(s)||s<=0)},TB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],AB=function(n){return n&&n.type&&eo(n.type)&&TB.indexOf(n.type)>=0},d_=function(n){return n&&Lj(n)==="object"&&"clipDot"in n},CB=function(n,r,a,s){var o,l=(o=vx==null?void 0:vx[s])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!tt(n)&&(s&&l.includes(r)||jB.includes(r))||a&&qN.includes(r)},Ge=function(n,r,a){if(!n||typeof n=="function"||typeof n=="boolean")return null;var s=n;if(g.isValidElement(n)&&(s=n.props),!ic(s))return null;var o={};return Object.keys(s).forEach(function(l){var u;CB((u=s)===null||u===void 0?void 0:u[l],l,r,a)&&(o[l]=s[l])}),o},$j=function e(n,r){if(n===r)return!0;var a=g.Children.count(n);if(a!==g.Children.count(r))return!1;if(a===0)return!0;if(a===1)return IC(Array.isArray(n)?n[0]:n,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var o=n[s],l=r[s];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!IC(o,l))return!1}return!0},IC=function(n,r){if(it(n)&&it(r))return!0;if(!it(n)&&!it(r)){var a=n.props||{},s=a.children,o=DC(a,wB),l=r.props||{},u=l.children,d=DC(l,SB);return s&&u?Nl(o,d)&&$j(s,u):!s&&!u?Nl(o,d):!1}return!1},RC=function(n,r){var a=[],s={};return LN(n).forEach(function(o,l){if(AB(o))a.push(o);else if(o){var u=fs(o.type),d=r[u]||{},h=d.handler,f=d.once;if(h&&(!f||!s[u])){var p=h(o,u,l);a.push(p),s[u]=!0}}}),a},kB=function(n){var r=n&&n.type;return r&&PC[r]?PC[r]:null},OB=function(n,r){return LN(r).indexOf(n)},DB=["children","width","height","viewBox","className","style","title","desc"];function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bj.apply(this,arguments)}function PB(e,n){if(e==null)return{};var r=MB(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function MB(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Uj(e){var n=e.children,r=e.width,a=e.height,s=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,h=PB(e,DB),f=s||{width:r,height:a,x:0,y:0},p=lt("recharts-surface",o);return le.createElement("svg",Bj({},Ge(h,!0,"svg"),{className:p,width:r,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),le.createElement("title",null,u),le.createElement("desc",null,d),n)}var _B=["children","className"];function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fj.apply(this,arguments)}function IB(e,n){if(e==null)return{};var r=RB(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function RB(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var gt=le.forwardRef(function(e,n){var r=e.children,a=e.className,s=IB(e,_B),o=lt("recharts-layer",a);return le.createElement("g",Fj({className:o},Ge(s,!0),{ref:n}),r)}),ha=function(n,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o]},gx,qC;function qB(){if(qC)return gx;qC=1;function e(n,r,a){var s=-1,o=n.length;r<0&&(r=-r>o?0:o+r),a=a>o?o:a,a<0&&(a+=o),o=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(o);++s<o;)l[s]=n[s+r];return l}return gx=e,gx}var xx,LC;function LB(){if(LC)return xx;LC=1;var e=qB();function n(r,a,s){var o=r.length;return s=s===void 0?o:s,!a&&s>=o?r:e(r,a,s)}return xx=n,xx}var bx,$C;function h_(){if($C)return bx;$C=1;var e="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=n+r+a,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+o+"]");function d(h){return u.test(h)}return bx=d,bx}var jx,BC;function $B(){if(BC)return jx;BC=1;function e(n){return n.split("")}return jx=e,jx}var Nx,UC;function BB(){if(UC)return Nx;UC=1;var e="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=n+r+a,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+d+")",f="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=h+"?",j="["+o+"]?",w="(?:"+b+"(?:"+[f,p,y].join("|")+")"+j+x+")*",T=j+x+w,A="(?:"+[f+u+"?",u,p,y,l].join("|")+")",O=RegExp(d+"(?="+d+")|"+A+T,"g");function P(S){return S.match(O)||[]}return Nx=P,Nx}var wx,FC;function UB(){if(FC)return wx;FC=1;var e=$B(),n=h_(),r=BB();function a(s){return n(s)?r(s):e(s)}return wx=a,wx}var Sx,HC;function FB(){if(HC)return Sx;HC=1;var e=LB(),n=h_(),r=UB(),a=o_();function s(o){return function(l){l=a(l);var u=n(l)?r(l):void 0,d=u?u[0]:l.charAt(0),h=u?e(u,1).join(""):l.slice(1);return d[o]()+h}}return Sx=s,Sx}var Ex,zC;function HB(){if(zC)return Ex;zC=1;var e=FB(),n=e("toUpperCase");return Ex=n,Ex}var zB=HB();const dp=kt(zB);function Ht(e){return function(){return e}}const m_=Math.cos,Zm=Math.sin,xa=Math.sqrt,ef=Math.PI,hp=2*ef,Hj=Math.PI,zj=2*Hj,Ii=1e-6,WB=zj-Ii;function f_(e){this._+=e[0];for(let n=1,r=e.length;n<r;++n)this._+=arguments[n]+e[n]}function VB(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return f_;const r=10**n;return function(a){this._+=a[0];for(let s=1,o=a.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class YB{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?f_:VB(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,a,s){this._append`Q${+n},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(n,r,a,s,o,l){this._append`C${+n},${+r},${+a},${+s},${this._x1=+o},${this._y1=+l}`}arcTo(n,r,a,s,o){if(n=+n,r=+r,a=+a,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=a-n,h=s-r,f=l-n,p=u-r,y=f*f+p*p;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(y>Ii)if(!(Math.abs(p*d-h*f)>Ii)||!o)this._append`L${this._x1=n},${this._y1=r}`;else{let b=a-l,x=s-u,j=d*d+h*h,w=b*b+x*x,T=Math.sqrt(j),A=Math.sqrt(y),O=o*Math.tan((Hj-Math.acos((j+y-w)/(2*T*A)))/2),P=O/A,S=O/T;Math.abs(P-1)>Ii&&this._append`L${n+P*f},${r+P*p}`,this._append`A${o},${o},0,0,${+(p*b>f*x)},${this._x1=n+S*d},${this._y1=r+S*h}`}}arc(n,r,a,s,o,l){if(n=+n,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(s),d=a*Math.sin(s),h=n+u,f=r+d,p=1^l,y=l?s-o:o-s;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Ii||Math.abs(this._y1-f)>Ii)&&this._append`L${h},${f}`,a&&(y<0&&(y=y%zj+zj),y>WB?this._append`A${a},${a},0,1,${p},${n-u},${r-d}A${a},${a},0,1,${p},${this._x1=h},${this._y1=f}`:y>Ii&&this._append`A${a},${a},0,${+(y>=Hj)},${p},${this._x1=n+a*Math.cos(o)},${this._y1=r+a*Math.sin(o)}`)}rect(n,r,a,s){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function $N(e){let n=3;return e.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);n=a}return e},()=>new YB(n)}function BN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function p_(e){this._context=e}p_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};function mp(e){return new p_(e)}function v_(e){return e[0]}function y_(e){return e[1]}function g_(e,n){var r=Ht(!0),a=null,s=mp,o=null,l=$N(u);e=typeof e=="function"?e:e===void 0?v_:Ht(e),n=typeof n=="function"?n:n===void 0?y_:Ht(n);function u(d){var h,f=(d=BN(d)).length,p,y=!1,b;for(a==null&&(o=s(b=l())),h=0;h<=f;++h)!(h<f&&r(p=d[h],h,d))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(p,h,d),+n(p,h,d));if(b)return o=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ht(+d),u):e},u.y=function(d){return arguments.length?(n=typeof d=="function"?d:Ht(+d),u):n},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ht(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}function mm(e,n,r){var a=null,s=Ht(!0),o=null,l=mp,u=null,d=$N(h);e=typeof e=="function"?e:e===void 0?v_:Ht(+e),n=typeof n=="function"?n:Ht(n===void 0?0:+n),r=typeof r=="function"?r:r===void 0?y_:Ht(+r);function h(p){var y,b,x,j=(p=BN(p)).length,w,T=!1,A,O=new Array(j),P=new Array(j);for(o==null&&(u=l(A=d())),y=0;y<=j;++y){if(!(y<j&&s(w=p[y],y,p))===T)if(T=!T)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=y-1;x>=b;--x)u.point(O[x],P[x]);u.lineEnd(),u.areaEnd()}T&&(O[y]=+e(w,y,p),P[y]=+n(w,y,p),u.point(a?+a(w,y,p):O[y],r?+r(w,y,p):P[y]))}if(A)return u=null,A+""||null}function f(){return g_().defined(s).curve(l).context(o)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ht(+p),a=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ht(+p),h):e},h.x1=function(p){return arguments.length?(a=p==null?null:typeof p=="function"?p:Ht(+p),h):a},h.y=function(p){return arguments.length?(n=typeof p=="function"?p:Ht(+p),r=null,h):n},h.y0=function(p){return arguments.length?(n=typeof p=="function"?p:Ht(+p),h):n},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ht(+p),h):r},h.lineX0=h.lineY0=function(){return f().x(e).y(n)},h.lineY1=function(){return f().x(e).y(r)},h.lineX1=function(){return f().x(a).y(n)},h.defined=function(p){return arguments.length?(s=typeof p=="function"?p:Ht(!!p),h):s},h.curve=function(p){return arguments.length?(l=p,o!=null&&(u=l(o)),h):l},h.context=function(p){return arguments.length?(p==null?o=u=null:u=l(o=p),h):o},h}class x_{constructor(n,r){this._context=n,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,r){switch(n=+n,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,r,n,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,n,this._y0,n,r);break}}this._x0=n,this._y0=r}}function GB(e){return new x_(e,!0)}function KB(e){return new x_(e,!1)}const UN={draw(e,n){const r=xa(n/ef);e.moveTo(r,0),e.arc(0,0,r,0,hp)}},QB={draw(e,n){const r=xa(n/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},b_=xa(1/3),XB=b_*2,JB={draw(e,n){const r=xa(n/XB),a=r*b_;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},ZB={draw(e,n){const r=xa(n),a=-r/2;e.rect(a,a,r,r)}},eU=.8908130915292852,j_=Zm(ef/10)/Zm(7*ef/10),tU=Zm(hp/10)*j_,nU=-m_(hp/10)*j_,rU={draw(e,n){const r=xa(n*eU),a=tU*r,s=nU*r;e.moveTo(0,-r),e.lineTo(a,s);for(let o=1;o<5;++o){const l=hp*o/5,u=m_(l),d=Zm(l);e.lineTo(d*r,-u*r),e.lineTo(u*a-d*s,d*a+u*s)}e.closePath()}},Tx=xa(3),aU={draw(e,n){const r=-xa(n/(Tx*3));e.moveTo(0,r*2),e.lineTo(-Tx*r,-r),e.lineTo(Tx*r,-r),e.closePath()}},zr=-.5,Wr=xa(3)/2,Wj=1/xa(12),sU=(Wj/2+1)*3,iU={draw(e,n){const r=xa(n/sU),a=r/2,s=r*Wj,o=a,l=r*Wj+r,u=-o,d=l;e.moveTo(a,s),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(zr*a-Wr*s,Wr*a+zr*s),e.lineTo(zr*o-Wr*l,Wr*o+zr*l),e.lineTo(zr*u-Wr*d,Wr*u+zr*d),e.lineTo(zr*a+Wr*s,zr*s-Wr*a),e.lineTo(zr*o+Wr*l,zr*l-Wr*o),e.lineTo(zr*u+Wr*d,zr*d-Wr*u),e.closePath()}};function oU(e,n){let r=null,a=$N(s);e=typeof e=="function"?e:Ht(e||UN),n=typeof n=="function"?n:Ht(n===void 0?64:+n);function s(){let o;if(r||(r=o=a()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ht(o),s):e},s.size=function(o){return arguments.length?(n=typeof o=="function"?o:Ht(+o),s):n},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function tf(){}function nf(e,n,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+n)/6,(e._y0+4*e._y1+r)/6)}function N_(e){this._context=e}N_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nf(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function lU(e){return new N_(e)}function w_(e){this._context=e}w_.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._x2=e,this._y2=n;break;case 1:this._point=2,this._x3=e,this._y3=n;break;case 2:this._point=3,this._x4=e,this._y4=n,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+n)/6);break;default:nf(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function cU(e){return new w_(e)}function S_(e){this._context=e}S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:nf(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function uU(e){return new S_(e)}function E_(e){this._context=e}E_.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,n){e=+e,n=+n,this._point?this._context.lineTo(e,n):(this._point=1,this._context.moveTo(e,n))}};function dU(e){return new E_(e)}function WC(e){return e<0?-1:1}function VC(e,n,r){var a=e._x1-e._x0,s=n-e._x1,o=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),u=(o*s+l*a)/(a+s);return(WC(o)+WC(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function YC(e,n){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-n)/2:n}function Ax(e,n,r){var a=e._x0,s=e._y0,o=e._x1,l=e._y1,u=(o-a)/3;e._context.bezierCurveTo(a+u,s+u*n,o-u,l-u*r,o,l)}function rf(e){this._context=e}rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ax(this,this._t0,YC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){var r=NaN;if(e=+e,n=+n,!(e===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,Ax(this,YC(this,r=VC(this,e,n)),r);break;default:Ax(this,this._t0,r=VC(this,e,n));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._t0=r}}};function T_(e){this._context=new A_(e)}(T_.prototype=Object.create(rf.prototype)).point=function(e,n){rf.prototype.point.call(this,n,e)};function A_(e){this._context=e}A_.prototype={moveTo:function(e,n){this._context.moveTo(n,e)},closePath:function(){this._context.closePath()},lineTo:function(e,n){this._context.lineTo(n,e)},bezierCurveTo:function(e,n,r,a,s,o){this._context.bezierCurveTo(n,e,a,r,o,s)}};function hU(e){return new rf(e)}function mU(e){return new T_(e)}function C_(e){this._context=e}C_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,n=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),r===2)this._context.lineTo(e[1],n[1]);else for(var a=GC(e),s=GC(n),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(a[0][o],s[0][o],a[1][o],s[1][o],e[l],n[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,n){this._x.push(+e),this._y.push(+n)}};function GC(e){var n,r=e.length-1,a,s=new Array(r),o=new Array(r),l=new Array(r);for(s[0]=0,o[0]=2,l[0]=e[0]+2*e[1],n=1;n<r-1;++n)s[n]=1,o[n]=4,l[n]=4*e[n]+2*e[n+1];for(s[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],n=1;n<r;++n)a=s[n]/o[n-1],o[n]-=a,l[n]-=a*l[n-1];for(s[r-1]=l[r-1]/o[r-1],n=r-2;n>=0;--n)s[n]=(l[n]-s[n+1])/o[n];for(o[r-1]=(e[r]+s[r-1])/2,n=0;n<r-1;++n)o[n]=2*e[n+1]-s[n+1];return[s,o]}function fU(e){return new C_(e)}function fp(e,n){this._context=e,this._t=n}fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(e,n);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,n)}break}}this._x=e,this._y=n}};function pU(e){return new fp(e,.5)}function vU(e){return new fp(e,0)}function yU(e){return new fp(e,1)}function Al(e,n){if((l=e.length)>1)for(var r=1,a,s,o=e[n[0]],l,u=o.length;r<l;++r)for(s=o,o=e[n[r]],a=0;a<u;++a)o[a][1]+=o[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Vj(e){for(var n=e.length,r=new Array(n);--n>=0;)r[n]=n;return r}function gU(e,n){return e[n]}function xU(e){const n=[];return n.key=e,n}function bU(){var e=Ht([]),n=Vj,r=Al,a=gU;function s(o){var l=Array.from(e.apply(this,arguments),xU),u,d=l.length,h=-1,f;for(const p of o)for(u=0,++h;u<d;++u)(l[u][h]=[0,+a(p,l[u].key,h,o)]).data=p;for(u=0,f=BN(n(l));u<d;++u)l[f[u]].index=u;return r(l,f),l}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ht(Array.from(o)),s):e},s.value=function(o){return arguments.length?(a=typeof o=="function"?o:Ht(+o),s):a},s.order=function(o){return arguments.length?(n=o==null?Vj:typeof o=="function"?o:Ht(Array.from(o)),s):n},s.offset=function(o){return arguments.length?(r=o??Al,s):r},s}function jU(e,n){if((a=e.length)>0){for(var r,a,s=0,o=e[0].length,l;s<o;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}Al(e,n)}}function NU(e,n){if((s=e.length)>0){for(var r=0,a=e[n[0]],s,o=a.length;r<o;++r){for(var l=0,u=0;l<s;++l)u+=e[l][r][1]||0;a[r][1]+=a[r][0]=-u/2}Al(e,n)}}function wU(e,n){if(!(!((l=e.length)>0)||!((o=(s=e[n[0]]).length)>0))){for(var r=0,a=1,s,o,l;a<o;++a){for(var u=0,d=0,h=0;u<l;++u){for(var f=e[n[u]],p=f[a][1]||0,y=f[a-1][1]||0,b=(p-y)/2,x=0;x<u;++x){var j=e[n[x]],w=j[a][1]||0,T=j[a-1][1]||0;b+=w-T}d+=p,h+=b*p}s[a-1][1]+=s[a-1][0]=r,d&&(r-=h/d)}s[a-1][1]+=s[a-1][0]=r,Al(e,n)}}function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xu(e)}var SU=["type","size","sizeType"];function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yj.apply(this,arguments)}function KC(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function QC(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?KC(Object(r),!0).forEach(function(a){EU(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function EU(e,n,r){return n=TU(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function TU(e){var n=AU(e,"string");return Xu(n)=="symbol"?n:n+""}function AU(e,n){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Xu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function CU(e,n){if(e==null)return{};var r=kU(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function kU(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var k_={symbolCircle:UN,symbolCross:QB,symbolDiamond:JB,symbolSquare:ZB,symbolStar:rU,symbolTriangle:aU,symbolWye:iU},OU=Math.PI/180,DU=function(n){var r="symbol".concat(dp(n));return k_[r]||UN},PU=function(n,r,a){if(r==="area")return n;switch(a){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var s=18*OU;return 1.25*n*n*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},MU=function(n,r){k_["symbol".concat(dp(n))]=r},FN=function(n){var r=n.type,a=r===void 0?"circle":r,s=n.size,o=s===void 0?64:s,l=n.sizeType,u=l===void 0?"area":l,d=CU(n,SU),h=QC(QC({},d),{},{type:a,size:o,sizeType:u}),f=function(){var w=DU(a),T=oU().type(w).size(PU(o,u,a));return T()},p=h.className,y=h.cx,b=h.cy,x=Ge(h,!0);return y===+y&&b===+b&&o===+o?le.createElement("path",Yj({},x,{className:lt("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(b,")"),d:f()})):null};FN.registerSymbol=MU;function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cl(e)}function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gj.apply(this,arguments)}function XC(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _U(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?XC(Object(r),!0).forEach(function(a){Ju(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IU(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function RU(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,D_(a.key),a)}}function qU(e,n,r){return n&&RU(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LU(e,n,r){return n=af(n),$U(e,O_()?Reflect.construct(n,r||[],af(e).constructor):n.apply(e,r))}function $U(e,n){if(n&&(Cl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BU(e)}function BU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O_=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function UU(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Kj(e,n)}function Kj(e,n){return Kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Kj(e,n)}function Ju(e,n,r){return n=D_(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function D_(e){var n=FU(e,"string");return Cl(n)=="symbol"?n:n+""}function FU(e,n){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Cl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ra=32,HN=function(e){function n(){return IU(this,n),LU(this,n,arguments)}return UU(n,e),qU(n,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,o=ra/2,l=ra/6,u=ra/3,d=a.inactive?s:a.color;if(a.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:o,x2:ra,y2:o,className:"recharts-legend-icon"});if(a.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(ra,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(a.type==="rect")return le.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ra/8,"h").concat(ra,"v").concat(ra*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(le.isValidElement(a.legendIcon)){var h=_U({},a);return delete h.legendIcon,le.cloneElement(a.legendIcon,h)}return le.createElement(FN,{fill:d,cx:o,cy:o,size:ra,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,o=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,h=s.inactiveColor,f={x:0,y:0,width:ra,height:ra},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,x){var j=b.formatter||d,w=lt(Ju(Ju({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",b.inactive));if(b.type==="none")return null;var T=tt(b.value)?null:b.value;ha(!tt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=b.inactive?h:b.color;return le.createElement("li",Gj({className:w,style:p,key:"legend-item-".concat(x)},to(a.props,b,x)),le.createElement(Uj,{width:l,height:l,viewBox:f,style:y},a.renderIcon(b)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},j?j(T,b,x):T))})}},{key:"render",value:function(){var a=this.props,s=a.payload,o=a.layout,l=a.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(g.PureComponent);Ju(HN,"displayName","Legend");Ju(HN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Cx,JC;function HU(){if(JC)return Cx;JC=1;var e=lp();function n(){this.__data__=new e,this.size=0}return Cx=n,Cx}var kx,ZC;function zU(){if(ZC)return kx;ZC=1;function e(n){var r=this.__data__,a=r.delete(n);return this.size=r.size,a}return kx=e,kx}var Ox,ek;function WU(){if(ek)return Ox;ek=1;function e(n){return this.__data__.get(n)}return Ox=e,Ox}var Dx,tk;function VU(){if(tk)return Dx;tk=1;function e(n){return this.__data__.has(n)}return Dx=e,Dx}var Px,nk;function YU(){if(nk)return Px;nk=1;var e=lp(),n=MN(),r=_N(),a=200;function s(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!n||d.length<a-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return Px=s,Px}var Mx,rk;function P_(){if(rk)return Mx;rk=1;var e=lp(),n=HU(),r=zU(),a=WU(),s=VU(),o=YU();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,Mx=l,Mx}var _x,ak;function GU(){if(ak)return _x;ak=1;var e="__lodash_hash_undefined__";function n(r){return this.__data__.set(r,e),this}return _x=n,_x}var Ix,sk;function KU(){if(sk)return Ix;sk=1;function e(n){return this.__data__.has(n)}return Ix=e,Ix}var Rx,ik;function M_(){if(ik)return Rx;ik=1;var e=_N(),n=GU(),r=KU();function a(s){var o=-1,l=s==null?0:s.length;for(this.__data__=new e;++o<l;)this.add(s[o])}return a.prototype.add=a.prototype.push=n,a.prototype.has=r,Rx=a,Rx}var qx,ok;function __(){if(ok)return qx;ok=1;function e(n,r){for(var a=-1,s=n==null?0:n.length;++a<s;)if(r(n[a],a,n))return!0;return!1}return qx=e,qx}var Lx,lk;function I_(){if(lk)return Lx;lk=1;function e(n,r){return n.has(r)}return Lx=e,Lx}var $x,ck;function R_(){if(ck)return $x;ck=1;var e=M_(),n=__(),r=I_(),a=1,s=2;function o(l,u,d,h,f,p){var y=d&a,b=l.length,x=u.length;if(b!=x&&!(y&&x>b))return!1;var j=p.get(l),w=p.get(u);if(j&&w)return j==u&&w==l;var T=-1,A=!0,O=d&s?new e:void 0;for(p.set(l,u),p.set(u,l);++T<b;){var P=l[T],S=u[T];if(h)var E=y?h(S,P,T,u,l,p):h(P,S,T,l,u,p);if(E!==void 0){if(E)continue;A=!1;break}if(O){if(!n(u,function(k,D){if(!r(O,D)&&(P===k||f(P,k,d,h,p)))return O.push(D)})){A=!1;break}}else if(!(P===S||f(P,S,d,h,p))){A=!1;break}}return p.delete(l),p.delete(u),A}return $x=o,$x}var Bx,uk;function QU(){if(uk)return Bx;uk=1;var e=Fa(),n=e.Uint8Array;return Bx=n,Bx}var Ux,dk;function XU(){if(dk)return Ux;dk=1;function e(n){var r=-1,a=Array(n.size);return n.forEach(function(s,o){a[++r]=[o,s]}),a}return Ux=e,Ux}var Fx,hk;function zN(){if(hk)return Fx;hk=1;function e(n){var r=-1,a=Array(n.size);return n.forEach(function(s){a[++r]=s}),a}return Fx=e,Fx}var Hx,mk;function JU(){if(mk)return Hx;mk=1;var e=$d(),n=QU(),r=PN(),a=R_(),s=XU(),o=zN(),l=1,u=2,d="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Map]",y="[object Number]",b="[object RegExp]",x="[object Set]",j="[object String]",w="[object Symbol]",T="[object ArrayBuffer]",A="[object DataView]",O=e?e.prototype:void 0,P=O?O.valueOf:void 0;function S(E,k,D,_,U,R,$){switch(D){case A:if(E.byteLength!=k.byteLength||E.byteOffset!=k.byteOffset)return!1;E=E.buffer,k=k.buffer;case T:return!(E.byteLength!=k.byteLength||!R(new n(E),new n(k)));case d:case h:case y:return r(+E,+k);case f:return E.name==k.name&&E.message==k.message;case b:case j:return E==k+"";case p:var L=s;case x:var z=_&l;if(L||(L=o),E.size!=k.size&&!z)return!1;var W=$.get(E);if(W)return W==k;_|=u,$.set(E,k);var M=a(L(E),L(k),_,U,R,$);return $.delete(E),M;case w:if(P)return P.call(E)==P.call(k)}return!1}return Hx=S,Hx}var zx,fk;function q_(){if(fk)return zx;fk=1;function e(n,r){for(var a=-1,s=r.length,o=n.length;++a<s;)n[o+a]=r[a];return n}return zx=e,zx}var Wx,pk;function ZU(){if(pk)return Wx;pk=1;var e=q_(),n=yr();function r(a,s,o){var l=s(a);return n(a)?l:e(l,o(a))}return Wx=r,Wx}var Vx,vk;function eF(){if(vk)return Vx;vk=1;function e(n,r){for(var a=-1,s=n==null?0:n.length,o=0,l=[];++a<s;){var u=n[a];r(u,a,n)&&(l[o++]=u)}return l}return Vx=e,Vx}var Yx,yk;function tF(){if(yk)return Yx;yk=1;function e(){return[]}return Yx=e,Yx}var Gx,gk;function nF(){if(gk)return Gx;gk=1;var e=eF(),n=tF(),r=Object.prototype,a=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return a.call(l,u)}))}:n;return Gx=o,Gx}var Kx,xk;function rF(){if(xk)return Kx;xk=1;function e(n,r){for(var a=-1,s=Array(n);++a<n;)s[a]=r(a);return s}return Kx=e,Kx}var Qx,bk;function aF(){if(bk)return Qx;bk=1;var e=js(),n=Ns(),r="[object Arguments]";function a(s){return n(s)&&e(s)==r}return Qx=a,Qx}var Xx,jk;function WN(){if(jk)return Xx;jk=1;var e=aF(),n=Ns(),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(l){return n(l)&&a.call(l,"callee")&&!s.call(l,"callee")};return Xx=o,Xx}var ku={exports:{}},Jx,Nk;function sF(){if(Nk)return Jx;Nk=1;function e(){return!1}return Jx=e,Jx}ku.exports;var wk;function L_(){return wk||(wk=1,function(e,n){var r=Fa(),a=sF(),s=n&&!n.nodeType&&n,o=s&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===s,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||a;e.exports=h}(ku,ku.exports)),ku.exports}var Zx,Sk;function VN(){if(Sk)return Zx;Sk=1;var e=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function r(a,s){var o=typeof a;return s=s??e,!!s&&(o=="number"||o!="symbol"&&n.test(a))&&a>-1&&a%1==0&&a<s}return Zx=r,Zx}var eb,Ek;function YN(){if(Ek)return eb;Ek=1;var e=9007199254740991;function n(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return eb=n,eb}var tb,Tk;function iF(){if(Tk)return tb;Tk=1;var e=js(),n=YN(),r=Ns(),a="[object Arguments]",s="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",f="[object Number]",p="[object Object]",y="[object RegExp]",b="[object Set]",x="[object String]",j="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",P="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",k="[object Uint8Array]",D="[object Uint8ClampedArray]",_="[object Uint16Array]",U="[object Uint32Array]",R={};R[A]=R[O]=R[P]=R[S]=R[E]=R[k]=R[D]=R[_]=R[U]=!0,R[a]=R[s]=R[w]=R[o]=R[T]=R[l]=R[u]=R[d]=R[h]=R[f]=R[p]=R[y]=R[b]=R[x]=R[j]=!1;function $(L){return r(L)&&n(L.length)&&!!R[e(L)]}return tb=$,tb}var nb,Ak;function $_(){if(Ak)return nb;Ak=1;function e(n){return function(r){return n(r)}}return nb=e,nb}var Ou={exports:{}};Ou.exports;var Ck;function oF(){return Ck||(Ck=1,function(e,n){var r=a_(),a=n&&!n.nodeType&&n,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o&&r.process,u=function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}}();e.exports=u}(Ou,Ou.exports)),Ou.exports}var rb,kk;function B_(){if(kk)return rb;kk=1;var e=iF(),n=$_(),r=oF(),a=r&&r.isTypedArray,s=a?n(a):e;return rb=s,rb}var ab,Ok;function lF(){if(Ok)return ab;Ok=1;var e=rF(),n=WN(),r=yr(),a=L_(),s=VN(),o=B_(),l=Object.prototype,u=l.hasOwnProperty;function d(h,f){var p=r(h),y=!p&&n(h),b=!p&&!y&&a(h),x=!p&&!y&&!b&&o(h),j=p||y||b||x,w=j?e(h.length,String):[],T=w.length;for(var A in h)(f||u.call(h,A))&&!(j&&(A=="length"||b&&(A=="offset"||A=="parent")||x&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||s(A,T)))&&w.push(A);return w}return ab=d,ab}var sb,Dk;function cF(){if(Dk)return sb;Dk=1;var e=Object.prototype;function n(r){var a=r&&r.constructor,s=typeof a=="function"&&a.prototype||e;return r===s}return sb=n,sb}var ib,Pk;function U_(){if(Pk)return ib;Pk=1;function e(n,r){return function(a){return n(r(a))}}return ib=e,ib}var ob,Mk;function uF(){if(Mk)return ob;Mk=1;var e=U_(),n=e(Object.keys,Object);return ob=n,ob}var lb,_k;function dF(){if(_k)return lb;_k=1;var e=cF(),n=uF(),r=Object.prototype,a=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var l=[];for(var u in Object(o))a.call(o,u)&&u!="constructor"&&l.push(u);return l}return lb=s,lb}var cb,Ik;function Bd(){if(Ik)return cb;Ik=1;var e=DN(),n=YN();function r(a){return a!=null&&n(a.length)&&!e(a)}return cb=r,cb}var ub,Rk;function pp(){if(Rk)return ub;Rk=1;var e=lF(),n=dF(),r=Bd();function a(s){return r(s)?e(s):n(s)}return ub=a,ub}var db,qk;function hF(){if(qk)return db;qk=1;var e=ZU(),n=nF(),r=pp();function a(s){return e(s,r,n)}return db=a,db}var hb,Lk;function mF(){if(Lk)return hb;Lk=1;var e=hF(),n=1,r=Object.prototype,a=r.hasOwnProperty;function s(o,l,u,d,h,f){var p=u&n,y=e(o),b=y.length,x=e(l),j=x.length;if(b!=j&&!p)return!1;for(var w=b;w--;){var T=y[w];if(!(p?T in l:a.call(l,T)))return!1}var A=f.get(o),O=f.get(l);if(A&&O)return A==l&&O==o;var P=!0;f.set(o,l),f.set(l,o);for(var S=p;++w<b;){T=y[w];var E=o[T],k=l[T];if(d)var D=p?d(k,E,T,l,o,f):d(E,k,T,o,l,f);if(!(D===void 0?E===k||h(E,k,u,d,f):D)){P=!1;break}S||(S=T=="constructor")}if(P&&!S){var _=o.constructor,U=l.constructor;_!=U&&"constructor"in o&&"constructor"in l&&!(typeof _=="function"&&_ instanceof _&&typeof U=="function"&&U instanceof U)&&(P=!1)}return f.delete(o),f.delete(l),P}return hb=s,hb}var mb,$k;function fF(){if($k)return mb;$k=1;var e=uo(),n=Fa(),r=e(n,"DataView");return mb=r,mb}var fb,Bk;function pF(){if(Bk)return fb;Bk=1;var e=uo(),n=Fa(),r=e(n,"Promise");return fb=r,fb}var pb,Uk;function F_(){if(Uk)return pb;Uk=1;var e=uo(),n=Fa(),r=e(n,"Set");return pb=r,pb}var vb,Fk;function vF(){if(Fk)return vb;Fk=1;var e=uo(),n=Fa(),r=e(n,"WeakMap");return vb=r,vb}var yb,Hk;function yF(){if(Hk)return yb;Hk=1;var e=fF(),n=MN(),r=pF(),a=F_(),s=vF(),o=js(),l=s_(),u="[object Map]",d="[object Object]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",y="[object DataView]",b=l(e),x=l(n),j=l(r),w=l(a),T=l(s),A=o;return(e&&A(new e(new ArrayBuffer(1)))!=y||n&&A(new n)!=u||r&&A(r.resolve())!=h||a&&A(new a)!=f||s&&A(new s)!=p)&&(A=function(O){var P=o(O),S=P==d?O.constructor:void 0,E=S?l(S):"";if(E)switch(E){case b:return y;case x:return u;case j:return h;case w:return f;case T:return p}return P}),yb=A,yb}var gb,zk;function gF(){if(zk)return gb;zk=1;var e=P_(),n=R_(),r=JU(),a=mF(),s=yF(),o=yr(),l=L_(),u=B_(),d=1,h="[object Arguments]",f="[object Array]",p="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function x(j,w,T,A,O,P){var S=o(j),E=o(w),k=S?f:s(j),D=E?f:s(w);k=k==h?p:k,D=D==h?p:D;var _=k==p,U=D==p,R=k==D;if(R&&l(j)){if(!l(w))return!1;S=!0,_=!1}if(R&&!_)return P||(P=new e),S||u(j)?n(j,w,T,A,O,P):r(j,w,k,T,A,O,P);if(!(T&d)){var $=_&&b.call(j,"__wrapped__"),L=U&&b.call(w,"__wrapped__");if($||L){var z=$?j.value():j,W=L?w.value():w;return P||(P=new e),O(z,W,T,A,P)}}return R?(P||(P=new e),a(j,w,T,A,O,P)):!1}return gb=x,gb}var xb,Wk;function GN(){if(Wk)return xb;Wk=1;var e=gF(),n=Ns();function r(a,s,o,l,u){return a===s?!0:a==null||s==null||!n(a)&&!n(s)?a!==a&&s!==s:e(a,s,o,l,r,u)}return xb=r,xb}var bb,Vk;function xF(){if(Vk)return bb;Vk=1;var e=P_(),n=GN(),r=1,a=2;function s(o,l,u,d){var h=u.length,f=h,p=!d;if(o==null)return!f;for(o=Object(o);h--;){var y=u[h];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++h<f;){y=u[h];var b=y[0],x=o[b],j=y[1];if(p&&y[2]){if(x===void 0&&!(b in o))return!1}else{var w=new e;if(d)var T=d(x,j,b,o,l,w);if(!(T===void 0?n(j,x,r|a,d,w):T))return!1}}return!0}return bb=s,bb}var jb,Yk;function H_(){if(Yk)return jb;Yk=1;var e=ii();function n(r){return r===r&&!e(r)}return jb=n,jb}var Nb,Gk;function bF(){if(Gk)return Nb;Gk=1;var e=H_(),n=pp();function r(a){for(var s=n(a),o=s.length;o--;){var l=s[o],u=a[l];s[o]=[l,u,e(u)]}return s}return Nb=r,Nb}var wb,Kk;function z_(){if(Kk)return wb;Kk=1;function e(n,r){return function(a){return a==null?!1:a[n]===r&&(r!==void 0||n in Object(a))}}return wb=e,wb}var Sb,Qk;function jF(){if(Qk)return Sb;Qk=1;var e=xF(),n=bF(),r=z_();function a(s){var o=n(s);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===s||e(l,s,o)}}return Sb=a,Sb}var Eb,Xk;function NF(){if(Xk)return Eb;Xk=1;function e(n,r){return n!=null&&r in Object(n)}return Eb=e,Eb}var Tb,Jk;function wF(){if(Jk)return Tb;Jk=1;var e=l_(),n=WN(),r=yr(),a=VN(),s=YN(),o=up();function l(u,d,h){d=e(d,u);for(var f=-1,p=d.length,y=!1;++f<p;){var b=o(d[f]);if(!(y=u!=null&&h(u,b)))break;u=u[b]}return y||++f!=p?y:(p=u==null?0:u.length,!!p&&s(p)&&a(b,p)&&(r(u)||n(u)))}return Tb=l,Tb}var Ab,Zk;function SF(){if(Zk)return Ab;Zk=1;var e=NF(),n=wF();function r(a,s){return a!=null&&n(a,s,e)}return Ab=r,Ab}var Cb,e4;function EF(){if(e4)return Cb;e4=1;var e=GN(),n=c_(),r=SF(),a=ON(),s=H_(),o=z_(),l=up(),u=1,d=2;function h(f,p){return a(f)&&s(p)?o(l(f),p):function(y){var b=n(y,f);return b===void 0&&b===p?r(y,f):e(p,b,u|d)}}return Cb=h,Cb}var kb,t4;function lc(){if(t4)return kb;t4=1;function e(n){return n}return kb=e,kb}var Ob,n4;function TF(){if(n4)return Ob;n4=1;function e(n){return function(r){return r==null?void 0:r[n]}}return Ob=e,Ob}var Db,r4;function AF(){if(r4)return Db;r4=1;var e=RN();function n(r){return function(a){return e(a,r)}}return Db=n,Db}var Pb,a4;function CF(){if(a4)return Pb;a4=1;var e=TF(),n=AF(),r=ON(),a=up();function s(o){return r(o)?e(a(o)):n(o)}return Pb=s,Pb}var Mb,s4;function Ha(){if(s4)return Mb;s4=1;var e=jF(),n=EF(),r=lc(),a=yr(),s=CF();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?n(l[0],l[1]):e(l):s(l)}return Mb=o,Mb}var _b,i4;function W_(){if(i4)return _b;i4=1;function e(n,r,a,s){for(var o=n.length,l=a+(s?1:-1);s?l--:++l<o;)if(r(n[l],l,n))return l;return-1}return _b=e,_b}var Ib,o4;function kF(){if(o4)return Ib;o4=1;function e(n){return n!==n}return Ib=e,Ib}var Rb,l4;function OF(){if(l4)return Rb;l4=1;function e(n,r,a){for(var s=a-1,o=n.length;++s<o;)if(n[s]===r)return s;return-1}return Rb=e,Rb}var qb,c4;function DF(){if(c4)return qb;c4=1;var e=W_(),n=kF(),r=OF();function a(s,o,l){return o===o?r(s,o,l):e(s,n,l)}return qb=a,qb}var Lb,u4;function PF(){if(u4)return Lb;u4=1;var e=DF();function n(r,a){var s=r==null?0:r.length;return!!s&&e(r,a,0)>-1}return Lb=n,Lb}var $b,d4;function MF(){if(d4)return $b;d4=1;function e(n,r,a){for(var s=-1,o=n==null?0:n.length;++s<o;)if(a(r,n[s]))return!0;return!1}return $b=e,$b}var Bb,h4;function _F(){if(h4)return Bb;h4=1;function e(){}return Bb=e,Bb}var Ub,m4;function IF(){if(m4)return Ub;m4=1;var e=F_(),n=_F(),r=zN(),a=1/0,s=e&&1/r(new e([,-0]))[1]==a?function(o){return new e(o)}:n;return Ub=s,Ub}var Fb,f4;function RF(){if(f4)return Fb;f4=1;var e=M_(),n=PF(),r=MF(),a=I_(),s=IF(),o=zN(),l=200;function u(d,h,f){var p=-1,y=n,b=d.length,x=!0,j=[],w=j;if(f)x=!1,y=r;else if(b>=l){var T=h?null:s(d);if(T)return o(T);x=!1,y=a,w=new e}else w=h?[]:j;e:for(;++p<b;){var A=d[p],O=h?h(A):A;if(A=f||A!==0?A:0,x&&O===O){for(var P=w.length;P--;)if(w[P]===O)continue e;h&&w.push(O),j.push(A)}else y(w,O,f)||(w!==j&&w.push(O),j.push(A))}return j}return Fb=u,Fb}var Hb,p4;function qF(){if(p4)return Hb;p4=1;var e=Ha(),n=RF();function r(a,s){return a&&a.length?n(a,e(s,2)):[]}return Hb=r,Hb}var LF=qF();const v4=kt(LF);function V_(e,n,r){return n===!0?v4(e,r):tt(n)?v4(e,n):e}function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kl(e)}var $F=["ref"];function y4(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ss(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?y4(Object(r),!0).forEach(function(a){vp(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BF(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function g4(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,G_(a.key),a)}}function UF(e,n,r){return n&&g4(e.prototype,n),r&&g4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FF(e,n,r){return n=sf(n),HF(e,Y_()?Reflect.construct(n,r||[],sf(e).constructor):n.apply(e,r))}function HF(e,n){if(n&&(kl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zF(e)}function zF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y_=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(e)}function WF(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Qj(e,n)}function Qj(e,n){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Qj(e,n)}function vp(e,n,r){return n=G_(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function G_(e){var n=VF(e,"string");return kl(n)=="symbol"?n:n+""}function VF(e,n){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(kl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function YF(e,n){if(e==null)return{};var r=GF(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function GF(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function KF(e){return e.value}function QF(e,n){if(le.isValidElement(e))return le.cloneElement(e,n);if(typeof e=="function")return le.createElement(e,n);n.ref;var r=YF(n,$F);return le.createElement(HN,r)}var x4=1,ps=function(e){function n(){var r;BF(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=FF(this,n,[].concat(s)),vp(r,"lastBoundingBox",{width:-1,height:-1}),r}return WF(n,e),UF(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>x4||Math.abs(s.height-this.lastBoundingBox.height)>x4)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ss({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,o=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,h=s.chartWidth,f=s.chartHeight,p,y;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();p={left:((h||0)-b.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(u==="middle"){var x=this.getBBoxSnapshot();y={top:((f||0)-x.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return ss(ss({},p),y)}},{key:"render",value:function(){var a=this,s=this.props,o=s.content,l=s.width,u=s.height,d=s.wrapperStyle,h=s.payloadUniqBy,f=s.payload,p=ss(ss({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return le.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){a.wrapperNode=b}},QF(o,ss(ss({},this.props),{},{payload:V_(f,h,KF)})))}}],[{key:"getWithHeight",value:function(a,s){var o=ss(ss({},this.defaultProps),a.props),l=o.layout;return l==="vertical"&&He(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])}(g.PureComponent);vp(ps,"displayName","Legend");vp(ps,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zb,b4;function XF(){if(b4)return zb;b4=1;var e=$d(),n=WN(),r=yr(),a=e?e.isConcatSpreadable:void 0;function s(o){return r(o)||n(o)||!!(a&&o&&o[a])}return zb=s,zb}var Wb,j4;function K_(){if(j4)return Wb;j4=1;var e=q_(),n=XF();function r(a,s,o,l,u){var d=-1,h=a.length;for(o||(o=n),u||(u=[]);++d<h;){var f=a[d];s>0&&o(f)?s>1?r(f,s-1,o,l,u):e(u,f):l||(u[u.length]=f)}return u}return Wb=r,Wb}var Vb,N4;function JF(){if(N4)return Vb;N4=1;function e(n){return function(r,a,s){for(var o=-1,l=Object(r),u=s(r),d=u.length;d--;){var h=u[n?d:++o];if(a(l[h],h,l)===!1)break}return r}}return Vb=e,Vb}var Yb,w4;function ZF(){if(w4)return Yb;w4=1;var e=JF(),n=e();return Yb=n,Yb}var Gb,S4;function Q_(){if(S4)return Gb;S4=1;var e=ZF(),n=pp();function r(a,s){return a&&e(a,s,n)}return Gb=r,Gb}var Kb,E4;function eH(){if(E4)return Kb;E4=1;var e=Bd();function n(r,a){return function(s,o){if(s==null)return s;if(!e(s))return r(s,o);for(var l=s.length,u=a?l:-1,d=Object(s);(a?u--:++u<l)&&o(d[u],u,d)!==!1;);return s}}return Kb=n,Kb}var Qb,T4;function KN(){if(T4)return Qb;T4=1;var e=Q_(),n=eH(),r=n(e);return Qb=r,Qb}var Xb,A4;function X_(){if(A4)return Xb;A4=1;var e=KN(),n=Bd();function r(a,s){var o=-1,l=n(a)?Array(a.length):[];return e(a,function(u,d,h){l[++o]=s(u,d,h)}),l}return Xb=r,Xb}var Jb,C4;function tH(){if(C4)return Jb;C4=1;function e(n,r){var a=n.length;for(n.sort(r);a--;)n[a]=n[a].value;return n}return Jb=e,Jb}var Zb,k4;function nH(){if(k4)return Zb;k4=1;var e=sc();function n(r,a){if(r!==a){var s=r!==void 0,o=r===null,l=r===r,u=e(r),d=a!==void 0,h=a===null,f=a===a,p=e(a);if(!h&&!p&&!u&&r>a||u&&d&&f&&!h&&!p||o&&d&&f||!s&&f||!l)return 1;if(!o&&!u&&!p&&r<a||p&&s&&l&&!o&&!u||h&&s&&l||!d&&l||!f)return-1}return 0}return Zb=n,Zb}var e0,O4;function rH(){if(O4)return e0;O4=1;var e=nH();function n(r,a,s){for(var o=-1,l=r.criteria,u=a.criteria,d=l.length,h=s.length;++o<d;){var f=e(l[o],u[o]);if(f){if(o>=h)return f;var p=s[o];return f*(p=="desc"?-1:1)}}return r.index-a.index}return e0=n,e0}var t0,D4;function aH(){if(D4)return t0;D4=1;var e=IN(),n=RN(),r=Ha(),a=X_(),s=tH(),o=$_(),l=rH(),u=lc(),d=yr();function h(f,p,y){p.length?p=e(p,function(j){return d(j)?function(w){return n(w,j.length===1?j[0]:j)}:j}):p=[u];var b=-1;p=e(p,o(r));var x=a(f,function(j,w,T){var A=e(p,function(O){return O(j)});return{criteria:A,index:++b,value:j}});return s(x,function(j,w){return l(j,w,y)})}return t0=h,t0}var n0,P4;function sH(){if(P4)return n0;P4=1;function e(n,r,a){switch(a.length){case 0:return n.call(r);case 1:return n.call(r,a[0]);case 2:return n.call(r,a[0],a[1]);case 3:return n.call(r,a[0],a[1],a[2])}return n.apply(r,a)}return n0=e,n0}var r0,M4;function iH(){if(M4)return r0;M4=1;var e=sH(),n=Math.max;function r(a,s,o){return s=n(s===void 0?a.length-1:s,0),function(){for(var l=arguments,u=-1,d=n(l.length-s,0),h=Array(d);++u<d;)h[u]=l[s+u];u=-1;for(var f=Array(s+1);++u<s;)f[u]=l[u];return f[s]=o(h),e(a,this,f)}}return r0=r,r0}var a0,_4;function oH(){if(_4)return a0;_4=1;function e(n){return function(){return n}}return a0=e,a0}var s0,I4;function J_(){if(I4)return s0;I4=1;var e=uo(),n=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return s0=n,s0}var i0,R4;function lH(){if(R4)return i0;R4=1;var e=oH(),n=J_(),r=lc(),a=n?function(s,o){return n(s,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return i0=a,i0}var o0,q4;function cH(){if(q4)return o0;q4=1;var e=800,n=16,r=Date.now;function a(s){var o=0,l=0;return function(){var u=r(),d=n-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}return o0=a,o0}var l0,L4;function uH(){if(L4)return l0;L4=1;var e=lH(),n=cH(),r=n(e);return l0=r,l0}var c0,$4;function dH(){if($4)return c0;$4=1;var e=lc(),n=iH(),r=uH();function a(s,o){return r(n(s,o,e),s+"")}return c0=a,c0}var u0,B4;function yp(){if(B4)return u0;B4=1;var e=PN(),n=Bd(),r=VN(),a=ii();function s(o,l,u){if(!a(u))return!1;var d=typeof l;return(d=="number"?n(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return u0=s,u0}var d0,U4;function hH(){if(U4)return d0;U4=1;var e=K_(),n=aH(),r=dH(),a=yp(),s=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&a(o,l[0],l[1])?l=[]:u>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),n(o,e(l,1),[])});return d0=s,d0}var mH=hH();const QN=kt(mH);function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zu(e)}function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xj.apply(this,arguments)}function fH(e,n){return gH(e)||yH(e,n)||vH(e,n)||pH()}function pH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(e,n){if(e){if(typeof e=="string")return F4(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F4(e,n)}}function F4(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function yH(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function gH(e){if(Array.isArray(e))return e}function H4(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function h0(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?H4(Object(r),!0).forEach(function(a){xH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xH(e,n,r){return n=bH(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function bH(e){var n=jH(e,"string");return Zu(n)=="symbol"?n:n+""}function jH(e,n){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Zu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function NH(e){return Array.isArray(e)&&En(e[0])&&En(e[1])?e.join(" ~ "):e}var wH=function(n){var r=n.separator,a=r===void 0?" : ":r,s=n.contentStyle,o=s===void 0?{}:s,l=n.itemStyle,u=l===void 0?{}:l,d=n.labelStyle,h=d===void 0?{}:d,f=n.payload,p=n.formatter,y=n.itemSorter,b=n.wrapperClassName,x=n.labelClassName,j=n.label,w=n.labelFormatter,T=n.accessibilityLayer,A=T===void 0?!1:T,O=function(){if(f&&f.length){var $={padding:0,margin:0},L=(y?QN(f,y):f).map(function(z,W){if(z.type==="none")return null;var M=h0({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},u),F=z.formatter||p||NH,G=z.value,J=z.name,I=G,q=J;if(F&&I!=null&&q!=null){var B=F(G,J,z,W,f);if(Array.isArray(B)){var H=fH(B,2);I=H[0],q=H[1]}else I=B}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:M},En(q)?le.createElement("span",{className:"recharts-tooltip-item-name"},q):null,En(q)?le.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,le.createElement("span",{className:"recharts-tooltip-item-value"},I),le.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},P=h0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=h0({margin:0},h),E=!it(j),k=E?j:"",D=lt("recharts-default-tooltip",b),_=lt("recharts-tooltip-label",x);E&&w&&f!==void 0&&f!==null&&(k=w(j,f));var U=A?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",Xj({className:D,style:P},U),le.createElement("p",{className:_,style:S},le.isValidElement(k)?k:"".concat(k)),O())};function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ed(e)}function fm(e,n,r){return n=SH(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function SH(e){var n=EH(e,"string");return ed(n)=="symbol"?n:n+""}function EH(e,n){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(ed(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var pu="recharts-tooltip-wrapper",TH={visibility:"hidden"};function AH(e){var n=e.coordinate,r=e.translateX,a=e.translateY;return lt(pu,fm(fm(fm(fm({},"".concat(pu,"-right"),He(r)&&n&&He(n.x)&&r>=n.x),"".concat(pu,"-left"),He(r)&&n&&He(n.x)&&r<n.x),"".concat(pu,"-bottom"),He(a)&&n&&He(n.y)&&a>=n.y),"".concat(pu,"-top"),He(a)&&n&&He(n.y)&&a<n.y))}function z4(e){var n=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,h=e.viewBoxDimension;if(o&&He(o[a]))return o[a];var f=r[a]-u-s,p=r[a]+s;if(n[a])return l[a]?f:p;if(l[a]){var y=f,b=d[a];return y<b?Math.max(p,d[a]):Math.max(f,d[a])}var x=p+u,j=d[a]+h;return x>j?Math.max(f,d[a]):Math.max(p,d[a])}function CH(e){var n=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(n,"px, ").concat(r,"px, 0)"):"translate(".concat(n,"px, ").concat(r,"px)")}}function kH(e){var n=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,h,f,p;return l.height>0&&l.width>0&&r?(f=z4({allowEscapeViewBox:n,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=z4({allowEscapeViewBox:n,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=CH({translateX:f,translateY:p,useTranslate3d:u})):h=TH,{cssProperties:h,cssClasses:AH({translateX:f,translateY:p,coordinate:r})}}function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ol(e)}function W4(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function V4(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?W4(Object(r),!0).forEach(function(a){Zj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OH(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function DH(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eI(a.key),a)}}function PH(e,n,r){return n&&DH(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MH(e,n,r){return n=of(n),_H(e,Z_()?Reflect.construct(n,r||[],of(e).constructor):n.apply(e,r))}function _H(e,n){if(n&&(Ol(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IH(e)}function IH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z_=function(){return!!e})()}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(e)}function RH(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Jj(e,n)}function Jj(e,n){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Jj(e,n)}function Zj(e,n,r){return n=eI(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function eI(e){var n=qH(e,"string");return Ol(n)=="symbol"?n:n+""}function qH(e,n){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ol(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Y4=1,LH=function(e){function n(){var r;OH(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=MH(this,n,[].concat(s)),Zj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Zj(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,h,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(h=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&h!==void 0?h:0}})}}),r}return RH(n,e),PH(n,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>Y4||Math.abs(a.height-this.state.lastBoundingBox.height)>Y4)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,o=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,h=s.children,f=s.coordinate,p=s.hasPayload,y=s.isAnimationActive,b=s.offset,x=s.position,j=s.reverseDirection,w=s.useTranslate3d,T=s.viewBox,A=s.wrapperStyle,O=kH({allowEscapeViewBox:l,coordinate:f,offsetTopLeft:b,position:x,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:T}),P=O.cssClasses,S=O.cssProperties,E=V4(V4({transition:y&&o?"transform ".concat(u,"ms ").concat(d):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return le.createElement("div",{tabIndex:-1,className:P,style:E,ref:function(D){a.wrapperNode=D}},h)}}])}(g.PureComponent),$H=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},oi={isSsr:$H()};function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dl(e)}function G4(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function K4(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?G4(Object(r),!0).forEach(function(a){XN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BH(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function UH(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,nI(a.key),a)}}function FH(e,n,r){return n&&UH(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HH(e,n,r){return n=lf(n),zH(e,tI()?Reflect.construct(n,r||[],lf(e).constructor):n.apply(e,r))}function zH(e,n){if(n&&(Dl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WH(e)}function WH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tI=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(e)}function VH(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&e1(e,n)}function e1(e,n){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},e1(e,n)}function XN(e,n,r){return n=nI(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function nI(e){var n=YH(e,"string");return Dl(n)=="symbol"?n:n+""}function YH(e,n){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Dl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GH(e){return e.dataKey}function KH(e,n){return le.isValidElement(e)?le.cloneElement(e,n):typeof e=="function"?le.createElement(e,n):le.createElement(wH,n)}var Pt=function(e){function n(){return BH(this,n),HH(this,n,arguments)}return VH(n,e),FH(n,[{key:"render",value:function(){var a=this,s=this.props,o=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,h=s.content,f=s.coordinate,p=s.filterNull,y=s.isAnimationActive,b=s.offset,x=s.payload,j=s.payloadUniqBy,w=s.position,T=s.reverseDirection,A=s.useTranslate3d,O=s.viewBox,P=s.wrapperStyle,S=x??[];p&&S.length&&(S=V_(x.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),j,GH));var E=S.length>0;return le.createElement(LH,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:y,active:o,coordinate:f,hasPayload:E,offset:b,position:w,reverseDirection:T,useTranslate3d:A,viewBox:O,wrapperStyle:P},KH(h,K4(K4({},this.props),{},{payload:S})))}}])}(g.PureComponent);XN(Pt,"displayName","Tooltip");XN(Pt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!oi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var m0,Q4;function QH(){if(Q4)return m0;Q4=1;var e=Fa(),n=function(){return e.Date.now()};return m0=n,m0}var f0,X4;function XH(){if(X4)return f0;X4=1;var e=/\s/;function n(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return f0=n,f0}var p0,J4;function JH(){if(J4)return p0;J4=1;var e=XH(),n=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(n,"")}return p0=r,p0}var v0,Z4;function rI(){if(Z4)return v0;Z4=1;var e=JH(),n=ii(),r=sc(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return a;if(n(h)){var f=typeof h.valueOf=="function"?h.valueOf():h;h=n(f)?f+"":f}if(typeof h!="string")return h===0?h:+h;h=e(h);var p=o.test(h);return p||l.test(h)?u(h.slice(2),p?2:8):s.test(h)?a:+h}return v0=d,v0}var y0,eO;function ZH(){if(eO)return y0;eO=1;var e=ii(),n=QH(),r=rI(),a="Expected a function",s=Math.max,o=Math.min;function l(u,d,h){var f,p,y,b,x,j,w=0,T=!1,A=!1,O=!0;if(typeof u!="function")throw new TypeError(a);d=r(d)||0,e(h)&&(T=!!h.leading,A="maxWait"in h,y=A?s(r(h.maxWait)||0,d):y,O="trailing"in h?!!h.trailing:O);function P(L){var z=f,W=p;return f=p=void 0,w=L,b=u.apply(W,z),b}function S(L){return w=L,x=setTimeout(D,d),T?P(L):b}function E(L){var z=L-j,W=L-w,M=d-z;return A?o(M,y-W):M}function k(L){var z=L-j,W=L-w;return j===void 0||z>=d||z<0||A&&W>=y}function D(){var L=n();if(k(L))return _(L);x=setTimeout(D,E(L))}function _(L){return x=void 0,O&&f?P(L):(f=p=void 0,b)}function U(){x!==void 0&&clearTimeout(x),w=0,f=j=p=x=void 0}function R(){return x===void 0?b:_(n())}function $(){var L=n(),z=k(L);if(f=arguments,p=this,j=L,z){if(x===void 0)return S(j);if(A)return clearTimeout(x),x=setTimeout(D,d),P(j)}return x===void 0&&(x=setTimeout(D,d)),b}return $.cancel=U,$.flush=R,$}return y0=l,y0}var g0,tO;function ez(){if(tO)return g0;tO=1;var e=ZH(),n=ii(),r="Expected a function";function a(s,o,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return n(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,o,{leading:u,maxWait:o,trailing:d})}return g0=a,g0}var tz=ez();const aI=kt(tz);function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},td(e)}function nO(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pm(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?nO(Object(r),!0).forEach(function(a){nz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nz(e,n,r){return n=rz(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function rz(e){var n=az(e,"string");return td(n)=="symbol"?n:n+""}function az(e,n){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(td(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function sz(e,n){return cz(e)||lz(e,n)||oz(e,n)||iz()}function iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oz(e,n){if(e){if(typeof e=="string")return rO(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rO(e,n)}}function rO(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function lz(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function cz(e){if(Array.isArray(e))return e}var yn=g.forwardRef(function(e,n){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,h=e.minWidth,f=h===void 0?0:h,p=e.minHeight,y=e.maxHeight,b=e.children,x=e.debounce,j=x===void 0?0:x,w=e.id,T=e.className,A=e.onResize,O=e.style,P=O===void 0?{}:O,S=g.useRef(null),E=g.useRef();E.current=A,g.useImperativeHandle(n,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=g.useState({containerWidth:s.width,containerHeight:s.height}),D=sz(k,2),_=D[0],U=D[1],R=g.useCallback(function(L,z){U(function(W){var M=Math.round(L),F=Math.round(z);return W.containerWidth===M&&W.containerHeight===F?W:{containerWidth:M,containerHeight:F}})},[]);g.useEffect(function(){var L=function(J){var I,q=J[0].contentRect,B=q.width,H=q.height;R(B,H),(I=E.current)===null||I===void 0||I.call(E,B,H)};j>0&&(L=aI(L,j,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),W=S.current.getBoundingClientRect(),M=W.width,F=W.height;return R(M,F),z.observe(S.current),function(){z.disconnect()}},[R,j]);var $=g.useMemo(function(){var L=_.containerWidth,z=_.containerHeight;if(L<0||z<0)return null;ha($i(l)||$i(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),ha(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=$i(l)?L:l,M=$i(d)?z:d;r&&r>0&&(W?M=W/r:M&&(W=M*r),y&&M>y&&(M=y)),ha(W>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,M,l,d,f,p,r);var F=!Array.isArray(b)&&fs(b.type).endsWith("Chart");return le.Children.map(b,function(G){return le.isValidElement(G)?g.cloneElement(G,pm({width:W,height:M},F?{style:pm({height:"100%",width:"100%",maxHeight:M,maxWidth:W},G.props.style)}:{})):G})},[r,b,d,y,p,f,_,l]);return le.createElement("div",{id:w?"".concat(w):void 0,className:lt("recharts-responsive-container",T),style:pm(pm({},P),{},{width:l,height:d,minWidth:f,minHeight:p,maxHeight:y}),ref:S},$)}),Pa=function(n){return null};Pa.displayName="Cell";function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nd(e)}function aO(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function t1(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?aO(Object(r),!0).forEach(function(a){uz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uz(e,n,r){return n=dz(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function dz(e){var n=hz(e,"string");return nd(n)=="symbol"?n:n+""}function hz(e,n){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(nd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var sl={widthCache:{},cacheCount:0},mz=2e3,fz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sO="recharts_measurement_span";function pz(e){var n=t1({},e);return Object.keys(n).forEach(function(r){n[r]||delete n[r]}),n}var Iu=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n==null||oi.isSsr)return{width:0,height:0};var a=pz(r),s=JSON.stringify({text:n,copyStyle:a});if(sl.widthCache[s])return sl.widthCache[s];try{var o=document.getElementById(sO);o||(o=document.createElement("span"),o.setAttribute("id",sO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=t1(t1({},fz),a);Object.assign(o.style,l),o.textContent="".concat(n);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return sl.widthCache[s]=d,++sl.cacheCount>mz&&(sl.cacheCount=0,sl.widthCache={}),d}catch{return{width:0,height:0}}},vz=function(n){return{top:n.top+window.scrollY-document.documentElement.clientTop,left:n.left+window.scrollX-document.documentElement.clientLeft}};function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rd(e)}function cf(e,n){return bz(e)||xz(e,n)||gz(e,n)||yz()}function yz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gz(e,n){if(e){if(typeof e=="string")return iO(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(e,n)}}function iO(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function xz(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function bz(e){if(Array.isArray(e))return e}function jz(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function oO(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wz(a.key),a)}}function Nz(e,n,r){return n&&oO(e.prototype,n),r&&oO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wz(e){var n=Sz(e,"string");return rd(n)=="symbol"?n:n+""}function Sz(e,n){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(rd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ez=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Az=Object.keys(sI),pl="NaN";function Cz(e,n){return e*sI[n]}var vm=function(){function e(n,r){jz(this,e),this.num=n,this.unit=r,this.num=n,this.unit=r,Number.isNaN(n)&&(this.unit=""),r!==""&&!Ez.test(r)&&(this.num=NaN,this.unit=""),Az.includes(r)&&(this.num=Cz(n,r),this.unit="px")}return Nz(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=Tz.exec(r))!==null&&a!==void 0?a:[],o=cf(s,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])}();function iI(e){if(e.includes(pl))return pl;for(var n=e;n.includes("*")||n.includes("/");){var r,a=(r=lO.exec(n))!==null&&r!==void 0?r:[],s=cf(a,4),o=s[1],l=s[2],u=s[3],d=vm.parse(o??""),h=vm.parse(u??""),f=l==="*"?d.multiply(h):d.divide(h);if(f.isNaN())return pl;n=n.replace(lO,f.toString())}for(;n.includes("+")||/.-\d+(?:\.\d+)?/.test(n);){var p,y=(p=cO.exec(n))!==null&&p!==void 0?p:[],b=cf(y,4),x=b[1],j=b[2],w=b[3],T=vm.parse(x??""),A=vm.parse(w??""),O=j==="+"?T.add(A):T.subtract(A);if(O.isNaN())return pl;n=n.replace(cO,O.toString())}return n}var uO=/\(([^()]*)\)/;function kz(e){for(var n=e;n.includes("(");){var r=uO.exec(n),a=cf(r,2),s=a[1];n=n.replace(uO,iI(s))}return n}function Oz(e){var n=e.replace(/\s+/g,"");return n=kz(n),n=iI(n),n}function Dz(e){try{return Oz(e)}catch{return pl}}function x0(e){var n=Dz(e.slice(5,-1));return n===pl?"":n}var Pz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mz=["dx","dy","angle","className","breakAll"];function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n1.apply(this,arguments)}function dO(e,n){if(e==null)return{};var r=_z(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _z(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function hO(e,n){return Lz(e)||qz(e,n)||Rz(e,n)||Iz()}function Iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rz(e,n){if(e){if(typeof e=="string")return mO(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mO(e,n)}}function mO(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function qz(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function Lz(e){if(Array.isArray(e))return e}var oI=/[ \f\n\r\t\v\u2028\u2029]+/,lI=function(n){var r=n.children,a=n.breakAll,s=n.style;try{var o=[];it(r)||(a?o=r.toString().split(""):o=r.toString().split(oI));var l=o.map(function(d){return{word:d,width:Iu(d,s).width}}),u=a?0:Iu("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},$z=function(n,r,a,s,o){var l=n.maxLines,u=n.children,d=n.style,h=n.breakAll,f=He(l),p=u,y=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(M,F){var G=F.word,J=F.width,I=M[M.length-1];if(I&&(s==null||o||I.width+J+a<Number(s)))I.words.push(G),I.width+=J+a;else{var q={words:[G],width:J};M.push(q)}return M},[])},b=y(r),x=function(W){return W.reduce(function(M,F){return M.width>F.width?M:F})};if(!f)return b;for(var j="",w=function(W){var M=p.slice(0,W),F=lI({breakAll:h,style:d,children:M+j}).wordsWithComputedWidth,G=y(F),J=G.length>l||x(G).width>Number(s);return[J,G]},T=0,A=p.length-1,O=0,P;T<=A&&O<=p.length-1;){var S=Math.floor((T+A)/2),E=S-1,k=w(E),D=hO(k,2),_=D[0],U=D[1],R=w(S),$=hO(R,1),L=$[0];if(!_&&!L&&(T=S+1),_&&L&&(A=S-1),!_&&L){P=U;break}O++}return P||b},fO=function(n){var r=it(n)?[]:n.toString().split(oI);return[{words:r}]},Bz=function(n){var r=n.width,a=n.scaleToFit,s=n.children,o=n.style,l=n.breakAll,u=n.maxLines;if((r||a)&&!oi.isSsr){var d,h,f=lI({breakAll:l,children:s,style:o});if(f){var p=f.wordsWithComputedWidth,y=f.spaceWidth;d=p,h=y}else return fO(s);return $z({breakAll:l,children:s,maxLines:u,style:o},d,h,r,a)}return fO(s)},pO="#808080",no=function(n){var r=n.x,a=r===void 0?0:r,s=n.y,o=s===void 0?0:s,l=n.lineHeight,u=l===void 0?"1em":l,d=n.capHeight,h=d===void 0?"0.71em":d,f=n.scaleToFit,p=f===void 0?!1:f,y=n.textAnchor,b=y===void 0?"start":y,x=n.verticalAnchor,j=x===void 0?"end":x,w=n.fill,T=w===void 0?pO:w,A=dO(n,Pz),O=g.useMemo(function(){return Bz({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),P=A.dx,S=A.dy,E=A.angle,k=A.className,D=A.breakAll,_=dO(A,Mz);if(!En(a)||!En(o))return null;var U=a+(He(P)?P:0),R=o+(He(S)?S:0),$;switch(j){case"start":$=x0("calc(".concat(h,")"));break;case"middle":$=x0("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:$=x0("calc(".concat(O.length-1," * -").concat(u,")"));break}var L=[];if(p){var z=O[0].width,W=A.width;L.push("scale(".concat((He(W)?W/z:1)/z,")"))}return E&&L.push("rotate(".concat(E,", ").concat(U,", ").concat(R,")")),L.length&&(_.transform=L.join(" ")),le.createElement("text",n1({},Ge(_,!0),{x:U,y:R,className:lt("recharts-text",k),textAnchor:b,fill:T.includes("url")?pO:T}),O.map(function(M,F){var G=M.words.join(D?"":" ");return le.createElement("tspan",{x:U,dy:F===0?$:u,key:"".concat(G,"-").concat(F)},G)}))};function ri(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Uz(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function JN(e){let n,r,a;e.length!==2?(n=ri,r=(u,d)=>ri(e(u),d),a=(u,d)=>e(u)-d):(n=e===ri||e===Uz?e:Fz,r=e,a=e);function s(u,d,h=0,f=u.length){if(h<f){if(n(d,d)!==0)return f;do{const p=h+f>>>1;r(u[p],d)<0?h=p+1:f=p}while(h<f)}return h}function o(u,d,h=0,f=u.length){if(h<f){if(n(d,d)!==0)return f;do{const p=h+f>>>1;r(u[p],d)<=0?h=p+1:f=p}while(h<f)}return h}function l(u,d,h=0,f=u.length){const p=s(u,d,h,f-1);return p>h&&a(u[p-1],d)>-a(u[p],d)?p-1:p}return{left:s,center:l,right:o}}function Fz(){return 0}function cI(e){return e===null?NaN:+e}function*Hz(e,n){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zz=JN(ri),Ud=zz.right;JN(cI).center;class vO extends Map{constructor(n,r=Yz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[a,s]of n)this.set(a,s)}get(n){return super.get(yO(this,n))}has(n){return super.has(yO(this,n))}set(n,r){return super.set(Wz(this,n),r)}delete(n){return super.delete(Vz(this,n))}}function yO({_intern:e,_key:n},r){const a=n(r);return e.has(a)?e.get(a):r}function Wz({_intern:e,_key:n},r){const a=n(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Vz({_intern:e,_key:n},r){const a=n(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Yz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Gz(e=ri){if(e===ri)return uI;if(typeof e!="function")throw new TypeError("compare is not a function");return(n,r)=>{const a=e(n,r);return a||a===0?a:(e(r,r)===0)-(e(n,n)===0)}}function uI(e,n){return(e==null||!(e>=e))-(n==null||!(n>=n))||(e<n?-1:e>n?1:0)}const Kz=Math.sqrt(50),Qz=Math.sqrt(10),Xz=Math.sqrt(2);function uf(e,n,r){const a=(n-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),o=a/Math.pow(10,s),l=o>=Kz?10:o>=Qz?5:o>=Xz?2:1;let u,d,h;return s<0?(h=Math.pow(10,-s)/l,u=Math.round(e*h),d=Math.round(n*h),u/h<e&&++u,d/h>n&&--d,h=-h):(h=Math.pow(10,s)*l,u=Math.round(e/h),d=Math.round(n/h),u*h<e&&++u,d*h>n&&--d),d<u&&.5<=r&&r<2?uf(e,n,r*2):[u,d,h]}function r1(e,n,r){if(n=+n,e=+e,r=+r,!(r>0))return[];if(e===n)return[e];const a=n<e,[s,o,l]=a?uf(n,e,r):uf(e,n,r);if(!(o>=s))return[];const u=o-s+1,d=new Array(u);if(a)if(l<0)for(let h=0;h<u;++h)d[h]=(o-h)/-l;else for(let h=0;h<u;++h)d[h]=(o-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(s+h)/-l;else for(let h=0;h<u;++h)d[h]=(s+h)*l;return d}function a1(e,n,r){return n=+n,e=+e,r=+r,uf(e,n,r)[2]}function s1(e,n,r){n=+n,e=+e,r=+r;const a=n<e,s=a?a1(n,e,r):a1(e,n,r);return(a?-1:1)*(s<0?1/-s:s)}function gO(e,n){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function xO(e,n){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function dI(e,n,r=0,a=1/0,s){if(n=Math.floor(n),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=n&&n<=a))return e;for(s=s===void 0?uI:Gz(s);a>r;){if(a-r>600){const d=a-r+1,h=n-r+1,f=Math.log(d),p=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*p*(d-p)/d)*(h-d/2<0?-1:1),b=Math.max(r,Math.floor(n-h*p/d+y)),x=Math.min(a,Math.floor(n+(d-h)*p/d+y));dI(e,n,b,x,s)}const o=e[n];let l=r,u=a;for(vu(e,r,n),s(e[a],o)>0&&vu(e,r,a);l<u;){for(vu(e,l,u),++l,--u;s(e[l],o)<0;)++l;for(;s(e[u],o)>0;)--u}s(e[r],o)===0?vu(e,r,u):(++u,vu(e,u,a)),u<=n&&(r=u+1),n<=u&&(a=u-1)}return e}function vu(e,n,r){const a=e[n];e[n]=e[r],e[r]=a}function Jz(e,n,r){if(e=Float64Array.from(Hz(e)),!(!(a=e.length)||isNaN(n=+n))){if(n<=0||a<2)return xO(e);if(n>=1)return gO(e);var a,s=(a-1)*n,o=Math.floor(s),l=gO(dI(e,o).subarray(0,o+1)),u=xO(e.subarray(o+1));return l+(u-l)*(s-o)}}function Zz(e,n,r=cI){if(!(!(a=e.length)||isNaN(n=+n))){if(n<=0||a<2)return+r(e[0],0,e);if(n>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*n,o=Math.floor(s),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(s-o)}}function eW(e,n,r){e=+e,n=+n,r=(s=arguments.length)<2?(n=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((n-e)/r))|0,o=new Array(s);++a<s;)o[a]=e+a*r;return o}function Xr(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function ws(e,n){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const i1=Symbol("implicit");function ZN(){var e=new vO,n=[],r=[],a=i1;function s(o){let l=e.get(o);if(l===void 0){if(a!==i1)return a;e.set(o,l=n.push(o)-1)}return r[l%r.length]}return s.domain=function(o){if(!arguments.length)return n.slice();n=[],e=new vO;for(const l of o)e.has(l)||e.set(l,n.push(l)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return ZN(n,r).unknown(a)},Xr.apply(s,arguments),s}function ad(){var e=ZN().unknown(void 0),n=e.domain,r=e.range,a=0,s=1,o,l,u=!1,d=0,h=0,f=.5;delete e.unknown;function p(){var y=n().length,b=s<a,x=b?s:a,j=b?a:s;o=(j-x)/Math.max(1,y-d+h*2),u&&(o=Math.floor(o)),x+=(j-x-o*(y-d))*f,l=o*(1-d),u&&(x=Math.round(x),l=Math.round(l));var w=eW(y).map(function(T){return x+o*T});return r(b?w.reverse():w)}return e.domain=function(y){return arguments.length?(n(y),p()):n()},e.range=function(y){return arguments.length?([a,s]=y,a=+a,s=+s,p()):[a,s]},e.rangeRound=function(y){return[a,s]=y,a=+a,s=+s,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(y){return arguments.length?(u=!!y,p()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),p()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},e.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},e.align=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),p()):f},e.copy=function(){return ad(n(),[a,s]).round(u).paddingInner(d).paddingOuter(h).align(f)},Xr.apply(p(),arguments)}function hI(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hI(n())},e}function Ru(){return hI(ad.apply(null,arguments).paddingInner(1))}function e2(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function mI(e,n){var r=Object.create(e.prototype);for(var a in n)r[a]=n[a];return r}function Fd(){}var sd=.7,df=1/sd,wl="\\s*([+-]?\\d+)\\s*",id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ia="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tW=/^#([0-9a-f]{3,8})$/,nW=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),rW=new RegExp(`^rgb\\(${Ia},${Ia},${Ia}\\)$`),aW=new RegExp(`^rgba\\(${wl},${wl},${wl},${id}\\)$`),sW=new RegExp(`^rgba\\(${Ia},${Ia},${Ia},${id}\\)$`),iW=new RegExp(`^hsl\\(${id},${Ia},${Ia}\\)$`),oW=new RegExp(`^hsla\\(${id},${Ia},${Ia},${id}\\)$`),bO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e2(Fd,od,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jO,formatHex:jO,formatHex8:lW,formatHsl:cW,formatRgb:NO,toString:NO});function jO(){return this.rgb().formatHex()}function lW(){return this.rgb().formatHex8()}function cW(){return fI(this).formatHsl()}function NO(){return this.rgb().formatRgb()}function od(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=tW.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?wO(n):r===3?new mr(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?ym(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?ym(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=nW.exec(e))?new mr(n[1],n[2],n[3],1):(n=rW.exec(e))?new mr(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=aW.exec(e))?ym(n[1],n[2],n[3],n[4]):(n=sW.exec(e))?ym(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=iW.exec(e))?TO(n[1],n[2]/100,n[3]/100,1):(n=oW.exec(e))?TO(n[1],n[2]/100,n[3]/100,n[4]):bO.hasOwnProperty(e)?wO(bO[e]):e==="transparent"?new mr(NaN,NaN,NaN,0):null}function wO(e){return new mr(e>>16&255,e>>8&255,e&255,1)}function ym(e,n,r,a){return a<=0&&(e=n=r=NaN),new mr(e,n,r,a)}function uW(e){return e instanceof Fd||(e=od(e)),e?(e=e.rgb(),new mr(e.r,e.g,e.b,e.opacity)):new mr}function o1(e,n,r,a){return arguments.length===1?uW(e):new mr(e,n,r,a??1)}function mr(e,n,r,a){this.r=+e,this.g=+n,this.b=+r,this.opacity=+a}e2(mr,o1,mI(Fd,{brighter(e){return e=e==null?df:Math.pow(df,e),new mr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sd:Math.pow(sd,e),new mr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mr(Yi(this.r),Yi(this.g),Yi(this.b),hf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SO,formatHex:SO,formatHex8:dW,formatRgb:EO,toString:EO}));function SO(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}`}function dW(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}${Bi((isNaN(this.opacity)?1:this.opacity)*255)}`}function EO(){const e=hf(this.opacity);return`${e===1?"rgb(":"rgba("}${Yi(this.r)}, ${Yi(this.g)}, ${Yi(this.b)}${e===1?")":`, ${e})`}`}function hf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bi(e){return e=Yi(e),(e<16?"0":"")+e.toString(16)}function TO(e,n,r,a){return a<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new ua(e,n,r,a)}function fI(e){if(e instanceof ua)return new ua(e.h,e.s,e.l,e.opacity);if(e instanceof Fd||(e=od(e)),!e)return new ua;if(e instanceof ua)return e;e=e.rgb();var n=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(n,r,a),o=Math.max(n,r,a),l=NaN,u=o-s,d=(o+s)/2;return u?(n===o?l=(r-a)/u+(r<a)*6:r===o?l=(a-n)/u+2:l=(n-r)/u+4,u/=d<.5?o+s:2-o-s,l*=60):u=d>0&&d<1?0:l,new ua(l,u,d,e.opacity)}function hW(e,n,r,a){return arguments.length===1?fI(e):new ua(e,n,r,a??1)}function ua(e,n,r,a){this.h=+e,this.s=+n,this.l=+r,this.opacity=+a}e2(ua,hW,mI(Fd,{brighter(e){return e=e==null?df:Math.pow(df,e),new ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sd:Math.pow(sd,e),new ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*n,s=2*r-a;return new mr(b0(e>=240?e-240:e+120,s,a),b0(e,s,a),b0(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new ua(AO(this.h),gm(this.s),gm(this.l),hf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hf(this.opacity);return`${e===1?"hsl(":"hsla("}${AO(this.h)}, ${gm(this.s)*100}%, ${gm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AO(e){return e=(e||0)%360,e<0?e+360:e}function gm(e){return Math.max(0,Math.min(1,e||0))}function b0(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const t2=e=>()=>e;function mW(e,n){return function(r){return e+r*n}}function fW(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(a){return Math.pow(e+a*n,r)}}function pW(e){return(e=+e)==1?pI:function(n,r){return r-n?fW(n,r,e):t2(isNaN(n)?r:n)}}function pI(e,n){var r=n-e;return r?mW(e,r):t2(isNaN(e)?n:e)}const CO=function e(n){var r=pW(n);function a(s,o){var l=r((s=o1(s)).r,(o=o1(o)).r),u=r(s.g,o.g),d=r(s.b,o.b),h=pI(s.opacity,o.opacity);return function(f){return s.r=l(f),s.g=u(f),s.b=d(f),s.opacity=h(f),s+""}}return a.gamma=e,a}(1);function vW(e,n){n||(n=[]);var r=e?Math.min(n.length,e.length):0,a=n.slice(),s;return function(o){for(s=0;s<r;++s)a[s]=e[s]*(1-o)+n[s]*o;return a}}function yW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gW(e,n){var r=n?n.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),o=new Array(r),l;for(l=0;l<a;++l)s[l]=cc(e[l],n[l]);for(;l<r;++l)o[l]=n[l];return function(u){for(l=0;l<a;++l)o[l]=s[l](u);return o}}function xW(e,n){var r=new Date;return e=+e,n=+n,function(a){return r.setTime(e*(1-a)+n*a),r}}function mf(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}function bW(e,n){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(s in n)s in e?r[s]=cc(e[s],n[s]):a[s]=n[s];return function(o){for(s in r)a[s]=r[s](o);return a}}var l1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j0=new RegExp(l1.source,"g");function jW(e){return function(){return e}}function NW(e){return function(n){return e(n)+""}}function wW(e,n){var r=l1.lastIndex=j0.lastIndex=0,a,s,o,l=-1,u=[],d=[];for(e=e+"",n=n+"";(a=l1.exec(e))&&(s=j0.exec(n));)(o=s.index)>r&&(o=n.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(a=a[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:mf(a,s)})),r=j0.lastIndex;return r<n.length&&(o=n.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?NW(d[0].x):jW(n):(n=d.length,function(h){for(var f=0,p;f<n;++f)u[(p=d[f]).i]=p.x(h);return u.join("")})}function cc(e,n){var r=typeof n,a;return n==null||r==="boolean"?t2(n):(r==="number"?mf:r==="string"?(a=od(n))?(n=a,CO):wW:n instanceof od?CO:n instanceof Date?xW:yW(n)?vW:Array.isArray(n)?gW:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?bW:mf)(e,n)}function n2(e,n){return e=+e,n=+n,function(r){return Math.round(e*(1-r)+n*r)}}function SW(e,n){n===void 0&&(n=e,e=cc);for(var r=0,a=n.length-1,s=n[0],o=new Array(a<0?0:a);r<a;)o[r]=e(s,s=n[++r]);return function(l){var u=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return o[u](l-u)}}function EW(e){return function(){return e}}function ff(e){return+e}var kO=[0,1];function ar(e){return e}function c1(e,n){return(n-=e=+e)?function(r){return(r-e)/n}:EW(isNaN(n)?NaN:.5)}function TW(e,n){var r;return e>n&&(r=e,e=n,n=r),function(a){return Math.max(e,Math.min(n,a))}}function AW(e,n,r){var a=e[0],s=e[1],o=n[0],l=n[1];return s<a?(a=c1(s,a),o=r(l,o)):(a=c1(a,s),o=r(o,l)),function(u){return o(a(u))}}function CW(e,n,r){var a=Math.min(e.length,n.length)-1,s=new Array(a),o=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++l<a;)s[l]=c1(e[l],e[l+1]),o[l]=r(n[l],n[l+1]);return function(u){var d=Ud(e,u,1,a)-1;return o[d](s[d](u))}}function Hd(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gp(){var e=kO,n=kO,r=cc,a,s,o,l=ar,u,d,h;function f(){var y=Math.min(e.length,n.length);return l!==ar&&(l=TW(e[0],e[y-1])),u=y>2?CW:AW,d=h=null,p}function p(y){return y==null||isNaN(y=+y)?o:(d||(d=u(e.map(a),n,r)))(a(l(y)))}return p.invert=function(y){return l(s((h||(h=u(n,e.map(a),mf)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,ff),f()):e.slice()},p.range=function(y){return arguments.length?(n=Array.from(y),f()):n.slice()},p.rangeRound=function(y){return n=Array.from(y),r=n2,f()},p.clamp=function(y){return arguments.length?(l=y?!0:ar,f()):l!==ar},p.interpolate=function(y){return arguments.length?(r=y,f()):r},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,b){return a=y,s=b,f()}}function r2(){return gp()(ar,ar)}function kW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pf(e,n){if((r=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Pl(e){return e=pf(Math.abs(e)),e?e[1]:NaN}function OW(e,n){return function(r,a){for(var s=r.length,o=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>a&&(u=Math.max(1,a-d)),o.push(r.substring(s-=u,s+u)),!((d+=u+1)>a));)u=e[l=(l+1)%e.length];return o.reverse().join(n)}}function DW(e){return function(n){return n.replace(/[0-9]/g,function(r){return e[+r]})}}var PW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ld(e){if(!(n=PW.exec(e)))throw new Error("invalid format: "+e);var n;return new a2({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}ld.prototype=a2.prototype;function a2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}a2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MW(e){e:for(var n=e.length,r=1,a=-1,s;r<n;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var vI;function _W(e,n){var r=pf(e,n);if(!r)return e+"";var a=r[0],s=r[1],o=s-(vI=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return o===l?a:o>l?a+new Array(o-l+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+pf(e,Math.max(0,n+o-1))[0]}function OO(e,n){var r=pf(e,n);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const DO={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kW,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>OO(e*100,n),r:OO,s:_W,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function PO(e){return e}var MO=Array.prototype.map,_O=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IW(e){var n=e.grouping===void 0||e.thousands===void 0?PO:OW(MO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?PO:DW(MO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(p){p=ld(p);var y=p.fill,b=p.align,x=p.sign,j=p.symbol,w=p.zero,T=p.width,A=p.comma,O=p.precision,P=p.trim,S=p.type;S==="n"?(A=!0,S="g"):DO[S]||(O===void 0&&(O=12),P=!0,S="g"),(w||y==="0"&&b==="=")&&(w=!0,y="0",b="=");var E=j==="$"?r:j==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=j==="$"?a:/[%p]/.test(S)?l:"",D=DO[S],_=/[defgprs%]/.test(S);O=O===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function U(R){var $=E,L=k,z,W,M;if(S==="c")L=D(R)+L,R="";else{R=+R;var F=R<0||1/R<0;if(R=isNaN(R)?d:D(Math.abs(R),O),P&&(R=MW(R)),F&&+R==0&&x!=="+"&&(F=!1),$=(F?x==="("?x:u:x==="-"||x==="("?"":x)+$,L=(S==="s"?_O[8+vI/3]:"")+L+(F&&x==="("?")":""),_){for(z=-1,W=R.length;++z<W;)if(M=R.charCodeAt(z),48>M||M>57){L=(M===46?s+R.slice(z+1):R.slice(z))+L,R=R.slice(0,z);break}}}A&&!w&&(R=n(R,1/0));var G=$.length+R.length+L.length,J=G<T?new Array(T-G+1).join(y):"";switch(A&&w&&(R=n(J+R,J.length?T-L.length:1/0),J=""),b){case"<":R=$+R+L+J;break;case"=":R=$+J+R+L;break;case"^":R=J.slice(0,G=J.length>>1)+$+R+L+J.slice(G);break;default:R=J+$+R+L;break}return o(R)}return U.toString=function(){return p+""},U}function f(p,y){var b=h((p=ld(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Pl(y)/3)))*3,j=Math.pow(10,-x),w=_O[8+x/3];return function(T){return b(j*T)+w}}return{format:h,formatPrefix:f}}var xm,s2,yI;RW({thousands:",",grouping:[3],currency:["$",""]});function RW(e){return xm=IW(e),s2=xm.format,yI=xm.formatPrefix,xm}function qW(e){return Math.max(0,-Pl(Math.abs(e)))}function LW(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pl(n)/3)))*3-Pl(Math.abs(e)))}function $W(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,Pl(n)-Pl(e))+1}function gI(e,n,r,a){var s=s1(e,n,r),o;switch(a=ld(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(n));return a.precision==null&&!isNaN(o=LW(s,l))&&(a.precision=o),yI(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=$W(s,Math.max(Math.abs(e),Math.abs(n))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=qW(s))&&(a.precision=o-(a.type==="%")*2);break}}return s2(a)}function li(e){var n=e.domain;return e.ticks=function(r){var a=n();return r1(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=n();return gI(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=n(),s=0,o=a.length-1,l=a[s],u=a[o],d,h,f=10;for(u<l&&(h=l,l=u,u=h,h=s,s=o,o=h);f-- >0;){if(h=a1(l,u,r),h===d)return a[s]=l,a[o]=u,n(a);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function vf(){var e=r2();return e.copy=function(){return Hd(e,vf())},Xr.apply(e,arguments),li(e)}function xI(e){var n;function r(a){return a==null||isNaN(a=+a)?n:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,ff),r):e.slice()},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return xI(e).unknown(n)},e=arguments.length?Array.from(e,ff):[0,1],li(r)}function bI(e,n){e=e.slice();var r=0,a=e.length-1,s=e[r],o=e[a],l;return o<s&&(l=r,r=a,a=l,l=s,s=o,o=l),e[r]=n.floor(s),e[a]=n.ceil(o),e}function IO(e){return Math.log(e)}function RO(e){return Math.exp(e)}function BW(e){return-Math.log(-e)}function UW(e){return-Math.exp(-e)}function FW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HW(e){return e===10?FW:e===Math.E?Math.exp:n=>Math.pow(e,n)}function zW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),n=>Math.log(n)/e)}function qO(e){return(n,r)=>-e(-n,r)}function i2(e){const n=e(IO,RO),r=n.domain;let a=10,s,o;function l(){return s=zW(a),o=HW(a),r()[0]<0?(s=qO(s),o=qO(o),e(BW,UW)):e(IO,RO),n}return n.base=function(u){return arguments.length?(a=+u,l()):a},n.domain=function(u){return arguments.length?(r(u),l()):r()},n.ticks=u=>{const d=r();let h=d[0],f=d[d.length-1];const p=f<h;p&&([h,f]=[f,h]);let y=s(h),b=s(f),x,j;const w=u==null?10:+u;let T=[];if(!(a%1)&&b-y<w){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(x=1;x<a;++x)if(j=y<0?x/o(-y):x*o(y),!(j<h)){if(j>f)break;T.push(j)}}else for(;y<=b;++y)for(x=a-1;x>=1;--x)if(j=y>0?x/o(-y):x*o(y),!(j<h)){if(j>f)break;T.push(j)}T.length*2<w&&(T=r1(h,f,w))}else T=r1(y,b,Math.min(b-y,w)).map(o);return p?T.reverse():T},n.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=ld(d)).precision==null&&(d.trim=!0),d=s2(d)),u===1/0)return d;const h=Math.max(1,a*u/n.ticks().length);return f=>{let p=f/o(Math.round(s(f)));return p*a<a-.5&&(p*=a),p<=h?d(f):""}},n.nice=()=>r(bI(r(),{floor:u=>o(Math.floor(s(u))),ceil:u=>o(Math.ceil(s(u)))})),n}function jI(){const e=i2(gp()).domain([1,10]);return e.copy=()=>Hd(e,jI()).base(e.base()),Xr.apply(e,arguments),e}function LO(e){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))}}function $O(e){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}function o2(e){var n=1,r=e(LO(n),$O(n));return r.constant=function(a){return arguments.length?e(LO(n=+a),$O(n)):n},li(r)}function NI(){var e=o2(gp());return e.copy=function(){return Hd(e,NI()).constant(e.constant())},Xr.apply(e,arguments)}function BO(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function WW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VW(e){return e<0?-e*e:e*e}function l2(e){var n=e(ar,ar),r=1;function a(){return r===1?e(ar,ar):r===.5?e(WW,VW):e(BO(r),BO(1/r))}return n.exponent=function(s){return arguments.length?(r=+s,a()):r},li(n)}function c2(){var e=l2(gp());return e.copy=function(){return Hd(e,c2()).exponent(e.exponent())},Xr.apply(e,arguments),e}function YW(){return c2.apply(null,arguments).exponent(.5)}function UO(e){return Math.sign(e)*e*e}function GW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wI(){var e=r2(),n=[0,1],r=!1,a;function s(o){var l=GW(e(o));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(o){return e.invert(UO(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((n=Array.from(o,ff)).map(UO)),s):n.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return wI(e.domain(),n).round(r).clamp(e.clamp()).unknown(a)},Xr.apply(s,arguments),li(s)}function SI(){var e=[],n=[],r=[],a;function s(){var l=0,u=Math.max(1,n.length);for(r=new Array(u-1);++l<u;)r[l-1]=Zz(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?a:n[Ud(r,l)]}return o.invertExtent=function(l){var u=n.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ri),s()},o.range=function(l){return arguments.length?(n=Array.from(l),s()):n.slice()},o.unknown=function(l){return arguments.length?(a=l,o):a},o.quantiles=function(){return r.slice()},o.copy=function(){return SI().domain(e).range(n).unknown(a)},Xr.apply(o,arguments)}function EI(){var e=0,n=1,r=1,a=[.5],s=[0,1],o;function l(d){return d!=null&&d<=d?s[Ud(a,d,0,r)]:o}function u(){var d=-1;for(a=new Array(r);++d<r;)a[d]=((d+1)*n-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,n]=d,e=+e,n=+n,u()):[e,n]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var h=s.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,a[0]]:h>=r?[a[r-1],n]:[a[h-1],a[h]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return EI().domain([e,n]).range(s).unknown(o)},Xr.apply(li(l),arguments)}function TI(){var e=[.5],n=[0,1],r,a=1;function s(o){return o!=null&&o<=o?n[Ud(e,o,0,a)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,n.length-1),s):e.slice()},s.range=function(o){return arguments.length?(n=Array.from(o),a=Math.min(e.length,n.length-1),s):n.slice()},s.invertExtent=function(o){var l=n.indexOf(o);return[e[l-1],e[l]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return TI().domain(e).range(n).unknown(r)},Xr.apply(s,arguments)}const N0=new Date,w0=new Date;function Tn(e,n,r,a){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),n(o,1),e(o),o),s.round=o=>{const l=s(o),u=s.ceil(o);return o-l<u-o?l:u},s.offset=(o,l)=>(n(o=new Date(+o),l==null?1:Math.floor(l)),o),s.range=(o,l,u)=>{const d=[];if(o=s.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let h;do d.push(h=new Date(+o)),n(o,u),e(o);while(h<o&&o<l);return d},s.filter=o=>Tn(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;n(l,-1),!o(l););else for(;--u>=0;)for(;n(l,1),!o(l););}),r&&(s.count=(o,l)=>(N0.setTime(+o),w0.setTime(+l),e(N0),e(w0),Math.floor(r(N0,w0))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(a?l=>a(l)%o===0:l=>s.count(0,l)%o===0):s)),s}const yf=Tn(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);yf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tn(n=>{n.setTime(Math.floor(n/e)*e)},(n,r)=>{n.setTime(+n+r*e)},(n,r)=>(r-n)/e):yf);yf.range;const us=1e3,Gr=us*60,ds=Gr*60,gs=ds*24,u2=gs*7,FO=gs*30,S0=gs*365,Ui=Tn(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*us)},(e,n)=>(n-e)/us,e=>e.getUTCSeconds());Ui.range;const d2=Tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*us)},(e,n)=>{e.setTime(+e+n*Gr)},(e,n)=>(n-e)/Gr,e=>e.getMinutes());d2.range;const h2=Tn(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*Gr)},(e,n)=>(n-e)/Gr,e=>e.getUTCMinutes());h2.range;const m2=Tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*us-e.getMinutes()*Gr)},(e,n)=>{e.setTime(+e+n*ds)},(e,n)=>(n-e)/ds,e=>e.getHours());m2.range;const f2=Tn(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*ds)},(e,n)=>(n-e)/ds,e=>e.getUTCHours());f2.range;const zd=Tn(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gr)/gs,e=>e.getDate()-1);zd.range;const xp=Tn(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/gs,e=>e.getUTCDate()-1);xp.range;const AI=Tn(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/gs,e=>Math.floor(e/gs));AI.range;function mo(e){return Tn(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,r)=>{n.setDate(n.getDate()+r*7)},(n,r)=>(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*Gr)/u2)}const bp=mo(0),gf=mo(1),KW=mo(2),QW=mo(3),Ml=mo(4),XW=mo(5),JW=mo(6);bp.range;gf.range;KW.range;QW.range;Ml.range;XW.range;JW.range;function fo(e){return Tn(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCDate(n.getUTCDate()+r*7)},(n,r)=>(r-n)/u2)}const jp=fo(0),xf=fo(1),ZW=fo(2),eV=fo(3),_l=fo(4),tV=fo(5),nV=fo(6);jp.range;xf.range;ZW.range;eV.range;_l.range;tV.range;nV.range;const p2=Tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12,e=>e.getMonth());p2.range;const v2=Tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());v2.range;const xs=Tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tn(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,r)=>{n.setFullYear(n.getFullYear()+r*e)});xs.range;const bs=Tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tn(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,r)=>{n.setUTCFullYear(n.getUTCFullYear()+r*e)});bs.range;function CI(e,n,r,a,s,o){const l=[[Ui,1,us],[Ui,5,5*us],[Ui,15,15*us],[Ui,30,30*us],[o,1,Gr],[o,5,5*Gr],[o,15,15*Gr],[o,30,30*Gr],[s,1,ds],[s,3,3*ds],[s,6,6*ds],[s,12,12*ds],[a,1,gs],[a,2,2*gs],[r,1,u2],[n,1,FO],[n,3,3*FO],[e,1,S0]];function u(h,f,p){const y=f<h;y&&([h,f]=[f,h]);const b=p&&typeof p.range=="function"?p:d(h,f,p),x=b?b.range(h,+f+1):[];return y?x.reverse():x}function d(h,f,p){const y=Math.abs(f-h)/p,b=JN(([,,w])=>w).right(l,y);if(b===l.length)return e.every(s1(h/S0,f/S0,p));if(b===0)return yf.every(Math.max(s1(h,f,p),1));const[x,j]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return x.every(j)}return[u,d]}const[rV,aV]=CI(bs,v2,jp,AI,f2,h2),[sV,iV]=CI(xs,p2,bp,zd,m2,d2);function E0(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function T0(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yu(e,n,r){return{y:e,m:n,d:r,H:0,M:0,S:0,L:0}}function oV(e){var n=e.dateTime,r=e.date,a=e.time,s=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,h=gu(s),f=xu(s),p=gu(o),y=xu(o),b=gu(l),x=xu(l),j=gu(u),w=xu(u),T=gu(d),A=xu(d),O={a:F,A:G,b:J,B:I,c:null,d:GO,e:GO,f:OV,g:BV,G:FV,H:AV,I:CV,j:kV,L:kI,m:DV,M:PV,p:q,q:B,Q:XO,s:JO,S:MV,u:_V,U:IV,V:RV,w:qV,W:LV,x:null,X:null,y:$V,Y:UV,Z:HV,"%":QO},P={a:H,A:K,b:ie,B:ae,c:null,d:KO,e:KO,f:YV,g:rY,G:sY,H:zV,I:WV,j:VV,L:DI,m:GV,M:KV,p:me,q:de,Q:XO,s:JO,S:QV,u:XV,U:JV,V:ZV,w:eY,W:tY,x:null,X:null,y:nY,Y:aY,Z:iY,"%":QO},S={a:U,A:R,b:$,B:L,c:z,d:VO,e:VO,f:wV,g:WO,G:zO,H:YO,I:YO,j:xV,L:NV,m:gV,M:bV,p:_,q:yV,Q:EV,s:TV,S:jV,u:hV,U:mV,V:fV,w:dV,W:pV,x:W,X:M,y:WO,Y:zO,Z:vV,"%":SV};O.x=E(r,O),O.X=E(a,O),O.c=E(n,O),P.x=E(r,P),P.X=E(a,P),P.c=E(n,P);function E(fe,X){return function(Z){var V=[],Y=-1,ee=0,ce=fe.length,re,te,he;for(Z instanceof Date||(Z=new Date(+Z));++Y<ce;)fe.charCodeAt(Y)===37&&(V.push(fe.slice(ee,Y)),(te=HO[re=fe.charAt(++Y)])!=null?re=fe.charAt(++Y):te=re==="e"?" ":"0",(he=X[re])&&(re=he(Z,te)),V.push(re),ee=Y+1);return V.push(fe.slice(ee,Y)),V.join("")}}function k(fe,X){return function(Z){var V=yu(1900,void 0,1),Y=D(V,fe,Z+="",0),ee,ce;if(Y!=Z.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(X&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(ee=T0(yu(V.y,0,1)),ce=ee.getUTCDay(),ee=ce>4||ce===0?xf.ceil(ee):xf(ee),ee=xp.offset(ee,(V.V-1)*7),V.y=ee.getUTCFullYear(),V.m=ee.getUTCMonth(),V.d=ee.getUTCDate()+(V.w+6)%7):(ee=E0(yu(V.y,0,1)),ce=ee.getDay(),ee=ce>4||ce===0?gf.ceil(ee):gf(ee),ee=zd.offset(ee,(V.V-1)*7),V.y=ee.getFullYear(),V.m=ee.getMonth(),V.d=ee.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),ce="Z"in V?T0(yu(V.y,0,1)).getUTCDay():E0(yu(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(ce+5)%7:V.w+V.U*7-(ce+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,T0(V)):E0(V)}}function D(fe,X,Z,V){for(var Y=0,ee=X.length,ce=Z.length,re,te;Y<ee;){if(V>=ce)return-1;if(re=X.charCodeAt(Y++),re===37){if(re=X.charAt(Y++),te=S[re in HO?X.charAt(Y++):re],!te||(V=te(fe,Z,V))<0)return-1}else if(re!=Z.charCodeAt(V++))return-1}return V}function _(fe,X,Z){var V=h.exec(X.slice(Z));return V?(fe.p=f.get(V[0].toLowerCase()),Z+V[0].length):-1}function U(fe,X,Z){var V=b.exec(X.slice(Z));return V?(fe.w=x.get(V[0].toLowerCase()),Z+V[0].length):-1}function R(fe,X,Z){var V=p.exec(X.slice(Z));return V?(fe.w=y.get(V[0].toLowerCase()),Z+V[0].length):-1}function $(fe,X,Z){var V=T.exec(X.slice(Z));return V?(fe.m=A.get(V[0].toLowerCase()),Z+V[0].length):-1}function L(fe,X,Z){var V=j.exec(X.slice(Z));return V?(fe.m=w.get(V[0].toLowerCase()),Z+V[0].length):-1}function z(fe,X,Z){return D(fe,n,X,Z)}function W(fe,X,Z){return D(fe,r,X,Z)}function M(fe,X,Z){return D(fe,a,X,Z)}function F(fe){return l[fe.getDay()]}function G(fe){return o[fe.getDay()]}function J(fe){return d[fe.getMonth()]}function I(fe){return u[fe.getMonth()]}function q(fe){return s[+(fe.getHours()>=12)]}function B(fe){return 1+~~(fe.getMonth()/3)}function H(fe){return l[fe.getUTCDay()]}function K(fe){return o[fe.getUTCDay()]}function ie(fe){return d[fe.getUTCMonth()]}function ae(fe){return u[fe.getUTCMonth()]}function me(fe){return s[+(fe.getUTCHours()>=12)]}function de(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var X=E(fe+="",O);return X.toString=function(){return fe},X},parse:function(fe){var X=k(fe+="",!1);return X.toString=function(){return fe},X},utcFormat:function(fe){var X=E(fe+="",P);return X.toString=function(){return fe},X},utcParse:function(fe){var X=k(fe+="",!0);return X.toString=function(){return fe},X}}}var HO={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,lV=/^%/,cV=/[\\^$*+?|[\]().{}]/g;function St(e,n,r){var a=e<0?"-":"",s=(a?-e:e)+"",o=s.length;return a+(o<r?new Array(r-o+1).join(n)+s:s)}function uV(e){return e.replace(cV,"\\$&")}function gu(e){return new RegExp("^(?:"+e.map(uV).join("|")+")","i")}function xu(e){return new Map(e.map((n,r)=>[n.toLowerCase(),r]))}function dV(e,n,r){var a=Rn.exec(n.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function hV(e,n,r){var a=Rn.exec(n.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function mV(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function fV(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function pV(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function zO(e,n,r){var a=Rn.exec(n.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function WO(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function vV(e,n,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function yV(e,n,r){var a=Rn.exec(n.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function gV(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function VO(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function xV(e,n,r){var a=Rn.exec(n.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function YO(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function bV(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function jV(e,n,r){var a=Rn.exec(n.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function NV(e,n,r){var a=Rn.exec(n.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function wV(e,n,r){var a=Rn.exec(n.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function SV(e,n,r){var a=lV.exec(n.slice(r,r+1));return a?r+a[0].length:-1}function EV(e,n,r){var a=Rn.exec(n.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function TV(e,n,r){var a=Rn.exec(n.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function GO(e,n){return St(e.getDate(),n,2)}function AV(e,n){return St(e.getHours(),n,2)}function CV(e,n){return St(e.getHours()%12||12,n,2)}function kV(e,n){return St(1+zd.count(xs(e),e),n,3)}function kI(e,n){return St(e.getMilliseconds(),n,3)}function OV(e,n){return kI(e,n)+"000"}function DV(e,n){return St(e.getMonth()+1,n,2)}function PV(e,n){return St(e.getMinutes(),n,2)}function MV(e,n){return St(e.getSeconds(),n,2)}function _V(e){var n=e.getDay();return n===0?7:n}function IV(e,n){return St(bp.count(xs(e)-1,e),n,2)}function OI(e){var n=e.getDay();return n>=4||n===0?Ml(e):Ml.ceil(e)}function RV(e,n){return e=OI(e),St(Ml.count(xs(e),e)+(xs(e).getDay()===4),n,2)}function qV(e){return e.getDay()}function LV(e,n){return St(gf.count(xs(e)-1,e),n,2)}function $V(e,n){return St(e.getFullYear()%100,n,2)}function BV(e,n){return e=OI(e),St(e.getFullYear()%100,n,2)}function UV(e,n){return St(e.getFullYear()%1e4,n,4)}function FV(e,n){var r=e.getDay();return e=r>=4||r===0?Ml(e):Ml.ceil(e),St(e.getFullYear()%1e4,n,4)}function HV(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+St(n/60|0,"0",2)+St(n%60,"0",2)}function KO(e,n){return St(e.getUTCDate(),n,2)}function zV(e,n){return St(e.getUTCHours(),n,2)}function WV(e,n){return St(e.getUTCHours()%12||12,n,2)}function VV(e,n){return St(1+xp.count(bs(e),e),n,3)}function DI(e,n){return St(e.getUTCMilliseconds(),n,3)}function YV(e,n){return DI(e,n)+"000"}function GV(e,n){return St(e.getUTCMonth()+1,n,2)}function KV(e,n){return St(e.getUTCMinutes(),n,2)}function QV(e,n){return St(e.getUTCSeconds(),n,2)}function XV(e){var n=e.getUTCDay();return n===0?7:n}function JV(e,n){return St(jp.count(bs(e)-1,e),n,2)}function PI(e){var n=e.getUTCDay();return n>=4||n===0?_l(e):_l.ceil(e)}function ZV(e,n){return e=PI(e),St(_l.count(bs(e),e)+(bs(e).getUTCDay()===4),n,2)}function eY(e){return e.getUTCDay()}function tY(e,n){return St(xf.count(bs(e)-1,e),n,2)}function nY(e,n){return St(e.getUTCFullYear()%100,n,2)}function rY(e,n){return e=PI(e),St(e.getUTCFullYear()%100,n,2)}function aY(e,n){return St(e.getUTCFullYear()%1e4,n,4)}function sY(e,n){var r=e.getUTCDay();return e=r>=4||r===0?_l(e):_l.ceil(e),St(e.getUTCFullYear()%1e4,n,4)}function iY(){return"+0000"}function QO(){return"%"}function XO(e){return+e}function JO(e){return Math.floor(+e/1e3)}var il,MI,_I;oY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oY(e){return il=oV(e),MI=il.format,il.parse,_I=il.utcFormat,il.utcParse,il}function lY(e){return new Date(e)}function cY(e){return e instanceof Date?+e:+new Date(+e)}function y2(e,n,r,a,s,o,l,u,d,h){var f=r2(),p=f.invert,y=f.domain,b=h(".%L"),x=h(":%S"),j=h("%I:%M"),w=h("%I %p"),T=h("%a %d"),A=h("%b %d"),O=h("%B"),P=h("%Y");function S(E){return(d(E)<E?b:u(E)<E?x:l(E)<E?j:o(E)<E?w:a(E)<E?s(E)<E?T:A:r(E)<E?O:P)(E)}return f.invert=function(E){return new Date(p(E))},f.domain=function(E){return arguments.length?y(Array.from(E,cY)):y().map(lY)},f.ticks=function(E){var k=y();return e(k[0],k[k.length-1],E??10)},f.tickFormat=function(E,k){return k==null?S:h(k)},f.nice=function(E){var k=y();return(!E||typeof E.range!="function")&&(E=n(k[0],k[k.length-1],E??10)),E?y(bI(k,E)):f},f.copy=function(){return Hd(f,y2(e,n,r,a,s,o,l,u,d,h))},f}function uY(){return Xr.apply(y2(sV,iV,xs,p2,bp,zd,m2,d2,Ui,MI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dY(){return Xr.apply(y2(rV,aV,bs,v2,jp,xp,f2,h2,Ui,_I).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Np(){var e=0,n=1,r,a,s,o,l=ar,u=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(s===0?.5:(p=(o(p)-r)*s,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,n]=p,r=o(e=+e),a=o(n=+n),s=r===a?0:1/(a-r),h):[e,n]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function f(p){return function(y){var b,x;return arguments.length?([b,x]=y,l=p(b,x),h):[l(0),l(1)]}}return h.range=f(cc),h.rangeRound=f(n2),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return o=p,r=p(e),a=p(n),s=r===a?0:1/(a-r),h}}function ci(e,n){return n.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function II(){var e=li(Np()(ar));return e.copy=function(){return ci(e,II())},ws.apply(e,arguments)}function RI(){var e=i2(Np()).domain([1,10]);return e.copy=function(){return ci(e,RI()).base(e.base())},ws.apply(e,arguments)}function qI(){var e=o2(Np());return e.copy=function(){return ci(e,qI()).constant(e.constant())},ws.apply(e,arguments)}function g2(){var e=l2(Np());return e.copy=function(){return ci(e,g2()).exponent(e.exponent())},ws.apply(e,arguments)}function hY(){return g2.apply(null,arguments).exponent(.5)}function LI(){var e=[],n=ar;function r(a){if(a!=null&&!isNaN(a=+a))return n((Ud(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ri),r},r.interpolator=function(a){return arguments.length?(n=a,r):n},r.range=function(){return e.map((a,s)=>n(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,o)=>Jz(e,o/a))},r.copy=function(){return LI(n).domain(e)},ws.apply(r,arguments)}function wp(){var e=0,n=.5,r=1,a=1,s,o,l,u,d,h=ar,f,p=!1,y;function b(j){return isNaN(j=+j)?y:(j=.5+((j=+f(j))-o)*(a*j<a*o?u:d),h(p?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,n,r]=j,s=f(e=+e),o=f(n=+n),l=f(r=+r),u=s===o?0:.5/(o-s),d=o===l?0:.5/(l-o),a=o<s?-1:1,b):[e,n,r]},b.clamp=function(j){return arguments.length?(p=!!j,b):p},b.interpolator=function(j){return arguments.length?(h=j,b):h};function x(j){return function(w){var T,A,O;return arguments.length?([T,A,O]=w,h=SW(j,[T,A,O]),b):[h(0),h(.5),h(1)]}}return b.range=x(cc),b.rangeRound=x(n2),b.unknown=function(j){return arguments.length?(y=j,b):y},function(j){return f=j,s=j(e),o=j(n),l=j(r),u=s===o?0:.5/(o-s),d=o===l?0:.5/(l-o),a=o<s?-1:1,b}}function $I(){var e=li(wp()(ar));return e.copy=function(){return ci(e,$I())},ws.apply(e,arguments)}function BI(){var e=i2(wp()).domain([.1,1,10]);return e.copy=function(){return ci(e,BI()).base(e.base())},ws.apply(e,arguments)}function UI(){var e=o2(wp());return e.copy=function(){return ci(e,UI()).constant(e.constant())},ws.apply(e,arguments)}function x2(){var e=l2(wp());return e.copy=function(){return ci(e,x2()).exponent(e.exponent())},ws.apply(e,arguments)}function mY(){return x2.apply(null,arguments).exponent(.5)}const ZO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ad,scaleDiverging:$I,scaleDivergingLog:BI,scaleDivergingPow:x2,scaleDivergingSqrt:mY,scaleDivergingSymlog:UI,scaleIdentity:xI,scaleImplicit:i1,scaleLinear:vf,scaleLog:jI,scaleOrdinal:ZN,scalePoint:Ru,scalePow:c2,scaleQuantile:SI,scaleQuantize:EI,scaleRadial:wI,scaleSequential:II,scaleSequentialLog:RI,scaleSequentialPow:g2,scaleSequentialQuantile:LI,scaleSequentialSqrt:hY,scaleSequentialSymlog:qI,scaleSqrt:YW,scaleSymlog:NI,scaleThreshold:TI,scaleTime:uY,scaleUtc:dY,tickFormat:gI},Symbol.toStringTag,{value:"Module"}));var A0,eD;function Sp(){if(eD)return A0;eD=1;var e=sc();function n(r,a,s){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=a(u);if(d!=null&&(h===void 0?d===d&&!e(d):s(d,h)))var h=d,f=u}return f}return A0=n,A0}var C0,tD;function FI(){if(tD)return C0;tD=1;function e(n,r){return n>r}return C0=e,C0}var k0,nD;function fY(){if(nD)return k0;nD=1;var e=Sp(),n=FI(),r=lc();function a(s){return s&&s.length?e(s,r,n):void 0}return k0=a,k0}var pY=fY();const ti=kt(pY);var O0,rD;function HI(){if(rD)return O0;rD=1;function e(n,r){return n<r}return O0=e,O0}var D0,aD;function vY(){if(aD)return D0;aD=1;var e=Sp(),n=HI(),r=lc();function a(s){return s&&s.length?e(s,r,n):void 0}return D0=a,D0}var yY=vY();const Ep=kt(yY);var P0,sD;function gY(){if(sD)return P0;sD=1;var e=IN(),n=Ha(),r=X_(),a=yr();function s(o,l){var u=a(o)?e:r;return u(o,n(l,3))}return P0=s,P0}var M0,iD;function xY(){if(iD)return M0;iD=1;var e=K_(),n=gY();function r(a,s){return e(n(a,s),1)}return M0=r,M0}var bY=xY();const jY=kt(bY);var _0,oD;function NY(){if(oD)return _0;oD=1;var e=GN();function n(r,a){return e(r,a)}return _0=n,_0}var wY=NY();const ro=kt(wY);var uc=1e9,SY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},j2,Gt=!0,Kr="[DecimalError] ",Gi=Kr+"Invalid argument: ",b2=Kr+"Exponent out of range: ",dc=Math.floor,Ri=Math.pow,EY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Dn=1e7,Vt=7,zI=9007199254740991,bf=dc(zI/Vt),Ve={};Ve.absoluteValue=Ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ve.comparedTo=Ve.cmp=function(e){var n,r,a,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(a=o.d.length,s=e.d.length,n=0,r=a<s?a:s;n<r;++n)if(o.d[n]!==e.d[n])return o.d[n]>e.d[n]^o.s<0?1:-1;return a===s?0:a>s^o.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var e=this,n=e.d.length-1,r=(n-e.e)*Vt;if(n=e.d[n],n)for(;n%10==0;n/=10)r--;return r<0?0:r};Ve.dividedBy=Ve.div=function(e){return vs(this,new this.constructor(e))};Ve.dividedToIntegerBy=Ve.idiv=function(e){var n=this,r=n.constructor;return $t(vs(n,new r(e),0,1),r.precision)};Ve.equals=Ve.eq=function(e){return!this.cmp(e)};Ve.exponent=function(){return bn(this)};Ve.greaterThan=Ve.gt=function(e){return this.cmp(e)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(e){return this.cmp(e)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(e){return this.cmp(e)<0};Ve.lessThanOrEqualTo=Ve.lte=function(e){return this.cmp(e)<1};Ve.logarithm=Ve.log=function(e){var n,r=this,a=r.constructor,s=a.precision,o=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(kr))throw Error(Kr+"NaN");if(r.s<1)throw Error(Kr+(r.s?"NaN":"-Infinity"));return r.eq(kr)?new a(0):(Gt=!1,n=vs(cd(r,o),cd(e,o),o),Gt=!0,$t(n,s))};Ve.minus=Ve.sub=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?YI(n,e):WI(n,(e.s=-e.s,e))};Ve.modulo=Ve.mod=function(e){var n,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Kr+"NaN");return r.s?(Gt=!1,n=vs(r,e,0,1).times(e),Gt=!0,r.minus(n)):$t(new a(r),s)};Ve.naturalExponential=Ve.exp=function(){return VI(this)};Ve.naturalLogarithm=Ve.ln=function(){return cd(this)};Ve.negated=Ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ve.plus=Ve.add=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?WI(n,e):YI(n,(e.s=-e.s,e))};Ve.precision=Ve.sd=function(e){var n,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gi+e);if(n=bn(s)+1,a=s.d.length-1,r=a*Vt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&n>r?n:r};Ve.squareRoot=Ve.sqrt=function(){var e,n,r,a,s,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Kr+"NaN")}for(e=bn(u),Gt=!1,s=Math.sqrt(+u),s==0||s==1/0?(n=Ma(u.d),(n.length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=dc((e+1)/2)-(e<0||e%2),s==1/0?n="5e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),a=new d(n)):a=new d(s.toString()),r=d.precision,s=l=r+3;;)if(o=a,a=o.plus(vs(u,o,l+2)).times(.5),Ma(o.d).slice(0,l)===(n=Ma(a.d)).slice(0,l)){if(n=n.slice(l-3,l+1),s==l&&n=="4999"){if($t(o,r+1,0),o.times(o).eq(u)){a=o;break}}else if(n!="9999")break;l+=4}return Gt=!0,$t(a,r)};Ve.times=Ve.mul=function(e){var n,r,a,s,o,l,u,d,h,f=this,p=f.constructor,y=f.d,b=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,d=y.length,h=b.length,d<h&&(o=y,y=b,b=o,l=d,d=h,h=l),o=[],l=d+h,a=l;a--;)o.push(0);for(a=h;--a>=0;){for(n=0,s=d+a;s>a;)u=o[s]+b[a]*y[s-a-1]+n,o[s--]=u%Dn|0,n=u/Dn|0;o[s]=(o[s]+n)%Dn|0}for(;!o[--l];)o.pop();return n?++r:o.shift(),e.d=o,e.e=r,Gt?$t(e,p.precision):e};Ve.toDecimalPlaces=Ve.todp=function(e,n){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:($a(e,0,uc),n===void 0?n=a.rounding:$a(n,0,8),$t(r,e+bn(r)+1,n))};Ve.toExponential=function(e,n){var r,a=this,s=a.constructor;return e===void 0?r=ao(a,!0):($a(e,0,uc),n===void 0?n=s.rounding:$a(n,0,8),a=$t(new s(a),e+1,n),r=ao(a,!0,e+1)),r};Ve.toFixed=function(e,n){var r,a,s=this,o=s.constructor;return e===void 0?ao(s):($a(e,0,uc),n===void 0?n=o.rounding:$a(n,0,8),a=$t(new o(s),e+bn(s)+1,n),r=ao(a.abs(),!1,e+bn(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ve.toInteger=Ve.toint=function(){var e=this,n=e.constructor;return $t(new n(e),bn(e)+1,n.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(e){var n,r,a,s,o,l,u=this,d=u.constructor,h=12,f=+(e=new d(e));if(!e.s)return new d(kr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Kr+"Infinity");return u}if(u.eq(kr))return u;if(a=d.precision,e.eq(kr))return $t(u,a);if(n=e.e,r=e.d.length-1,l=n>=r,o=u.s,l){if((r=f<0?-f:f)<=zI){for(s=new d(kr),n=Math.ceil(a/Vt+4),Gt=!1;r%2&&(s=s.times(u),cD(s.d,n)),r=dc(r/2),r!==0;)u=u.times(u),cD(u.d,n);return Gt=!0,e.s<0?new d(kr).div(s):$t(s,a)}}else if(o<0)throw Error(Kr+"NaN");return o=o<0&&e.d[Math.max(n,r)]&1?-1:1,u.s=1,Gt=!1,s=e.times(cd(u,a+h)),Gt=!0,s=VI(s),s.s=o,s};Ve.toPrecision=function(e,n){var r,a,s=this,o=s.constructor;return e===void 0?(r=bn(s),a=ao(s,r<=o.toExpNeg||r>=o.toExpPos)):($a(e,1,uc),n===void 0?n=o.rounding:$a(n,0,8),s=$t(new o(s),e,n),r=bn(s),a=ao(s,e<=r||r<=o.toExpNeg,e)),a};Ve.toSignificantDigits=Ve.tosd=function(e,n){var r=this,a=r.constructor;return e===void 0?(e=a.precision,n=a.rounding):($a(e,1,uc),n===void 0?n=a.rounding:$a(n,0,8)),$t(new a(r),e,n)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,n=bn(e),r=e.constructor;return ao(e,n<=r.toExpNeg||n>=r.toExpPos)};function WI(e,n){var r,a,s,o,l,u,d,h,f=e.constructor,p=f.precision;if(!e.s||!n.s)return n.s||(n=new f(e)),Gt?$t(n,p):n;if(d=e.d,h=n.d,l=e.e,s=n.e,d=d.slice(),o=l-s,o){for(o<0?(a=d,o=-o,u=h.length):(a=h,s=l,u=d.length),l=Math.ceil(p/Vt),u=l>u?l+1:u+1,o>u&&(o=u,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(u=d.length,o=h.length,u-o<0&&(o=u,a=h,h=d,d=a),r=0;o;)r=(d[--o]=d[o]+h[o]+r)/Dn|0,d[o]%=Dn;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return n.d=d,n.e=s,Gt?$t(n,p):n}function $a(e,n,r){if(e!==~~e||e<n||e>r)throw Error(Gi+e)}function Ma(e){var n,r,a,s=e.length-1,o="",l=e[0];if(s>0){for(o+=l,n=1;n<s;n++)a=e[n]+"",r=Vt-a.length,r&&(o+=Js(r)),o+=a;l=e[n],a=l+"",r=Vt-a.length,r&&(o+=Js(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var vs=function(){function e(a,s){var o,l=0,u=a.length;for(a=a.slice();u--;)o=a[u]*s+l,a[u]=o%Dn|0,l=o/Dn|0;return l&&a.unshift(l),a}function n(a,s,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(a[u]!=s[u]){d=a[u]>s[u]?1:-1;break}return d}function r(a,s,o){for(var l=0;o--;)a[o]-=l,l=a[o]<s[o]?1:0,a[o]=l*Dn+a[o]-s[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,o,l){var u,d,h,f,p,y,b,x,j,w,T,A,O,P,S,E,k,D,_=a.constructor,U=a.s==s.s?1:-1,R=a.d,$=s.d;if(!a.s)return new _(a);if(!s.s)throw Error(Kr+"Division by zero");for(d=a.e-s.e,k=$.length,S=R.length,b=new _(U),x=b.d=[],h=0;$[h]==(R[h]||0);)++h;if($[h]>(R[h]||0)&&--d,o==null?A=o=_.precision:l?A=o+(bn(a)-bn(s))+1:A=o,A<0)return new _(0);if(A=A/Vt+2|0,h=0,k==1)for(f=0,$=$[0],A++;(h<S||f)&&A--;h++)O=f*Dn+(R[h]||0),x[h]=O/$|0,f=O%$|0;else{for(f=Dn/($[0]+1)|0,f>1&&($=e($,f),R=e(R,f),k=$.length,S=R.length),P=k,j=R.slice(0,k),w=j.length;w<k;)j[w++]=0;D=$.slice(),D.unshift(0),E=$[0],$[1]>=Dn/2&&++E;do f=0,u=n($,j,k,w),u<0?(T=j[0],k!=w&&(T=T*Dn+(j[1]||0)),f=T/E|0,f>1?(f>=Dn&&(f=Dn-1),p=e($,f),y=p.length,w=j.length,u=n(p,j,y,w),u==1&&(f--,r(p,k<y?D:$,y))):(f==0&&(u=f=1),p=$.slice()),y=p.length,y<w&&p.unshift(0),r(j,p,w),u==-1&&(w=j.length,u=n($,j,k,w),u<1&&(f++,r(j,k<w?D:$,w))),w=j.length):u===0&&(f++,j=[0]),x[h++]=f,u&&j[0]?j[w++]=R[P]||0:(j=[R[P]],w=1);while((P++<S||j[0]!==void 0)&&A--)}return x[0]||x.shift(),b.e=d,$t(b,l?o+bn(b)+1:o)}}();function VI(e,n){var r,a,s,o,l,u,d=0,h=0,f=e.constructor,p=f.precision;if(bn(e)>16)throw Error(b2+bn(e));if(!e.s)return new f(kr);for(Gt=!1,u=p,l=new f(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(a=Math.log(Ri(2,h))/Math.LN10*2+5|0,u+=a,r=s=o=new f(kr),f.precision=u;;){if(s=$t(s.times(e),u),r=r.times(++d),l=o.plus(vs(s,r,u)),Ma(l.d).slice(0,u)===Ma(o.d).slice(0,u)){for(;h--;)o=$t(o.times(o),u);return f.precision=p,n==null?(Gt=!0,$t(o,p)):o}o=l}}function bn(e){for(var n=e.e*Vt,r=e.d[0];r>=10;r/=10)n++;return n}function I0(e,n,r){if(n>e.LN10.sd())throw Gt=!0,r&&(e.precision=r),Error(Kr+"LN10 precision limit exceeded");return $t(new e(e.LN10),n)}function Js(e){for(var n="";e--;)n+="0";return n}function cd(e,n){var r,a,s,o,l,u,d,h,f,p=1,y=10,b=e,x=b.d,j=b.constructor,w=j.precision;if(b.s<1)throw Error(Kr+(b.s?"NaN":"-Infinity"));if(b.eq(kr))return new j(0);if(n==null?(Gt=!1,h=w):h=n,b.eq(10))return n==null&&(Gt=!0),I0(j,h);if(h+=y,j.precision=h,r=Ma(x),a=r.charAt(0),o=bn(b),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)b=b.times(e),r=Ma(b.d),a=r.charAt(0),p++;o=bn(b),a>1?(b=new j("0."+r),o++):b=new j(a+"."+r.slice(1))}else return d=I0(j,h+2,w).times(o+""),b=cd(new j(a+"."+r.slice(1)),h-y).plus(d),j.precision=w,n==null?(Gt=!0,$t(b,w)):b;for(u=l=b=vs(b.minus(kr),b.plus(kr),h),f=$t(b.times(b),h),s=3;;){if(l=$t(l.times(f),h),d=u.plus(vs(l,new j(s),h)),Ma(d.d).slice(0,h)===Ma(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(I0(j,h+2,w).times(o+""))),u=vs(u,new j(p),h),j.precision=w,n==null?(Gt=!0,$t(u,w)):u;u=d,s+=2}}function lD(e,n){var r,a,s;for((r=n.indexOf("."))>-1&&(n=n.replace(".","")),(a=n.search(/e/i))>0?(r<0&&(r=a),r+=+n.slice(a+1),n=n.substring(0,a)):r<0&&(r=n.length),a=0;n.charCodeAt(a)===48;)++a;for(s=n.length;n.charCodeAt(s-1)===48;)--s;if(n=n.slice(a,s),n){if(s-=a,r=r-a-1,e.e=dc(r/Vt),e.d=[],a=(r+1)%Vt,r<0&&(a+=Vt),a<s){for(a&&e.d.push(+n.slice(0,a)),s-=Vt;a<s;)e.d.push(+n.slice(a,a+=Vt));n=n.slice(a),a=Vt-n.length}else a-=s;for(;a--;)n+="0";if(e.d.push(+n),Gt&&(e.e>bf||e.e<-bf))throw Error(b2+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,n,r){var a,s,o,l,u,d,h,f,p=e.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(a=n-l,a<0)a+=Vt,s=n,h=p[f=0];else{if(f=Math.ceil((a+1)/Vt),o=p.length,f>=o)return e;for(h=o=p[f],l=1;o>=10;o/=10)l++;a%=Vt,s=a-Vt+l}if(r!==void 0&&(o=Ri(10,l-s-1),u=h/o%10|0,d=n<0||p[f+1]!==void 0||h%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(a>0?s>0?h/Ri(10,l-s):0:p[f-1])%10&1||r==(e.s<0?8:7))),n<1||!p[0])return d?(o=bn(e),p.length=1,n=n-o-1,p[0]=Ri(10,(Vt-n%Vt)%Vt),e.e=dc(-n/Vt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(a==0?(p.length=f,o=1,f--):(p.length=f+1,o=Ri(10,Vt-a),p[f]=s>0?(h/Ri(10,l-s)%Ri(10,s)|0)*o:0),d)for(;;)if(f==0){(p[0]+=o)==Dn&&(p[0]=1,++e.e);break}else{if(p[f]+=o,p[f]!=Dn)break;p[f--]=0,o=1}for(a=p.length;p[--a]===0;)p.pop();if(Gt&&(e.e>bf||e.e<-bf))throw Error(b2+bn(e));return e}function YI(e,n){var r,a,s,o,l,u,d,h,f,p,y=e.constructor,b=y.precision;if(!e.s||!n.s)return n.s?n.s=-n.s:n=new y(e),Gt?$t(n,b):n;if(d=e.d,p=n.d,a=n.e,h=e.e,d=d.slice(),l=h-a,l){for(f=l<0,f?(r=d,l=-l,u=p.length):(r=p,a=h,u=d.length),s=Math.max(Math.ceil(b/Vt),u)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=p.length,f=s<u,f&&(u=s),s=0;s<u;s++)if(d[s]!=p[s]){f=d[s]<p[s];break}l=0}for(f&&(r=d,d=p,p=r,n.s=-n.s),u=d.length,s=p.length-u;s>0;--s)d[u++]=0;for(s=p.length;s>l;){if(d[--s]<p[s]){for(o=s;o&&d[--o]===0;)d[o]=Dn-1;--d[o],d[s]+=Dn}d[s]-=p[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(n.d=d,n.e=a,Gt?$t(n,b):n):new y(0)}function ao(e,n,r){var a,s=bn(e),o=Ma(e.d),l=o.length;return n?(r&&(a=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+Js(a):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+Js(-s-1)+o,r&&(a=r-l)>0&&(o+=Js(a))):s>=l?(o+=Js(s+1-l),r&&(a=r-s-1)>0&&(o=o+"."+Js(a))):((a=s+1)<l&&(o=o.slice(0,a)+"."+o.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(o+="."),o+=Js(a))),e.s<0?"-"+o:o}function cD(e,n){if(e.length>n)return e.length=n,!0}function GI(e){var n,r,a;function s(o){var l=this;if(!(l instanceof s))return new s(o);if(l.constructor=s,o instanceof s){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Gi+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return lD(l,o.toString())}else if(typeof o!="string")throw Error(Gi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,EY.test(o))lD(l,o);else throw Error(Gi+o)}if(s.prototype=Ve,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=GI,s.config=s.set=TY,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)e.hasOwnProperty(r=a[n++])||(e[r]=this[r]);return s.config(e),s}function TY(e){if(!e||typeof e!="object")throw Error(Kr+"Object expected");var n,r,a,s=["precision",1,uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(n=0;n<s.length;n+=3)if((a=e[r=s[n]])!==void 0)if(dc(a)===a&&a>=s[n+1]&&a<=s[n+2])this[r]=a;else throw Error(Gi+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Gi+r+": "+a);return this}var j2=GI(SY);kr=new j2(1);const Rt=j2;function AY(e){return DY(e)||OY(e)||kY(e)||CY()}function CY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kY(e,n){if(e){if(typeof e=="string")return u1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(e,n)}}function OY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function DY(e){if(Array.isArray(e))return u1(e)}function u1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var PY=function(n){return n},KI={},QI=function(n){return n===KI},uD=function(n){return function r(){return arguments.length===0||arguments.length===1&&QI(arguments.length<=0?void 0:arguments[0])?r:n.apply(void 0,arguments)}},MY=function e(n,r){return n===1?r:uD(function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=s.filter(function(u){return u!==KI}).length;return l>=n?r.apply(void 0,s):e(n-l,uD(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var f=s.map(function(p){return QI(p)?d.shift():p});return r.apply(void 0,AY(f).concat(d))}))})},Tp=function(n){return MY(n.length,n)},d1=function(n,r){for(var a=[],s=n;s<r;++s)a[s-n]=s;return a},_Y=Tp(function(e,n){return Array.isArray(n)?n.map(e):Object.keys(n).map(function(r){return n[r]}).map(e)}),IY=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(!r.length)return PY;var s=r.reverse(),o=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},h1=function(n){return Array.isArray(n)?n.reverse():n.split("").reverse.join("")},XI=function(n){var r=null,a=null;return function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,a=n.apply(void 0,o)),a}};function RY(e){var n;return e===0?n=1:n=Math.floor(new Rt(e).abs().log(10).toNumber())+1,n}function qY(e,n,r){for(var a=new Rt(e),s=0,o=[];a.lt(n)&&s<1e5;)o.push(a.toNumber()),a=a.add(r),s++;return o}var LY=Tp(function(e,n,r){var a=+e,s=+n;return a+r*(s-a)}),$Y=Tp(function(e,n,r){var a=n-+e;return a=a||1/0,(r-e)/a}),BY=Tp(function(e,n,r){var a=n-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const Ap={rangeStep:qY,getDigitCount:RY,interpolateNumber:LY,uninterpolateNumber:$Y,uninterpolateTruncation:BY};function m1(e){return HY(e)||FY(e)||JI(e)||UY()}function UY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HY(e){if(Array.isArray(e))return f1(e)}function ud(e,n){return VY(e)||WY(e,n)||JI(e,n)||zY()}function zY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JI(e,n){if(e){if(typeof e=="string")return f1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,n)}}function f1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function WY(e,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(a=(u=l.next()).done)&&(r.push(u.value),!(n&&r.length===n));a=!0);}catch(d){s=!0,o=d}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw o}}return r}}function VY(e){if(Array.isArray(e))return e}function ZI(e){var n=ud(e,2),r=n[0],a=n[1],s=r,o=a;return r>a&&(s=a,o=r),[s,o]}function eR(e,n,r){if(e.lte(0))return new Rt(0);var a=Ap.getDigitCount(e.toNumber()),s=new Rt(10).pow(a),o=e.div(s),l=a!==1?.05:.1,u=new Rt(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(s);return n?d:new Rt(Math.ceil(d))}function YY(e,n,r){var a=1,s=new Rt(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(a=new Rt(10).pow(Ap.getDigitCount(e)-1),s=new Rt(Math.floor(s.div(a).toNumber())).mul(a)):o>1&&(s=new Rt(Math.floor(e)))}else e===0?s=new Rt(Math.floor((n-1)/2)):r||(s=new Rt(Math.floor(e)));var l=Math.floor((n-1)/2),u=IY(_Y(function(d){return s.add(new Rt(d-l).mul(a)).toNumber()}),d1);return u(0,n)}function tR(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var o=eR(new Rt(n).sub(e).div(r-1),a,s),l;e<=0&&n>=0?l=new Rt(0):(l=new Rt(e).add(n).div(2),l=l.sub(new Rt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new Rt(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?tR(e,n,r,a,s+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Rt(u).mul(o)),tickMax:l.add(new Rt(d).mul(o))})}function GY(e){var n=ud(e,2),r=n[0],a=n[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=ZI([r,a]),d=ud(u,2),h=d[0],f=d[1];if(h===-1/0||f===1/0){var p=f===1/0?[h].concat(m1(d1(0,s-1).map(function(){return 1/0}))):[].concat(m1(d1(0,s-1).map(function(){return-1/0})),[f]);return r>a?h1(p):p}if(h===f)return YY(h,s,o);var y=tR(h,f,l,o),b=y.step,x=y.tickMin,j=y.tickMax,w=Ap.rangeStep(x,j.add(new Rt(.1).mul(b)),b);return r>a?h1(w):w}function KY(e,n){var r=ud(e,2),a=r[0],s=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=ZI([a,s]),u=ud(l,2),d=u[0],h=u[1];if(d===-1/0||h===1/0)return[a,s];if(d===h)return[d];var f=Math.max(n,2),p=eR(new Rt(h).sub(d).div(f-1),o,0),y=[].concat(m1(Ap.rangeStep(new Rt(d),new Rt(h).sub(new Rt(.99).mul(p)),p)),[h]);return a>s?h1(y):y}var QY=XI(GY),XY=XI(KY),JY="Invariant failed";function so(e,n){throw new Error(JY)}var ZY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Il(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jf.apply(this,arguments)}function eG(e,n){return aG(e)||rG(e,n)||nG(e,n)||tG()}function tG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nG(e,n){if(e){if(typeof e=="string")return dD(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dD(e,n)}}function dD(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function rG(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function aG(e){if(Array.isArray(e))return e}function sG(e,n){if(e==null)return{};var r=iG(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function iG(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function oG(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lG(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aR(a.key),a)}}function cG(e,n,r){return n&&lG(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uG(e,n,r){return n=Nf(n),dG(e,nR()?Reflect.construct(n,r||[],Nf(e).constructor):n.apply(e,r))}function dG(e,n){if(n&&(Il(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hG(e)}function hG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nR=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function mG(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&p1(e,n)}function p1(e,n){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},p1(e,n)}function rR(e,n,r){return n=aR(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function aR(e){var n=fG(e,"string");return Il(n)=="symbol"?n:n+""}function fG(e,n){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Il(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wd=function(e){function n(){return oG(this,n),uG(this,n,arguments)}return mG(n,e),cG(n,[{key:"render",value:function(){var a=this.props,s=a.offset,o=a.layout,l=a.width,u=a.dataKey,d=a.data,h=a.dataPointFormatter,f=a.xAxis,p=a.yAxis,y=sG(a,ZY),b=Ge(y,!1);this.props.direction==="x"&&f.type!=="number"&&so();var x=d.map(function(j){var w=h(j,u),T=w.x,A=w.y,O=w.value,P=w.errorVal;if(!P)return null;var S=[],E,k;if(Array.isArray(P)){var D=eG(P,2);E=D[0],k=D[1]}else E=k=P;if(o==="vertical"){var _=f.scale,U=A+s,R=U+l,$=U-l,L=_(O-E),z=_(O+k);S.push({x1:z,y1:R,x2:z,y2:$}),S.push({x1:L,y1:U,x2:z,y2:U}),S.push({x1:L,y1:R,x2:L,y2:$})}else if(o==="horizontal"){var W=p.scale,M=T+s,F=M-l,G=M+l,J=W(O-E),I=W(O+k);S.push({x1:F,y1:I,x2:G,y2:I}),S.push({x1:M,y1:J,x2:M,y2:I}),S.push({x1:F,y1:J,x2:G,y2:J})}return le.createElement(gt,jf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),S.map(function(q){return le.createElement("line",jf({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return le.createElement(gt,{className:"recharts-errorBars"},x)}}])}(le.Component);rR(Wd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});rR(Wd,"displayName","ErrorBar");function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dd(e)}function hD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ki(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?hD(Object(r),!0).forEach(function(a){pG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pG(e,n,r){return n=vG(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function vG(e){var n=yG(e,"string");return dd(n)=="symbol"?n:n+""}function yG(e,n){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(dd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var sR=function(n){var r=n.children,a=n.formattedGraphicalItems,s=n.legendWidth,o=n.legendContent,l=Cr(r,ps);if(!l)return null;var u=ps.defaultProps,d=u!==void 0?ki(ki({},u),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:o==="children"?h=(a||[]).reduce(function(f,p){var y=p.item,b=p.props,x=b.sectors||b.data||[];return f.concat(x.map(function(j){return{type:l.props.iconType||y.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):h=(a||[]).map(function(f){var p=f.item,y=p.type.defaultProps,b=y!==void 0?ki(ki({},y),p.props):{},x=b.dataKey,j=b.name,w=b.legendType,T=b.hide;return{inactive:T,dataKey:x,type:d.iconType||w||"square",color:N2(p),value:j||x,payload:b}}),ki(ki(ki({},d),ps.getWithHeight(l,s)),{},{payload:h,item:l})};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hd(e)}function mD(e){return jG(e)||bG(e)||xG(e)||gG()}function gG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xG(e,n){if(e){if(typeof e=="string")return v1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v1(e,n)}}function bG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jG(e){if(Array.isArray(e))return v1(e)}function v1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function fD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function on(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?fD(Object(r),!0).forEach(function(a){Sl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sl(e,n,r){return n=NG(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function NG(e){var n=wG(e,"string");return hd(n)=="symbol"?n:n+""}function wG(e,n){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(hd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function mn(e,n,r){return it(e)||it(n)?r:En(n)?Or(e,n,r):tt(n)?n(e):r}function qu(e,n,r,a){var s=jY(e,function(u){return mn(u,n)});if(r==="number"){var o=s.filter(function(u){return He(u)||parseFloat(u)});return o.length?[Ep(o),ti(o)]:[1/0,-1/0]}var l=a?s.filter(function(u){return!it(u)}):s;return l.map(function(u){return En(u)||u instanceof Date?u:""})}var SG=function(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,h=0;h<u;h++){var f=h>0?s[h-1].coordinate:s[u-1].coordinate,p=s[h].coordinate,y=h>=u-1?s[0].coordinate:s[h+1].coordinate,b=void 0;if(nr(p-f)!==nr(y-p)){var x=[];if(nr(y-p)===nr(d[1]-d[0])){b=y;var j=p+d[1]-d[0];x[0]=Math.min(j,(j+f)/2),x[1]=Math.max(j,(j+f)/2)}else{b=f;var w=y+d[1]-d[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var T=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(n>T[0]&&n<=T[1]||n>=x[0]&&n<=x[1]){l=s[h].index;break}}else{var A=Math.min(f,y),O=Math.max(f,y);if(n>(A+p)/2&&n<=(O+p)/2){l=s[h].index;break}}}else for(var P=0;P<u;P++)if(P===0&&n<=(a[P].coordinate+a[P+1].coordinate)/2||P>0&&P<u-1&&n>(a[P].coordinate+a[P-1].coordinate)/2&&n<=(a[P].coordinate+a[P+1].coordinate)/2||P===u-1&&n>(a[P].coordinate+a[P-1].coordinate)/2){l=a[P].index;break}return l},N2=function(n){var r,a=n,s=a.type.displayName,o=(r=n.type)!==null&&r!==void 0&&r.defaultProps?on(on({},n.type.defaultProps),n.props):n.props,l=o.stroke,u=o.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},EG=function(n){var r=n.barSize,a=n.totalSize,s=n.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var l={},u=Object.keys(o),d=0,h=u.length;d<h;d++)for(var f=o[u[d]].stackGroups,p=Object.keys(f),y=0,b=p.length;y<b;y++){var x=f[p[y]],j=x.items,w=x.cateAxisId,T=j.filter(function(k){return fs(k.type).indexOf("Bar")>=0});if(T&&T.length){var A=T[0].type.defaultProps,O=A!==void 0?on(on({},A),T[0].props):T[0].props,P=O.barSize,S=O[w];l[S]||(l[S]=[]);var E=it(P)?r:P;l[S].push({item:T[0],stackList:T.slice(1),barSize:it(E)?void 0:rr(E,a,0)})}}return l},TG=function(n){var r=n.barGap,a=n.barCategoryGap,s=n.bandSize,o=n.sizeList,l=o===void 0?[]:o,u=n.maxBarSize,d=l.length;if(d<1)return null;var h=rr(r,s,0,!0),f,p=[];if(l[0].barSize===+l[0].barSize){var y=!1,b=s/d,x=l.reduce(function(P,S){return P+S.barSize||0},0);x+=(d-1)*h,x>=s&&(x-=(d-1)*h,h=0),x>=s&&b>0&&(y=!0,b*=.9,x=d*b);var j=(s-x)/2>>0,w={offset:j-h,size:0};f=l.reduce(function(P,S){var E={item:S.item,position:{offset:w.offset+w.size+h,size:y?b:S.barSize}},k=[].concat(mD(P),[E]);return w=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(D){k.push({item:D,position:w})}),k},p)}else{var T=rr(a,s,0,!0);s-2*T-(d-1)*h<=0&&(h=0);var A=(s-2*T-(d-1)*h)/d;A>1&&(A>>=0);var O=u===+u?Math.min(A,u):A;f=l.reduce(function(P,S,E){var k=[].concat(mD(P),[{item:S.item,position:{offset:T+(A+h)*E+(A-O)/2,size:O}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(D){k.push({item:D,position:k[k.length-1].position})}),k},p)}return f},AG=function(n,r,a,s){var o=a.children,l=a.width,u=a.margin,d=l-(u.left||0)-(u.right||0),h=sR({children:o,legendWidth:d});if(h){var f=s||{},p=f.width,y=f.height,b=h.align,x=h.verticalAlign,j=h.layout;if((j==="vertical"||j==="horizontal"&&x==="middle")&&b!=="center"&&He(n[b]))return on(on({},n),{},Sl({},b,n[b]+(p||0)));if((j==="horizontal"||j==="vertical"&&b==="center")&&x!=="middle"&&He(n[x]))return on(on({},n),{},Sl({},x,n[x]+(y||0)))}return n},CG=function(n,r,a){return it(r)?!0:n==="horizontal"?r==="yAxis":n==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},iR=function(n,r,a,s,o){var l=r.props.children,u=Dr(l,Wd).filter(function(h){return CG(s,o,h.props.direction)});if(u&&u.length){var d=u.map(function(h){return h.props.dataKey});return n.reduce(function(h,f){var p=mn(f,a);if(it(p))return h;var y=Array.isArray(p)?[Ep(p),ti(p)]:[p,p],b=d.reduce(function(x,j){var w=mn(f,j,0),T=y[0]-Math.abs(Array.isArray(w)?w[0]:w),A=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(T,x[0]),Math.max(A,x[1])]},[1/0,-1/0]);return[Math.min(b[0],h[0]),Math.max(b[1],h[1])]},[1/0,-1/0])}return null},kG=function(n,r,a,s,o){var l=r.map(function(u){return iR(n,u,a,o,s)}).filter(function(u){return!it(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},oR=function(n,r,a,s,o){var l=r.map(function(d){var h=d.props.dataKey;return a==="number"&&h&&iR(n,d,h,s)||qu(n,h,a,o)});if(a==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,h){for(var f=0,p=h.length;f<p;f++)u[h[f]]||(u[h[f]]=!0,d.push(h[f]));return d},[])},lR=function(n,r){return n==="horizontal"&&r==="xAxis"||n==="vertical"&&r==="yAxis"||n==="centric"&&r==="angleAxis"||n==="radial"&&r==="radiusAxis"},cR=function(n,r,a,s){if(s)return n.map(function(d){return d.coordinate});var o,l,u=n.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===a&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(a),u},hs=function(n,r,a){if(!n)return null;var s=n.scale,o=n.duplicateDomain,l=n.type,u=n.range,d=n.realScaleType==="scaleBand"?s.bandwidth()/2:2,h=(r||a)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(h=n.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?nr(u[0]-u[1])*2*h:h,r&&(n.ticks||n.niceTicks)){var f=(n.ticks||n.niceTicks).map(function(p){var y=o?o.indexOf(p):p;return{coordinate:s(y)+h,value:p,offset:h}});return f.filter(function(p){return!oc(p.coordinate)})}return n.isCategorical&&n.categoricalDomain?n.categoricalDomain.map(function(p,y){return{coordinate:s(p)+h,value:p,index:y,offset:h}}):s.ticks&&!a?s.ticks(n.tickCount).map(function(p){return{coordinate:s(p)+h,value:p,offset:h}}):s.domain().map(function(p,y){return{coordinate:s(p)+h,value:o?o[p]:p,index:y,offset:h}})},R0=new WeakMap,bm=function(n,r){if(typeof r!="function")return n;R0.has(n)||R0.set(n,new WeakMap);var a=R0.get(n);if(a.has(r))return a.get(r);var s=function(){n.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},uR=function(n,r,a){var s=n.scale,o=n.type,l=n.layout,u=n.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:ad(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:vf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Ru(),realScaleType:"point"}:o==="category"?{scale:ad(),realScaleType:"band"}:{scale:vf(),realScaleType:"linear"};if(eo(s)){var d="scale".concat(dp(s));return{scale:(ZO[d]||Ru)(),realScaleType:ZO[d]?d:"point"}}return tt(s)?{scale:s}:{scale:Ru(),realScaleType:"point"}},pD=1e-4,dR=function(n){var r=n.domain();if(!(!r||r.length<=2)){var a=r.length,s=n.range(),o=Math.min(s[0],s[1])-pD,l=Math.max(s[0],s[1])+pD,u=n(r[0]),d=n(r[a-1]);(u<o||u>l||d<o||d>l)&&n.domain([r[0],r[a-1]])}},OG=function(n,r){if(!n)return null;for(var a=0,s=n.length;a<s;a++)if(n[a].item===r)return n[a].position;return null},DG=function(n,r){if(!r||r.length!==2||!He(r[0])||!He(r[1]))return n;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),o=[n[0],n[1]];return(!He(n[0])||n[0]<a)&&(o[0]=a),(!He(n[1])||n[1]>s)&&(o[1]=s),o[0]>s&&(o[0]=s),o[1]<a&&(o[1]=a),o},PG=function(n){var r=n.length;if(!(r<=0))for(var a=0,s=n[0].length;a<s;++a)for(var o=0,l=0,u=0;u<r;++u){var d=oc(n[u][a][1])?n[u][a][0]:n[u][a][1];d>=0?(n[u][a][0]=o,n[u][a][1]=o+d,o=n[u][a][1]):(n[u][a][0]=l,n[u][a][1]=l+d,l=n[u][a][1])}},MG=function(n){var r=n.length;if(!(r<=0))for(var a=0,s=n[0].length;a<s;++a)for(var o=0,l=0;l<r;++l){var u=oc(n[l][a][1])?n[l][a][0]:n[l][a][1];u>=0?(n[l][a][0]=o,n[l][a][1]=o+u,o=n[l][a][1]):(n[l][a][0]=0,n[l][a][1]=0)}},_G={sign:PG,expand:jU,none:Al,silhouette:NU,wiggle:wU,positive:MG},IG=function(n,r,a){var s=r.map(function(u){return u.props.dataKey}),o=_G[a],l=bU().keys(s).value(function(u,d){return+mn(u,d,0)}).order(Vj).offset(o);return l(n)},RG=function(n,r,a,s,o,l){if(!n)return null;var u=l?r.reverse():r,d={},h=u.reduce(function(p,y){var b,x=(b=y.type)!==null&&b!==void 0&&b.defaultProps?on(on({},y.type.defaultProps),y.props):y.props,j=x.stackId,w=x.hide;if(w)return p;var T=x[a],A=p[T]||{hasStack:!1,stackGroups:{}};if(En(j)){var O=A.stackGroups[j]||{numericAxisId:a,cateAxisId:s,items:[]};O.items.push(y),A.hasStack=!0,A.stackGroups[j]=O}else A.stackGroups[ho("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[y]};return on(on({},p),{},Sl({},T,A))},d),f={};return Object.keys(h).reduce(function(p,y){var b=h[y];if(b.hasStack){var x={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(j,w){var T=b.stackGroups[w];return on(on({},j),{},Sl({},w,{numericAxisId:a,cateAxisId:s,items:T.items,stackedData:IG(n,T.items,o)}))},x)}return on(on({},p),{},Sl({},y,b))},f)},hR=function(n,r){var a=r.realScaleType,s=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=a||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=n.domain();if(!h.length)return null;var f=QY(h,o,u);return n.domain([Ep(f),ti(f)]),{niceTicks:f}}if(o&&s==="number"){var p=n.domain(),y=XY(p,o,u);return{niceTicks:y}}return null};function wf(e){var n=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,o=e.index,l=e.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!it(s[n.dataKey])){var u=Xm(r,"value",s[n.dataKey]);if(u)return u.coordinate+a/2}return r[o]?r[o].coordinate+a/2:null}var d=mn(s,it(l)?n.dataKey:l);return it(d)?null:n.scale(d)}var vD=function(n){var r=n.axis,a=n.ticks,s=n.offset,o=n.bandSize,l=n.entry,u=n.index;if(r.type==="category")return a[u]?a[u].coordinate+s:null;var d=mn(l,r.dataKey,r.domain[u]);return it(d)?null:r.scale(d)-o/2+s},qG=function(n){var r=n.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);return s<=0&&o>=0?0:o<0?o:s}return a[0]},LG=function(n,r){var a,s=(a=n.type)!==null&&a!==void 0&&a.defaultProps?on(on({},n.type.defaultProps),n.props):n.props,o=s.stackId;if(En(o)){var l=r[o];if(l){var u=l.items.indexOf(n);return u>=0?l.stackedData[u]:null}}return null},$G=function(n){return n.reduce(function(r,a){return[Ep(a.concat([r[0]]).filter(He)),ti(a.concat([r[1]]).filter(He))]},[1/0,-1/0])},mR=function(n,r,a){return Object.keys(n).reduce(function(s,o){var l=n[o],u=l.stackedData,d=u.reduce(function(h,f){var p=$G(f.slice(r,a+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},yD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y1=function(n,r,a){if(tt(n))return n(r,a);if(!Array.isArray(n))return r;var s=[];if(He(n[0]))s[0]=a?n[0]:Math.min(n[0],r[0]);else if(yD.test(n[0])){var o=+yD.exec(n[0])[1];s[0]=r[0]-o}else tt(n[0])?s[0]=n[0](r[0]):s[0]=r[0];if(He(n[1]))s[1]=a?n[1]:Math.max(n[1],r[1]);else if(gD.test(n[1])){var l=+gD.exec(n[1])[1];s[1]=r[1]+l}else tt(n[1])?s[1]=n[1](r[1]):s[1]=r[1];return s},Sf=function(n,r,a){if(n&&n.scale&&n.scale.bandwidth){var s=n.scale.bandwidth();if(!a||s>0)return s}if(n&&r&&r.length>=2){for(var o=QN(r,function(p){return p.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var h=o[u],f=o[u-1];l=Math.min((h.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},xD=function(n,r,a){return!n||!n.length||ro(n,Or(a,"type.defaultProps.domain"))?r:n},fR=function(n,r){var a=n.type.defaultProps?on(on({},n.type.defaultProps),n.props):n.props,s=a.dataKey,o=a.name,l=a.unit,u=a.formatter,d=a.tooltipType,h=a.chartType,f=a.hide;return on(on({},Ge(n,!1)),{},{dataKey:s,unit:l,formatter:u,name:o||s,color:N2(n),value:mn(r,s),type:d,payload:r,chartType:h,hide:f})};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},md(e)}function bD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ls(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?bD(Object(r),!0).forEach(function(a){pR(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pR(e,n,r){return n=BG(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function BG(e){var n=UG(e,"string");return md(n)=="symbol"?n:n+""}function UG(e,n){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(md(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function FG(e,n){return VG(e)||WG(e,n)||zG(e,n)||HG()}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,n){if(e){if(typeof e=="string")return jD(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jD(e,n)}}function jD(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function WG(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function VG(e){if(Array.isArray(e))return e}var Ef=Math.PI/180,YG=function(n){return n*180/Math.PI},Wt=function(n,r,a,s){return{x:n+Math.cos(-Ef*s)*a,y:r+Math.sin(-Ef*s)*a}},vR=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(n-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},GG=function(n,r,a,s,o){var l=n.width,u=n.height,d=n.startAngle,h=n.endAngle,f=rr(n.cx,l,l/2),p=rr(n.cy,u,u/2),y=vR(l,u,a),b=rr(n.innerRadius,y,0),x=rr(n.outerRadius,y,y*.8),j=Object.keys(r);return j.reduce(function(w,T){var A=r[T],O=A.domain,P=A.reversed,S;if(it(A.range))s==="angleAxis"?S=[d,h]:s==="radiusAxis"&&(S=[b,x]),P&&(S=[S[1],S[0]]);else{S=A.range;var E=S,k=FG(E,2);d=k[0],h=k[1]}var D=uR(A,o),_=D.realScaleType,U=D.scale;U.domain(O).range(S),dR(U);var R=hR(U,ls(ls({},A),{},{realScaleType:_})),$=ls(ls(ls({},A),R),{},{range:S,radius:x,realScaleType:_,scale:U,cx:f,cy:p,innerRadius:b,outerRadius:x,startAngle:d,endAngle:h});return ls(ls({},w),{},pR({},T,$))},{})},KG=function(n,r){var a=n.x,s=n.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(a-o,2)+Math.pow(s-l,2))},QG=function(n,r){var a=n.x,s=n.y,o=r.cx,l=r.cy,u=KG({x:a,y:s},{x:o,y:l});if(u<=0)return{radius:u};var d=(a-o)/u,h=Math.acos(d);return s>l&&(h=2*Math.PI-h),{radius:u,angle:YG(h),angleInRadian:h}},XG=function(n){var r=n.startAngle,a=n.endAngle,s=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(s,o);return{startAngle:r-l*360,endAngle:a-l*360}},JG=function(n,r){var a=r.startAngle,s=r.endAngle,o=Math.floor(a/360),l=Math.floor(s/360),u=Math.min(o,l);return n+u*360},ND=function(n,r){var a=n.x,s=n.y,o=QG({x:a,y:s},r),l=o.radius,u=o.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var f=XG(r),p=f.startAngle,y=f.endAngle,b=u,x;if(p<=y){for(;b>y;)b-=360;for(;b<p;)b+=360;x=b>=p&&b<=y}else{for(;b>p;)b-=360;for(;b<y;)b+=360;x=b>=y&&b<=p}return x?ls(ls({},r),{},{radius:l,angle:JG(b,r)}):null},yR=function(n){return!g.isValidElement(n)&&!tt(n)&&typeof n!="boolean"?n.className:""};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fd(e)}var ZG=["offset"];function eK(e){return aK(e)||rK(e)||nK(e)||tK()}function tK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(e,n){if(e){if(typeof e=="string")return g1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(e,n)}}function rK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aK(e){if(Array.isArray(e))return g1(e)}function g1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function sK(e,n){if(e==null)return{};var r=iK(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function iK(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function wD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wn(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?wD(Object(r),!0).forEach(function(a){oK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oK(e,n,r){return n=lK(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function lK(e){var n=cK(e,"string");return fd(n)=="symbol"?n:n+""}function cK(e,n){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pd.apply(this,arguments)}var uK=function(n){var r=n.value,a=n.formatter,s=it(n.children)?r:n.children;return tt(a)?a(s):s},dK=function(n,r){var a=nr(r-n),s=Math.min(Math.abs(r-n),360);return a*s},hK=function(n,r,a){var s=n.position,o=n.viewBox,l=n.offset,u=n.className,d=o,h=d.cx,f=d.cy,p=d.innerRadius,y=d.outerRadius,b=d.startAngle,x=d.endAngle,j=d.clockWise,w=(p+y)/2,T=dK(b,x),A=T>=0?1:-1,O,P;s==="insideStart"?(O=b+A*l,P=j):s==="insideEnd"?(O=x-A*l,P=!j):s==="end"&&(O=x+A*l,P=j),P=T<=0?P:!P;var S=Wt(h,f,w,O),E=Wt(h,f,w,O+(P?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(P?0:1,`,
    `).concat(E.x,",").concat(E.y),D=it(n.id)?ho("recharts-radial-line-"):n.id;return le.createElement("text",pd({},a,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",u)}),le.createElement("defs",null,le.createElement("path",{id:D,d:k})),le.createElement("textPath",{xlinkHref:"#".concat(D)},r))},mK=function(n){var r=n.viewBox,a=n.offset,s=n.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,h=o.outerRadius,f=o.startAngle,p=o.endAngle,y=(f+p)/2;if(s==="outside"){var b=Wt(l,u,h+a,y),x=b.x,j=b.y;return{x,y:j,textAnchor:x>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(d+h)/2,T=Wt(l,u,w,y),A=T.x,O=T.y;return{x:A,y:O,textAnchor:"middle",verticalAnchor:"middle"}},fK=function(n){var r=n.viewBox,a=n.parentViewBox,s=n.offset,o=n.position,l=r,u=l.x,d=l.y,h=l.width,f=l.height,p=f>=0?1:-1,y=p*s,b=p>0?"end":"start",x=p>0?"start":"end",j=h>=0?1:-1,w=j*s,T=j>0?"end":"start",A=j>0?"start":"end";if(o==="top"){var O={x:u+h/2,y:d-p*s,textAnchor:"middle",verticalAnchor:b};return wn(wn({},O),a?{height:Math.max(d-a.y,0),width:h}:{})}if(o==="bottom"){var P={x:u+h/2,y:d+f+y,textAnchor:"middle",verticalAnchor:x};return wn(wn({},P),a?{height:Math.max(a.y+a.height-(d+f),0),width:h}:{})}if(o==="left"){var S={x:u-w,y:d+f/2,textAnchor:T,verticalAnchor:"middle"};return wn(wn({},S),a?{width:Math.max(S.x-a.x,0),height:f}:{})}if(o==="right"){var E={x:u+h+w,y:d+f/2,textAnchor:A,verticalAnchor:"middle"};return wn(wn({},E),a?{width:Math.max(a.x+a.width-E.x,0),height:f}:{})}var k=a?{width:h,height:f}:{};return o==="insideLeft"?wn({x:u+w,y:d+f/2,textAnchor:A,verticalAnchor:"middle"},k):o==="insideRight"?wn({x:u+h-w,y:d+f/2,textAnchor:T,verticalAnchor:"middle"},k):o==="insideTop"?wn({x:u+h/2,y:d+y,textAnchor:"middle",verticalAnchor:x},k):o==="insideBottom"?wn({x:u+h/2,y:d+f-y,textAnchor:"middle",verticalAnchor:b},k):o==="insideTopLeft"?wn({x:u+w,y:d+y,textAnchor:A,verticalAnchor:x},k):o==="insideTopRight"?wn({x:u+h-w,y:d+y,textAnchor:T,verticalAnchor:x},k):o==="insideBottomLeft"?wn({x:u+w,y:d+f-y,textAnchor:A,verticalAnchor:b},k):o==="insideBottomRight"?wn({x:u+h-w,y:d+f-y,textAnchor:T,verticalAnchor:b},k):ic(o)&&(He(o.x)||$i(o.x))&&(He(o.y)||$i(o.y))?wn({x:u+rr(o.x,h),y:d+rr(o.y,f),textAnchor:"end",verticalAnchor:"end"},k):wn({x:u+h/2,y:d+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},pK=function(n){return"cx"in n&&He(n.cx)};function Pn(e){var n=e.offset,r=n===void 0?5:n,a=sK(e,ZG),s=wn({offset:r},a),o=s.viewBox,l=s.position,u=s.value,d=s.children,h=s.content,f=s.className,p=f===void 0?"":f,y=s.textBreakAll;if(!o||it(u)&&it(d)&&!g.isValidElement(h)&&!tt(h))return null;if(g.isValidElement(h))return g.cloneElement(h,s);var b;if(tt(h)){if(b=g.createElement(h,s),g.isValidElement(b))return b}else b=uK(s);var x=pK(o),j=Ge(s,!0);if(x&&(l==="insideStart"||l==="insideEnd"||l==="end"))return hK(s,b,j);var w=x?mK(s):fK(s);return le.createElement(no,pd({className:lt("recharts-label",p)},j,w,{breakAll:y}),b)}Pn.displayName="Label";var gR=function(n){var r=n.cx,a=n.cy,s=n.angle,o=n.startAngle,l=n.endAngle,u=n.r,d=n.radius,h=n.innerRadius,f=n.outerRadius,p=n.x,y=n.y,b=n.top,x=n.left,j=n.width,w=n.height,T=n.clockWise,A=n.labelViewBox;if(A)return A;if(He(j)&&He(w)){if(He(p)&&He(y))return{x:p,y,width:j,height:w};if(He(b)&&He(x))return{x:b,y:x,width:j,height:w}}return He(p)&&He(y)?{x:p,y,width:0,height:0}:He(r)&&He(a)?{cx:r,cy:a,startAngle:o||s||0,endAngle:l||s||0,innerRadius:h||0,outerRadius:f||d||u||0,clockWise:T}:n.viewBox?n.viewBox:{}},vK=function(n,r){return n?n===!0?le.createElement(Pn,{key:"label-implicit",viewBox:r}):En(n)?le.createElement(Pn,{key:"label-implicit",viewBox:r,value:n}):g.isValidElement(n)?n.type===Pn?g.cloneElement(n,{key:"label-implicit",viewBox:r}):le.createElement(Pn,{key:"label-implicit",content:n,viewBox:r}):tt(n)?le.createElement(Pn,{key:"label-implicit",content:n,viewBox:r}):ic(n)?le.createElement(Pn,pd({viewBox:r},n,{key:"label-implicit"})):null:null},yK=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&a&&!n.label)return null;var s=n.children,o=gR(n),l=Dr(s,Pn).map(function(d,h){return g.cloneElement(d,{viewBox:r||o,key:"label-".concat(h)})});if(!a)return l;var u=vK(n.label,r||o);return[u].concat(eK(l))};Pn.parseViewBox=gR;Pn.renderCallByParent=yK;var q0,SD;function gK(){if(SD)return q0;SD=1;function e(n){var r=n==null?0:n.length;return r?n[r-1]:void 0}return q0=e,q0}var xK=gK();const bK=kt(xK);function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vd(e)}var jK=["valueAccessor"],NK=["data","dataKey","clockWise","id","textBreakAll"];function wK(e){return AK(e)||TK(e)||EK(e)||SK()}function SK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EK(e,n){if(e){if(typeof e=="string")return x1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x1(e,n)}}function TK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AK(e){if(Array.isArray(e))return x1(e)}function x1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Tf(){return Tf=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tf.apply(this,arguments)}function ED(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function TD(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ED(Object(r),!0).forEach(function(a){CK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function CK(e,n,r){return n=kK(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function kK(e){var n=OK(e,"string");return vd(n)=="symbol"?n:n+""}function OK(e,n){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(vd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function AD(e,n){if(e==null)return{};var r=DK(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function DK(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var PK=function(n){return Array.isArray(n.value)?bK(n.value):n.value};function Ra(e){var n=e.valueAccessor,r=n===void 0?PK:n,a=AD(e,jK),s=a.data,o=a.dataKey,l=a.clockWise,u=a.id,d=a.textBreakAll,h=AD(a,NK);return!s||!s.length?null:le.createElement(gt,{className:"recharts-label-list"},s.map(function(f,p){var y=it(o)?r(f,p):mn(f&&f.payload,o),b=it(u)?{}:{id:"".concat(u,"-").concat(p)};return le.createElement(Pn,Tf({},Ge(f,!0),h,b,{parentViewBox:f.parentViewBox,value:y,textBreakAll:d,viewBox:Pn.parseViewBox(it(l)?f:TD(TD({},f),{},{clockWise:l})),key:"label-".concat(p),index:p}))}))}Ra.displayName="LabelList";function MK(e,n){return e?e===!0?le.createElement(Ra,{key:"labelList-implicit",data:n}):le.isValidElement(e)||tt(e)?le.createElement(Ra,{key:"labelList-implicit",data:n,content:e}):ic(e)?le.createElement(Ra,Tf({data:n},e,{key:"labelList-implicit"})):null:null}function _K(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=Dr(a,Ra).map(function(l,u){return g.cloneElement(l,{data:n,key:"labelList-".concat(u)})});if(!r)return s;var o=MK(e.label,n);return[o].concat(wK(s))}Ra.renderCallByParent=_K;function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yd(e)}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b1.apply(this,arguments)}function CD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kD(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?CD(Object(r),!0).forEach(function(a){IK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IK(e,n,r){return n=RK(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function RK(e){var n=qK(e,"string");return yd(n)=="symbol"?n:n+""}function qK(e,n){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(yd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var LK=function(n,r){var a=nr(r-n),s=Math.min(Math.abs(r-n),359.999);return a*s},jm=function(n){var r=n.cx,a=n.cy,s=n.radius,o=n.angle,l=n.sign,u=n.isExternal,d=n.cornerRadius,h=n.cornerIsExternal,f=d*(u?1:-1)+s,p=Math.asin(d/f)/Ef,y=h?o:o+l*p,b=Wt(r,a,f,y),x=Wt(r,a,s,y),j=h?o-l*p:o,w=Wt(r,a,f*Math.cos(p*Ef),j);return{center:b,circleTangency:x,lineTangency:w,theta:p}},xR=function(n){var r=n.cx,a=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.startAngle,u=n.endAngle,d=LK(l,u),h=l+d,f=Wt(r,a,o,l),p=Wt(r,a,o,h),y="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(s>0){var b=Wt(r,a,s,l),x=Wt(r,a,s,h);y+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(r,",").concat(a," Z");return y},$K=function(n){var r=n.cx,a=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,u=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,f=n.endAngle,p=nr(f-h),y=jm({cx:r,cy:a,radius:o,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),b=y.circleTangency,x=y.lineTangency,j=y.theta,w=jm({cx:r,cy:a,radius:o,angle:f,sign:-p,cornerRadius:l,cornerIsExternal:d}),T=w.circleTangency,A=w.lineTangency,O=w.theta,P=d?Math.abs(h-f):Math.abs(h-f)-j-O;if(P<0)return u?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):xR({cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:h,endAngle:f});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(s>0){var E=jm({cx:r,cy:a,radius:s,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),k=E.circleTangency,D=E.lineTangency,_=E.theta,U=jm({cx:r,cy:a,radius:s,angle:f,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=U.circleTangency,$=U.lineTangency,L=U.theta,z=d?Math.abs(h-f):Math.abs(h-f)-_-L;if(z<0&&l===0)return"".concat(S,"L").concat(r,",").concat(a,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(z>180),",").concat(+(p>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else S+="L".concat(r,",").concat(a,"Z");return S},BK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bR=function(n){var r=kD(kD({},BK),n),a=r.cx,s=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,y=r.className;if(l<o||f===p)return null;var b=lt("recharts-sector",y),x=l-o,j=rr(u,x,0,!0),w;return j>0&&Math.abs(f-p)<360?w=$K({cx:a,cy:s,innerRadius:o,outerRadius:l,cornerRadius:Math.min(j,x/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p}):w=xR({cx:a,cy:s,innerRadius:o,outerRadius:l,startAngle:f,endAngle:p}),le.createElement("path",b1({},Ge(r,!0),{className:b,d:w,role:"img"}))};function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gd(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j1.apply(this,arguments)}function OD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function DD(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?OD(Object(r),!0).forEach(function(a){UK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UK(e,n,r){return n=FK(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function FK(e){var n=HK(e,"string");return gd(n)=="symbol"?n:n+""}function HK(e,n){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(gd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var PD={curveBasisClosed:cU,curveBasisOpen:uU,curveBasis:lU,curveBumpX:GB,curveBumpY:KB,curveLinearClosed:dU,curveLinear:mp,curveMonotoneX:hU,curveMonotoneY:mU,curveNatural:fU,curveStep:pU,curveStepAfter:yU,curveStepBefore:vU},Nm=function(n){return n.x===+n.x&&n.y===+n.y},bu=function(n){return n.x},ju=function(n){return n.y},zK=function(n,r){if(tt(n))return n;var a="curve".concat(dp(n));return(a==="curveMonotone"||a==="curveBump")&&r?PD["".concat(a).concat(r==="vertical"?"Y":"X")]:PD[a]||mp},WK=function(n){var r=n.type,a=r===void 0?"linear":r,s=n.points,o=s===void 0?[]:s,l=n.baseLine,u=n.layout,d=n.connectNulls,h=d===void 0?!1:d,f=zK(a,u),p=h?o.filter(function(j){return Nm(j)}):o,y;if(Array.isArray(l)){var b=h?l.filter(function(j){return Nm(j)}):l,x=p.map(function(j,w){return DD(DD({},j),{},{base:b[w]})});return u==="vertical"?y=mm().y(ju).x1(bu).x0(function(j){return j.base.x}):y=mm().x(bu).y1(ju).y0(function(j){return j.base.y}),y.defined(Nm).curve(f),y(x)}return u==="vertical"&&He(l)?y=mm().y(ju).x1(bu).x0(l):He(l)?y=mm().x(bu).y1(ju).y0(l):y=g_().x(bu).y(ju),y.defined(Nm).curve(f),y(p)},Ki=function(n){var r=n.className,a=n.points,s=n.path,o=n.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?WK(n):s;return le.createElement("path",j1({},Ge(n,!1),Jm(n),{className:lt("recharts-curve",r),d:l,ref:o}))},L0={exports:{}},$0,MD;function VK(){if(MD)return $0;MD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $0=e,$0}var B0,_D;function YK(){if(_D)return B0;_D=1;var e=VK();function n(){}function r(){}return r.resetWarningCache=n,B0=function(){function a(l,u,d,h,f,p){if(p!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}a.isRequired=a;function s(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:n};return o.PropTypes=o,o},B0}var ID;function w2(){return ID||(ID=1,L0.exports=YK()()),L0.exports}var GK=w2();const Ct=kt(GK);var KK=Object.getOwnPropertyNames,QK=Object.getOwnPropertySymbols,XK=Object.prototype.hasOwnProperty;function RD(e,n){return function(a,s,o){return e(a,s,o)&&n(a,s,o)}}function wm(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var o=s.cache,l=o.get(r),u=o.get(a);if(l&&u)return l===a&&u===r;o.set(r,a),o.set(a,r);var d=e(r,a,s);return o.delete(r),o.delete(a),d}}function qD(e){return KK(e).concat(QK(e))}var JK=Object.hasOwn||function(e,n){return XK.call(e,n)};function po(e,n){return e===n||!e&&!n&&e!==e&&n!==n}var ZK="__v",eQ="__o",tQ="_owner",LD=Object.getOwnPropertyDescriptor,$D=Object.keys;function nQ(e,n,r){var a=e.length;if(n.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],n[a],a,a,e,n,r))return!1;return!0}function rQ(e,n){return po(e.getTime(),n.getTime())}function aQ(e,n){return e.name===n.name&&e.message===n.message&&e.cause===n.cause&&e.stack===n.stack}function sQ(e,n){return e===n}function BD(e,n,r){var a=e.size;if(a!==n.size)return!1;if(!a)return!0;for(var s=new Array(a),o=e.entries(),l,u,d=0;(l=o.next())&&!l.done;){for(var h=n.entries(),f=!1,p=0;(u=h.next())&&!u.done;){if(s[p]){p++;continue}var y=l.value,b=u.value;if(r.equals(y[0],b[0],d,p,e,n,r)&&r.equals(y[1],b[1],y[0],b[0],e,n,r)){f=s[p]=!0;break}p++}if(!f)return!1;d++}return!0}var iQ=po;function oQ(e,n,r){var a=$D(e),s=a.length;if($D(n).length!==s)return!1;for(;s-- >0;)if(!jR(e,n,r,a[s]))return!1;return!0}function Nu(e,n,r){var a=qD(e),s=a.length;if(qD(n).length!==s)return!1;for(var o,l,u;s-- >0;)if(o=a[s],!jR(e,n,r,o)||(l=LD(e,o),u=LD(n,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function lQ(e,n){return po(e.valueOf(),n.valueOf())}function cQ(e,n){return e.source===n.source&&e.flags===n.flags}function UD(e,n,r){var a=e.size;if(a!==n.size)return!1;if(!a)return!0;for(var s=new Array(a),o=e.values(),l,u;(l=o.next())&&!l.done;){for(var d=n.values(),h=!1,f=0;(u=d.next())&&!u.done;){if(!s[f]&&r.equals(l.value,u.value,l.value,u.value,e,n,r)){h=s[f]=!0;break}f++}if(!h)return!1}return!0}function uQ(e,n){var r=e.length;if(n.length!==r)return!1;for(;r-- >0;)if(e[r]!==n[r])return!1;return!0}function dQ(e,n){return e.hostname===n.hostname&&e.pathname===n.pathname&&e.protocol===n.protocol&&e.port===n.port&&e.hash===n.hash&&e.username===n.username&&e.password===n.password}function jR(e,n,r,a){return(a===tQ||a===eQ||a===ZK)&&(e.$$typeof||n.$$typeof)?!0:JK(n,a)&&r.equals(e[a],n[a],a,a,e,n,r)}var hQ="[object Arguments]",mQ="[object Boolean]",fQ="[object Date]",pQ="[object Error]",vQ="[object Map]",yQ="[object Number]",gQ="[object Object]",xQ="[object RegExp]",bQ="[object Set]",jQ="[object String]",NQ="[object URL]",wQ=Array.isArray,FD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,HD=Object.assign,SQ=Object.prototype.toString.call.bind(Object.prototype.toString);function EQ(e){var n=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,o=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,h=e.areRegExpsEqual,f=e.areSetsEqual,p=e.areTypedArraysEqual,y=e.areUrlsEqual;return function(x,j,w){if(x===j)return!0;if(x==null||j==null)return!1;var T=typeof x;if(T!==typeof j)return!1;if(T!=="object")return T==="number"?l(x,j,w):T==="function"?s(x,j,w):!1;var A=x.constructor;if(A!==j.constructor)return!1;if(A===Object)return u(x,j,w);if(wQ(x))return n(x,j,w);if(FD!=null&&FD(x))return p(x,j,w);if(A===Date)return r(x,j,w);if(A===RegExp)return h(x,j,w);if(A===Map)return o(x,j,w);if(A===Set)return f(x,j,w);var O=SQ(x);return O===fQ?r(x,j,w):O===xQ?h(x,j,w):O===vQ?o(x,j,w):O===bQ?f(x,j,w):O===gQ?typeof x.then!="function"&&typeof j.then!="function"&&u(x,j,w):O===NQ?y(x,j,w):O===pQ?a(x,j,w):O===hQ?u(x,j,w):O===mQ||O===yQ||O===jQ?d(x,j,w):!1}}function TQ(e){var n=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Nu:nQ,areDatesEqual:rQ,areErrorsEqual:aQ,areFunctionsEqual:sQ,areMapsEqual:a?RD(BD,Nu):BD,areNumbersEqual:iQ,areObjectsEqual:a?Nu:oQ,arePrimitiveWrappersEqual:lQ,areRegExpsEqual:cQ,areSetsEqual:a?RD(UD,Nu):UD,areTypedArraysEqual:a?Nu:uQ,areUrlsEqual:dQ};if(r&&(s=HD({},s,r(s))),n){var o=wm(s.areArraysEqual),l=wm(s.areMapsEqual),u=wm(s.areObjectsEqual),d=wm(s.areSetsEqual);s=HD({},s,{areArraysEqual:o,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return s}function AQ(e){return function(n,r,a,s,o,l,u){return e(n,r,u)}}function CQ(e){var n=e.circular,r=e.comparator,a=e.createState,s=e.equals,o=e.strict;if(a)return function(d,h){var f=a(),p=f.cache,y=p===void 0?n?new WeakMap:void 0:p,b=f.meta;return r(d,h,{cache:y,equals:s,meta:b,strict:o})};if(n)return function(d,h){return r(d,h,{cache:new WeakMap,equals:s,meta:void 0,strict:o})};var l={cache:void 0,equals:s,meta:void 0,strict:o};return function(d,h){return r(d,h,l)}}var kQ=ui();ui({strict:!0});ui({circular:!0});ui({circular:!0,strict:!0});ui({createInternalComparator:function(){return po}});ui({strict:!0,createInternalComparator:function(){return po}});ui({circular:!0,createInternalComparator:function(){return po}});ui({circular:!0,createInternalComparator:function(){return po},strict:!0});function ui(e){e===void 0&&(e={});var n=e.circular,r=n===void 0?!1:n,a=e.createInternalComparator,s=e.createState,o=e.strict,l=o===void 0?!1:o,u=TQ(e),d=EQ(u),h=a?a(d):AQ(d);return CQ({circular:r,comparator:d,createState:s,equals:h,strict:l})}function OQ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function zD(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(o){r<0&&(r=o),o-r>n?(e(o),r=-1):OQ(s)};requestAnimationFrame(a)}function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},N1(e)}function DQ(e){return IQ(e)||_Q(e)||MQ(e)||PQ()}function PQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(e,n){if(e){if(typeof e=="string")return WD(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WD(e,n)}}function WD(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function _Q(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IQ(e){if(Array.isArray(e))return e}function RQ(){var e={},n=function(){return null},r=!1,a=function s(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=DQ(l),d=u[0],h=u.slice(1);if(typeof d=="number"){zD(s.bind(null,h),d);return}s(d),zD(s.bind(null,h));return}N1(o)==="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,a(o)},subscribe:function(o){return n=o,function(){n=function(){return null}}}}}function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xd(e)}function VD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function YD(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?VD(Object(r),!0).forEach(function(a){NR(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function NR(e,n,r){return n=qQ(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function qQ(e){var n=LQ(e,"string");return xd(n)==="symbol"?n:String(n)}function LQ(e,n){if(xd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(xd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var $Q=function(n,r){return[Object.keys(n),Object.keys(r)].reduce(function(a,s){return a.filter(function(o){return s.includes(o)})})},BQ=function(n){return n},UQ=function(n){return n.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Lu=function(n,r){return Object.keys(r).reduce(function(a,s){return YD(YD({},a),{},NR({},s,n(s,r[s])))},{})},GD=function(n,r,a){return n.map(function(s){return"".concat(UQ(s)," ").concat(r,"ms ").concat(a)}).join(",")};function FQ(e,n){return WQ(e)||zQ(e,n)||wR(e,n)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQ(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function WQ(e){if(Array.isArray(e))return e}function VQ(e){return KQ(e)||GQ(e)||wR(e)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wR(e,n){if(e){if(typeof e=="string")return w1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(e,n)}}function GQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KQ(e){if(Array.isArray(e))return w1(e)}function w1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var Af=1e-4,SR=function(n,r){return[0,3*n,3*r-6*n,3*n-3*r+1]},ER=function(n,r){return n.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},KD=function(n,r){return function(a){var s=SR(n,r);return ER(s,a)}},QQ=function(n,r){return function(a){var s=SR(n,r),o=[].concat(VQ(s.map(function(l,u){return l*u}).slice(1)),[0]);return ER(o,a)}},QD=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,o=0,l=1,u=1;break;case"ease":s=.25,o=.1,l=.25,u=1;break;case"ease-in":s=.42,o=0,l=1,u=1;break;case"ease-out":s=.42,o=0,l=.58,u=1;break;case"ease-in-out":s=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=FQ(h,4);s=f[0],o=f[1],l=f[2],u=f[3]}}}var p=KD(s,l),y=KD(o,u),b=QQ(s,l),x=function(T){return T>1?1:T<0?0:T},j=function(T){for(var A=T>1?1:T,O=A,P=0;P<8;++P){var S=p(O)-A,E=b(O);if(Math.abs(S-A)<Af||E<Af)return y(O);O=x(O-S/E)}return y(O)};return j.isStepper=!1,j},XQ=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.stiff,a=r===void 0?100:r,s=n.damping,o=s===void 0?8:s,l=n.dt,u=l===void 0?17:l,d=function(f,p,y){var b=-(f-p)*a,x=y*o,j=y+(b-x)*u/1e3,w=y*u/1e3+f;return Math.abs(w-p)<Af&&Math.abs(j)<Af?[p,0]:[w,j]};return d.isStepper=!0,d.dt=u,d},JQ=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QD(s);case"spring":return XQ();default:if(s.split("(")[0]==="cubic-bezier")return QD(s)}return typeof s=="function"?s:null};function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bd(e)}function XD(e){return tX(e)||eX(e)||TR(e)||ZQ()}function ZQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tX(e){if(Array.isArray(e))return E1(e)}function JD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Un(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?JD(Object(r),!0).forEach(function(a){S1(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function S1(e,n,r){return n=nX(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function nX(e){var n=rX(e,"string");return bd(n)==="symbol"?n:String(n)}function rX(e,n){if(bd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(bd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function aX(e,n){return oX(e)||iX(e,n)||TR(e,n)||sX()}function sX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TR(e,n){if(e){if(typeof e=="string")return E1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E1(e,n)}}function E1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function iX(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function oX(e){if(Array.isArray(e))return e}var Cf=function(n,r,a){return n+(r-n)*a},T1=function(n){var r=n.from,a=n.to;return r!==a},lX=function e(n,r,a){var s=Lu(function(o,l){if(T1(l)){var u=n(l.from,l.to,l.velocity),d=aX(u,2),h=d[0],f=d[1];return Un(Un({},l),{},{from:h,velocity:f})}return l},r);return a<1?Lu(function(o,l){return T1(l)?Un(Un({},l),{},{velocity:Cf(l.velocity,s[o].velocity,a),from:Cf(l.from,s[o].from,a)}):l},r):e(n,s,a-1)};const cX=function(e,n,r,a,s){var o=$Q(e,n),l=o.reduce(function(w,T){return Un(Un({},w),{},S1({},T,[e[T],n[T]]))},{}),u=o.reduce(function(w,T){return Un(Un({},w),{},S1({},T,{from:e[T],velocity:0,to:n[T]}))},{}),d=-1,h,f,p=function(){return null},y=function(){return Lu(function(T,A){return A.from},u)},b=function(){return!Object.values(u).filter(T1).length},x=function(T){h||(h=T);var A=T-h,O=A/r.dt;u=lX(r,u,O),s(Un(Un(Un({},e),n),y())),h=T,b()||(d=requestAnimationFrame(p))},j=function(T){f||(f=T);var A=(T-f)/a,O=Lu(function(S,E){return Cf.apply(void 0,XD(E).concat([r(A)]))},l);if(s(Un(Un(Un({},e),n),O)),A<1)d=requestAnimationFrame(p);else{var P=Lu(function(S,E){return Cf.apply(void 0,XD(E).concat([r(1)]))},l);s(Un(Un(Un({},e),n),P))}};return p=r.isStepper?x:j,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}};function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Rl(e)}var uX=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dX(e,n){if(e==null)return{};var r=hX(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hX(e,n){if(e==null)return{};var r={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(n.indexOf(s)>=0)&&(r[s]=e[s]);return r}function U0(e){return vX(e)||pX(e)||fX(e)||mX()}function mX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fX(e,n){if(e){if(typeof e=="string")return A1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,n)}}function pX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vX(e){if(Array.isArray(e))return A1(e)}function A1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function ZD(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function aa(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ZD(Object(r),!0).forEach(function(a){Du(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Du(e,n,r){return n=AR(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function yX(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function gX(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AR(a.key),a)}}function xX(e,n,r){return n&&gX(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AR(e){var n=bX(e,"string");return Rl(n)==="symbol"?n:String(n)}function bX(e,n){if(Rl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Rl(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function jX(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&C1(e,n)}function C1(e,n){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},C1(e,n)}function NX(e){var n=wX();return function(){var a=kf(e),s;if(n){var o=kf(this).constructor;s=Reflect.construct(a,arguments,o)}else s=a.apply(this,arguments);return k1(this,s)}}function k1(e,n){if(n&&(Rl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O1(e)}function O1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}var fa=function(e){jX(r,e);var n=NX(r);function r(a,s){var o;yX(this,r),o=n.call(this,a,s);var l=o.props,u=l.isActive,d=l.attributeName,h=l.from,f=l.to,p=l.steps,y=l.children,b=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(O1(o)),o.changeStyle=o.changeStyle.bind(O1(o)),!u||b<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:f}),k1(o);if(p&&p.length)o.state={style:p[0].style};else if(h){if(typeof y=="function")return o.state={style:h},k1(o);o.state={style:d?Du({},d,h):h}}else o.state={style:{}};return o}return xX(r,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,l=s.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,h=o.shouldReAnimate,f=o.to,p=o.from,y=this.state.style;if(u){if(!l){var b={style:d?Du({},d,f):f};this.state&&y&&(d&&y[d]!==f||!d&&y!==f)&&this.setState(b);return}if(!(kQ(s.to,f)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=x||h?p:s.to;if(this.state&&y){var w={style:d?Du({},d,j):j};(d&&y[d]!==j||!d&&y!==j)&&this.setState(w)}this.runAnimation(aa(aa({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,l=s.from,u=s.to,d=s.duration,h=s.easing,f=s.begin,p=s.onAnimationEnd,y=s.onAnimationStart,b=cX(l,u,JQ(h),d,this.changeStyle),x=function(){o.stopJSAnimation=b()};this.manager.start([y,f,x,d,p])}},{key:"runStepAnimation",value:function(s){var o=this,l=s.steps,u=s.begin,d=s.onAnimationStart,h=l[0],f=h.style,p=h.duration,y=p===void 0?0:p,b=function(j,w,T){if(T===0)return j;var A=w.duration,O=w.easing,P=O===void 0?"ease":O,S=w.style,E=w.properties,k=w.onAnimationEnd,D=T>0?l[T-1]:w,_=E||Object.keys(S);if(typeof P=="function"||P==="spring")return[].concat(U0(j),[o.runJSAnimation.bind(o,{from:D.style,to:S,duration:A,easing:P}),A]);var U=GD(_,A,P),R=aa(aa(aa({},D.style),S),{},{transition:U});return[].concat(U0(j),[R,A,k]).filter(BQ)};return this.manager.start([d].concat(U0(l.reduce(b,[f,Math.max(y,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=RQ());var o=s.begin,l=s.duration,u=s.attributeName,d=s.to,h=s.easing,f=s.onAnimationStart,p=s.onAnimationEnd,y=s.steps,b=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof h=="function"||typeof b=="function"||h==="spring"){this.runJSAnimation(s);return}if(y.length>1){this.runStepAnimation(s);return}var j=u?Du({},u,d):d,w=GD(Object.keys(j),l,h);x.start([f,o,aa(aa({},j),{},{transition:w}),l,p])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=dX(s,uX),h=g.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!u||h===0||l<=0)return o;var p=function(b){var x=b.props,j=x.style,w=j===void 0?{}:j,T=x.className,A=g.cloneElement(b,aa(aa({},d),{},{style:aa(aa({},w),f),className:T}));return A};return h===1?p(g.Children.only(o)):le.createElement("div",null,g.Children.map(o,function(y){return p(y)}))}}]),r}(g.PureComponent);fa.displayName="Animate";fa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fa.propTypes={from:Ct.oneOfType([Ct.object,Ct.string]),to:Ct.oneOfType([Ct.object,Ct.string]),attributeName:Ct.string,duration:Ct.number,begin:Ct.number,easing:Ct.oneOfType([Ct.string,Ct.func]),steps:Ct.arrayOf(Ct.shape({duration:Ct.number.isRequired,style:Ct.object.isRequired,easing:Ct.oneOfType([Ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ct.func]),properties:Ct.arrayOf("string"),onAnimationEnd:Ct.func})),children:Ct.oneOfType([Ct.node,Ct.func]),isActive:Ct.bool,canBegin:Ct.bool,onAnimationEnd:Ct.func,shouldReAnimate:Ct.bool,onAnimationStart:Ct.func,onAnimationReStart:Ct.func};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jd(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Of.apply(this,arguments)}function SX(e,n){return CX(e)||AX(e,n)||TX(e,n)||EX()}function EX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TX(e,n){if(e){if(typeof e=="string")return eP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(e,n)}}function eP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function AX(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function CX(e){if(Array.isArray(e))return e}function tP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nP(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?tP(Object(r),!0).forEach(function(a){kX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kX(e,n,r){return n=OX(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function OX(e){var n=DX(e,"string");return jd(n)=="symbol"?n:n+""}function DX(e,n){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(jd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var rP=function(n,r,a,s,o){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,d=a>=0?1:-1,h=s>=0&&a>=0||s<0&&a<0?1:0,f;if(l>0&&o instanceof Array){for(var p=[0,0,0,0],y=0,b=4;y<b;y++)p[y]=o[y]>l?l:o[y];f="M".concat(n,",").concat(r+u*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(n+d*p[0],",").concat(r)),f+="L ".concat(n+a-d*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(n+a,",").concat(r+u*p[1])),f+="L ".concat(n+a,",").concat(r+s-u*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(n+a-d*p[2],",").concat(r+s)),f+="L ".concat(n+d*p[3],",").concat(r+s),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(n,",").concat(r+s-u*p[3])),f+="Z"}else if(l>0&&o===+o&&o>0){var x=Math.min(l,o);f="M ".concat(n,",").concat(r+u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(h,",").concat(n+d*x,",").concat(r,`
            L `).concat(n+a-d*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(h,",").concat(n+a,",").concat(r+u*x,`
            L `).concat(n+a,",").concat(r+s-u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(h,",").concat(n+a-d*x,",").concat(r+s,`
            L `).concat(n+d*x,",").concat(r+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(h,",").concat(n,",").concat(r+s-u*x," Z")}else f="M ".concat(n,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return f},PX=function(n,r){if(!n||!r)return!1;var a=n.x,s=n.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var h=Math.min(o,o+u),f=Math.max(o,o+u),p=Math.min(l,l+d),y=Math.max(l,l+d);return a>=h&&a<=f&&s>=p&&s<=y}return!1},MX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S2=function(n){var r=nP(nP({},MX),n),a=g.useRef(),s=g.useState(-1),o=SX(s,2),l=o[0],u=o[1];g.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var P=a.current.getTotalLength();P&&u(P)}catch{}},[]);var d=r.x,h=r.y,f=r.width,p=r.height,y=r.radius,b=r.className,x=r.animationEasing,j=r.animationDuration,w=r.animationBegin,T=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||h!==+h||f!==+f||p!==+p||f===0||p===0)return null;var O=lt("recharts-rectangle",b);return A?le.createElement(fa,{canBegin:l>0,from:{width:f,height:p,x:d,y:h},to:{width:f,height:p,x:d,y:h},duration:j,animationEasing:x,isActive:A},function(P){var S=P.width,E=P.height,k=P.x,D=P.y;return le.createElement(fa,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:j,isActive:T,easing:x},le.createElement("path",Of({},Ge(r,!0),{className:O,d:rP(k,D,S,E,y),ref:a})))}):le.createElement("path",Of({},Ge(r,!0),{className:O,d:rP(d,h,f,p,y)}))},_X=["points","className","baseLinePoints","connectNulls"];function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vl.apply(this,arguments)}function IX(e,n){if(e==null)return{};var r=RX(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function RX(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function aP(e){return BX(e)||$X(e)||LX(e)||qX()}function qX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LX(e,n){if(e){if(typeof e=="string")return D1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,n)}}function $X(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BX(e){if(Array.isArray(e))return D1(e)}function D1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var sP=function(n){return n&&n.x===+n.x&&n.y===+n.y},UX=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return n.forEach(function(a){sP(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),sP(n[0])&&r[r.length-1].push(n[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$u=function(n,r){var a=UX(n);r&&(a=[a.reduce(function(o,l){return[].concat(aP(o),aP(l))},[])]);var s=a.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},FX=function(n,r,a){var s=$u(n,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat($u(r.reverse(),a).slice(1))},HX=function(n){var r=n.points,a=n.className,s=n.baseLinePoints,o=n.connectNulls,l=IX(n,_X);if(!r||!r.length)return null;var u=lt("recharts-polygon",a);if(s&&s.length){var d=l.stroke&&l.stroke!=="none",h=FX(r,s,o);return le.createElement("g",{className:u},le.createElement("path",vl({},Ge(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?le.createElement("path",vl({},Ge(l,!0),{fill:"none",d:$u(r,o)})):null,d?le.createElement("path",vl({},Ge(l,!0),{fill:"none",d:$u(s,o)})):null)}var f=$u(r,o);return le.createElement("path",vl({},Ge(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",className:u,d:f}))};function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},P1.apply(this,arguments)}var Vd=function(n){var r=n.cx,a=n.cy,s=n.r,o=n.className,l=lt("recharts-dot",o);return r===+r&&a===+a&&s===+s?le.createElement("circle",P1({},Ge(n,!1),Jm(n),{className:l,cx:r,cy:a,r:s})):null};function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nd(e)}var zX=["x","y","top","left","width","height","className"];function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},M1.apply(this,arguments)}function iP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function WX(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?iP(Object(r),!0).forEach(function(a){VX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VX(e,n,r){return n=YX(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function YX(e){var n=GX(e,"string");return Nd(n)=="symbol"?n:n+""}function GX(e,n){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Nd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function KX(e,n){if(e==null)return{};var r=QX(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function QX(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var XX=function(n,r,a,s,o,l){return"M".concat(n,",").concat(o,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(a)},JX=function(n){var r=n.x,a=r===void 0?0:r,s=n.y,o=s===void 0?0:s,l=n.top,u=l===void 0?0:l,d=n.left,h=d===void 0?0:d,f=n.width,p=f===void 0?0:f,y=n.height,b=y===void 0?0:y,x=n.className,j=KX(n,zX),w=WX({x:a,y:o,top:u,left:h,width:p,height:b},j);return!He(a)||!He(o)||!He(p)||!He(b)||!He(u)||!He(h)?null:le.createElement("path",M1({},Ge(w,!0),{className:lt("recharts-cross",x),d:XX(a,o,p,b,u,h)}))},F0,oP;function ZX(){if(oP)return F0;oP=1;var e=Sp(),n=FI(),r=Ha();function a(s,o){return s&&s.length?e(s,r(o,2),n):void 0}return F0=a,F0}var eJ=ZX();const tJ=kt(eJ);var H0,lP;function nJ(){if(lP)return H0;lP=1;var e=Sp(),n=Ha(),r=HI();function a(s,o){return s&&s.length?e(s,n(o,2),r):void 0}return H0=a,H0}var rJ=nJ();const aJ=kt(rJ);var sJ=["cx","cy","angle","ticks","axisLine"],iJ=["ticks","tick","angle","tickFormatter","stroke"];function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ql(e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bu.apply(this,arguments)}function cP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oi(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?cP(Object(r),!0).forEach(function(a){Cp(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uP(e,n){if(e==null)return{};var r=oJ(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function oJ(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function lJ(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dP(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,kR(a.key),a)}}function cJ(e,n,r){return n&&dP(e.prototype,n),r&&dP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uJ(e,n,r){return n=Df(n),dJ(e,CR()?Reflect.construct(n,r||[],Df(e).constructor):n.apply(e,r))}function dJ(e,n){if(n&&(ql(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hJ(e)}function hJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function mJ(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&_1(e,n)}function _1(e,n){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_1(e,n)}function Cp(e,n,r){return n=kR(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function kR(e){var n=fJ(e,"string");return ql(n)=="symbol"?n:n+""}function fJ(e,n){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(ql(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kp=function(e){function n(){return lJ(this,n),uJ(this,n,arguments)}return mJ(n,e),cJ(n,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return Wt(u,d,s,l)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,o=a.cy,l=a.angle,u=a.ticks,d=tJ(u,function(f){return f.coordinate||0}),h=aJ(u,function(f){return f.coordinate||0});return{cx:s,cy:o,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,o=a.cy,l=a.angle,u=a.ticks,d=a.axisLine,h=uP(a,sJ),f=u.reduce(function(x,j){return[Math.min(x[0],j.coordinate),Math.max(x[1],j.coordinate)]},[1/0,-1/0]),p=Wt(s,o,f[0],l),y=Wt(s,o,f[1],l),b=Oi(Oi(Oi({},Ge(h,!1)),{},{fill:"none"},Ge(d,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return le.createElement("line",Bu({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var a=this,s=this.props,o=s.ticks,l=s.tick,u=s.angle,d=s.tickFormatter,h=s.stroke,f=uP(s,iJ),p=this.getTickTextAnchor(),y=Ge(f,!1),b=Ge(l,!1),x=o.map(function(j,w){var T=a.getTickValueCoord(j),A=Oi(Oi(Oi(Oi({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(T.x,", ").concat(T.y,")")},y),{},{stroke:"none",fill:h},b),{},{index:w},T),{},{payload:j});return le.createElement(gt,Bu({className:lt("recharts-polar-radius-axis-tick",yR(l)),key:"tick-".concat(j.coordinate)},to(a.props,j,w)),n.renderTickItem(l,A,d?d(j.value,w):j.value))});return le.createElement(gt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var a=this.props,s=a.ticks,o=a.axisLine,l=a.tick;return!s||!s.length?null:le.createElement(gt,{className:lt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),Pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,o){var l;return le.isValidElement(a)?l=le.cloneElement(a,s):tt(a)?l=a(s):l=le.createElement(no,Bu({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])}(g.PureComponent);Cp(kp,"displayName","PolarRadiusAxis");Cp(kp,"axisType","radiusAxis");Cp(kp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ll(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Li.apply(this,arguments)}function hP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Di(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?hP(Object(r),!0).forEach(function(a){Op(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pJ(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mP(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DR(a.key),a)}}function vJ(e,n,r){return n&&mP(e.prototype,n),r&&mP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yJ(e,n,r){return n=Pf(n),gJ(e,OR()?Reflect.construct(n,r||[],Pf(e).constructor):n.apply(e,r))}function gJ(e,n){if(n&&(Ll(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJ(e)}function xJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OR=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function bJ(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&I1(e,n)}function I1(e,n){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},I1(e,n)}function Op(e,n,r){return n=DR(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function DR(e){var n=jJ(e,"string");return Ll(n)=="symbol"?n:n+""}function jJ(e,n){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ll(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NJ=Math.PI/180,wJ=1e-5,Dp=function(e){function n(){return pJ(this,n),yJ(this,n,arguments)}return bJ(n,e),vJ(n,[{key:"getTickLineCoord",value:function(a){var s=this.props,o=s.cx,l=s.cy,u=s.radius,d=s.orientation,h=s.tickSize,f=h||8,p=Wt(o,l,u,a.coordinate),y=Wt(o,l,u+(d==="inner"?-1:1)*f,a.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,o=Math.cos(-a.coordinate*NJ),l;return o>wJ?l=s==="outer"?"start":"end":o<-1e-5?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,o=a.cy,l=a.radius,u=a.axisLine,d=a.axisLineType,h=Di(Di({},Ge(this.props,!1)),{},{fill:"none"},Ge(u,!1));if(d==="circle")return le.createElement(Vd,Li({className:"recharts-polar-angle-axis-line"},h,{cx:s,cy:o,r:l}));var f=this.props.ticks,p=f.map(function(y){return Wt(s,o,l,y.coordinate)});return le.createElement(HX,Li({className:"recharts-polar-angle-axis-line"},h,{points:p}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,o=s.ticks,l=s.tick,u=s.tickLine,d=s.tickFormatter,h=s.stroke,f=Ge(this.props,!1),p=Ge(l,!1),y=Di(Di({},f),{},{fill:"none"},Ge(u,!1)),b=o.map(function(x,j){var w=a.getTickLineCoord(x),T=a.getTickTextAnchor(x),A=Di(Di(Di({textAnchor:T},f),{},{stroke:"none",fill:h},p),{},{index:j,payload:x,x:w.x2,y:w.y2});return le.createElement(gt,Li({className:lt("recharts-polar-angle-axis-tick",yR(l)),key:"tick-".concat(x.coordinate)},to(a.props,x,j)),u&&le.createElement("line",Li({className:"recharts-polar-angle-axis-tick-line"},y,w)),l&&n.renderTickItem(l,A,d?d(x.value,j):x.value))});return le.createElement(gt,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var a=this.props,s=a.ticks,o=a.radius,l=a.axisLine;return o<=0||!s||!s.length?null:le.createElement(gt,{className:lt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,o){var l;return le.isValidElement(a)?l=le.cloneElement(a,s):tt(a)?l=a(s):l=le.createElement(no,Li({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])}(g.PureComponent);Op(Dp,"displayName","PolarAngleAxis");Op(Dp,"axisType","angleAxis");Op(Dp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var z0,fP;function SJ(){if(fP)return z0;fP=1;var e=U_(),n=e(Object.getPrototypeOf,Object);return z0=n,z0}var W0,pP;function EJ(){if(pP)return W0;pP=1;var e=js(),n=SJ(),r=Ns(),a="[object Object]",s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,d=l.call(Object);function h(f){if(!r(f)||e(f)!=a)return!1;var p=n(f);if(p===null)return!0;var y=u.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==d}return W0=h,W0}var TJ=EJ();const AJ=kt(TJ);var V0,vP;function CJ(){if(vP)return V0;vP=1;var e=js(),n=Ns(),r="[object Boolean]";function a(s){return s===!0||s===!1||n(s)&&e(s)==r}return V0=a,V0}var kJ=CJ();const OJ=kt(kJ);function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wd(e)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mf.apply(this,arguments)}function DJ(e,n){return IJ(e)||_J(e,n)||MJ(e,n)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(e,n){if(e){if(typeof e=="string")return yP(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(e,n)}}function yP(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function _J(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function IJ(e){if(Array.isArray(e))return e}function gP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xP(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?gP(Object(r),!0).forEach(function(a){RJ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RJ(e,n,r){return n=qJ(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function qJ(e){var n=LJ(e,"string");return wd(n)=="symbol"?n:n+""}function LJ(e,n){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(wd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var bP=function(n,r,a,s,o){var l=a-s,u;return u="M ".concat(n,",").concat(r),u+="L ".concat(n+a,",").concat(r),u+="L ".concat(n+a-l/2,",").concat(r+o),u+="L ".concat(n+a-l/2-s,",").concat(r+o),u+="L ".concat(n,",").concat(r," Z"),u},$J={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BJ=function(n){var r=xP(xP({},$J),n),a=g.useRef(),s=g.useState(-1),o=DJ(s,2),l=o[0],u=o[1];g.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var O=a.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,h=r.y,f=r.upperWidth,p=r.lowerWidth,y=r.height,b=r.className,x=r.animationEasing,j=r.animationDuration,w=r.animationBegin,T=r.isUpdateAnimationActive;if(d!==+d||h!==+h||f!==+f||p!==+p||y!==+y||f===0&&p===0||y===0)return null;var A=lt("recharts-trapezoid",b);return T?le.createElement(fa,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:h},to:{upperWidth:f,lowerWidth:p,height:y,x:d,y:h},duration:j,animationEasing:x,isActive:T},function(O){var P=O.upperWidth,S=O.lowerWidth,E=O.height,k=O.x,D=O.y;return le.createElement(fa,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:j,easing:x},le.createElement("path",Mf({},Ge(r,!0),{className:A,d:bP(k,D,P,S,E),ref:a})))}):le.createElement("g",null,le.createElement("path",Mf({},Ge(r,!0),{className:A,d:bP(d,h,f,p,y)})))},UJ=["option","shapeType","propTransformer","activeClassName","isActive"];function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sd(e)}function FJ(e,n){if(e==null)return{};var r=HJ(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function HJ(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function jP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _f(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?jP(Object(r),!0).forEach(function(a){zJ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zJ(e,n,r){return n=WJ(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function WJ(e){var n=VJ(e,"string");return Sd(n)=="symbol"?n:n+""}function VJ(e,n){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Sd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function YJ(e,n){return _f(_f({},n),e)}function GJ(e,n){return e==="symbols"}function NP(e){var n=e.shapeType,r=e.elementProps;switch(n){case"rectangle":return le.createElement(S2,r);case"trapezoid":return le.createElement(BJ,r);case"sector":return le.createElement(bR,r);case"symbols":if(GJ(n))return le.createElement(FN,r);break;default:return null}}function KJ(e){return g.isValidElement(e)?e.props:e}function PR(e){var n=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?YJ:a,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=FJ(e,UJ),h;if(g.isValidElement(n))h=g.cloneElement(n,_f(_f({},d),KJ(n)));else if(tt(n))h=n(d);else if(AJ(n)&&!OJ(n)){var f=s(n,d);h=le.createElement(NP,{shapeType:r,elementProps:f})}else{var p=d;h=le.createElement(NP,{shapeType:r,elementProps:p})}return u?le.createElement(gt,{className:l},h):h}function Pp(e,n){return n!=null&&"trapezoids"in e.props}function Mp(e,n){return n!=null&&"sectors"in e.props}function Ed(e,n){return n!=null&&"points"in e.props}function QJ(e,n){var r,a,s=e.x===(n==null||(r=n.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===n.x,o=e.y===(n==null||(a=n.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===n.y;return s&&o}function XJ(e,n){var r=e.endAngle===n.endAngle,a=e.startAngle===n.startAngle;return r&&a}function JJ(e,n){var r=e.x===n.x,a=e.y===n.y,s=e.z===n.z;return r&&a&&s}function ZJ(e,n){var r;return Pp(e,n)?r=QJ:Mp(e,n)?r=XJ:Ed(e,n)&&(r=JJ),r}function eZ(e,n){var r;return Pp(e,n)?r="trapezoids":Mp(e,n)?r="sectors":Ed(e,n)&&(r="points"),r}function tZ(e,n){if(Pp(e,n)){var r;return(r=n.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Mp(e,n)){var a;return(a=n.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Ed(e,n)?n.payload:{}}function nZ(e){var n=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=eZ(r,n),o=tZ(r,n),l=a.filter(function(d,h){var f=ro(o,d),p=r.props[s].filter(function(x){var j=ZJ(r,n);return j(x,n)}),y=r.props[s].indexOf(p[p.length-1]),b=h===y;return f&&b}),u=a.indexOf(l[l.length-1]);return u}var qm;function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$l(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yl.apply(this,arguments)}function wP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ft(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?wP(Object(r),!0).forEach(function(a){Yr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rZ(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function SP(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_R(a.key),a)}}function aZ(e,n,r){return n&&SP(e.prototype,n),r&&SP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sZ(e,n,r){return n=If(n),iZ(e,MR()?Reflect.construct(n,r||[],If(e).constructor):n.apply(e,r))}function iZ(e,n){if(n&&($l(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oZ(e)}function oZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MR=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function lZ(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&R1(e,n)}function R1(e,n){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},R1(e,n)}function Yr(e,n,r){return n=_R(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function _R(e){var n=cZ(e,"string");return $l(n)=="symbol"?n:n+""}function cZ(e,n){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if($l(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sr=function(e){function n(r){var a;return rZ(this,n),a=sZ(this,n,[r]),Yr(a,"pieRef",null),Yr(a,"sectorRefs",[]),Yr(a,"id",ho("recharts-pie-")),Yr(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),tt(s)&&s()}),Yr(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),tt(s)&&s()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return lZ(n,e),aZ(n,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,h=o.valueKey,f=Ge(this.props,!1),p=Ge(l,!1),y=Ge(u,!1),b=l&&l.offsetRadius||20,x=a.map(function(j,w){var T=(j.startAngle+j.endAngle)/2,A=Wt(j.cx,j.cy,j.outerRadius+b,T),O=Ft(Ft(Ft(Ft({},f),j),{},{stroke:"none"},p),{},{index:w,textAnchor:n.getTextAnchor(A.x,j.cx)},A),P=Ft(Ft(Ft(Ft({},f),j),{},{fill:"none",stroke:j.fill},y),{},{index:w,points:[Wt(j.cx,j.cy,j.outerRadius,T),A]}),S=d;return it(d)&&it(h)?S="value":it(d)&&(S=h),le.createElement(gt,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(w)},u&&n.renderLabelLineItem(u,P,"line"),n.renderLabelItem(l,O,mn(j,S)))});return le.createElement(gt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(a){var s=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return a.map(function(h,f){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&a.length!==1)return null;var p=s.isActiveIndex(f),y=d&&s.hasActiveIndex()?d:null,b=p?l:y,x=Ft(Ft({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return le.createElement(gt,yl({ref:function(w){w&&!s.sectorRefs.includes(w)&&s.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},to(s.props,h,f),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(f)}),le.createElement(PR,yl({option:b,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,o=s.sectors,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,f=s.animationId,p=this.state,y=p.prevSectors,b=p.prevIsAnimationActive;return le.createElement(fa,{begin:u,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var j=x.t,w=[],T=o&&o[0],A=T.startAngle;return o.forEach(function(O,P){var S=y&&y[P],E=P>0?Or(O,"paddingAngle",0):0;if(S){var k=Sn(S.endAngle-S.startAngle,O.endAngle-O.startAngle),D=Ft(Ft({},O),{},{startAngle:A+E,endAngle:A+k(j)+E});w.push(D),A=D.endAngle}else{var _=O.endAngle,U=O.startAngle,R=Sn(0,_-U),$=R(j),L=Ft(Ft({},O),{},{startAngle:A+E,endAngle:A+$+E});w.push(L),A=L.endAngle}}),le.createElement(gt,null,a.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[u].focus(),s.setState({sectorToFocus:u});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,o=a.isAnimationActive,l=this.state.prevSectors;return o&&s&&s.length&&(!l||!ro(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,o=s.hide,l=s.sectors,u=s.className,d=s.label,h=s.cx,f=s.cy,p=s.innerRadius,y=s.outerRadius,b=s.isAnimationActive,x=this.state.isAnimationFinished;if(o||!l||!l.length||!He(h)||!He(f)||!He(p)||!He(y))return null;var j=lt("recharts-pie",u);return le.createElement(gt,{tabIndex:this.props.rootTabIndex,className:j,ref:function(T){a.pieRef=T}},this.renderSectors(),d&&this.renderLabels(l),Pn.renderCallByParent(this.props,null,!1),(!b||x)&&Ra.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,o){if(le.isValidElement(a))return le.cloneElement(a,s);if(tt(a))return a(s);var l=lt("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return le.createElement(Ki,yl({},s,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(a,s,o){if(le.isValidElement(a))return le.cloneElement(a,s);var l=o;if(tt(a)&&(l=a(s),le.isValidElement(l)))return l;var u=lt("recharts-pie-label-text",typeof a!="boolean"&&!tt(a)?a.className:"");return le.createElement(no,yl({},s,{alignmentBaseline:"middle",className:u}),l)}}])}(g.PureComponent);qm=sr;Yr(sr,"displayName","Pie");Yr(sr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!oi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yr(sr,"parseDeltaAngle",function(e,n){var r=nr(n-e),a=Math.min(Math.abs(n-e),360);return r*a});Yr(sr,"getRealPieData",function(e){var n=e.data,r=e.children,a=Ge(e,!1),s=Dr(r,Pa);return n&&n.length?n.map(function(o,l){return Ft(Ft(Ft({payload:o},a),o),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(o){return Ft(Ft({},a),o.props)}):[]});Yr(sr,"parseCoordinateOfPie",function(e,n){var r=n.top,a=n.left,s=n.width,o=n.height,l=vR(s,o),u=a+rr(e.cx,s,s/2),d=r+rr(e.cy,o,o/2),h=rr(e.innerRadius,l,0),f=rr(e.outerRadius,l,l*.8),p=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:f,maxRadius:p}});Yr(sr,"getComposedData",function(e){var n=e.item,r=e.offset,a=n.type.defaultProps!==void 0?Ft(Ft({},n.type.defaultProps),n.props):n.props,s=qm.getRealPieData(a);if(!s||!s.length)return null;var o=a.cornerRadius,l=a.startAngle,u=a.endAngle,d=a.paddingAngle,h=a.dataKey,f=a.nameKey,p=a.valueKey,y=a.tooltipType,b=Math.abs(a.minAngle),x=qm.parseCoordinateOfPie(a,r),j=qm.parseDeltaAngle(l,u),w=Math.abs(j),T=h;it(h)&&it(p)?(ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T="value"):it(h)&&(ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T=p);var A=s.filter(function(D){return mn(D,T,0)!==0}).length,O=(w>=360?A:A-1)*d,P=w-A*b-O,S=s.reduce(function(D,_){var U=mn(_,T,0);return D+(He(U)?U:0)},0),E;if(S>0){var k;E=s.map(function(D,_){var U=mn(D,T,0),R=mn(D,f,_),$=(He(U)?U:0)/S,L;_?L=k.endAngle+nr(j)*d*(U!==0?1:0):L=l;var z=L+nr(j)*((U!==0?b:0)+$*P),W=(L+z)/2,M=(x.innerRadius+x.outerRadius)/2,F=[{name:R,value:U,payload:D,dataKey:T,type:y}],G=Wt(x.cx,x.cy,M,W);return k=Ft(Ft(Ft({percent:$,cornerRadius:o,name:R,tooltipPayload:F,midAngle:W,middleRadius:M,tooltipPosition:G},D),x),{},{value:mn(D,T),startAngle:L,endAngle:z,payload:D,paddingAngle:nr(j)*d}),k})}return Ft(Ft({},x),{},{sectors:E,data:s})});var Y0,EP;function uZ(){if(EP)return Y0;EP=1;var e=Math.ceil,n=Math.max;function r(a,s,o,l){for(var u=-1,d=n(e((s-a)/(o||1)),0),h=Array(d);d--;)h[l?d:++u]=a,a+=o;return h}return Y0=r,Y0}var G0,TP;function IR(){if(TP)return G0;TP=1;var e=rI(),n=1/0,r=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===n||s===-1/0){var o=s<0?-1:1;return o*r}return s===s?s:0}return G0=a,G0}var K0,AP;function dZ(){if(AP)return K0;AP=1;var e=uZ(),n=yp(),r=IR();function a(s){return function(o,l,u){return u&&typeof u!="number"&&n(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,s)}}return K0=a,K0}var Q0,CP;function hZ(){if(CP)return Q0;CP=1;var e=dZ(),n=e();return Q0=n,Q0}var mZ=hZ();const Rf=kt(mZ);function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Td(e)}function kP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OP(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?kP(Object(r),!0).forEach(function(a){RR(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RR(e,n,r){return n=fZ(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function fZ(e){var n=pZ(e,"string");return Td(n)=="symbol"?n:n+""}function pZ(e,n){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Td(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var vZ=["Webkit","Moz","O","ms"],yZ=function(n,r){var a=n.replace(/(\w)/,function(o){return o.toUpperCase()}),s=vZ.reduce(function(o,l){return OP(OP({},o),{},RR({},l+a,r))},{});return s[n]=r,s};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bl(e)}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qf.apply(this,arguments)}function DP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function X0(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?DP(Object(r),!0).forEach(function(a){Tr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gZ(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function PP(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LR(a.key),a)}}function xZ(e,n,r){return n&&PP(e.prototype,n),r&&PP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bZ(e,n,r){return n=Lf(n),jZ(e,qR()?Reflect.construct(n,r||[],Lf(e).constructor):n.apply(e,r))}function jZ(e,n){if(n&&(Bl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NZ(e)}function NZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function wZ(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&q1(e,n)}function q1(e,n){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},q1(e,n)}function Tr(e,n,r){return n=LR(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function LR(e){var n=SZ(e,"string");return Bl(n)=="symbol"?n:n+""}function SZ(e,n){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Bl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EZ=function(n){var r=n.data,a=n.startIndex,s=n.endIndex,o=n.x,l=n.width,u=n.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=Ru().domain(Rf(0,d)).range([o,o+l-u]),f=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(a),endX:h(s),scale:h,scaleValues:f}},MP=function(n){return n.changedTouches&&!!n.changedTouches.length},Ul=function(e){function n(r){var a;return gZ(this,n),a=bZ(this,n,[r]),Tr(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Tr(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Tr(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,o=s.endIndex,l=s.onDragEnd,u=s.startIndex;l==null||l({endIndex:o,startIndex:u})}),a.detachDragEndListener()}),Tr(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Tr(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Tr(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Tr(a,"handleSlideDragStart",function(s){var o=MP(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return wZ(n,e),xZ(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,o=a.endX,l=this.state.scaleValues,u=this.props,d=u.gap,h=u.data,f=h.length-1,p=Math.min(s,o),y=Math.max(s,o),b=n.getIndexInRange(l,p),x=n.getIndexInRange(l,y);return{startIndex:b-b%d,endIndex:x===f?f:x-x%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,o=s.data,l=s.tickFormatter,u=s.dataKey,d=mn(o[a],u,a);return tt(l)?l(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,o=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,h=d.x,f=d.width,p=d.travellerWidth,y=d.startIndex,b=d.endIndex,x=d.onChange,j=a.pageX-o;j>0?j=Math.min(j,h+f-p-u,h+f-p-l):j<0&&(j=Math.max(j,h-l,h-u));var w=this.getIndex({startX:l+j,endX:u+j});(w.startIndex!==y||w.endIndex!==b)&&x&&x(w),this.setState({startX:l+j,endX:u+j,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var o=MP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,o=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,h=this.state[l],f=this.props,p=f.x,y=f.width,b=f.travellerWidth,x=f.onChange,j=f.gap,w=f.data,T={startX:this.state.startX,endX:this.state.endX},A=a.pageX-o;A>0?A=Math.min(A,p+y-b-h):A<0&&(A=Math.max(A,p-h)),T[l]=h+A;var O=this.getIndex(T),P=O.startIndex,S=O.endIndex,E=function(){var D=w.length-1;return l==="startX"&&(u>d?P%j===0:S%j===0)||u<d&&S===D||l==="endX"&&(u>d?S%j===0:P%j===0)||u>d&&S===D};this.setState(Tr(Tr({},l,h+A),"brushMoveStartX",a.pageX),function(){x&&E()&&x(O)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var o=this,l=this.state,u=l.scaleValues,d=l.startX,h=l.endX,f=this.state[s],p=u.indexOf(f);if(p!==-1){var y=p+a;if(!(y===-1||y>=u.length)){var b=u[y];s==="startX"&&b>=h||s==="endX"&&b<=d||this.setState(Tr({},s,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,o=a.y,l=a.width,u=a.height,d=a.fill,h=a.stroke;return le.createElement("rect",{stroke:h,fill:d,x:s,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,o=a.y,l=a.width,u=a.height,d=a.data,h=a.children,f=a.padding,p=g.Children.only(h);return p?le.cloneElement(p,{x:s,y:o,width:l,height:u,margin:f,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var o,l,u=this,d=this.props,h=d.y,f=d.travellerWidth,p=d.height,y=d.traveller,b=d.ariaLabel,x=d.data,j=d.startIndex,w=d.endIndex,T=Math.max(a,this.props.x),A=X0(X0({},Ge(this.props,!1)),{},{x:T,y:h,width:f,height:p}),O=b||"Min value: ".concat((o=x[j])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=x[w])===null||l===void 0?void 0:l.name);return le.createElement(gt,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),u.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(y,A))}},{key:"renderSlide",value:function(a,s){var o=this.props,l=o.y,u=o.height,d=o.stroke,h=o.travellerWidth,f=Math.min(a,s)+h,p=Math.max(Math.abs(s-a)-h,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:f,y:l,width:p,height:u})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,o=a.endIndex,l=a.y,u=a.height,d=a.travellerWidth,h=a.stroke,f=this.state,p=f.startX,y=f.endX,b=5,x={pointerEvents:"none",fill:h};return le.createElement(gt,{className:"recharts-brush-texts"},le.createElement(no,qf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-b,y:l+u/2},x),this.getTextOfTick(s)),le.createElement(no,qf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+d+b,y:l+u/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var a=this.props,s=a.data,o=a.className,l=a.children,u=a.x,d=a.y,h=a.width,f=a.height,p=a.alwaysShowText,y=this.state,b=y.startX,x=y.endX,j=y.isTextActive,w=y.isSlideMoving,T=y.isTravellerMoving,A=y.isTravellerFocused;if(!s||!s.length||!He(u)||!He(d)||!He(h)||!He(f)||h<=0||f<=0)return null;var O=lt("recharts-brush",o),P=le.Children.count(l)===1,S=yZ("userSelect","none");return le.createElement(gt,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(b,x),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(x,"endX"),(j||w||T||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,o=a.y,l=a.width,u=a.height,d=a.stroke,h=Math.floor(o+u/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:s,y:o,width:l,height:u,fill:d,stroke:"none"}),le.createElement("line",{x1:s+1,y1:h,x2:s+l-1,y2:h,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:s+1,y1:h+2,x2:s+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var o;return le.isValidElement(a)?o=le.cloneElement(a,s):tt(a)?o=a(s):o=n.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(a,s){var o=a.data,l=a.width,u=a.x,d=a.travellerWidth,h=a.updateId,f=a.startIndex,p=a.endIndex;if(o!==s.prevData||h!==s.prevUpdateId)return X0({prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l},o&&o.length?EZ({data:o,width:l,x:u,travellerWidth:d,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var y=s.scale.domain().map(function(b){return s.scale(b)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:h,prevX:u,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(a,s){for(var o=a.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);a[d]>s?u=d:l=d}return s>=a[u]?u:l}}])}(g.PureComponent);Tr(Ul,"displayName","Brush");Tr(Ul,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var J0,_P;function TZ(){if(_P)return J0;_P=1;var e=KN();function n(r,a){var s;return e(r,function(o,l,u){return s=a(o,l,u),!s}),!!s}return J0=n,J0}var Z0,IP;function AZ(){if(IP)return Z0;IP=1;var e=__(),n=Ha(),r=TZ(),a=yr(),s=yp();function o(l,u,d){var h=a(l)?e:r;return d&&s(l,u,d)&&(u=void 0),h(l,n(u,3))}return Z0=o,Z0}var CZ=AZ();const kZ=kt(CZ);var qa=function(n,r){var a=n.alwaysShow,s=n.ifOverflow;return a&&(s="extendDomain"),s===r},ej,RP;function OZ(){if(RP)return ej;RP=1;var e=J_();function n(r,a,s){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[a]=s}return ej=n,ej}var tj,qP;function DZ(){if(qP)return tj;qP=1;var e=OZ(),n=Q_(),r=Ha();function a(s,o){var l={};return o=r(o,3),n(s,function(u,d,h){e(l,d,o(u,d,h))}),l}return tj=a,tj}var PZ=DZ();const MZ=kt(PZ);var nj,LP;function _Z(){if(LP)return nj;LP=1;function e(n,r){for(var a=-1,s=n==null?0:n.length;++a<s;)if(!r(n[a],a,n))return!1;return!0}return nj=e,nj}var rj,$P;function IZ(){if($P)return rj;$P=1;var e=KN();function n(r,a){var s=!0;return e(r,function(o,l,u){return s=!!a(o,l,u),s}),s}return rj=n,rj}var aj,BP;function RZ(){if(BP)return aj;BP=1;var e=_Z(),n=IZ(),r=Ha(),a=yr(),s=yp();function o(l,u,d){var h=a(l)?e:n;return d&&s(l,u,d)&&(u=void 0),h(l,r(u,3))}return aj=o,aj}var qZ=RZ();const $R=kt(qZ);var LZ=["x","y"];function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ad(e)}function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},L1.apply(this,arguments)}function UP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wu(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?UP(Object(r),!0).forEach(function(a){$Z(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $Z(e,n,r){return n=BZ(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function BZ(e){var n=UZ(e,"string");return Ad(n)=="symbol"?n:n+""}function UZ(e,n){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ad(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function FZ(e,n){if(e==null)return{};var r=HZ(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function HZ(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function zZ(e,n){var r=e.x,a=e.y,s=FZ(e,LZ),o="".concat(r),l=parseInt(o,10),u="".concat(a),d=parseInt(u,10),h="".concat(n.height||s.height),f=parseInt(h,10),p="".concat(n.width||s.width),y=parseInt(p,10);return wu(wu(wu(wu(wu({},n),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:f,width:y,name:n.name,radius:n.radius})}function FP(e){return le.createElement(PR,L1({shapeType:"rectangle",propTransformer:zZ,activeClassName:"recharts-active-bar"},e))}var WZ=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof n=="number")return n;var o=typeof a=="number";return o?n(a,s):(o||so(),r)}},VZ=["value","background"],BR;function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fl(e)}function YZ(e,n){if(e==null)return{};var r=GZ(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function GZ(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$f.apply(this,arguments)}function HP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vn(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?HP(Object(r),!0).forEach(function(a){ni(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KZ(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zP(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FR(a.key),a)}}function QZ(e,n,r){return n&&zP(e.prototype,n),r&&zP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XZ(e,n,r){return n=Bf(n),JZ(e,UR()?Reflect.construct(n,r||[],Bf(e).constructor):n.apply(e,r))}function JZ(e,n){if(n&&(Fl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZZ(e)}function ZZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function eee(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&$1(e,n)}function $1(e,n){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$1(e,n)}function ni(e,n,r){return n=FR(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function FR(e){var n=tee(e,"string");return Fl(n)=="symbol"?n:n+""}function tee(e,n){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Fl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sn=function(e){function n(){var r;KZ(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=XZ(this,n,[].concat(s)),ni(r,"state",{isAnimationFinished:!1}),ni(r,"id",ho("recharts-bar-")),ni(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),ni(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return eee(n,e),QZ(n,[{key:"renderRectanglesStatically",value:function(a){var s=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,h=o.activeBar,f=Ge(this.props,!1);return a&&a.map(function(p,y){var b=y===d,x=b?h:l,j=vn(vn(vn({},f),p),{},{isActive:b,option:x,index:y,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return le.createElement(gt,$f({className:"recharts-bar-rectangle"},to(s.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(y)}),le.createElement(FP,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,o=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,h=s.animationDuration,f=s.animationEasing,p=s.animationId,y=this.state.prevData;return le.createElement(fa,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t,j=o.map(function(w,T){var A=y&&y[T];if(A){var O=Sn(A.x,w.x),P=Sn(A.y,w.y),S=Sn(A.width,w.width),E=Sn(A.height,w.height);return vn(vn({},w),{},{x:O(x),y:P(x),width:S(x),height:E(x)})}if(l==="horizontal"){var k=Sn(0,w.height),D=k(x);return vn(vn({},w),{},{y:w.y+w.height-D,height:D})}var _=Sn(0,w.width),U=_(x);return vn(vn({},w),{},{width:U})});return le.createElement(gt,null,a.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,o=a.isAnimationActive,l=this.state.prevData;return o&&s&&s.length&&(!l||!ro(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,o=s.data,l=s.dataKey,u=s.activeIndex,d=Ge(this.props.background,!1);return o.map(function(h,f){h.value;var p=h.background,y=YZ(h,VZ);if(!p)return null;var b=vn(vn(vn(vn(vn({},y),{},{fill:"#eee"},p),d),to(a.props,h,f)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:f,className:"recharts-bar-background-rectangle"});return le.createElement(FP,$f({key:"background-bar-".concat(f),option:a.props.background,isActive:f===u},b))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,h=o.layout,f=o.children,p=Dr(f,Wd);if(!p)return null;var y=h==="vertical"?l[0].height/2:l[0].width/2,b=function(w,T){var A=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:A,errorVal:mn(w,T)}},x={clipPath:a?"url(#clipPath-".concat(s,")"):null};return le.createElement(gt,x,p.map(function(j){return le.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,o=a.data,l=a.className,u=a.xAxis,d=a.yAxis,h=a.left,f=a.top,p=a.width,y=a.height,b=a.isAnimationActive,x=a.background,j=a.id;if(s||!o||!o.length)return null;var w=this.state.isAnimationFinished,T=lt("recharts-bar",l),A=u&&u.allowDataOverflow,O=d&&d.allowDataOverflow,P=A||O,S=it(j)?this.id:j;return le.createElement(gt,{className:T},A||O?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(S)},le.createElement("rect",{x:A?h:h-p/2,y:O?f:f-y/2,width:A?p:p*2,height:O?y:y*2}))):null,le.createElement(gt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(S,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,S),(!b||w)&&Ra.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(g.PureComponent);BR=sn;ni(sn,"displayName","Bar");ni(sn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!oi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ni(sn,"getComposedData",function(e){var n=e.props,r=e.item,a=e.barPosition,s=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,h=e.stackedData,f=e.dataStartIndex,p=e.displayedData,y=e.offset,b=OG(a,r);if(!b)return null;var x=n.layout,j=r.type.defaultProps,w=j!==void 0?vn(vn({},j),r.props):r.props,T=w.dataKey,A=w.children,O=w.minPointSize,P=x==="horizontal"?l:o,S=h?P.scale.domain():null,E=qG({numericAxis:P}),k=Dr(A,Pa),D=p.map(function(_,U){var R,$,L,z,W,M;h?R=DG(h[f+U],S):(R=mn(_,T),Array.isArray(R)||(R=[E,R]));var F=WZ(O,BR.defaultProps.minPointSize)(R[1],U);if(x==="horizontal"){var G,J=[l.scale(R[0]),l.scale(R[1])],I=J[0],q=J[1];$=vD({axis:o,ticks:u,bandSize:s,offset:b.offset,entry:_,index:U}),L=(G=q??I)!==null&&G!==void 0?G:void 0,z=b.size;var B=I-q;if(W=Number.isNaN(B)?0:B,M={x:$,y:l.y,width:z,height:l.height},Math.abs(F)>0&&Math.abs(W)<Math.abs(F)){var H=nr(W||F)*(Math.abs(F)-Math.abs(W));L-=H,W+=H}}else{var K=[o.scale(R[0]),o.scale(R[1])],ie=K[0],ae=K[1];if($=ie,L=vD({axis:l,ticks:d,bandSize:s,offset:b.offset,entry:_,index:U}),z=ae-ie,W=b.size,M={x:o.x,y:L,width:o.width,height:W},Math.abs(F)>0&&Math.abs(z)<Math.abs(F)){var me=nr(z||F)*(Math.abs(F)-Math.abs(z));z+=me}}return vn(vn(vn({},_),{},{x:$,y:L,width:z,height:W,value:h?R:R[1],payload:_,background:M},k&&k[U]&&k[U].props),{},{tooltipPayload:[fR(r,_)],tooltipPosition:{x:$+z/2,y:L+W/2}})});return vn({data:D,layout:x},y)});function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cd(e)}function nee(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function WP(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,HR(a.key),a)}}function ree(e,n,r){return n&&WP(e.prototype,n),r&&WP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function la(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?VP(Object(r),!0).forEach(function(a){_p(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _p(e,n,r){return n=HR(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function HR(e){var n=aee(e,"string");return Cd(n)=="symbol"?n:n+""}function aee(e,n){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Cd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var E2=function(n,r,a,s,o){var l=n.width,u=n.height,d=n.layout,h=n.children,f=Object.keys(r),p={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:u-a.bottom,bottomMirror:u-a.bottom},y=!!Cr(h,sn);return f.reduce(function(b,x){var j=r[x],w=j.orientation,T=j.domain,A=j.padding,O=A===void 0?{}:A,P=j.mirror,S=j.reversed,E="".concat(w).concat(P?"Mirror":""),k,D,_,U,R;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var $=T[1]-T[0],L=1/0,z=j.categoricalDomain.sort(xB);if(z.forEach(function(K,ie){ie>0&&(L=Math.min((K||0)-(z[ie-1]||0),L))}),Number.isFinite(L)){var W=L/$,M=j.layout==="vertical"?a.height:a.width;if(j.padding==="gap"&&(k=W*M/2),j.padding==="no-gap"){var F=rr(n.barCategoryGap,W*M),G=W*M/2;k=G-F-(G-F)/M*F}}}s==="xAxis"?D=[a.left+(O.left||0)+(k||0),a.left+a.width-(O.right||0)-(k||0)]:s==="yAxis"?D=d==="horizontal"?[a.top+a.height-(O.bottom||0),a.top+(O.top||0)]:[a.top+(O.top||0)+(k||0),a.top+a.height-(O.bottom||0)-(k||0)]:D=j.range,S&&(D=[D[1],D[0]]);var J=uR(j,o,y),I=J.scale,q=J.realScaleType;I.domain(T).range(D),dR(I);var B=hR(I,la(la({},j),{},{realScaleType:q}));s==="xAxis"?(R=w==="top"&&!P||w==="bottom"&&P,_=a.left,U=p[E]-R*j.height):s==="yAxis"&&(R=w==="left"&&!P||w==="right"&&P,_=p[E]-R*j.width,U=a.top);var H=la(la(la({},j),B),{},{realScaleType:q,x:_,y:U,scale:I,width:s==="xAxis"?a.width:j.width,height:s==="yAxis"?a.height:j.height});return H.bandSize=Sf(H,B),!j.hide&&s==="xAxis"?p[E]+=(R?-1:1)*H.height:j.hide||(p[E]+=(R?-1:1)*H.width),la(la({},b),{},_p({},x,H))},{})},zR=function(n,r){var a=n.x,s=n.y,o=r.x,l=r.y;return{x:Math.min(a,o),y:Math.min(s,l),width:Math.abs(o-a),height:Math.abs(l-s)}},see=function(n){var r=n.x1,a=n.y1,s=n.x2,o=n.y2;return zR({x:r,y:a},{x:s,y:o})},WR=function(){function e(n){nee(this,e),this.scale=n}return ree(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],o=a[a.length-1];return s<=o?r>=s&&r<=o:r>=o&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();_p(WR,"EPS",1e-4);var T2=function(n){var r=Object.keys(n).reduce(function(a,s){return la(la({},a),{},_p({},s,WR.create(n[s])))},{});return la(la({},r),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return MZ(s,function(d,h){return r[h].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return $R(s,function(o,l){return r[l].isInRange(o)})}})};function iee(e){return(e%180+180)%180}var oee=function(n){var r=n.width,a=n.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=iee(s),l=o*Math.PI/180,u=Math.atan(a/r),d=l>u&&l<Math.PI-u?a/Math.sin(l):r/Math.cos(l);return Math.abs(d)},sj,YP;function lee(){if(YP)return sj;YP=1;var e=Ha(),n=Bd(),r=pp();function a(s){return function(o,l,u){var d=Object(o);if(!n(o)){var h=e(l,3);o=r(o),l=function(p){return h(d[p],p,d)}}var f=s(o,l,u);return f>-1?d[h?o[f]:f]:void 0}}return sj=a,sj}var ij,GP;function cee(){if(GP)return ij;GP=1;var e=IR();function n(r){var a=e(r),s=a%1;return a===a?s?a-s:a:0}return ij=n,ij}var oj,KP;function uee(){if(KP)return oj;KP=1;var e=W_(),n=Ha(),r=cee(),a=Math.max;function s(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var h=u==null?0:r(u);return h<0&&(h=a(d+h,0)),e(o,n(l,3),h)}return oj=s,oj}var lj,QP;function dee(){if(QP)return lj;QP=1;var e=lee(),n=uee(),r=e(n);return lj=r,lj}var hee=dee();const mee=kt(hee);var fee=i_();const pee=kt(fee);var vee=pee(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),A2=g.createContext(void 0),C2=g.createContext(void 0),VR=g.createContext(void 0),YR=g.createContext({}),GR=g.createContext(void 0),KR=g.createContext(0),QR=g.createContext(0),XP=function(n){var r=n.state,a=r.xAxisMap,s=r.yAxisMap,o=r.offset,l=n.clipPathId,u=n.children,d=n.width,h=n.height,f=vee(o);return le.createElement(A2.Provider,{value:a},le.createElement(C2.Provider,{value:s},le.createElement(YR.Provider,{value:o},le.createElement(VR.Provider,{value:f},le.createElement(GR.Provider,{value:l},le.createElement(KR.Provider,{value:h},le.createElement(QR.Provider,{value:d},u)))))))},yee=function(){return g.useContext(GR)},XR=function(n){var r=g.useContext(A2);r==null&&so();var a=r[n];return a==null&&so(),a},gee=function(){var n=g.useContext(A2);return Zs(n)},xee=function(){var n=g.useContext(C2),r=mee(n,function(a){return $R(a.domain,Number.isFinite)});return r||Zs(n)},JR=function(n){var r=g.useContext(C2);r==null&&so();var a=r[n];return a==null&&so(),a},bee=function(){var n=g.useContext(VR);return n},jee=function(){return g.useContext(YR)},k2=function(){return g.useContext(QR)},O2=function(){return g.useContext(KR)};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hl(e)}function Nee(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function wee(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,e6(a.key),a)}}function See(e,n,r){return n&&wee(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eee(e,n,r){return n=Uf(n),Tee(e,ZR()?Reflect.construct(n,r||[],Uf(e).constructor):n.apply(e,r))}function Tee(e,n){if(n&&(Hl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aee(e)}function Aee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZR=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(e)}function Cee(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&B1(e,n)}function B1(e,n){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},B1(e,n)}function JP(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ZP(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?JP(Object(r),!0).forEach(function(a){D2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function D2(e,n,r){return n=e6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function e6(e){var n=kee(e,"string");return Hl(n)=="symbol"?n:n+""}function kee(e,n){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Hl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Oee(e,n){return _ee(e)||Mee(e,n)||Pee(e,n)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(e,n){if(e){if(typeof e=="string")return e3(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(e,n)}}function e3(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Mee(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function _ee(e){if(Array.isArray(e))return e}function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U1.apply(this,arguments)}var Iee=function(n,r){var a;return le.isValidElement(n)?a=le.cloneElement(n,r):tt(n)?a=n(r):a=le.createElement("line",U1({},r,{className:"recharts-reference-line-line"})),a},Ree=function(n,r,a,s,o,l,u,d,h){var f=o.x,p=o.y,y=o.width,b=o.height;if(a){var x=h.y,j=n.y.apply(x,{position:l});if(qa(h,"discard")&&!n.y.isInRange(j))return null;var w=[{x:f+y,y:j},{x:f,y:j}];return d==="left"?w.reverse():w}if(r){var T=h.x,A=n.x.apply(T,{position:l});if(qa(h,"discard")&&!n.x.isInRange(A))return null;var O=[{x:A,y:p+b},{x:A,y:p}];return u==="top"?O.reverse():O}if(s){var P=h.segment,S=P.map(function(E){return n.apply(E,{position:l})});return qa(h,"discard")&&kZ(S,function(E){return!n.isInRange(E)})?null:S}return null};function qee(e){var n=e.x,r=e.y,a=e.segment,s=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,h=yee(),f=XR(s),p=JR(o),y=bee();if(!h||!y)return null;ha(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=T2({x:f.scale,y:p.scale}),x=En(n),j=En(r),w=a&&a.length===2,T=Ree(b,x,j,w,y,e.position,f.orientation,p.orientation,e);if(!T)return null;var A=Oee(T,2),O=A[0],P=O.x,S=O.y,E=A[1],k=E.x,D=E.y,_=qa(e,"hidden")?"url(#".concat(h,")"):void 0,U=ZP(ZP({clipPath:_},Ge(e,!0)),{},{x1:P,y1:S,x2:k,y2:D});return le.createElement(gt,{className:lt("recharts-reference-line",u)},Iee(l,U),Pn.renderCallByParent(e,see({x1:P,y1:S,x2:k,y2:D})))}var P2=function(e){function n(){return Nee(this,n),Eee(this,n,arguments)}return Cee(n,e),See(n,[{key:"render",value:function(){return le.createElement(qee,this.props)}}])}(le.Component);D2(P2,"displayName","ReferenceLine");D2(P2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F1.apply(this,arguments)}function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zl(e)}function t3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function n3(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?t3(Object(r),!0).forEach(function(a){Ip(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lee(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $ee(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n6(a.key),a)}}function Bee(e,n,r){return n&&$ee(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uee(e,n,r){return n=Ff(n),Fee(e,t6()?Reflect.construct(n,r||[],Ff(e).constructor):n.apply(e,r))}function Fee(e,n){if(n&&(zl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hee(e)}function Hee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t6=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function zee(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&H1(e,n)}function H1(e,n){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},H1(e,n)}function Ip(e,n,r){return n=n6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function n6(e){var n=Wee(e,"string");return zl(n)=="symbol"?n:n+""}function Wee(e,n){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(zl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vee=function(n){var r=n.x,a=n.y,s=n.xAxis,o=n.yAxis,l=T2({x:s.scale,y:o.scale}),u=l.apply({x:r,y:a},{bandAware:!0});return qa(n,"discard")&&!l.isInRange(u)?null:u},Rp=function(e){function n(){return Lee(this,n),Uee(this,n,arguments)}return zee(n,e),Bee(n,[{key:"render",value:function(){var a=this.props,s=a.x,o=a.y,l=a.r,u=a.alwaysShow,d=a.clipPathId,h=En(s),f=En(o);if(ha(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!f)return null;var p=Vee(this.props);if(!p)return null;var y=p.x,b=p.y,x=this.props,j=x.shape,w=x.className,T=qa(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=n3(n3({clipPath:T},Ge(this.props,!0)),{},{cx:y,cy:b});return le.createElement(gt,{className:lt("recharts-reference-dot",w)},n.renderDot(j,A),Pn.renderCallByParent(this.props,{x:y-l,y:b-l,width:2*l,height:2*l}))}}])}(le.Component);Ip(Rp,"displayName","ReferenceDot");Ip(Rp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ip(Rp,"renderDot",function(e,n){var r;return le.isValidElement(e)?r=le.cloneElement(e,n):tt(e)?r=e(n):r=le.createElement(Vd,F1({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"})),r});function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z1.apply(this,arguments)}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wl(e)}function r3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function a3(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?r3(Object(r),!0).forEach(function(a){qp(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yee(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Gee(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a6(a.key),a)}}function Kee(e,n,r){return n&&Gee(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qee(e,n,r){return n=Hf(n),Xee(e,r6()?Reflect.construct(n,r||[],Hf(e).constructor):n.apply(e,r))}function Xee(e,n){if(n&&(Wl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jee(e)}function Jee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!e})()}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(e)}function Zee(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&W1(e,n)}function W1(e,n){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},W1(e,n)}function qp(e,n,r){return n=a6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a6(e){var n=ete(e,"string");return Wl(n)=="symbol"?n:n+""}function ete(e,n){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Wl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tte=function(n,r,a,s,o){var l=o.x1,u=o.x2,d=o.y1,h=o.y2,f=o.xAxis,p=o.yAxis;if(!f||!p)return null;var y=T2({x:f.scale,y:p.scale}),b={x:n?y.x.apply(l,{position:"start"}):y.x.rangeMin,y:a?y.y.apply(d,{position:"start"}):y.y.rangeMin},x={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:s?y.y.apply(h,{position:"end"}):y.y.rangeMax};return qa(o,"discard")&&(!y.isInRange(b)||!y.isInRange(x))?null:zR(b,x)},Lp=function(e){function n(){return Yee(this,n),Qee(this,n,arguments)}return Zee(n,e),Kee(n,[{key:"render",value:function(){var a=this.props,s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.className,h=a.alwaysShow,f=a.clipPathId;ha(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=En(s),y=En(o),b=En(l),x=En(u),j=this.props.shape;if(!p&&!y&&!b&&!x&&!j)return null;var w=tte(p,y,b,x,this.props);if(!w&&!j)return null;var T=qa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return le.createElement(gt,{className:lt("recharts-reference-area",d)},n.renderRect(j,a3(a3({clipPath:T},Ge(this.props,!0)),w)),Pn.renderCallByParent(this.props,w))}}])}(le.Component);qp(Lp,"displayName","ReferenceArea");qp(Lp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});qp(Lp,"renderRect",function(e,n){var r;return le.isValidElement(e)?r=le.cloneElement(e,n):tt(e)?r=e(n):r=le.createElement(S2,z1({},n,{className:"recharts-reference-area-rect"})),r});function s6(e,n,r){if(n<1)return[];if(n===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=n)a.push(e[s]);return a}function nte(e,n,r){var a={width:e.width+n.width,height:e.height+n.height};return oee(a,r)}function rte(e,n,r){var a=r==="width",s=e.x,o=e.y,l=e.width,u=e.height;return n===1?{start:a?s:o,end:a?s+l:o+u}:{start:a?s+l:o+u,end:a?s:o}}function zf(e,n,r,a,s){if(e*n<e*a||e*n>e*s)return!1;var o=r();return e*(n-e*o/2-a)>=0&&e*(n+e*o/2-s)<=0}function ate(e,n){return s6(e,n+1)}function ste(e,n,r,a,s){for(var o=(a||[]).slice(),l=n.start,u=n.end,d=0,h=1,f=l,p=function(){var x=a==null?void 0:a[d];if(x===void 0)return{v:s6(a,h)};var j=d,w,T=function(){return w===void 0&&(w=r(x,j)),w},A=x.coordinate,O=d===0||zf(e,A,T,f,u);O||(d=0,f=l,h+=1),O&&(f=A+e*(T()/2+s),d+=h)},y;h<=o.length;)if(y=p(),y)return y.v;return[]}function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kd(e)}function s3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Yn(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?s3(Object(r),!0).forEach(function(a){ite(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ite(e,n,r){return n=ote(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ote(e){var n=lte(e,"string");return kd(n)=="symbol"?n:n+""}function lte(e,n){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(kd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function cte(e,n,r,a,s){for(var o=(a||[]).slice(),l=o.length,u=n.start,d=n.end,h=function(y){var b=o[y],x,j=function(){return x===void 0&&(x=r(b,y)),x};if(y===l-1){var w=e*(b.coordinate+e*j()/2-d);o[y]=b=Yn(Yn({},b),{},{tickCoord:w>0?b.coordinate-w*e:b.coordinate})}else o[y]=b=Yn(Yn({},b),{},{tickCoord:b.coordinate});var T=zf(e,b.tickCoord,j,u,d);T&&(d=b.tickCoord-e*(j()/2+s),o[y]=Yn(Yn({},b),{},{isShow:!0}))},f=l-1;f>=0;f--)h(f);return o}function ute(e,n,r,a,s,o){var l=(a||[]).slice(),u=l.length,d=n.start,h=n.end;if(o){var f=a[u-1],p=r(f,u-1),y=e*(f.coordinate+e*p/2-h);l[u-1]=f=Yn(Yn({},f),{},{tickCoord:y>0?f.coordinate-y*e:f.coordinate});var b=zf(e,f.tickCoord,function(){return p},d,h);b&&(h=f.tickCoord-e*(p/2+s),l[u-1]=Yn(Yn({},f),{},{isShow:!0}))}for(var x=o?u-1:u,j=function(A){var O=l[A],P,S=function(){return P===void 0&&(P=r(O,A)),P};if(A===0){var E=e*(O.coordinate-e*S()/2-d);l[A]=O=Yn(Yn({},O),{},{tickCoord:E<0?O.coordinate-E*e:O.coordinate})}else l[A]=O=Yn(Yn({},O),{},{tickCoord:O.coordinate});var k=zf(e,O.tickCoord,S,d,h);k&&(d=O.tickCoord+e*(S()/2+s),l[A]=Yn(Yn({},O),{},{isShow:!0}))},w=0;w<x;w++)j(w);return l}function M2(e,n,r){var a=e.tick,s=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,h=e.tickFormatter,f=e.unit,p=e.angle;if(!s||!s.length||!a)return[];if(He(d)||oi.isSsr)return ate(s,typeof d=="number"&&He(d)?d:0);var y=[],b=u==="top"||u==="bottom"?"width":"height",x=f&&b==="width"?Iu(f,{fontSize:n,letterSpacing:r}):{width:0,height:0},j=function(O,P){var S=tt(h)?h(O.value,P):O.value;return b==="width"?nte(Iu(S,{fontSize:n,letterSpacing:r}),x,p):Iu(S,{fontSize:n,letterSpacing:r})[b]},w=s.length>=2?nr(s[1].coordinate-s[0].coordinate):1,T=rte(o,w,b);return d==="equidistantPreserveStart"?ste(w,T,j,s,l):(d==="preserveStart"||d==="preserveStartEnd"?y=ute(w,T,j,s,l,d==="preserveStartEnd"):y=cte(w,T,j,s,l),y.filter(function(A){return A.isShow}))}var dte=["viewBox"],hte=["viewBox"],mte=["ticks"];function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vl(e)}function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gl.apply(this,arguments)}function i3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function er(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?i3(Object(r),!0).forEach(function(a){_2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cj(e,n){if(e==null)return{};var r=fte(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fte(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function pte(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o3(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o6(a.key),a)}}function vte(e,n,r){return n&&o3(e.prototype,n),r&&o3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yte(e,n,r){return n=Wf(n),gte(e,i6()?Reflect.construct(n,r||[],Wf(e).constructor):n.apply(e,r))}function gte(e,n){if(n&&(Vl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xte(e)}function xte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function bte(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&V1(e,n)}function V1(e,n){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},V1(e,n)}function _2(e,n,r){return n=o6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o6(e){var n=jte(e,"string");return Vl(n)=="symbol"?n:n+""}function jte(e,n){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Vl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hc=function(e){function n(r){var a;return pte(this,n),a=yte(this,n,[r]),a.state={fontSize:"",letterSpacing:""},a}return bte(n,e),vte(n,[{key:"shouldComponentUpdate",value:function(a,s){var o=a.viewBox,l=cj(a,dte),u=this.props,d=u.viewBox,h=cj(u,hte);return!Nl(o,d)||!Nl(l,h)||!Nl(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,o=s.x,l=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,y=s.tickMargin,b,x,j,w,T,A,O=p?-1:1,P=a.tickSize||f,S=He(a.tickCoord)?a.tickCoord:a.coordinate;switch(h){case"top":b=x=a.coordinate,w=l+ +!p*d,j=w-O*P,A=j-O*y,T=S;break;case"left":j=w=a.coordinate,x=o+ +!p*u,b=x-O*P,T=b-O*y,A=S;break;case"right":j=w=a.coordinate,x=o+ +p*u,b=x+O*P,T=b+O*y,A=S;break;default:b=x=a.coordinate,w=l+ +p*d,j=w+O*P,A=j+O*y,T=S;break}return{line:{x1:b,y1:j,x2:x,y2:w},tick:{x:T,y:A}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,o=a.mirror,l;switch(s){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,o=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,o=a.y,l=a.width,u=a.height,d=a.orientation,h=a.mirror,f=a.axisLine,p=er(er(er({},Ge(this.props,!1)),Ge(f,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!h||d==="bottom"&&h);p=er(er({},p),{},{x1:s,y1:o+y*u,x2:s+l,y2:o+y*u})}else{var b=+(d==="left"&&!h||d==="right"&&h);p=er(er({},p),{},{x1:s+b*l,y1:o,x2:s+b*l,y2:o+u})}return le.createElement("line",gl({},p,{className:lt("recharts-cartesian-axis-line",Or(f,"className"))}))}},{key:"renderTicks",value:function(a,s,o){var l=this,u=this.props,d=u.tickLine,h=u.stroke,f=u.tick,p=u.tickFormatter,y=u.unit,b=M2(er(er({},this.props),{},{ticks:a}),s,o),x=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),w=Ge(this.props,!1),T=Ge(f,!1),A=er(er({},w),{},{fill:"none"},Ge(d,!1)),O=b.map(function(P,S){var E=l.getTickLineCoord(P),k=E.line,D=E.tick,_=er(er(er(er({textAnchor:x,verticalAnchor:j},w),{},{stroke:"none",fill:h},T),D),{},{index:S,payload:P,visibleTicksCount:b.length,tickFormatter:p});return le.createElement(gt,gl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},to(l.props,P,S)),d&&le.createElement("line",gl({},A,k,{className:lt("recharts-cartesian-axis-tick-line",Or(d,"className"))})),f&&n.renderTickItem(f,_,"".concat(tt(p)?p(P.value,S):P.value).concat(y||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var a=this,s=this.props,o=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,h=s.className,f=s.hide;if(f)return null;var p=this.props,y=p.ticks,b=cj(p,mte),x=y;return tt(d)&&(x=y&&y.length>0?d(this.props):d(b)),l<=0||u<=0||!x||!x.length?null:le.createElement(gt,{className:lt("recharts-cartesian-axis",h),ref:function(w){a.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,o){var l;return le.isValidElement(a)?l=le.cloneElement(a,s):tt(a)?l=a(s):l=le.createElement(no,gl({},s,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])}(g.Component);_2(hc,"displayName","CartesianAxis");_2(hc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nte=["x1","y1","x2","y2","key"],wte=["offset"];function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},io(e)}function l3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gn(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?l3(Object(r),!0).forEach(function(a){Ste(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ste(e,n,r){return n=Ete(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Ete(e){var n=Tte(e,"string");return io(n)=="symbol"?n:n+""}function Tte(e,n){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(io(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fi.apply(this,arguments)}function c3(e,n){if(e==null)return{};var r=Ate(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ate(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Cte=function(n){var r=n.fill;if(!r||r==="none")return null;var a=n.fillOpacity,s=n.x,o=n.y,l=n.width,u=n.height,d=n.ry;return le.createElement("rect",{x:s,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function l6(e,n){var r;if(le.isValidElement(e))r=le.cloneElement(e,n);else if(tt(e))r=e(n);else{var a=n.x1,s=n.y1,o=n.x2,l=n.y2,u=n.key,d=c3(n,Nte),h=Ge(d,!1);h.offset;var f=c3(h,wte);r=le.createElement("line",Fi({},f,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function kte(e){var n=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var l=o.map(function(u,d){var h=Gn(Gn({},e),{},{x1:n,y1:u,x2:n+r,y2:u,key:"line-".concat(d),index:d});return l6(s,h)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Ote(e){var n=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,o=e.verticalPoints;if(!s||!o||!o.length)return null;var l=o.map(function(u,d){var h=Gn(Gn({},e),{},{x1:u,y1:n,x2:u,y2:n+r,key:"line-".concat(d),index:d});return l6(s,h)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Dte(e){var n=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,h=d===void 0?!0:d;if(!h||!n||!n.length)return null;var f=u.map(function(y){return Math.round(y+s-s)}).sort(function(y,b){return y-b});s!==f[0]&&f.unshift(0);var p=f.map(function(y,b){var x=!f[b+1],j=x?s+l-y:f[b+1]-y;if(j<=0)return null;var w=b%n.length;return le.createElement("rect",{key:"react-".concat(b),y,x:a,height:j,width:o,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Pte(e){var n=e.vertical,r=n===void 0?!0:n,a=e.verticalFill,s=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,h=e.verticalPoints;if(!r||!a||!a.length)return null;var f=h.map(function(y){return Math.round(y+o-o)}).sort(function(y,b){return y-b});o!==f[0]&&f.unshift(0);var p=f.map(function(y,b){var x=!f[b+1],j=x?o+u-y:f[b+1]-y;if(j<=0)return null;var w=b%a.length;return le.createElement("rect",{key:"react-".concat(b),x:y,y:l,width:j,height:d,stroke:"none",fill:a[w],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Mte=function(n,r){var a=n.xAxis,s=n.width,o=n.height,l=n.offset;return cR(M2(Gn(Gn(Gn({},hc.defaultProps),a),{},{ticks:hs(a,!0),viewBox:{x:0,y:0,width:s,height:o}})),l.left,l.left+l.width,r)},_te=function(n,r){var a=n.yAxis,s=n.width,o=n.height,l=n.offset;return cR(M2(Gn(Gn(Gn({},hc.defaultProps),a),{},{ticks:hs(a,!0),viewBox:{x:0,y:0,width:s,height:o}})),l.top,l.top+l.height,r)},ol={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dr(e){var n,r,a,s,o,l,u=k2(),d=O2(),h=jee(),f=Gn(Gn({},e),{},{stroke:(n=e.stroke)!==null&&n!==void 0?n:ol.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ol.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:ol.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ol.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ol.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ol.verticalFill,x:He(e.x)?e.x:h.left,y:He(e.y)?e.y:h.top,width:He(e.width)?e.width:h.width,height:He(e.height)?e.height:h.height}),p=f.x,y=f.y,b=f.width,x=f.height,j=f.syncWithTicks,w=f.horizontalValues,T=f.verticalValues,A=gee(),O=xee();if(!He(b)||b<=0||!He(x)||x<=0||!He(p)||p!==+p||!He(y)||y!==+y)return null;var P=f.verticalCoordinatesGenerator||Mte,S=f.horizontalCoordinatesGenerator||_te,E=f.horizontalPoints,k=f.verticalPoints;if((!E||!E.length)&&tt(S)){var D=w&&w.length,_=S({yAxis:O?Gn(Gn({},O),{},{ticks:D?w:O.ticks}):void 0,width:u,height:d,offset:h},D?!0:j);ha(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(io(_),"]")),Array.isArray(_)&&(E=_)}if((!k||!k.length)&&tt(P)){var U=T&&T.length,R=P({xAxis:A?Gn(Gn({},A),{},{ticks:U?T:A.ticks}):void 0,width:u,height:d,offset:h},U?!0:j);ha(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(io(R),"]")),Array.isArray(R)&&(k=R)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(Cte,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),le.createElement(kte,Fi({},f,{offset:h,horizontalPoints:E,xAxis:A,yAxis:O})),le.createElement(Ote,Fi({},f,{offset:h,verticalPoints:k,xAxis:A,yAxis:O})),le.createElement(Dte,Fi({},f,{horizontalPoints:E})),le.createElement(Pte,Fi({},f,{verticalPoints:k})))}dr.displayName="CartesianGrid";var Ite=["type","layout","connectNulls","ref"],Rte=["key"];function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yl(e)}function u3(e,n){if(e==null)return{};var r=qte(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qte(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uu.apply(this,arguments)}function d3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Er(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d3(Object(r),!0).forEach(function(a){ca(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ll(e){return Ute(e)||Bte(e)||$te(e)||Lte()}function Lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $te(e,n){if(e){if(typeof e=="string")return Y1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(e,n)}}function Bte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ute(e){if(Array.isArray(e))return Y1(e)}function Y1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function Fte(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function h3(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,u6(a.key),a)}}function Hte(e,n,r){return n&&h3(e.prototype,n),r&&h3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zte(e,n,r){return n=Vf(n),Wte(e,c6()?Reflect.construct(n,r||[],Vf(e).constructor):n.apply(e,r))}function Wte(e,n){if(n&&(Yl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vte(e)}function Vte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(e)}function Yte(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&G1(e,n)}function G1(e,n){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},G1(e,n)}function ca(e,n,r){return n=u6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u6(e){var n=Gte(e,"string");return Yl(n)=="symbol"?n:n+""}function Gte(e,n){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Yl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oo=function(e){function n(){var r;Fte(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=zte(this,n,[].concat(s)),ca(r,"state",{isAnimationFinished:!0,totalLength:0}),ca(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),ca(r,"getStrokeDasharray",function(l,u,d){var h=d.reduce(function(T,A){return T+A});if(!h)return r.generateSimpleStrokeDasharray(u,l);for(var f=Math.floor(l/h),p=l%h,y=u-l,b=[],x=0,j=0;x<d.length;j+=d[x],++x)if(j+d[x]>p){b=[].concat(ll(d.slice(0,x)),[p-j]);break}var w=b.length%2===0?[0,y]:[y];return[].concat(ll(n.repeat(d,f)),ll(b),w).map(function(T){return"".concat(T,"px")}).join(", ")}),ca(r,"id",ho("recharts-line-")),ca(r,"pathRef",function(l){r.mainCurve=l}),ca(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ca(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Yte(n,e),Hte(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,h=o.layout,f=o.children,p=Dr(f,Wd);if(!p)return null;var y=function(j,w){return{x:j.x,y:j.y,value:j.value,errorVal:mn(j.payload,w)}},b={clipPath:a?"url(#clipPath-".concat(s,")"):null};return le.createElement(gt,b,p.map(function(x){return le.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:l,xAxis:u,yAxis:d,layout:h,dataPointFormatter:y})}))}},{key:"renderDots",value:function(a,s,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,h=u.points,f=u.dataKey,p=Ge(this.props,!1),y=Ge(d,!0),b=h.map(function(j,w){var T=Er(Er(Er({key:"dot-".concat(w),r:3},p),y),{},{index:w,cx:j.x,cy:j.y,value:j.value,dataKey:f,payload:j.payload,points:h});return n.renderDotItem(d,T)}),x={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return le.createElement(gt,Uu({className:"recharts-line-dots",key:"dots"},x),b)}},{key:"renderCurveStatically",value:function(a,s,o,l){var u=this.props,d=u.type,h=u.layout,f=u.connectNulls;u.ref;var p=u3(u,Ite),y=Er(Er(Er({},Ge(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(o,")"):null,points:a},l),{},{type:d,layout:h,connectNulls:f});return le.createElement(Ki,Uu({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,h=l.isAnimationActive,f=l.animationBegin,p=l.animationDuration,y=l.animationEasing,b=l.animationId,x=l.animateNewValues,j=l.width,w=l.height,T=this.state,A=T.prevPoints,O=T.totalLength;return le.createElement(fa,{begin:f,duration:p,isActive:h,easing:y,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var S=P.t;if(A){var E=A.length/u.length,k=u.map(function($,L){var z=Math.floor(L*E);if(A[z]){var W=A[z],M=Sn(W.x,$.x),F=Sn(W.y,$.y);return Er(Er({},$),{},{x:M(S),y:F(S)})}if(x){var G=Sn(j*2,$.x),J=Sn(w/2,$.y);return Er(Er({},$),{},{x:G(S),y:J(S)})}return Er(Er({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(k,a,s)}var D=Sn(0,O),_=D(S),U;if(d){var R="".concat(d).split(/[,\s]+/gim).map(function($){return parseFloat($)});U=o.getStrokeDasharray(_,O,R)}else U=o.generateSimpleStrokeDasharray(O,_);return o.renderCurveStatically(u,a,s,{strokeDasharray:U})})}},{key:"renderCurve",value:function(a,s){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,h=d.prevPoints,f=d.totalLength;return u&&l&&l.length&&(!h&&f>0||!ro(h,l))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(l,a,s)}},{key:"render",value:function(){var a,s=this.props,o=s.hide,l=s.dot,u=s.points,d=s.className,h=s.xAxis,f=s.yAxis,p=s.top,y=s.left,b=s.width,x=s.height,j=s.isAnimationActive,w=s.id;if(o||!u||!u.length)return null;var T=this.state.isAnimationFinished,A=u.length===1,O=lt("recharts-line",d),P=h&&h.allowDataOverflow,S=f&&f.allowDataOverflow,E=P||S,k=it(w)?this.id:w,D=(a=Ge(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},_=D.r,U=_===void 0?3:_,R=D.strokeWidth,$=R===void 0?2:R,L=d_(l)?l:{},z=L.clipDot,W=z===void 0?!0:z,M=U*2+$;return le.createElement(gt,{className:O},P||S?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(k)},le.createElement("rect",{x:P?y:y-b/2,y:S?p:p-x/2,width:P?b:b*2,height:S?x:x*2})),!W&&le.createElement("clipPath",{id:"clipPath-dots-".concat(k)},le.createElement("rect",{x:y-M/2,y:p-M/2,width:b+M,height:x+M}))):null,!A&&this.renderCurve(E,k),this.renderErrorBar(E,k),(A||l)&&this.renderDots(E,W,k),(!j||T)&&Ra.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var o=a.length%2!==0?[].concat(ll(a),[0]):a,l=[],u=0;u<s;++u)l=[].concat(ll(l),ll(o));return l}},{key:"renderDotItem",value:function(a,s){var o;if(le.isValidElement(a))o=le.cloneElement(a,s);else if(tt(a))o=a(s);else{var l=s.key,u=u3(s,Rte),d=lt("recharts-line-dot",typeof a!="boolean"?a.className:"");o=le.createElement(Vd,Uu({key:l},u,{className:d}))}return o}}])}(g.PureComponent);ca(oo,"displayName","Line");ca(oo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!oi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ca(oo,"getComposedData",function(e){var n=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,h=e.offset,f=n.layout,p=d.map(function(y,b){var x=mn(y,l);return f==="horizontal"?{x:wf({axis:r,ticks:s,bandSize:u,entry:y,index:b}),y:it(x)?null:a.scale(x),value:x,payload:y}:{x:it(x)?null:r.scale(x),y:wf({axis:a,ticks:o,bandSize:u,entry:y,index:b}),value:x,payload:y}});return Er({points:p,layout:f},h)});var Kte=["layout","type","stroke","connectNulls","isRange","ref"],Qte=["key"],d6;function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gl(e)}function h6(e,n){if(e==null)return{};var r=Xte(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Xte(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hi.apply(this,arguments)}function m3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xs(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?m3(Object(r),!0).forEach(function(a){_a(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jte(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function f3(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,f6(a.key),a)}}function Zte(e,n,r){return n&&f3(e.prototype,n),r&&f3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ene(e,n,r){return n=Yf(n),tne(e,m6()?Reflect.construct(n,r||[],Yf(e).constructor):n.apply(e,r))}function tne(e,n){if(n&&(Gl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nne(e)}function nne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!e})()}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(e)}function rne(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&K1(e,n)}function K1(e,n){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},K1(e,n)}function _a(e,n,r){return n=f6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f6(e){var n=ane(e,"string");return Gl(n)=="symbol"?n:n+""}function ane(e,n){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Gl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pa=function(e){function n(){var r;Jte(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=ene(this,n,[].concat(s)),_a(r,"state",{isAnimationFinished:!0}),_a(r,"id",ho("recharts-area-")),_a(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),tt(l)&&l()}),_a(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),tt(l)&&l()}),r}return rne(n,e),Zte(n,[{key:"renderDots",value:function(a,s,o){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,h=d.dot,f=d.points,p=d.dataKey,y=Ge(this.props,!1),b=Ge(h,!0),x=f.map(function(w,T){var A=Xs(Xs(Xs({key:"dot-".concat(T),r:3},y),b),{},{index:T,cx:w.x,cy:w.y,dataKey:p,value:w.value,payload:w.payload,points:f});return n.renderDotItem(h,A)}),j={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return le.createElement(gt,Hi({className:"recharts-area-dots"},j),x)}},{key:"renderHorizontalRect",value:function(a){var s=this.props,o=s.baseLine,l=s.points,u=s.strokeWidth,d=l[0].x,h=l[l.length-1].x,f=a*Math.abs(d-h),p=ti(l.map(function(y){return y.y||0}));return He(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(ti(o.map(function(y){return y.y||0})),p)),He(p)?le.createElement("rect",{x:d<h?d:d-f,y:0,width:f,height:Math.floor(p+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var s=this.props,o=s.baseLine,l=s.points,u=s.strokeWidth,d=l[0].y,h=l[l.length-1].y,f=a*Math.abs(d-h),p=ti(l.map(function(y){return y.x||0}));return He(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(ti(o.map(function(y){return y.x||0})),p)),He(p)?le.createElement("rect",{x:0,y:d<h?d:d-f,width:p+(u?parseInt("".concat(u),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(a){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,s,o,l){var u=this.props,d=u.layout,h=u.type,f=u.stroke,p=u.connectNulls,y=u.isRange;u.ref;var b=h6(u,Kte);return le.createElement(gt,{clipPath:o?"url(#clipPath-".concat(l,")"):null},le.createElement(Ki,Hi({},Ge(b,!0),{points:a,connectNulls:p,type:h,baseLine:s,layout:d,stroke:"none",className:"recharts-area-area"})),f!=="none"&&le.createElement(Ki,Hi({},Ge(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:p,fill:"none",points:a})),f!=="none"&&y&&le.createElement(Ki,Hi({},Ge(this.props,!1),{className:"recharts-area-curve",layout:d,type:h,connectNulls:p,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(a,s){var o=this,l=this.props,u=l.points,d=l.baseLine,h=l.isAnimationActive,f=l.animationBegin,p=l.animationDuration,y=l.animationEasing,b=l.animationId,x=this.state,j=x.prevPoints,w=x.prevBaseLine;return le.createElement(fa,{begin:f,duration:p,isActive:h,easing:y,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var A=T.t;if(j){var O=j.length/u.length,P=u.map(function(D,_){var U=Math.floor(_*O);if(j[U]){var R=j[U],$=Sn(R.x,D.x),L=Sn(R.y,D.y);return Xs(Xs({},D),{},{x:$(A),y:L(A)})}return D}),S;if(He(d)&&typeof d=="number"){var E=Sn(w,d);S=E(A)}else if(it(d)||oc(d)){var k=Sn(w,0);S=k(A)}else S=d.map(function(D,_){var U=Math.floor(_*O);if(w[U]){var R=w[U],$=Sn(R.x,D.x),L=Sn(R.y,D.y);return Xs(Xs({},D),{},{x:$(A),y:L(A)})}return D});return o.renderAreaStatically(P,S,a,s)}return le.createElement(gt,null,le.createElement("defs",null,le.createElement("clipPath",{id:"animationClipPath-".concat(s)},o.renderClipRect(A))),le.createElement(gt,{clipPath:"url(#animationClipPath-".concat(s,")")},o.renderAreaStatically(u,d,a,s)))})}},{key:"renderArea",value:function(a,s){var o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,h=this.state,f=h.prevPoints,p=h.prevBaseLine,y=h.totalLength;return d&&l&&l.length&&(!f&&y>0||!ro(f,l)||!ro(p,u))?this.renderAreaWithAnimation(a,s):this.renderAreaStatically(l,u,a,s)}},{key:"render",value:function(){var a,s=this.props,o=s.hide,l=s.dot,u=s.points,d=s.className,h=s.top,f=s.left,p=s.xAxis,y=s.yAxis,b=s.width,x=s.height,j=s.isAnimationActive,w=s.id;if(o||!u||!u.length)return null;var T=this.state.isAnimationFinished,A=u.length===1,O=lt("recharts-area",d),P=p&&p.allowDataOverflow,S=y&&y.allowDataOverflow,E=P||S,k=it(w)?this.id:w,D=(a=Ge(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},_=D.r,U=_===void 0?3:_,R=D.strokeWidth,$=R===void 0?2:R,L=d_(l)?l:{},z=L.clipDot,W=z===void 0?!0:z,M=U*2+$;return le.createElement(gt,{className:O},P||S?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(k)},le.createElement("rect",{x:P?f:f-b/2,y:S?h:h-x/2,width:P?b:b*2,height:S?x:x*2})),!W&&le.createElement("clipPath",{id:"clipPath-dots-".concat(k)},le.createElement("rect",{x:f-M/2,y:h-M/2,width:b+M,height:x+M}))):null,A?null:this.renderArea(E,k),(l||A)&&this.renderDots(E,W,k),(!j||T)&&Ra.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:a.points!==s.curPoints||a.baseLine!==s.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(g.PureComponent);d6=pa;_a(pa,"displayName","Area");_a(pa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!oi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_a(pa,"getBaseValue",function(e,n,r,a){var s=e.layout,o=e.baseValue,l=n.props.baseValue,u=l??o;if(He(u)&&typeof u=="number")return u;var d=s==="horizontal"?a:r,h=d.scale.domain();if(d.type==="number"){var f=Math.max(h[0],h[1]),p=Math.min(h[0],h[1]);return u==="dataMin"?p:u==="dataMax"||f<0?f:Math.max(Math.min(h[0],h[1]),0)}return u==="dataMin"?h[0]:u==="dataMax"?h[1]:h[0]});_a(pa,"getComposedData",function(e){var n=e.props,r=e.item,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.bandSize,d=e.dataKey,h=e.stackedData,f=e.dataStartIndex,p=e.displayedData,y=e.offset,b=n.layout,x=h&&h.length,j=d6.getBaseValue(n,r,a,s),w=b==="horizontal",T=!1,A=p.map(function(P,S){var E;x?E=h[f+S]:(E=mn(P,d),Array.isArray(E)?T=!0:E=[j,E]);var k=E[1]==null||x&&mn(P,d)==null;return w?{x:wf({axis:a,ticks:o,bandSize:u,entry:P,index:S}),y:k?null:s.scale(E[1]),value:E,payload:P}:{x:k?null:a.scale(E[1]),y:wf({axis:s,ticks:l,bandSize:u,entry:P,index:S}),value:E,payload:P}}),O;return x||T?O=A.map(function(P){var S=Array.isArray(P.value)?P.value[0]:null;return w?{x:P.x,y:S!=null&&P.y!=null?s.scale(S):null}:{x:S!=null?a.scale(S):null,y:P.y}}):O=w?s.scale(j):a.scale(j),Xs({points:A,baseLine:O,layout:b,isRange:T},y)});_a(pa,"renderDotItem",function(e,n){var r;if(le.isValidElement(e))r=le.cloneElement(e,n);else if(tt(e))r=e(n);else{var a=lt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=n.key,o=h6(n,Qte);r=le.createElement(Vd,Hi({},o,{key:s,className:a}))}return r});function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kl(e)}function sne(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ine(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,y6(a.key),a)}}function one(e,n,r){return n&&ine(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lne(e,n,r){return n=Gf(n),cne(e,p6()?Reflect.construct(n,r||[],Gf(e).constructor):n.apply(e,r))}function cne(e,n){if(n&&(Kl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return une(e)}function une(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p6=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(e)}function dne(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Q1(e,n)}function Q1(e,n){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Q1(e,n)}function v6(e,n,r){return n=y6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function y6(e){var n=hne(e,"string");return Kl(n)=="symbol"?n:n+""}function hne(e,n){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Kl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},X1.apply(this,arguments)}function mne(e){var n=e.xAxisId,r=k2(),a=O2(),s=XR(n);return s==null?null:le.createElement(hc,X1({},s,{className:lt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return hs(l,!0)}}))}var Mn=function(e){function n(){return sne(this,n),lne(this,n,arguments)}return dne(n,e),one(n,[{key:"render",value:function(){return le.createElement(mne,this.props)}}])}(le.Component);v6(Mn,"displayName","XAxis");v6(Mn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ql(e)}function fne(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pne(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,b6(a.key),a)}}function vne(e,n,r){return n&&pne(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yne(e,n,r){return n=Kf(n),gne(e,g6()?Reflect.construct(n,r||[],Kf(e).constructor):n.apply(e,r))}function gne(e,n){if(n&&(Ql(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xne(e)}function xne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g6=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}function bne(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&J1(e,n)}function J1(e,n){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},J1(e,n)}function x6(e,n,r){return n=b6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function b6(e){var n=jne(e,"string");return Ql(n)=="symbol"?n:n+""}function jne(e,n){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Ql(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Z1.apply(this,arguments)}var Nne=function(n){var r=n.yAxisId,a=k2(),s=O2(),o=JR(r);return o==null?null:le.createElement(hc,Z1({},o,{className:lt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(u){return hs(u,!0)}}))},gn=function(e){function n(){return fne(this,n),yne(this,n,arguments)}return bne(n,e),vne(n,[{key:"render",value:function(){return le.createElement(Nne,this.props)}}])}(le.Component);x6(gn,"displayName","YAxis");x6(gn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function p3(e){return Tne(e)||Ene(e)||Sne(e)||wne()}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(e,n){if(e){if(typeof e=="string")return eN(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,n)}}function Ene(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tne(e){if(Array.isArray(e))return eN(e)}function eN(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var tN=function(n,r,a,s,o){var l=Dr(n,P2),u=Dr(n,Rp),d=[].concat(p3(l),p3(u)),h=Dr(n,Lp),f="".concat(s,"Id"),p=s[0],y=r;if(d.length&&(y=d.reduce(function(j,w){if(w.props[f]===a&&qa(w.props,"extendDomain")&&He(w.props[p])){var T=w.props[p];return[Math.min(j[0],T),Math.max(j[1],T)]}return j},y)),h.length){var b="".concat(p,"1"),x="".concat(p,"2");y=h.reduce(function(j,w){if(w.props[f]===a&&qa(w.props,"extendDomain")&&He(w.props[b])&&He(w.props[x])){var T=w.props[b],A=w.props[x];return[Math.min(j[0],T,A),Math.max(j[1],T,A)]}return j},y)}return o&&o.length&&(y=o.reduce(function(j,w){return He(w)?[Math.min(j[0],w),Math.max(j[1],w)]:j},y)),y},uj={exports:{}},v3;function Ane(){return v3||(v3=1,function(e){var n=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(d,h,f){this.fn=d,this.context=h,this.once=f||!1}function o(d,h,f,p,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new s(f,p||d,y),x=r?r+h:h;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],b]:d._events[x].push(b):(d._events[x]=b,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new a:delete d._events[h]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)n.call(f,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},u.prototype.listeners=function(h){var f=r?r+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,x=new Array(b);y<b;y++)x[y]=p[y].fn;return x},u.prototype.listenerCount=function(h){var f=r?r+h:h,p=this._events[f];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,f,p,y,b,x){var j=r?r+h:h;if(!this._events[j])return!1;var w=this._events[j],T=arguments.length,A,O;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,p),!0;case 4:return w.fn.call(w.context,f,p,y),!0;case 5:return w.fn.call(w.context,f,p,y,b),!0;case 6:return w.fn.call(w.context,f,p,y,b,x),!0}for(O=1,A=new Array(T-1);O<T;O++)A[O-1]=arguments[O];w.fn.apply(w.context,A)}else{var P=w.length,S;for(O=0;O<P;O++)switch(w[O].once&&this.removeListener(h,w[O].fn,void 0,!0),T){case 1:w[O].fn.call(w[O].context);break;case 2:w[O].fn.call(w[O].context,f);break;case 3:w[O].fn.call(w[O].context,f,p);break;case 4:w[O].fn.call(w[O].context,f,p,y);break;default:if(!A)for(S=1,A=new Array(T-1);S<T;S++)A[S-1]=arguments[S];w[O].fn.apply(w[O].context,A)}}return!0},u.prototype.on=function(h,f,p){return o(this,h,f,p,!1)},u.prototype.once=function(h,f,p){return o(this,h,f,p,!0)},u.prototype.removeListener=function(h,f,p,y){var b=r?r+h:h;if(!this._events[b])return this;if(!f)return l(this,b),this;var x=this._events[b];if(x.fn)x.fn===f&&(!y||x.once)&&(!p||x.context===p)&&l(this,b);else{for(var j=0,w=[],T=x.length;j<T;j++)(x[j].fn!==f||y&&!x[j].once||p&&x[j].context!==p)&&w.push(x[j]);w.length?this._events[b]=w.length===1?w[0]:w:l(this,b)}return this},u.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&l(this,f)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u}(uj)),uj.exports}var Cne=Ane();const kne=kt(Cne);var dj=new kne,hj="recharts.syncMouseEvents";function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Od(e)}function One(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Dne(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,j6(a.key),a)}}function Pne(e,n,r){return n&&Dne(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mj(e,n,r){return n=j6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function j6(e){var n=Mne(e,"string");return Od(n)=="symbol"?n:n+""}function Mne(e,n){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _ne=function(){function e(){One(this,e),mj(this,"activeIndex",0),mj(this,"coordinateList",[]),mj(this,"layout","horizontal")}return Pne(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,o=s===void 0?null:s,l=r.container,u=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,f=r.offset,p=f===void 0?null:f,y=r.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(a=o??this.coordinateList)!==null&&a!==void 0?a:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((a=window)===null||a===void 0?void 0:a.scrollY)||0,p=o+d+h,y=l+this.offset.top+u/2+f;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function Ine(e,n,r){if(r==="number"&&n===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&He(a)&&He(s))return!0}return!1}function Rne(e,n,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?n.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:n.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function N6(e){var n=e.cx,r=e.cy,a=e.radius,s=e.startAngle,o=e.endAngle,l=Wt(n,r,a,s),u=Wt(n,r,a,o);return{points:[l,u],cx:n,cy:r,radius:a,startAngle:s,endAngle:o}}function qne(e,n,r){var a,s,o,l;if(e==="horizontal")a=n.x,o=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=n.y,l=s,a=r.left,o=r.left+r.width;else if(n.cx!=null&&n.cy!=null)if(e==="centric"){var u=n.cx,d=n.cy,h=n.innerRadius,f=n.outerRadius,p=n.angle,y=Wt(u,d,h,p),b=Wt(u,d,f,p);a=y.x,s=y.y,o=b.x,l=b.y}else return N6(n);return[{x:a,y:s},{x:o,y:l}]}function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dd(e)}function y3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sm(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?y3(Object(r),!0).forEach(function(a){Lne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lne(e,n,r){return n=$ne(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function $ne(e){var n=Bne(e,"string");return Dd(n)=="symbol"?n:n+""}function Bne(e,n){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Dd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Une(e){var n,r,a=e.element,s=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,h=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,y=e.chartName,b=(n=a.props.cursor)!==null&&n!==void 0?n:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!b||!o||!l||y!=="ScatterChart"&&s!=="axis")return null;var x,j=Ki;if(y==="ScatterChart")x=l,j=JX;else if(y==="BarChart")x=Rne(p,l,d,f),j=S2;else if(p==="radial"){var w=N6(l),T=w.cx,A=w.cy,O=w.radius,P=w.startAngle,S=w.endAngle;x={cx:T,cy:A,startAngle:P,endAngle:S,innerRadius:O,outerRadius:O},j=bR}else x={points:qne(p,l,d)},j=Ki;var E=Sm(Sm(Sm(Sm({stroke:"#ccc",pointerEvents:"none"},d),x),Ge(b,!1)),{},{payload:u,payloadIndex:h,className:lt("recharts-tooltip-cursor",b.className)});return g.isValidElement(b)?g.cloneElement(b,E):g.createElement(j,E)}var Fne=["item"],Hne=["children","className","width","height","style","compact","title","desc"];function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xl(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xl.apply(this,arguments)}function g3(e,n){return Vne(e)||Wne(e,n)||S6(e,n)||zne()}function zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wne(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(f){h=!0,s=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return u}}function Vne(e){if(Array.isArray(e))return e}function x3(e,n){if(e==null)return{};var r=Yne(e,n),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Yne(e,n){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Gne(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Kne(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,E6(a.key),a)}}function Qne(e,n,r){return n&&Kne(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xne(e,n,r){return n=Qf(n),Jne(e,w6()?Reflect.construct(n,r||[],Qf(e).constructor):n.apply(e,r))}function Jne(e,n){if(n&&(Xl(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zne(e)}function Zne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w6=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(e)}function ere(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&nN(e,n)}function nN(e,n){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nN(e,n)}function Jl(e){return rre(e)||nre(e)||S6(e)||tre()}function tre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6(e,n){if(e){if(typeof e=="string")return rN(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rN(e,n)}}function nre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rre(e){if(Array.isArray(e))return rN(e)}function rN(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function b3(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function De(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?b3(Object(r),!0).forEach(function(a){et(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function et(e,n,r){return n=E6(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function E6(e){var n=are(e,"string");return Xl(n)=="symbol"?n:n+""}function are(e,n){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(Xl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var sre={xAxis:["bottom","top"],yAxis:["left","right"]},ire={width:"100%",height:"100%"},T6={x:0,y:0};function Em(e){return e}var ore=function(n,r){return r==="horizontal"?n.x:r==="vertical"?n.y:r==="centric"?n.angle:n.radius},lre=function(n,r,a,s){var o=r.find(function(f){return f&&f.index===a});if(o){if(n==="horizontal")return{x:o.coordinate,y:s.y};if(n==="vertical")return{x:s.x,y:o.coordinate};if(n==="centric"){var l=o.coordinate,u=s.radius;return De(De(De({},s),Wt(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,h=s.angle;return De(De(De({},s),Wt(s.cx,s.cy,d,h)),{},{angle:h,radius:d})}return T6},$p=function(n,r){var a=r.graphicalItems,s=r.dataStartIndex,o=r.dataEndIndex,l=(a??[]).reduce(function(u,d){var h=d.props.data;return h&&h.length?[].concat(Jl(u),Jl(h)):u},[]);return l.length>0?l:n&&n.length&&He(s)&&He(o)?n.slice(s,o+1):[]};function A6(e){return e==="number"?[0,"auto"]:void 0}var aN=function(n,r,a,s){var o=n.graphicalItems,l=n.tooltipAxis,u=$p(r,n);return a<0||!o||!o.length||a>=u.length?null:o.reduce(function(d,h){var f,p=(f=h.props.data)!==null&&f!==void 0?f:r;p&&n.dataStartIndex+n.dataEndIndex!==0&&n.dataEndIndex-n.dataStartIndex>=a&&(p=p.slice(n.dataStartIndex,n.dataEndIndex+1));var y;if(l.dataKey&&!l.allowDuplicatedCategory){var b=p===void 0?u:p;y=Xm(b,l.dataKey,s)}else y=p&&p[a]||u[a];return y?[].concat(Jl(d),[fR(h,y)]):d},[])},j3=function(n,r,a,s){var o=s||{x:n.chartX,y:n.chartY},l=ore(o,a),u=n.orderedTooltipTicks,d=n.tooltipAxis,h=n.tooltipTicks,f=SG(l,u,h,d);if(f>=0&&h){var p=h[f]&&h[f].value,y=aN(n,r,f,p),b=lre(a,u,f,o);return{activeTooltipIndex:f,activeLabel:p,activePayload:y,activeCoordinate:b}}return null},cre=function(n,r){var a=r.axes,s=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,f=n.layout,p=n.children,y=n.stackOffset,b=lR(f,o);return a.reduce(function(x,j){var w,T=j.type.defaultProps!==void 0?De(De({},j.type.defaultProps),j.props):j.props,A=T.type,O=T.dataKey,P=T.allowDataOverflow,S=T.allowDuplicatedCategory,E=T.scale,k=T.ticks,D=T.includeHidden,_=T[l];if(x[_])return x;var U=$p(n.data,{graphicalItems:s.filter(function(B){var H,K=l in B.props?B.props[l]:(H=B.type.defaultProps)===null||H===void 0?void 0:H[l];return K===_}),dataStartIndex:d,dataEndIndex:h}),R=U.length,$,L,z;Ine(T.domain,P,A)&&($=y1(T.domain,null,P),b&&(A==="number"||E!=="auto")&&(z=qu(U,O,"category")));var W=A6(A);if(!$||$.length===0){var M,F=(M=T.domain)!==null&&M!==void 0?M:W;if(O){if($=qu(U,O,A),A==="category"&&b){var G=gB($);S&&G?(L=$,$=Rf(0,R)):S||($=xD(F,$,j).reduce(function(B,H){return B.indexOf(H)>=0?B:[].concat(Jl(B),[H])},[]))}else if(A==="category")S?$=$.filter(function(B){return B!==""&&!it(B)}):$=xD(F,$,j).reduce(function(B,H){return B.indexOf(H)>=0||H===""||it(H)?B:[].concat(Jl(B),[H])},[]);else if(A==="number"){var J=kG(U,s.filter(function(B){var H,K,ie=l in B.props?B.props[l]:(H=B.type.defaultProps)===null||H===void 0?void 0:H[l],ae="hide"in B.props?B.props.hide:(K=B.type.defaultProps)===null||K===void 0?void 0:K.hide;return ie===_&&(D||!ae)}),O,o,f);J&&($=J)}b&&(A==="number"||E!=="auto")&&(z=qu(U,O,"category"))}else b?$=Rf(0,R):u&&u[_]&&u[_].hasStack&&A==="number"?$=y==="expand"?[0,1]:mR(u[_].stackGroups,d,h):$=oR(U,s.filter(function(B){var H=l in B.props?B.props[l]:B.type.defaultProps[l],K="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return H===_&&(D||!K)}),A,f,!0);if(A==="number")$=tN(p,$,_,o,k),F&&($=y1(F,$,P));else if(A==="category"&&F){var I=F,q=$.every(function(B){return I.indexOf(B)>=0});q&&($=I)}}return De(De({},x),{},et({},_,De(De({},T),{},{axisType:o,domain:$,categoricalDomain:z,duplicateDomain:L,originalDomain:(w=T.domain)!==null&&w!==void 0?w:W,isCategorical:b,layout:f})))},{})},ure=function(n,r){var a=r.graphicalItems,s=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,f=n.layout,p=n.children,y=$p(n.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:h}),b=y.length,x=lR(f,o),j=-1;return a.reduce(function(w,T){var A=T.type.defaultProps!==void 0?De(De({},T.type.defaultProps),T.props):T.props,O=A[l],P=A6("number");if(!w[O]){j++;var S;return x?S=Rf(0,b):u&&u[O]&&u[O].hasStack?(S=mR(u[O].stackGroups,d,h),S=tN(p,S,O,o)):(S=y1(P,oR(y,a.filter(function(E){var k,D,_=l in E.props?E.props[l]:(k=E.type.defaultProps)===null||k===void 0?void 0:k[l],U="hide"in E.props?E.props.hide:(D=E.type.defaultProps)===null||D===void 0?void 0:D.hide;return _===O&&!U}),"number",f),s.defaultProps.allowDataOverflow),S=tN(p,S,O,o)),De(De({},w),{},et({},O,De(De({axisType:o},s.defaultProps),{},{hide:!0,orientation:Or(sre,"".concat(o,".").concat(j%2),null),domain:S,originalDomain:P,isCategorical:x,layout:f})))}return w},{})},dre=function(n,r){var a=r.axisType,s=a===void 0?"xAxis":a,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,f=n.children,p="".concat(s,"Id"),y=Dr(f,o),b={};return y&&y.length?b=cre(n,{axes:y,graphicalItems:l,axisType:s,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(b=ure(n,{Axis:o,graphicalItems:l,axisType:s,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:h})),b},hre=function(n){var r=Zs(n),a=hs(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:QN(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Sf(r,a)}},N3=function(n){var r=n.children,a=n.defaultShowTooltip,s=Cr(r,Ul),o=0,l=0;return n.data&&n.data.length!==0&&(l=n.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},mre=function(n){return!n||!n.length?!1:n.some(function(r){var a=fs(r&&r.type);return a&&a.indexOf("Bar")>=0})},w3=function(n){return n==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:n==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:n==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fre=function(n,r){var a=n.props,s=n.graphicalItems,o=n.xAxisMap,l=o===void 0?{}:o,u=n.yAxisMap,d=u===void 0?{}:u,h=a.width,f=a.height,p=a.children,y=a.margin||{},b=Cr(p,Ul),x=Cr(p,ps),j=Object.keys(d).reduce(function(S,E){var k=d[E],D=k.orientation;return!k.mirror&&!k.hide?De(De({},S),{},et({},D,S[D]+k.width)):S},{left:y.left||0,right:y.right||0}),w=Object.keys(l).reduce(function(S,E){var k=l[E],D=k.orientation;return!k.mirror&&!k.hide?De(De({},S),{},et({},D,Or(S,"".concat(D))+k.height)):S},{top:y.top||0,bottom:y.bottom||0}),T=De(De({},w),j),A=T.bottom;b&&(T.bottom+=b.props.height||Ul.defaultProps.height),x&&r&&(T=AG(T,s,a,r));var O=h-T.left-T.right,P=f-T.top-T.bottom;return De(De({brushBottom:A},T),{},{width:Math.max(O,0),height:Math.max(P,0)})},pre=function(n,r){if(r==="xAxis")return n[r].width;if(r==="yAxis")return n[r].height},Bp=function(n){var r=n.chartName,a=n.GraphicalChild,s=n.defaultTooltipEventType,o=s===void 0?"axis":s,l=n.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=n.axisComponents,h=n.legendContent,f=n.formatAxisMap,p=n.defaultProps,y=function(T,A){var O=A.graphicalItems,P=A.stackGroups,S=A.offset,E=A.updateId,k=A.dataStartIndex,D=A.dataEndIndex,_=T.barSize,U=T.layout,R=T.barGap,$=T.barCategoryGap,L=T.maxBarSize,z=w3(U),W=z.numericAxisName,M=z.cateAxisName,F=mre(O),G=[];return O.forEach(function(J,I){var q=$p(T.data,{graphicalItems:[J],dataStartIndex:k,dataEndIndex:D}),B=J.type.defaultProps!==void 0?De(De({},J.type.defaultProps),J.props):J.props,H=B.dataKey,K=B.maxBarSize,ie=B["".concat(W,"Id")],ae=B["".concat(M,"Id")],me={},de=d.reduce(function(xe,pe){var je=A["".concat(pe.axisType,"Map")],qe=B["".concat(pe.axisType,"Id")];je&&je[qe]||pe.axisType==="zAxis"||so();var ke=je[qe];return De(De({},xe),{},et(et({},pe.axisType,ke),"".concat(pe.axisType,"Ticks"),hs(ke)))},me),fe=de[M],X=de["".concat(M,"Ticks")],Z=P&&P[ie]&&P[ie].hasStack&&LG(J,P[ie].stackGroups),V=fs(J.type).indexOf("Bar")>=0,Y=Sf(fe,X),ee=[],ce=F&&EG({barSize:_,stackGroups:P,totalSize:pre(de,M)});if(V){var re,te,he=it(K)?L:K,se=(re=(te=Sf(fe,X,!0))!==null&&te!==void 0?te:he)!==null&&re!==void 0?re:0;ee=TG({barGap:R,barCategoryGap:$,bandSize:se!==Y?se:Y,sizeList:ce[ae],maxBarSize:he}),se!==Y&&(ee=ee.map(function(xe){return De(De({},xe),{},{position:De(De({},xe.position),{},{offset:xe.position.offset-se/2})})}))}var oe=J&&J.type&&J.type.getComposedData;oe&&G.push({props:De(De({},oe(De(De({},de),{},{displayedData:q,props:T,dataKey:H,item:J,bandSize:Y,barPosition:ee,offset:S,stackedData:Z,layout:U,dataStartIndex:k,dataEndIndex:D}))),{},et(et(et({key:J.key||"item-".concat(I)},W,de[W]),M,de[M]),"animationId",E)),childIndex:OB(J,T.children),item:J})}),G},b=function(T,A){var O=T.props,P=T.dataStartIndex,S=T.dataEndIndex,E=T.updateId;if(!_C({props:O}))return null;var k=O.children,D=O.layout,_=O.stackOffset,U=O.data,R=O.reverseStackOrder,$=w3(D),L=$.numericAxisName,z=$.cateAxisName,W=Dr(k,a),M=RG(U,W,"".concat(L,"Id"),"".concat(z,"Id"),_,R),F=d.reduce(function(B,H){var K="".concat(H.axisType,"Map");return De(De({},B),{},et({},K,dre(O,De(De({},H),{},{graphicalItems:W,stackGroups:H.axisType===L&&M,dataStartIndex:P,dataEndIndex:S}))))},{}),G=fre(De(De({},F),{},{props:O,graphicalItems:W}),A==null?void 0:A.legendBBox);Object.keys(F).forEach(function(B){F[B]=f(O,F[B],G,B.replace("Map",""),r)});var J=F["".concat(z,"Map")],I=hre(J),q=y(O,De(De({},F),{},{dataStartIndex:P,dataEndIndex:S,updateId:E,graphicalItems:W,stackGroups:M,offset:G}));return De(De({formattedGraphicalItems:q,graphicalItems:W,offset:G,stackGroups:M},I),F)},x=function(w){function T(A){var O,P,S;return Gne(this,T),S=Xne(this,T,[A]),et(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(S,"accessibilityManager",new _ne),et(S,"handleLegendBBoxUpdate",function(E){if(E){var k=S.state,D=k.dataStartIndex,_=k.dataEndIndex,U=k.updateId;S.setState(De({legendBBox:E},b({props:S.props,dataStartIndex:D,dataEndIndex:_,updateId:U},De(De({},S.state),{},{legendBBox:E}))))}}),et(S,"handleReceiveSyncEvent",function(E,k,D){if(S.props.syncId===E){if(D===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),et(S,"handleBrushChange",function(E){var k=E.startIndex,D=E.endIndex;if(k!==S.state.dataStartIndex||D!==S.state.dataEndIndex){var _=S.state.updateId;S.setState(function(){return De({dataStartIndex:k,dataEndIndex:D},b({props:S.props,dataStartIndex:k,dataEndIndex:D,updateId:_},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:D})}}),et(S,"handleMouseEnter",function(E){var k=S.getMouseInfo(E);if(k){var D=De(De({},k),{},{isTooltipActive:!0});S.setState(D),S.triggerSyncEvent(D);var _=S.props.onMouseEnter;tt(_)&&_(D,E)}}),et(S,"triggeredAfterMouseMove",function(E){var k=S.getMouseInfo(E),D=k?De(De({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(D),S.triggerSyncEvent(D);var _=S.props.onMouseMove;tt(_)&&_(D,E)}),et(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),et(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),et(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),et(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var D=S.props.onMouseLeave;tt(D)&&D(k,E)}),et(S,"handleOuterEvent",function(E){var k=kB(E),D=Or(S.props,"".concat(k));if(k&&tt(D)){var _,U;/.*touch.*/i.test(k)?U=S.getMouseInfo(E.changedTouches[0]):U=S.getMouseInfo(E),D((_=U)!==null&&_!==void 0?_:{},E)}}),et(S,"handleClick",function(E){var k=S.getMouseInfo(E);if(k){var D=De(De({},k),{},{isTooltipActive:!0});S.setState(D),S.triggerSyncEvent(D);var _=S.props.onClick;tt(_)&&_(D,E)}}),et(S,"handleMouseDown",function(E){var k=S.props.onMouseDown;if(tt(k)){var D=S.getMouseInfo(E);k(D,E)}}),et(S,"handleMouseUp",function(E){var k=S.props.onMouseUp;if(tt(k)){var D=S.getMouseInfo(E);k(D,E)}}),et(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),et(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),et(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),et(S,"handleDoubleClick",function(E){var k=S.props.onDoubleClick;if(tt(k)){var D=S.getMouseInfo(E);k(D,E)}}),et(S,"handleContextMenu",function(E){var k=S.props.onContextMenu;if(tt(k)){var D=S.getMouseInfo(E);k(D,E)}}),et(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&dj.emit(hj,S.props.syncId,E,S.eventEmitterSymbol)}),et(S,"applySyncEvent",function(E){var k=S.props,D=k.layout,_=k.syncMethod,U=S.state.updateId,R=E.dataStartIndex,$=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(De({dataStartIndex:R,dataEndIndex:$},b({props:S.props,dataStartIndex:R,dataEndIndex:$,updateId:U},S.state)));else if(E.activeTooltipIndex!==void 0){var L=E.chartX,z=E.chartY,W=E.activeTooltipIndex,M=S.state,F=M.offset,G=M.tooltipTicks;if(!F)return;if(typeof _=="function")W=_(G,E);else if(_==="value"){W=-1;for(var J=0;J<G.length;J++)if(G[J].value===E.activeLabel){W=J;break}}var I=De(De({},F),{},{x:F.left,y:F.top}),q=Math.min(L,I.x+I.width),B=Math.min(z,I.y+I.height),H=G[W]&&G[W].value,K=aN(S.state,S.props.data,W),ie=G[W]?{x:D==="horizontal"?G[W].coordinate:q,y:D==="horizontal"?B:G[W].coordinate}:T6;S.setState(De(De({},E),{},{activeLabel:H,activeCoordinate:ie,activePayload:K,activeTooltipIndex:W}))}else S.setState(E)}),et(S,"renderCursor",function(E){var k,D=S.state,_=D.isTooltipActive,U=D.activeCoordinate,R=D.activePayload,$=D.offset,L=D.activeTooltipIndex,z=D.tooltipAxisBandSize,W=S.getTooltipEventType(),M=(k=E.props.active)!==null&&k!==void 0?k:_,F=S.props.layout,G=E.key||"_recharts-cursor";return le.createElement(Une,{key:G,activeCoordinate:U,activePayload:R,activeTooltipIndex:L,chartName:r,element:E,isActive:M,layout:F,offset:$,tooltipAxisBandSize:z,tooltipEventType:W})}),et(S,"renderPolarAxis",function(E,k,D){var _=Or(E,"type.axisType"),U=Or(S.state,"".concat(_,"Map")),R=E.type.defaultProps,$=R!==void 0?De(De({},R),E.props):E.props,L=U&&U[$["".concat(_,"Id")]];return g.cloneElement(E,De(De({},L),{},{className:lt(_,L.className),key:E.key||"".concat(k,"-").concat(D),ticks:hs(L,!0)}))}),et(S,"renderPolarGrid",function(E){var k=E.props,D=k.radialLines,_=k.polarAngles,U=k.polarRadius,R=S.state,$=R.radiusAxisMap,L=R.angleAxisMap,z=Zs($),W=Zs(L),M=W.cx,F=W.cy,G=W.innerRadius,J=W.outerRadius;return g.cloneElement(E,{polarAngles:Array.isArray(_)?_:hs(W,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(U)?U:hs(z,!0).map(function(I){return I.coordinate}),cx:M,cy:F,innerRadius:G,outerRadius:J,key:E.key||"polar-grid",radialLines:D})}),et(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,k=S.props,D=k.children,_=k.width,U=k.height,R=S.props.margin||{},$=_-(R.left||0)-(R.right||0),L=sR({children:D,formattedGraphicalItems:E,legendWidth:$,legendContent:h});if(!L)return null;var z=L.item,W=x3(L,Fne);return g.cloneElement(z,De(De({},W),{},{chartWidth:_,chartHeight:U,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),et(S,"renderTooltip",function(){var E,k=S.props,D=k.children,_=k.accessibilityLayer,U=Cr(D,Pt);if(!U)return null;var R=S.state,$=R.isTooltipActive,L=R.activeCoordinate,z=R.activePayload,W=R.activeLabel,M=R.offset,F=(E=U.props.active)!==null&&E!==void 0?E:$;return g.cloneElement(U,{viewBox:De(De({},M),{},{x:M.left,y:M.top}),active:F,label:W,payload:F?z:[],coordinate:L,accessibilityLayer:_})}),et(S,"renderBrush",function(E){var k=S.props,D=k.margin,_=k.data,U=S.state,R=U.offset,$=U.dataStartIndex,L=U.dataEndIndex,z=U.updateId;return g.cloneElement(E,{key:E.key||"_recharts-brush",onChange:bm(S.handleBrushChange,E.props.onChange),data:_,x:He(E.props.x)?E.props.x:R.left,y:He(E.props.y)?E.props.y:R.top+R.height+R.brushBottom-(D.bottom||0),width:He(E.props.width)?E.props.width:R.width,startIndex:$,endIndex:L,updateId:"brush-".concat(z)})}),et(S,"renderReferenceElement",function(E,k,D){if(!E)return null;var _=S,U=_.clipPathId,R=S.state,$=R.xAxisMap,L=R.yAxisMap,z=R.offset,W=E.type.defaultProps||{},M=E.props,F=M.xAxisId,G=F===void 0?W.xAxisId:F,J=M.yAxisId,I=J===void 0?W.yAxisId:J;return g.cloneElement(E,{key:E.key||"".concat(k,"-").concat(D),xAxis:$[G],yAxis:L[I],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:U})}),et(S,"renderActivePoints",function(E){var k=E.item,D=E.activePoint,_=E.basePoint,U=E.childIndex,R=E.isRange,$=[],L=k.props.key,z=k.item.type.defaultProps!==void 0?De(De({},k.item.type.defaultProps),k.item.props):k.item.props,W=z.activeDot,M=z.dataKey,F=De(De({index:U,dataKey:M,cx:D.x,cy:D.y,r:4,fill:N2(k.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Ge(W,!1)),Jm(W));return $.push(T.renderActiveDot(W,F,"".concat(L,"-activePoint-").concat(U))),_?$.push(T.renderActiveDot(W,De(De({},F),{},{cx:_.x,cy:_.y}),"".concat(L,"-basePoint-").concat(U))):R&&$.push(null),$}),et(S,"renderGraphicChild",function(E,k,D){var _=S.filterFormatItem(E,k,D);if(!_)return null;var U=S.getTooltipEventType(),R=S.state,$=R.isTooltipActive,L=R.tooltipAxis,z=R.activeTooltipIndex,W=R.activeLabel,M=S.props.children,F=Cr(M,Pt),G=_.props,J=G.points,I=G.isRange,q=G.baseLine,B=_.item.type.defaultProps!==void 0?De(De({},_.item.type.defaultProps),_.item.props):_.item.props,H=B.activeDot,K=B.hide,ie=B.activeBar,ae=B.activeShape,me=!!(!K&&$&&F&&(H||ie||ae)),de={};U!=="axis"&&F&&F.props.trigger==="click"?de={onClick:bm(S.handleItemMouseEnter,E.props.onClick)}:U!=="axis"&&(de={onMouseLeave:bm(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:bm(S.handleItemMouseEnter,E.props.onMouseEnter)});var fe=g.cloneElement(E,De(De({},_.props),de));function X(pe){return typeof L.dataKey=="function"?L.dataKey(pe.payload):null}if(me)if(z>=0){var Z,V;if(L.dataKey&&!L.allowDuplicatedCategory){var Y=typeof L.dataKey=="function"?X:"payload.".concat(L.dataKey.toString());Z=Xm(J,Y,W),V=I&&q&&Xm(q,Y,W)}else Z=J==null?void 0:J[z],V=I&&q&&q[z];if(ae||ie){var ee=E.props.activeIndex!==void 0?E.props.activeIndex:z;return[g.cloneElement(E,De(De(De({},_.props),de),{},{activeIndex:ee})),null,null]}if(!it(Z))return[fe].concat(Jl(S.renderActivePoints({item:_,activePoint:Z,basePoint:V,childIndex:z,isRange:I})))}else{var ce,re=(ce=S.getItemByXY(S.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:fe},te=re.graphicalItem,he=te.item,se=he===void 0?E:he,oe=te.childIndex,xe=De(De(De({},_.props),de),{},{activeIndex:oe});return[g.cloneElement(se,xe),null,null]}return I?[fe,null,null]:[fe,null]}),et(S,"renderCustomized",function(E,k,D){return g.cloneElement(E,De(De({key:"recharts-customized-".concat(D)},S.props),S.state))}),et(S,"renderMap",{CartesianGrid:{handler:Em,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Em},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Em},YAxis:{handler:Em},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((O=A.id)!==null&&O!==void 0?O:ho("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=aI(S.triggeredAfterMouseMove,(P=A.throttleDelay)!==null&&P!==void 0?P:1e3/60),S.state={},S}return ere(T,w),Qne(T,[{key:"componentDidMount",value:function(){var O,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,P=O.children,S=O.data,E=O.height,k=O.layout,D=Cr(P,Pt);if(D){var _=D.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,R=aN(this.state,S,_,U),$=this.state.tooltipTicks[_].coordinate,L=(this.state.offset.top+E)/2,z=k==="horizontal",W=z?{x:$,y:L}:{y:$,x:L},M=this.state.formattedGraphicalItems.find(function(G){var J=G.item;return J.type.name==="Scatter"});M&&(W=De(De({},W),M.props.points[_].tooltipPosition),R=M.props.points[_].tooltipPayload);var F={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:U,activePayload:R,activeCoordinate:W};this.setState(F),this.renderCursor(D),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(O){$j([Cr(O.children,Pt)],[Cr(this.props.children,Pt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=Cr(this.props.children,Pt);if(O&&typeof O.props.shared=="boolean"){var P=O.props.shared?"axis":"item";return u.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var P=this.container,S=P.getBoundingClientRect(),E=vz(S),k={chartX:Math.round(O.pageX-E.left),chartY:Math.round(O.pageY-E.top)},D=S.width/P.offsetWidth||1,_=this.inRange(k.chartX,k.chartY,D);if(!_)return null;var U=this.state,R=U.xAxisMap,$=U.yAxisMap,L=this.getTooltipEventType(),z=j3(this.state,this.props.data,this.props.layout,_);if(L!=="axis"&&R&&$){var W=Zs(R).scale,M=Zs($).scale,F=W&&W.invert?W.invert(k.chartX):null,G=M&&M.invert?M.invert(k.chartY):null;return De(De({},k),{},{xValue:F,yValue:G},z)}return z?De(De({},k),z):null}},{key:"inRange",value:function(O,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,k=O/S,D=P/S;if(E==="horizontal"||E==="vertical"){var _=this.state.offset,U=k>=_.left&&k<=_.left+_.width&&D>=_.top&&D<=_.top+_.height;return U?{x:k,y:D}:null}var R=this.state,$=R.angleAxisMap,L=R.radiusAxisMap;if($&&L){var z=Zs($);return ND({x:k,y:D},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,P=this.getTooltipEventType(),S=Cr(O,Pt),E={};S&&P==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Jm(this.props,this.handleOuterEvent);return De(De({},k),E)}},{key:"addListener",value:function(){dj.on(hj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dj.removeListener(hj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,P,S){for(var E=this.state.formattedGraphicalItems,k=0,D=E.length;k<D;k++){var _=E[k];if(_.item===O||_.props.key===O.key||P===fs(_.item.type)&&S===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,P=this.state.offset,S=P.left,E=P.top,k=P.height,D=P.width;return le.createElement("defs",null,le.createElement("clipPath",{id:O},le.createElement("rect",{x:S,y:E,height:k,width:D})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(P,S){var E=g3(S,2),k=E[0],D=E[1];return De(De({},P),{},et({},k,D.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(P,S){var E=g3(S,2),k=E[0],D=E[1];return De(De({},P),{},et({},k,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(O){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(O){var P=this.state,S=P.formattedGraphicalItems,E=P.activeItem;if(S&&S.length)for(var k=0,D=S.length;k<D;k++){var _=S[k],U=_.props,R=_.item,$=R.type.defaultProps!==void 0?De(De({},R.type.defaultProps),R.props):R.props,L=fs(R.type);if(L==="Bar"){var z=(U.data||[]).find(function(G){return PX(O,G)});if(z)return{graphicalItem:_,payload:z}}else if(L==="RadialBar"){var W=(U.data||[]).find(function(G){return ND(O,G)});if(W)return{graphicalItem:_,payload:W}}else if(Pp(_,E)||Mp(_,E)||Ed(_,E)){var M=nZ({graphicalItem:_,activeTooltipItem:E,itemData:$.data}),F=$.activeIndex===void 0?M:$.activeIndex;return{graphicalItem:De(De({},_),{},{childIndex:F}),payload:Ed(_,E)?$.data[M]:_.props.data[M]}}}return null}},{key:"render",value:function(){var O=this;if(!_C(this))return null;var P=this.props,S=P.children,E=P.className,k=P.width,D=P.height,_=P.style,U=P.compact,R=P.title,$=P.desc,L=x3(P,Hne),z=Ge(L,!1);if(U)return le.createElement(XP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(Uj,xl({},z,{width:k,height:D,title:R,desc:$}),this.renderClipPath(),RC(S,this.renderMap)));if(this.props.accessibilityLayer){var W,M;z.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,z.role=(M=this.props.role)!==null&&M!==void 0?M:"application",z.onKeyDown=function(G){O.accessibilityManager.keyboardEvent(G)},z.onFocus=function(){O.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return le.createElement(XP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",xl({className:lt("recharts-wrapper",E),style:De({position:"relative",cursor:"default",width:k,height:D},_)},F,{ref:function(J){O.container=J}}),le.createElement(Uj,xl({},z,{width:k,height:D,title:R,desc:$,style:ire}),this.renderClipPath(),RC(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);et(x,"displayName",r),et(x,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),et(x,"getDerivedStateFromProps",function(w,T){var A=w.dataKey,O=w.data,P=w.children,S=w.width,E=w.height,k=w.layout,D=w.stackOffset,_=w.margin,U=T.dataStartIndex,R=T.dataEndIndex;if(T.updateId===void 0){var $=N3(w);return De(De(De({},$),{},{updateId:0},b(De(De({props:w},$),{},{updateId:0}),T)),{},{prevDataKey:A,prevData:O,prevWidth:S,prevHeight:E,prevLayout:k,prevStackOffset:D,prevMargin:_,prevChildren:P})}if(A!==T.prevDataKey||O!==T.prevData||S!==T.prevWidth||E!==T.prevHeight||k!==T.prevLayout||D!==T.prevStackOffset||!Nl(_,T.prevMargin)){var L=N3(w),z={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},W=De(De({},j3(T,O,k)),{},{updateId:T.updateId+1}),M=De(De(De({},L),z),W);return De(De(De({},M),b(De({props:w},M),T)),{},{prevDataKey:A,prevData:O,prevWidth:S,prevHeight:E,prevLayout:k,prevStackOffset:D,prevMargin:_,prevChildren:P})}if(!$j(P,T.prevChildren)){var F,G,J,I,q=Cr(P,Ul),B=q&&(F=(G=q.props)===null||G===void 0?void 0:G.startIndex)!==null&&F!==void 0?F:U,H=q&&(J=(I=q.props)===null||I===void 0?void 0:I.endIndex)!==null&&J!==void 0?J:R,K=B!==U||H!==R,ie=!it(O),ae=ie&&!K?T.updateId:T.updateId+1;return De(De({updateId:ae},b(De(De({props:w},T),{},{updateId:ae,dataStartIndex:B,dataEndIndex:H}),T)),{},{prevChildren:P,dataStartIndex:B,dataEndIndex:H})}return null}),et(x,"renderActiveDot",function(w,T,A){var O;return g.isValidElement(w)?O=g.cloneElement(w,T):tt(w)?O=w(T):O=le.createElement(Vd,T),le.createElement(gt,{className:"recharts-active-dot",key:A},O)});var j=g.forwardRef(function(T,A){return le.createElement(x,xl({},T,{ref:A}))});return j.displayName=x.displayName,j},C6=Bp({chartName:"LineChart",GraphicalChild:oo,axisComponents:[{axisType:"xAxis",AxisComp:Mn},{axisType:"yAxis",AxisComp:gn}],formatAxisMap:E2}),ei=Bp({chartName:"BarChart",GraphicalChild:sn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mn},{axisType:"yAxis",AxisComp:gn}],formatAxisMap:E2}),zi=Bp({chartName:"PieChart",GraphicalChild:sr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Dp},{axisType:"radiusAxis",AxisComp:kp}],formatAxisMap:GG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),I2=Bp({chartName:"AreaChart",GraphicalChild:pa,axisComponents:[{axisType:"xAxis",AxisComp:Mn},{axisType:"yAxis",AxisComp:gn}],formatAxisMap:E2});/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yre=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,a)=>a?a.toUpperCase():r.toLowerCase()),S3=e=>{const n=yre(e);return n.charAt(0).toUpperCase()+n.slice(1)},k6=(...e)=>e.filter((n,r,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===r).join(" ").trim(),gre=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=g.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:l,...u},d)=>g.createElement("svg",{ref:d,...xre,width:n,height:n,stroke:e,strokeWidth:a?Number(r)*24/Number(n):r,className:k6("lucide",s),...!o&&!gre(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,f])=>g.createElement(h,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,n)=>{const r=g.forwardRef(({className:a,...s},o)=>g.createElement(bre,{ref:o,iconNode:n,className:k6(`lucide-${vre(S3(e))}`,`lucide-${e}`,a),...s}));return r.displayName=S3(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sN=nt("activity",jre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],wre=nt("arrow-down",Nre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Xf=nt("arrow-up",Sre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],E3=nt("briefcase",Ere);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Are=nt("building",Tre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],da=nt("calendar",Cre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],O6=nt("chart-column",kre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],D6=nt("chart-pie",Ore);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],iN=nt("chevron-down",Dre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Mre=nt("chevron-left",Pre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ire=nt("chevron-right",_re);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oN=nt("chevron-up",Rre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lre=nt("circle-alert",qre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pr=nt("circle-check-big",$re);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zl=nt("circle-x",Bre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hr=nt("clock",Ure);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],T3=nt("coffee",Fre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zre=nt("dollar-sign",Hre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vre=nt("download",Wre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R2=nt("eye",Yre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],A3=nt("file-image",Gre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ft=nt("file-text",Kre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],sa=nt("file",Qre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],C3=nt("folder-open",Xre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],q2=nt("funnel",Jre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],eae=nt("grid-3x3",Zre);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],nae=nt("list",tae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],k3=nt("loader",rae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Fu=nt("log-in",aae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P6=nt("log-out",sae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pd=nt("map-pin",iae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],O3=nt("package",oae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],D3=nt("plane",lae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],M6=nt("plus",cae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yd=nt("refresh-cw",uae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ec=nt("search",dae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mae=nt("settings",hae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],lN=nt("square-pen",fae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fj=nt("target",pae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],yae=nt("trash-2",vae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jf=nt("trending-up",gae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qi=nt("triangle-alert",xae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],P3=nt("truck",bae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pj=nt("upload",jae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],L2=nt("user",Nae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tc=nt("users",wae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Eae=nt("warehouse",Sae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cN=nt("x",Tae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Cae=nt("wrench",Aae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Oae=nt("zap",kae),Dae=()=>{var I;const[e,n]=g.useState(!1),[r,a]=g.useState(""),[s,o]=g.useState("week"),[l,u]=g.useState("all"),[d,h]=g.useState([]),[f,p]=g.useState([]),[y,b]=g.useState([]),[x,j]=g.useState([]),[w,T]=g.useState({}),[A,O]=g.useState({}),P="http://localhost:8080/api/v1",S=async()=>{try{const q=localStorage.getItem("token");if(!q)throw new Error("No authentication token found");const B=await fetch(`${P}/warehouses`,{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}});if(B.ok){const H=await B.json();return h(H),H}}catch(q){console.error("Error fetching warehouses:",q)}return[]},E=async()=>{try{const q=localStorage.getItem("token");if(!q)throw new Error("No authentication token found");const B=await fetch(`${P}/itemTypes`,{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}});if(B.ok){const H=await B.json();return b(H),H}}catch(q){console.error("Error fetching item types:",q)}return[]},k=async()=>{try{const q=localStorage.getItem("token");if(!q)throw new Error("No authentication token found");const B=await fetch(`${P}/itemCategories`,{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}});if(B.ok){const H=await B.json();return j(H),H}}catch(q){console.error("Error fetching item categories:",q)}return[]},D=async q=>{try{const B=localStorage.getItem("token");if(!B)throw new Error("No authentication token found");const H=await fetch(`${P}/items/warehouse/${q}`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(H.ok)return await H.json()}catch(B){console.error(`Error fetching items for warehouse ${q}:`,B)}return[]},_=async q=>{try{const B=localStorage.getItem("token");if(!B)throw new Error("No authentication token found");const H=await fetch(`${P}/items/warehouse/${q}/summary`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(H.ok)return await H.json()}catch(B){console.error(`Error fetching summary for warehouse ${q}:`,B)}return{}},U=async q=>{try{const B=localStorage.getItem("token");if(!B)throw new Error("No authentication token found");const H=await fetch(`${P}/items/warehouse/${q}/counts`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(H.ok)return await H.json()}catch(B){console.error(`Error fetching counts for warehouse ${q}:`,B)}return{}},R=async()=>{n(!0);try{const q=await S();await E(),await k();const B=[],H={},K={};for(const ie of q){const ae=await D(ie.id),me=await _(ie.id),de=await U(ie.id);B.push(...ae.map(fe=>({...fe,warehouseName:ie.name}))),H[ie.id]=me,K[ie.id]=de}p(B),T(H),O(K)}catch(q){console.error("Error loading data:",q)}n(!1)};g.useEffect(()=>{R()},[]);const $=d.length,L=f.length,z=d.reduce((q,B)=>{var H;return q+(((H=B.employees)==null?void 0:H.length)||0)},0),W=Object.values(A).reduce((q,B)=>q+(B.stolen||0)+(B.overReceived||0),0),M=d.map(q=>{var K;const B=w[q.id]||{},H=A[q.id]||{};return{name:q.name,totalItems:B.totalItems||0,activeIssues:B.activeDiscrepancies||0,inStock:H.inWarehouse||0,employees:((K=q.employees)==null?void 0:K.length)||0,capacity:1e3,utilization:Math.round((B.totalItems||0)/1e3*100)}}),F=[{name:"In Stock",value:f.filter(q=>q.itemStatus==="IN_WAREHOUSE").length,color:"#10b981"},{name:"Missing",value:f.filter(q=>q.itemStatus==="MISSING").length,color:"#ef4444"},{name:"Over Received",value:f.filter(q=>q.itemStatus==="OVERRECEIVED").length,color:"#f59e0b"},{name:"Delivering",value:f.filter(q=>q.itemStatus==="DELIVERING").length,color:"#3b82f6"},{name:"Pending",value:f.filter(q=>q.itemStatus==="PENDING").length,color:"#8b5cf6"}].filter(q=>q.value>0),G=x.filter(q=>!q.parentCategory).map(q=>{const B=f.filter(H=>{var ie,ae;const K=(ie=H.itemType)==null?void 0:ie.itemCategory;return(K==null?void 0:K.name)===q.name||((ae=K==null?void 0:K.parentCategory)==null?void 0:ae.name)===q.name}).length;return{name:q.name,value:B}}).filter(q=>q.value>0).slice(0,5),J=[{name:"Mon",items:2400,issues:24},{name:"Tue",items:1398,issues:13},{name:"Wed",items:9800,issues:98},{name:"Thu",items:3908,issues:39},{name:"Fri",items:4800,issues:48},{name:"Sat",items:3800,issues:38},{name:"Sun",items:4300,issues:43}];return t.jsxs("div",{className:"wh-dashboard",children:[t.jsx("header",{className:"wh-header",children:t.jsx("div",{className:"wh-header-container",children:t.jsxs("div",{className:"wh-header-content",children:[t.jsxs("div",{className:"wh-title-section",children:[t.jsx("h1",{children:"Warehouse Operations"}),t.jsx("p",{children:"Real-time insights and analytics dashboard"})]}),t.jsxs("div",{className:"wh-header-controls",children:[t.jsxs("select",{value:s,onChange:q=>o(q.target.value),className:"wh-time-filter",children:[t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"}),t.jsx("option",{value:"quarter",children:"This Quarter"})]}),t.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"wh-warehouse-filter",children:[t.jsx("option",{value:"all",children:"All Warehouses"}),d.map(q=>t.jsx("option",{value:q.id,children:q.name},q.id))]}),t.jsxs("button",{onClick:R,disabled:e,className:"wh-refresh-btn",children:[t.jsx(Yd,{className:e?"wh-spinning":""}),"Refresh"]})]})]})})}),t.jsxs("div",{className:"wh-content",children:[t.jsxs("section",{className:"wh-kpi-section",children:[t.jsxs("div",{className:"wh-section-header",children:[t.jsx("h2",{children:"Key Performance Indicators"}),t.jsx("p",{children:"Real-time overview of your warehouse operations"})]}),t.jsxs("div",{className:"wh-kpi-grid",children:[t.jsxs("div",{className:"wh-kpi-card wh-primary",children:[t.jsx("div",{className:"wh-kpi-icon",children:t.jsx(O3,{})}),t.jsxs("div",{className:"wh-kpi-content",children:[t.jsx("div",{className:"wh-kpi-value",children:L.toLocaleString()}),t.jsx("div",{className:"wh-kpi-label",children:"Total Inventory"}),t.jsxs("div",{className:"wh-kpi-trend wh-positive",children:[t.jsx(Xf,{size:14}),"+12% from last month"]})]})]}),t.jsxs("div",{className:"wh-kpi-card wh-success",children:[t.jsx("div",{className:"wh-kpi-icon",children:t.jsx(Pr,{})}),t.jsxs("div",{className:"wh-kpi-content",children:[t.jsxs("div",{className:"wh-kpi-value",children:[Math.round((((I=F.find(q=>q.name==="In Stock"))==null?void 0:I.value)||0)/L*100)||0,"%"]}),t.jsx("div",{className:"wh-kpi-label",children:"Stock Availability"}),t.jsxs("div",{className:"wh-kpi-trend wh-positive",children:[t.jsx(Xf,{size:14}),"+8% from last week"]})]})]}),t.jsxs("div",{className:"wh-kpi-card wh-warning",children:[t.jsx("div",{className:"wh-kpi-icon",children:t.jsx(Qi,{})}),t.jsxs("div",{className:"wh-kpi-content",children:[t.jsx("div",{className:"wh-kpi-value",children:W}),t.jsx("div",{className:"wh-kpi-label",children:"Active Issues"}),t.jsxs("div",{className:"wh-kpi-trend wh-negative",children:[t.jsx(wre,{size:14}),"-3% from last week"]})]})]}),t.jsxs("div",{className:"wh-kpi-card wh-info",children:[t.jsx("div",{className:"wh-kpi-icon",children:t.jsx(tc,{})}),t.jsxs("div",{className:"wh-kpi-content",children:[t.jsx("div",{className:"wh-kpi-value",children:z}),t.jsx("div",{className:"wh-kpi-label",children:"Team Members"}),t.jsxs("div",{className:"wh-kpi-trend wh-neutral",children:[t.jsx(sN,{size:14}),"Across ",$," locations"]})]})]})]})]}),t.jsxs("section",{className:"wh-analytics-section",children:[t.jsxs("div",{className:"wh-section-header",children:[t.jsx("h2",{children:"Performance Analytics"}),t.jsx("p",{children:"Deep insights into warehouse operations and trends"})]}),t.jsxs("div",{className:"wh-analytics-grid",children:[t.jsxs("div",{className:"wh-chart-card wh-main-chart",children:[t.jsxs("div",{className:"wh-chart-header",children:[t.jsxs("div",{className:"wh-chart-title",children:[t.jsx(O6,{className:"wh-chart-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Warehouse Performance"}),t.jsx("p",{children:"Inventory levels and capacity utilization"})]})]}),t.jsxs("button",{className:"wh-view-details-btn",children:[t.jsx(R2,{size:16}),"View Details"]})]}),t.jsx("div",{className:"wh-chart-container",children:t.jsx(yn,{width:"100%",height:320,children:t.jsxs(ei,{data:M,margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(dr,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),t.jsx(Mn,{dataKey:"name",tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(gn,{tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(Pt,{contentStyle:{backgroundColor:"var(--color-surface)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--color-text-primary)"}}),t.jsx(sn,{dataKey:"totalItems",fill:"#3b82f6",name:"Total Items",radius:[4,4,0,0]}),t.jsx(sn,{dataKey:"activeIssues",fill:"#ef4444",name:"Active Issues",radius:[4,4,0,0]})]})})})]}),t.jsxs("div",{className:"wh-chart-card",children:[t.jsx("div",{className:"wh-chart-header",children:t.jsxs("div",{className:"wh-chart-title",children:[t.jsx(D6,{className:"wh-chart-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Inventory Status"}),t.jsx("p",{children:"Current distribution"})]})]})}),t.jsx("div",{className:"wh-chart-container",children:t.jsx(yn,{width:"100%",height:220,children:t.jsxs(zi,{children:[t.jsx(sr,{data:F,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",children:F.map((q,B)=>t.jsx(Pa,{fill:q.color},`cell-${B}`))}),t.jsx(Pt,{})]})})}),t.jsx("div",{className:"wh-chart-legend",children:F.map((q,B)=>t.jsxs("div",{className:"wh-legend-item",children:[t.jsx("div",{className:"wh-legend-color",style:{backgroundColor:q.color}}),t.jsx("span",{className:"wh-legend-label",children:q.name}),t.jsx("span",{className:"wh-legend-value",children:q.value})]},q.name))})]}),t.jsxs("div",{className:"wh-chart-card",children:[t.jsx("div",{className:"wh-chart-header",children:t.jsxs("div",{className:"wh-chart-title",children:[t.jsx(Jf,{className:"wh-chart-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Weekly Trends"}),t.jsx("p",{children:"Items vs issues"})]})]})}),t.jsx("div",{className:"wh-chart-container",children:t.jsx(yn,{width:"100%",height:220,children:t.jsxs(I2,{data:J,children:[t.jsx(dr,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),t.jsx(Mn,{dataKey:"name",tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(gn,{tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(Pt,{}),t.jsx(pa,{type:"monotone",dataKey:"items",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.1}),t.jsx(pa,{type:"monotone",dataKey:"issues",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.1})]})})})]})]})]}),t.jsxs("section",{className:"wh-warehouse-section",children:[t.jsxs("div",{className:"wh-section-header",children:[t.jsx("h2",{children:"Warehouse Management"}),t.jsx("p",{children:"Monitor and manage individual warehouse locations"})]}),t.jsxs("div",{className:"wh-warehouse-content",children:[t.jsxs("div",{className:"wh-warehouse-overview",children:[t.jsxs("div",{className:"wh-overview-header",children:[t.jsxs("div",{className:"wh-overview-title",children:[t.jsx(Eae,{className:"wh-overview-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Active Locations"}),t.jsx("p",{children:"Real-time status and metrics"})]})]}),t.jsxs("div",{className:"wh-search-container",children:[t.jsx(ec,{className:"wh-search-icon"}),t.jsx("input",{type:"text",placeholder:"Search warehouses...",value:r,onChange:q=>a(q.target.value),className:"wh-search-input"})]})]}),t.jsx("div",{className:"wh-warehouse-grid",children:M.filter(q=>q.name.toLowerCase().includes(r.toLowerCase())).map((q,B)=>t.jsxs("div",{className:"wh-warehouse-card",children:[t.jsxs("div",{className:"wh-warehouse-header",children:[t.jsxs("div",{className:"wh-warehouse-info",children:[t.jsx("h4",{children:q.name}),t.jsxs("div",{className:"wh-warehouse-meta",children:[t.jsxs("span",{children:[t.jsx(Pd,{size:12})," Location ",B+1]}),t.jsxs("span",{children:[t.jsx(tc,{size:12})," ",q.employees," staff"]})]})]}),t.jsx("div",{className:`wh-status-badge ${q.activeIssues===0?"wh-success":"wh-warning"}`,children:q.activeIssues===0?t.jsx(Pr,{size:16}):t.jsx(Qi,{size:16})})]}),t.jsxs("div",{className:"wh-warehouse-stats",children:[t.jsxs("div",{className:"wh-stat",children:[t.jsx("span",{className:"wh-stat-value",children:q.totalItems.toLocaleString()}),t.jsx("span",{className:"wh-stat-label",children:"Items"})]}),t.jsxs("div",{className:"wh-stat",children:[t.jsxs("span",{className:"wh-stat-value",children:[q.utilization,"%"]}),t.jsx("span",{className:"wh-stat-label",children:"Capacity"})]}),t.jsxs("div",{className:"wh-stat",children:[t.jsx("span",{className:`wh-stat-value ${q.activeIssues>0?"wh-warning":"wh-success"}`,children:q.activeIssues}),t.jsx("span",{className:"wh-stat-label",children:"Issues"})]})]}),t.jsxs("div",{className:"wh-capacity-indicator",children:[t.jsx("div",{className:"wh-capacity-bar",children:t.jsx("div",{className:"wh-capacity-fill",style:{width:`${q.utilization}%`,backgroundColor:q.utilization>80?"#ef4444":q.utilization>60?"#f59e0b":"#10b981"}})}),t.jsxs("span",{className:"wh-capacity-text",children:[q.utilization,"% utilized"]})]})]},q.name))})]}),t.jsxs("div",{className:"wh-category-overview",children:[t.jsx("div",{className:"wh-category-header",children:t.jsxs("div",{className:"wh-category-title",children:[t.jsx(O3,{className:"wh-category-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Category Distribution"}),t.jsx("p",{children:"Items by main categories"})]})]})}),t.jsx("div",{className:"wh-category-list",children:G.map((q,B)=>t.jsxs("div",{className:"wh-category-item",children:[t.jsxs("div",{className:"wh-category-info",children:[t.jsx("span",{className:"wh-category-name",children:q.name}),t.jsxs("span",{className:"wh-category-count",children:[q.value," items"]})]}),t.jsx("div",{className:"wh-category-bar",children:t.jsx("div",{className:"wh-category-fill",style:{width:`${q.value/Math.max(...G.map(H=>H.value))*100}%`,backgroundColor:`hsl(${200+B*40}, 70%, 50%)`}})})]},q.name))})]})]})]})]})]})};class Pae extends le.Component{constructor(r){super(r);cm(this,"setActiveTab",r=>{this.setState({activeTab:r})});cm(this,"markNotificationAsRead",r=>{this.setState(a=>({notifications:a.notifications.map(s=>s.id===r?{...s,isRead:!0}:s)}))});cm(this,"toggleTaskStatus",r=>{this.setState(a=>({tasks:a.tasks.map(s=>s.id===r?{...s,status:s.status==="completed"?"pending":"completed"}:s)}))});this.state={activeTab:"overview",notifications:[{id:1,text:"New document needs approval",time:"10 mins ago",isRead:!1},{id:2,text:"Meeting with Team A at 3:00 PM",time:"1 hour ago",isRead:!1},{id:3,text:"Call with Client XYZ scheduled",time:"2 hours ago",isRead:!0},{id:4,text:"Document #2458 has been processed",time:"1 day ago",isRead:!0}],tasks:[{id:1,text:"Prepare meeting notes",deadline:"Today, 5:00 PM",status:"pending"},{id:2,text:"Send welcome package to new client",deadline:"Tomorrow",status:"pending"},{id:3,text:"Update contact database",deadline:"25 Apr",status:"completed"},{id:4,text:"Review monthly expense report",deadline:"27 Apr",status:"pending"},{id:5,text:"Order office supplies",deadline:"30 Apr",status:"pending"}],recentDocuments:[{id:"DOC-2458",title:"Contract Agreement",updated:"2 hours ago",type:"pdf"},{id:"DOC-2457",title:"Meeting Minutes",updated:"1 day ago",type:"docx"},{id:"DOC-2456",title:"Project Proposal",updated:"2 days ago",type:"pptx"},{id:"DOC-2455",title:"Budget Report",updated:"3 days ago",type:"xlsx"}],upcomingEvents:[{id:1,title:"Team Meeting",date:"Today, 3:00 PM",location:"Conference Room A"},{id:2,title:"Client Call - ABC Corp",date:"Tomorrow, 10:00 AM",location:"Zoom"},{id:3,title:"Project Review",date:"Apr 26, 2:00 PM",location:"Meeting Room C"},{id:4,title:"Department Lunch",date:"Apr 28, 12:30 PM",location:"Cafeteria"}],visitors:[{id:1,name:"John Smith",company:"ABC Corp",time:"3:00 PM",status:"confirmed"},{id:2,name:"Sarah Johnson",company:"XYZ Inc",time:"4:30 PM",status:"pending"}]}}render(){const{activeTab:r,notifications:a,tasks:s,recentDocuments:o,upcomingEvents:l,visitors:u}=this.state;return t.jsx("div",{className:"secretary-dashboard",children:t.jsxs("div",{className:"content",children:[r==="overview"&&t.jsxs("div",{className:"overview-tab",children:[t.jsx("h1",{children:"Welcome Back, Jane!"}),t.jsx("p",{className:"date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),t.jsxs("div",{className:"widgets-container",children:[t.jsxs("div",{className:"widget tasks-widget",children:[t.jsxs("div",{className:"widget-header",children:[t.jsx("h3",{children:"Tasks for Today"}),t.jsx("button",{children:"View All"})]}),t.jsx("div",{className:"widget-content",children:t.jsx("ul",{className:"tasks-list",children:s.filter((d,h)=>h<3).map(d=>t.jsxs("li",{className:d.status==="completed"?"completed":"",children:[t.jsx("input",{type:"checkbox",checked:d.status==="completed",onChange:()=>this.toggleTaskStatus(d.id)}),t.jsxs("div",{className:"task-details",children:[t.jsx("p",{children:d.text}),t.jsx("span",{className:"deadline",children:d.deadline})]})]},d.id))})})]}),t.jsxs("div",{className:"widget notifications-widget",children:[t.jsxs("div",{className:"widget-header",children:[t.jsx("h3",{children:"Recent Notifications"}),t.jsx("button",{children:"View All"})]}),t.jsx("div",{className:"widget-content",children:t.jsx("ul",{className:"notifications-list",children:a.filter((d,h)=>h<3).map(d=>t.jsxs("li",{className:d.isRead?"read":"unread",onClick:()=>this.markNotificationAsRead(d.id),children:[t.jsxs("div",{className:"notification-content",children:[t.jsx("p",{children:d.text}),t.jsx("span",{className:"notification-time",children:d.time})]}),!d.isRead&&t.jsx("span",{className:"unread-indicator"})]},d.id))})})]}),t.jsxs("div",{className:"widget events-widget",children:[t.jsxs("div",{className:"widget-header",children:[t.jsx("h3",{children:"Upcoming Events"}),t.jsx("button",{children:"View Calendar"})]}),t.jsx("div",{className:"widget-content",children:t.jsx("ul",{className:"events-list",children:l.filter((d,h)=>h<3).map(d=>t.jsxs("li",{children:[t.jsx("div",{className:"event-icon",children:t.jsx(KM,{})}),t.jsxs("div",{className:"event-details",children:[t.jsx("p",{className:"event-title",children:d.title}),t.jsxs("div",{className:"event-meta",children:[t.jsx("span",{className:"event-date",children:d.date}),t.jsx("span",{className:"event-location",children:d.location})]})]})]},d.id))})})]}),t.jsxs("div",{className:"widget visitors-widget",children:[t.jsxs("div",{className:"widget-header",children:[t.jsx("h3",{children:"Today's Visitors"}),t.jsx("button",{children:"Manage"})]}),t.jsx("div",{className:"widget-content",children:u.length>0?t.jsx("ul",{className:"visitors-list",children:u.map(d=>t.jsxs("li",{children:[t.jsx("div",{className:"visitor-avatar",children:d.name.split(" ").map(h=>h[0]).join("")}),t.jsxs("div",{className:"visitor-details",children:[t.jsx("p",{className:"visitor-name",children:d.name}),t.jsx("p",{className:"visitor-company",children:d.company}),t.jsxs("div",{className:"visitor-time",children:["Expected at: ",d.time]})]}),t.jsx("div",{className:`visitor-status ${d.status}`,children:d.status})]},d.id))}):t.jsx("p",{className:"no-visitors",children:"No visitors scheduled for today"})})]}),t.jsxs("div",{className:"widget documents-widget",children:[t.jsxs("div",{className:"widget-header",children:[t.jsx("h3",{children:"Recent Documents"}),t.jsx("button",{children:"View All"})]}),t.jsx("div",{className:"widget-content",children:t.jsx("ul",{className:"documents-list",children:o.filter((d,h)=>h<3).map(d=>t.jsxs("li",{children:[t.jsx("div",{className:`document-icon ${d.type}`,children:d.type.toUpperCase()}),t.jsxs("div",{className:"document-details",children:[t.jsx("p",{className:"document-title",children:d.title}),t.jsxs("div",{className:"document-meta",children:[t.jsx("span",{className:"document-id",children:d.id}),t.jsxs("span",{className:"document-updated",children:["Updated ",d.updated]})]})]})]},d.id))})})]})]})]}),r==="calendar"&&t.jsxs("div",{className:"calendar-tab",children:[t.jsx("h2",{children:"Calendar"}),t.jsx(Calendar,{})]}),r==="documents"&&t.jsxs("div",{className:"documents-tab",children:[t.jsx("h2",{children:"Documents"}),t.jsxs("div",{className:"documents-controls",children:[t.jsxs("div",{className:"search-documents",children:[t.jsx(CN,{}),t.jsx("input",{type:"text",placeholder:"Search documents..."})]}),t.jsxs("div",{className:"document-filters",children:[t.jsxs("select",{children:[t.jsx("option",{children:"All Types"}),t.jsx("option",{children:"PDF"}),t.jsx("option",{children:"Word"}),t.jsx("option",{children:"Excel"}),t.jsx("option",{children:"PowerPoint"})]}),t.jsxs("select",{children:[t.jsx("option",{children:"Last Modified"}),t.jsx("option",{children:"Name A-Z"}),t.jsx("option",{children:"Name Z-A"}),t.jsx("option",{children:"Size"})]})]}),t.jsx("button",{className:"upload-btn",children:"Upload Document"})]}),t.jsx("div",{className:"documents-table",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ID"}),t.jsx("th",{children:"Document Title"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Last Updated"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:o.map(d=>t.jsxs("tr",{children:[t.jsx("td",{children:d.id}),t.jsx("td",{children:d.title}),t.jsx("td",{className:"document-type",children:d.type.toUpperCase()}),t.jsx("td",{children:d.updated}),t.jsxs("td",{className:"document-actions",children:[t.jsx("button",{className:"view-btn",children:"View"}),t.jsx("button",{className:"download-btn",children:"Download"}),t.jsx("button",{className:"share-btn",children:"Share"})]})]},d.id))})]})})]}),r==="tasks"&&t.jsxs("div",{className:"tasks-tab",children:[t.jsx("h2",{children:"Tasks"}),t.jsxs("div",{className:"tasks-controls",children:[t.jsx("button",{className:"add-task-btn",children:"Add New Task"}),t.jsxs("div",{className:"task-filters",children:[t.jsx("button",{className:"active",children:"All"}),t.jsx("button",{children:"Pending"}),t.jsx("button",{children:"Completed"})]})]}),t.jsx("div",{className:"tasks-table",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Task"}),t.jsx("th",{children:"Deadline"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:s.map(d=>t.jsxs("tr",{className:d.status==="completed"?"completed-task":"",children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:d.status==="completed",onChange:()=>this.toggleTaskStatus(d.id)})}),t.jsx("td",{children:d.text}),t.jsx("td",{children:d.deadline}),t.jsxs("td",{className:"task-actions",children:[t.jsx("button",{className:"edit-btn",children:"Edit"}),t.jsx("button",{className:"delete-btn",children:"Delete"})]})]},d.id))})]})})]}),r==="notifications"&&t.jsxs("div",{className:"notifications-tab",children:[t.jsx("h2",{children:"Notifications"}),t.jsxs("div",{className:"notifications-controls",children:[t.jsx("button",{className:"mark-all-read",children:"Mark All as Read"}),t.jsxs("div",{className:"notification-filters",children:[t.jsx("button",{className:"active",children:"All"}),t.jsx("button",{children:"Unread"})]})]}),t.jsx("ul",{className:"notifications-full-list",children:a.map(d=>t.jsxs("li",{className:d.isRead?"read":"unread",onClick:()=>this.markNotificationAsRead(d.id),children:[t.jsxs("div",{className:"notification-content",children:[t.jsx("p",{children:d.text}),t.jsx("span",{className:"notification-time",children:d.time})]}),!d.isRead&&t.jsx("span",{className:"unread-indicator"})]},d.id))})]})]})})}}const Mae="http://localhost:8080",st={BASE:"/api/equipment",BY_ID:e=>`/api/equipment/${e}`,TYPES:"/api/equipment-types",TYPE_BY_ID:e=>`/api/equipment-types/${e}`,TYPE_BY_NAME:e=>`/api/equipment-types/name/${e}`,TYPE_SUPPORTED_WORK_TYPES:e=>`/api/equipment-types/${e}/supported-work-types`,STATUS:e=>`/api/equipment/status/${e}`,STATUS_DTO:e=>`/api/equipment/status/dto/${e}`,BY_TYPE:e=>`/api/equipment/type/${e}`,CONSUMABLES:e=>`/api/equipment/${e}/consumables`,CONSUMABLES_BY_CATEGORY:(e,n)=>`/api/equipment/${e}/consumables/by-category/${n}`,CONSUMABLES_ANALYTICS:e=>`/api/equipment/${e}/consumables/analytics`,MAINTENANCE:e=>`/api/equipment/${e}/maintenance`,MAINTENANCE_TECHNICIANS:e=>`/api/equipment/${e}/maintenance/technicians`,MAINTENANCE_BY_ID:(e,n)=>`/api/equipment/${e}/maintenance/${n}`,MAINTENANCE_TRANSACTIONS:(e,n)=>`/api/equipment/${e}/maintenance/${n}/transactions`,MAINTENANCE_CHECK_TRANSACTION:(e,n)=>`/api/equipment/${e}/maintenance/check-transaction/${n}`,CREATE_DTO:"/api/equipment/dto",UPDATE_DTO:e=>`/api/equipment/dto/${e}`,ELIGIBLE_DRIVERS:e=>`/api/equipment/type/${e}/eligible-drivers`,SARKY_DRIVERS:e=>`/api/equipment/type/${e}/sarky-drivers`,SUPPORTED_WORK_TYPES:e=>`/api/equipment/type/${e}/supported-work-types`,CHECK_DRIVER_COMPATIBILITY:(e,n)=>`/api/equipment/${e}/check-driver-compatibility/${n}`,BRANDS:"/api/equipment/brands",BRAND_BY_ID:e=>`/api/equipment/brands/${e}`,SARKY_ANALYTICS:e=>`/api/equipment/${e}/sarky-analytics`,TRANSACTIONS:e=>`/api/equipment/${e}/transactions`,TRANSACTIONS_INITIATED:e=>`/api/equipment/${e}/transactions/initiated`,SEND_TRANSACTION:e=>`/api/equipment/${e}/send-transaction`,RECEIVE_TRANSACTION:e=>`/api/equipment/${e}/receive-transaction`,ACCEPT_TRANSACTION:(e,n)=>`/api/equipment/${e}/transactions/${n}/accept`,REJECT_TRANSACTION:(e,n)=>`/api/equipment/${e}/transactions/${n}/reject`,UPDATE_TRANSACTION:(e,n)=>`/api/equipment/${e}/transactions/${n}`},Tm={RESOLVE_DISCREPANCY:"/api/v1/consumables/resolve-discrepancy",RESOLUTION_HISTORY:e=>`/api/v1/consumables/resolution-history/equipment/${e}`,DISCREPANCIES:e=>`/api/v1/consumables/equipment/${e}/discrepancies`,RESOLVED:e=>`/api/v1/consumables/equipment/${e}/resolved`},Gs={BASE:"/api/equipment-types",BY_ID:e=>`/api/equipment-types/${e}`,CREATE:"/api/equipment-types",UPDATE:e=>`/api/equipment-types/${e}`,DELETE:e=>`/api/equipment-types/${e}`,SEARCH:"/api/equipment-types/search",SUPPORTED_WORK_TYPES:e=>`/api/equipment-types/${e}/supported-work-types`,SET_SUPPORTED_WORK_TYPES:e=>`/api/equipment-types/${e}/supported-work-types`},zn={BY_EQUIPMENT:e=>`/api/v1/equipment/${e}/sarky`,BY_EQUIPMENT_AND_DATE:(e,n)=>`/api/v1/equipment/${e}/sarky/date/${n}`,BY_EQUIPMENT_DATE_RANGE:e=>`/api/v1/equipment/${e}/sarky/date-range`,DAILY_SUMMARY:(e,n)=>`/api/v1/equipment/${e}/sarky/daily-summary/${n}`,EXISTING_DATES:e=>`/api/v1/equipment/${e}/sarky/existing-dates`,VALIDATION_INFO:e=>`/api/v1/equipment/${e}/sarky/validation-info`,LATEST_DATE:e=>`/api/v1/equipment/${e}/sarky/latest-date`,BY_ID:e=>`/api/v1/sarky/${e}`,CREATE:e=>`/api/v1/equipment/${e}/sarky`,UPDATE:e=>`/api/v1/sarky/${e}`,DELETE:e=>`/api/v1/sarky/${e}`,RANGE_BY_EQUIPMENT:e=>`/api/v1/equipment/${e}/sarky/range`,RANGE_BY_ID:e=>`/api/v1/sarky/range/${e}`,CREATE_RANGE:e=>`/api/v1/equipment/${e}/sarky/range`,UPDATE_RANGE:e=>`/api/v1/sarky/range/${e}`,DELETE_RANGE:e=>`/api/v1/sarky/range/${e}`},uN={BASE:"/api/v1/employees",BY_ID:e=>`/api/v1/employees/${e}`,UNASSIGNED:"/api/v1/site/unassigned-employees",DRIVERS:"/api/v1/employees/drivers",WAREHOUSE_WORKERS:"/api/v1/employees/warehouse-workers",WAREHOUSE_MANAGERS:"/api/v1/employees/warehouse-managers",TECHNICIANS:"/api/v1/employees/technicians",ATTENDANCE:{BY_EMPLOYEE:e=>`/api/v1/employees/${e}/attendance`,MONTHLY:e=>`/api/v1/employees/${e}/attendance/monthly`,GENERATE_MONTHLY:"/api/v1/employees/attendance/generate-monthly"}},cl={EMPLOYEE:{BASE:"/api/v1/hr/employee",BY_ID:e=>`/api/v1/hr/employee/${e}`,CREATE:"/api/v1/hr/employee",UPDATE:e=>`/api/v1/hr/employee/${e}`,DELETE:e=>`/api/v1/hr/employee/${e}`},DASHBOARD:{SALARY_STATISTICS:"/api/v1/hr/dashboard/salary-statistics",EMPLOYEE_DISTRIBUTION:"/api/v1/hr/dashboard/employee-distribution"}},Zt={BASE:"/api/v1/site",BY_ID:e=>`/api/v1/site/${e}`,PARTNERS:e=>`/api/v1/site/${e}/partners`,UNASSIGNED_PARTNERS:e=>`/api/v1/site/${e}/unassigned-partners`,EMPLOYEES:e=>`/api/v1/site/${e}/employees`,EQUIPMENT:e=>`/api/v1/site/${e}/equipment`,WAREHOUSES:e=>`/api/v1/site/${e}/warehouses`,MERCHANTS:e=>`/api/v1/site/${e}/merchants`,FIXED_ASSETS:e=>`/api/v1/site/${e}/fixedassets`,ADMIN:{ADD_SITE:"/siteadmin/addsite",UPDATE_SITE:e=>`/siteadmin/updatesite/${e}`,ADD_WAREHOUSE:e=>`/siteadmin/${e}/add-warehouse`,ASSIGN_EQUIPMENT:(e,n)=>`/siteadmin/${e}/assign-equipment/${n}`,REMOVE_EQUIPMENT:(e,n)=>`/siteadmin/${e}/remove-equipment/${n}`,ASSIGN_EMPLOYEE:(e,n)=>`/siteadmin/${e}/assign-employee/${n}`,REMOVE_EMPLOYEE:(e,n)=>`/siteadmin/${e}/remove-employee/${n}`,ASSIGN_WAREHOUSE:(e,n)=>`/siteadmin/${e}/assign-warehouse/${n}`,ASSIGN_FIXED_ASSET:(e,n)=>`/siteadmin/${e}/assign-fixedAsset/${n}`,ASSIGN_PARTNER:(e,n)=>`/siteadmin/${e}/assign-partner/${n}`,UPDATE_PARTNER_PERCENTAGE:(e,n)=>`/siteadmin/${e}/update-partner-percentage/${n}`,REMOVE_PARTNER:(e,n)=>`/siteadmin/${e}/remove-partner/${n}`}},Hu={BASE:"/api/v1/merchants",BY_ID:e=>`/api/merchants/${e}`},ul={BASE:"/api/v1/worktypes",MANAGEMENT:"/api/v1/worktypes/management",BY_ID:e=>`/api/v1/worktypes/${e}`,CREATE:"/api/v1/worktypes",UPDATE:e=>`/api/v1/worktypes/${e}`,DELETE:e=>`/api/v1/worktypes/${e}`},Aa={BASE:"/api/v1/job-positions",CREATE_DTO:"/api/v1/job-positions/dto",BY_ID:e=>`/api/v1/job-positions/${e}`,DTO_BY_ID:e=>`/api/v1/job-positions/dto/${e}`,UPDATE_DTO:e=>`/api/v1/job-positions/dto/${e}`,DELETE:e=>`/api/v1/job-positions/${e}`,EMPLOYEES:e=>`/api/v1/job-positions/${e}/employees`,CREATE:"/api/v1/job-positions",UPDATE:e=>`/api/v1/job-positions/${e}`},Am={BY_ID:e=>`/api/v1/documents/${e}`,BY_ENTITY:(e,n)=>`/api/v1/${e}/${n}/documents`,CREATE:(e,n)=>`/api/v1/${e}/${n}/documents`,DELETE:e=>`/api/v1/documents/${e}`},_ae={GET_ALL:"/api/v1/partner/getallpartners"},Pi={BASE:"/api/v1/candidates",BY_ID:e=>`/api/v1/candidates/${e}`,BY_VACANCY:e=>`/api/v1/candidates/vacancy/${e}`,CREATE:"/api/v1/candidates",UPDATE:e=>`/api/v1/candidates/${e}`,DELETE:e=>`/api/v1/candidates/${e}`,TO_EMPLOYEE:e=>`/api/v1/candidates/${e}/to-employee`},is={BASE:"/api/v1/vacancies",BY_ID:e=>`/api/v1/vacancies/${e}`,CREATE:"/api/v1/vacancies",UPDATE:e=>`/api/v1/vacancies/${e}`,DELETE:e=>`/api/v1/vacancies/${e}`},dl={BASE:"/api/v1/departments",BY_ID:e=>`/api/v1/departments/${e}`,CREATE:"/api/v1/departments",UPDATE:e=>`/api/v1/departments/${e}`,DELETE:e=>`/api/v1/departments/${e}`,TEST:"/api/v1/departments/test"},Ks={BASE:"/api/v1/transactions",CREATE:"/api/v1/transactions/create",BY_ID:e=>`/api/v1/transactions/${e}`,BY_BATCH:e=>`/api/v1/transactions/batch/${e}`,ACCEPT:e=>`/api/v1/transactions/${e}/accept`,REJECT:e=>`/api/v1/transactions/${e}/reject`,UPDATE:e=>`/api/v1/transactions/${e}`,BY_WAREHOUSE:e=>`/api/v1/transactions/warehouse/${e}`,BY_EQUIPMENT:e=>`/api/v1/transactions/equipment/${e}`},Su={BASE:"/api/v1/itemTypes",BY_ID:e=>`/api/v1/itemTypes/${e}`,CREATE:"/api/v1/itemTypes",UPDATE:e=>`/api/v1/itemTypes/${e}`,DELETE:e=>`/api/v1/itemTypes/${e}`},Mi={BASE:"/api/v1/warehouses",BY_ID:e=>`/api/v1/warehouses/${e}`,BY_SITE:e=>`/api/v1/site/${e}/warehouses`,ITEMS:e=>`/api/v1/items/warehouse/${e}`,CREATE:"/api/v1/warehouses",UPDATE:e=>`/api/v1/warehouses/${e}`,DELETE:e=>`/api/v1/warehouses/${e}`},hl={BASE:"/api/v1/maintenancetypes",MANAGEMENT:"/api/v1/maintenancetypes/management",BY_ID:e=>`/api/v1/maintenancetypes/${e}`,CREATE:"/api/v1/maintenancetypes",UPDATE:e=>`/api/v1/maintenancetypes/${e}`,DELETE:e=>`/api/v1/maintenancetypes/${e}`},Ca={BASE:e=>`/api/equipment/${e}/maintenance`,BY_ID:(e,n)=>`/api/equipment/${e}/maintenance/${n}`,CREATE:e=>`/api/equipment/${e}/maintenance`,UPDATE:(e,n)=>`/api/equipment/${e}/maintenance/${n}`,DELETE:(e,n)=>`/api/equipment/${e}/maintenance/${n}`,TECHNICIANS:e=>`/api/equipment/${e}/maintenance/technicians`,LINK_TRANSACTION:(e,n,r)=>`/api/equipment/${e}/maintenance/${n}/link-transaction/${r}`,CREATE_TRANSACTION:(e,n)=>`/api/equipment/${e}/maintenance/${n}/transactions`,CHECK_TRANSACTION:(e,n)=>`/api/equipment/${e}/maintenance/check-transaction/${n}`,VALIDATE_TRANSACTION:(e,n,r)=>`/api/equipment/${e}/maintenance/${n}/validate-transaction/${r}`,ANALYTICS:e=>`/api/equipment/${e}/maintenance/analytics`};function _6(e,n){return function(){return e.apply(n,arguments)}}const{toString:Iae}=Object.prototype,{getPrototypeOf:$2}=Object,{iterator:Up,toStringTag:I6}=Symbol,Fp=(e=>n=>{const r=Iae.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ba=e=>(e=e.toLowerCase(),n=>Fp(n)===e),Hp=e=>n=>typeof n===e,{isArray:mc}=Array,Md=Hp("undefined");function Rae(e){return e!==null&&!Md(e)&&e.constructor!==null&&!Md(e.constructor)&&fr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const R6=ba("ArrayBuffer");function qae(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&R6(e.buffer),n}const Lae=Hp("string"),fr=Hp("function"),q6=Hp("number"),zp=e=>e!==null&&typeof e=="object",$ae=e=>e===!0||e===!1,Lm=e=>{if(Fp(e)!=="object")return!1;const n=$2(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(I6 in e)&&!(Up in e)},Bae=ba("Date"),Uae=ba("File"),Fae=ba("Blob"),Hae=ba("FileList"),zae=e=>zp(e)&&fr(e.pipe),Wae=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||fr(e.append)&&((n=Fp(e))==="formdata"||n==="object"&&fr(e.toString)&&e.toString()==="[object FormData]"))},Vae=ba("URLSearchParams"),[Yae,Gae,Kae,Qae]=["ReadableStream","Request","Response","Headers"].map(ba),Xae=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gd(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),mc(e))for(a=0,s=e.length;a<s;a++)n.call(null,e[a],a,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let u;for(a=0;a<l;a++)u=o[a],n.call(null,e[u],u,e)}}function L6(e,n){n=n.toLowerCase();const r=Object.keys(e);let a=r.length,s;for(;a-- >0;)if(s=r[a],n===s.toLowerCase())return s;return null}const Wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$6=e=>!Md(e)&&e!==Wi;function dN(){const{caseless:e}=$6(this)&&this||{},n={},r=(a,s)=>{const o=e&&L6(n,s)||s;Lm(n[o])&&Lm(a)?n[o]=dN(n[o],a):Lm(a)?n[o]=dN({},a):mc(a)?n[o]=a.slice():n[o]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Gd(arguments[a],r);return n}const Jae=(e,n,r,{allOwnKeys:a}={})=>(Gd(n,(s,o)=>{r&&fr(s)?e[o]=_6(s,r):e[o]=s},{allOwnKeys:a}),e),Zae=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ese=(e,n,r,a)=>{e.prototype=Object.create(n.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},tse=(e,n,r,a)=>{let s,o,l;const u={};if(n=n||{},e==null)return n;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)l=s[o],(!a||a(l,e,n))&&!u[l]&&(n[l]=e[l],u[l]=!0);e=r!==!1&&$2(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},nse=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const a=e.indexOf(n,r);return a!==-1&&a===r},rse=e=>{if(!e)return null;if(mc(e))return e;let n=e.length;if(!q6(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},ase=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&$2(Uint8Array)),sse=(e,n)=>{const a=(e&&e[Up]).call(e);let s;for(;(s=a.next())&&!s.done;){const o=s.value;n.call(e,o[0],o[1])}},ise=(e,n)=>{let r;const a=[];for(;(r=e.exec(n))!==null;)a.push(r);return a},ose=ba("HTMLFormElement"),lse=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),M3=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),cse=ba("RegExp"),B6=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Gd(r,(s,o)=>{let l;(l=n(s,o,e))!==!1&&(a[o]=l||s)}),Object.defineProperties(e,a)},use=e=>{B6(e,(n,r)=>{if(fr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(fr(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},dse=(e,n)=>{const r={},a=s=>{s.forEach(o=>{r[o]=!0})};return mc(e)?a(e):a(String(e).split(n)),r},hse=()=>{},mse=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function fse(e){return!!(e&&fr(e.append)&&e[I6]==="FormData"&&e[Up])}const pse=e=>{const n=new Array(10),r=(a,s)=>{if(zp(a)){if(n.indexOf(a)>=0)return;if(!("toJSON"in a)){n[s]=a;const o=mc(a)?[]:{};return Gd(a,(l,u)=>{const d=r(l,s+1);!Md(d)&&(o[u]=d)}),n[s]=void 0,o}}return a};return r(e,0)},vse=ba("AsyncFunction"),yse=e=>e&&(zp(e)||fr(e))&&fr(e.then)&&fr(e.catch),U6=((e,n)=>e?setImmediate:n?((r,a)=>(Wi.addEventListener("message",({source:s,data:o})=>{s===Wi&&o===r&&a.length&&a.shift()()},!1),s=>{a.push(s),Wi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",fr(Wi.postMessage)),gse=typeof queueMicrotask<"u"?queueMicrotask.bind(Wi):typeof process<"u"&&process.nextTick||U6,xse=e=>e!=null&&fr(e[Up]),Ce={isArray:mc,isArrayBuffer:R6,isBuffer:Rae,isFormData:Wae,isArrayBufferView:qae,isString:Lae,isNumber:q6,isBoolean:$ae,isObject:zp,isPlainObject:Lm,isReadableStream:Yae,isRequest:Gae,isResponse:Kae,isHeaders:Qae,isUndefined:Md,isDate:Bae,isFile:Uae,isBlob:Fae,isRegExp:cse,isFunction:fr,isStream:zae,isURLSearchParams:Vae,isTypedArray:ase,isFileList:Hae,forEach:Gd,merge:dN,extend:Jae,trim:Xae,stripBOM:Zae,inherits:ese,toFlatObject:tse,kindOf:Fp,kindOfTest:ba,endsWith:nse,toArray:rse,forEachEntry:sse,matchAll:ise,isHTMLForm:ose,hasOwnProperty:M3,hasOwnProp:M3,reduceDescriptors:B6,freezeMethods:use,toObjectSet:dse,toCamelCase:lse,noop:hse,toFiniteNumber:mse,findKey:L6,global:Wi,isContextDefined:$6,isSpecCompliantForm:fse,toJSONObject:pse,isAsyncFn:vse,isThenable:yse,setImmediate:U6,asap:gse,isIterable:xse};function ot(e,n,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Ce.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const F6=ot.prototype,H6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{H6[e]={value:e}});Object.defineProperties(ot,H6);Object.defineProperty(F6,"isAxiosError",{value:!0});ot.from=(e,n,r,a,s,o)=>{const l=Object.create(F6);return Ce.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),ot.call(l,e.message,n,r,a,s),l.cause=e,l.name=e.name,o&&Object.assign(l,o),l};const bse=null;function hN(e){return Ce.isPlainObject(e)||Ce.isArray(e)}function z6(e){return Ce.endsWith(e,"[]")?e.slice(0,-2):e}function _3(e,n,r){return e?e.concat(n).map(function(s,o){return s=z6(s),!r&&o?"["+s+"]":s}).join(r?".":""):n}function jse(e){return Ce.isArray(e)&&!e.some(hN)}const Nse=Ce.toFlatObject(Ce,{},null,function(n){return/^is[A-Z]/.test(n)});function Wp(e,n,r){if(!Ce.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=Ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,w){return!Ce.isUndefined(w[j])});const a=r.metaTokens,s=r.visitor||f,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(n);if(!Ce.isFunction(s))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(Ce.isDate(x))return x.toISOString();if(!d&&Ce.isBlob(x))throw new ot("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(x)||Ce.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,j,w){let T=x;if(x&&!w&&typeof x=="object"){if(Ce.endsWith(j,"{}"))j=a?j:j.slice(0,-2),x=JSON.stringify(x);else if(Ce.isArray(x)&&jse(x)||(Ce.isFileList(x)||Ce.endsWith(j,"[]"))&&(T=Ce.toArray(x)))return j=z6(j),T.forEach(function(O,P){!(Ce.isUndefined(O)||O===null)&&n.append(l===!0?_3([j],P,o):l===null?j:j+"[]",h(O))}),!1}return hN(x)?!0:(n.append(_3(w,j,o),h(x)),!1)}const p=[],y=Object.assign(Nse,{defaultVisitor:f,convertValue:h,isVisitable:hN});function b(x,j){if(!Ce.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+j.join("."));p.push(x),Ce.forEach(x,function(T,A){(!(Ce.isUndefined(T)||T===null)&&s.call(n,T,Ce.isString(A)?A.trim():A,j,y))===!0&&b(T,j?j.concat(A):[A])}),p.pop()}}if(!Ce.isObject(e))throw new TypeError("data must be an object");return b(e),n}function I3(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function B2(e,n){this._pairs=[],e&&Wp(e,this,n)}const W6=B2.prototype;W6.append=function(n,r){this._pairs.push([n,r])};W6.toString=function(n){const r=n?function(a){return n.call(this,a,I3)}:I3;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function wse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function V6(e,n,r){if(!n)return e;const a=r&&r.encode||wse;Ce.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(n,r):o=Ce.isURLSearchParams(n)?n.toString():new B2(n,r).toString(a),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class R3{constructor(){this.handlers=[]}use(n,r,a){return this.handlers.push({fulfilled:n,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Ce.forEach(this.handlers,function(a){a!==null&&n(a)})}}const Y6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sse=typeof URLSearchParams<"u"?URLSearchParams:B2,Ese=typeof FormData<"u"?FormData:null,Tse=typeof Blob<"u"?Blob:null,Ase={isBrowser:!0,classes:{URLSearchParams:Sse,FormData:Ese,Blob:Tse},protocols:["http","https","file","blob","url","data"]},U2=typeof window<"u"&&typeof document<"u",mN=typeof navigator=="object"&&navigator||void 0,Cse=U2&&(!mN||["ReactNative","NativeScript","NS"].indexOf(mN.product)<0),kse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ose=U2&&window.location.href||"http://localhost",Dse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:U2,hasStandardBrowserEnv:Cse,hasStandardBrowserWebWorkerEnv:kse,navigator:mN,origin:Ose},Symbol.toStringTag,{value:"Module"})),Kn={...Dse,...Ase};function Pse(e,n){return Wp(e,new Kn.classes.URLSearchParams,Object.assign({visitor:function(r,a,s,o){return Kn.isNode&&Ce.isBuffer(r)?(this.append(a,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},n))}function Mse(e){return Ce.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function _se(e){const n={},r=Object.keys(e);let a;const s=r.length;let o;for(a=0;a<s;a++)o=r[a],n[o]=e[o];return n}function G6(e){function n(r,a,s,o){let l=r[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=r.length;return l=!l&&Ce.isArray(s)?s.length:l,d?(Ce.hasOwnProp(s,l)?s[l]=[s[l],a]:s[l]=a,!u):((!s[l]||!Ce.isObject(s[l]))&&(s[l]=[]),n(r,a,s[l],o)&&Ce.isArray(s[l])&&(s[l]=_se(s[l])),!u)}if(Ce.isFormData(e)&&Ce.isFunction(e.entries)){const r={};return Ce.forEachEntry(e,(a,s)=>{n(Mse(a),s,r,0)}),r}return null}function Ise(e,n,r){if(Ce.isString(e))try{return(n||JSON.parse)(e),Ce.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Kd={transitional:Y6,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const a=r.getContentType()||"",s=a.indexOf("application/json")>-1,o=Ce.isObject(n);if(o&&Ce.isHTMLForm(n)&&(n=new FormData(n)),Ce.isFormData(n))return s?JSON.stringify(G6(n)):n;if(Ce.isArrayBuffer(n)||Ce.isBuffer(n)||Ce.isStream(n)||Ce.isFile(n)||Ce.isBlob(n)||Ce.isReadableStream(n))return n;if(Ce.isArrayBufferView(n))return n.buffer;if(Ce.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let u;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Pse(n,this.formSerializer).toString();if((u=Ce.isFileList(n))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Wp(u?{"files[]":n}:n,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),Ise(n)):n}],transformResponse:[function(n){const r=this.transitional||Kd.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ce.isResponse(n)||Ce.isReadableStream(n))return n;if(n&&Ce.isString(n)&&(a&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(n)}catch(u){if(l)throw u.name==="SyntaxError"?ot.from(u,ot.ERR_BAD_RESPONSE,this,null,this.response):u}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],e=>{Kd.headers[e]={}});const Rse=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qse=e=>{const n={};let r,a,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),a=l.substring(s+1).trim(),!(!r||n[r]&&Rse[r])&&(r==="set-cookie"?n[r]?n[r].push(a):n[r]=[a]:n[r]=n[r]?n[r]+", "+a:a)}),n},q3=Symbol("internals");function Eu(e){return e&&String(e).trim().toLowerCase()}function $m(e){return e===!1||e==null?e:Ce.isArray(e)?e.map($m):String(e)}function Lse(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)n[a[1]]=a[2];return n}const $se=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vj(e,n,r,a,s){if(Ce.isFunction(a))return a.call(this,n,r);if(s&&(n=r),!!Ce.isString(n)){if(Ce.isString(a))return n.indexOf(a)!==-1;if(Ce.isRegExp(a))return a.test(n)}}function Bse(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,a)=>r.toUpperCase()+a)}function Use(e,n){const r=Ce.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(s,o,l){return this[a].call(this,n,s,o,l)},configurable:!0})})}let pr=class{constructor(n){n&&this.set(n)}set(n,r,a){const s=this;function o(u,d,h){const f=Eu(d);if(!f)throw new Error("header name must be a non-empty string");const p=Ce.findKey(s,f);(!p||s[p]===void 0||h===!0||h===void 0&&s[p]!==!1)&&(s[p||d]=$m(u))}const l=(u,d)=>Ce.forEach(u,(h,f)=>o(h,f,d));if(Ce.isPlainObject(n)||n instanceof this.constructor)l(n,r);else if(Ce.isString(n)&&(n=n.trim())&&!$se(n))l(qse(n),r);else if(Ce.isObject(n)&&Ce.isIterable(n)){let u={},d,h;for(const f of n){if(!Ce.isArray(f))throw TypeError("Object iterator must return a key-value pair");u[h=f[0]]=(d=u[h])?Ce.isArray(d)?[...d,f[1]]:[d,f[1]]:f[1]}l(u,r)}else n!=null&&o(r,n,a);return this}get(n,r){if(n=Eu(n),n){const a=Ce.findKey(this,n);if(a){const s=this[a];if(!r)return s;if(r===!0)return Lse(s);if(Ce.isFunction(r))return r.call(this,s,a);if(Ce.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=Eu(n),n){const a=Ce.findKey(this,n);return!!(a&&this[a]!==void 0&&(!r||vj(this,this[a],a,r)))}return!1}delete(n,r){const a=this;let s=!1;function o(l){if(l=Eu(l),l){const u=Ce.findKey(a,l);u&&(!r||vj(a,a[u],u,r))&&(delete a[u],s=!0)}}return Ce.isArray(n)?n.forEach(o):o(n),s}clear(n){const r=Object.keys(this);let a=r.length,s=!1;for(;a--;){const o=r[a];(!n||vj(this,this[o],o,n,!0))&&(delete this[o],s=!0)}return s}normalize(n){const r=this,a={};return Ce.forEach(this,(s,o)=>{const l=Ce.findKey(a,o);if(l){r[l]=$m(s),delete r[o];return}const u=n?Bse(o):String(o).trim();u!==o&&delete r[o],r[u]=$m(s),a[u]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return Ce.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=n&&Ce.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const a=new this(n);return r.forEach(s=>a.set(s)),a}static accessor(n){const a=(this[q3]=this[q3]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Eu(l);a[u]||(Use(s,l),a[u]=!0)}return Ce.isArray(n)?n.forEach(o):o(n),this}};pr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(pr.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(a){this[r]=a}}});Ce.freezeMethods(pr);function yj(e,n){const r=this||Kd,a=n||r,s=pr.from(a.headers);let o=a.data;return Ce.forEach(e,function(u){o=u.call(r,o,s.normalize(),n?n.status:void 0)}),s.normalize(),o}function K6(e){return!!(e&&e.__CANCEL__)}function fc(e,n,r){ot.call(this,e??"canceled",ot.ERR_CANCELED,n,r),this.name="CanceledError"}Ce.inherits(fc,ot,{__CANCEL__:!0});function Q6(e,n,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):n(new ot("Request failed with status code "+r.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Fse(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Hse(e,n){e=e||10;const r=new Array(e),a=new Array(e);let s=0,o=0,l;return n=n!==void 0?n:1e3,function(d){const h=Date.now(),f=a[o];l||(l=h),r[s]=d,a[s]=h;let p=o,y=0;for(;p!==s;)y+=r[p++],p=p%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),h-l<n)return;const b=f&&h-f;return b?Math.round(y*1e3/b):void 0}}function zse(e,n){let r=0,a=1e3/n,s,o;const l=(h,f=Date.now())=>{r=f,s=null,o&&(clearTimeout(o),o=null),e.apply(null,h)};return[(...h)=>{const f=Date.now(),p=f-r;p>=a?l(h,f):(s=h,o||(o=setTimeout(()=>{o=null,l(s)},a-p)))},()=>s&&l(s)]}const Zf=(e,n,r=3)=>{let a=0;const s=Hse(50,250);return zse(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-a,h=s(d),f=l<=u;a=l;const p={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&f?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[n?"download":"upload"]:!0};e(p)},r)},L3=(e,n)=>{const r=e!=null;return[a=>n[0]({lengthComputable:r,total:e,loaded:a}),n[1]]},$3=e=>(...n)=>Ce.asap(()=>e(...n)),Wse=Kn.hasStandardBrowserEnv?((e,n)=>r=>(r=new URL(r,Kn.origin),e.protocol===r.protocol&&e.host===r.host&&(n||e.port===r.port)))(new URL(Kn.origin),Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent)):()=>!0,Vse=Kn.hasStandardBrowserEnv?{write(e,n,r,a,s,o){const l=[e+"="+encodeURIComponent(n)];Ce.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Ce.isString(a)&&l.push("path="+a),Ce.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yse(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Gse(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function X6(e,n,r){let a=!Yse(n);return e&&(a||r==!1)?Gse(e,n):n}const B3=e=>e instanceof pr?{...e}:e;function lo(e,n){n=n||{};const r={};function a(h,f,p,y){return Ce.isPlainObject(h)&&Ce.isPlainObject(f)?Ce.merge.call({caseless:y},h,f):Ce.isPlainObject(f)?Ce.merge({},f):Ce.isArray(f)?f.slice():f}function s(h,f,p,y){if(Ce.isUndefined(f)){if(!Ce.isUndefined(h))return a(void 0,h,p,y)}else return a(h,f,p,y)}function o(h,f){if(!Ce.isUndefined(f))return a(void 0,f)}function l(h,f){if(Ce.isUndefined(f)){if(!Ce.isUndefined(h))return a(void 0,h)}else return a(void 0,f)}function u(h,f,p){if(p in n)return a(h,f);if(p in e)return a(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,f,p)=>s(B3(h),B3(f),p,!0)};return Ce.forEach(Object.keys(Object.assign({},e,n)),function(f){const p=d[f]||s,y=p(e[f],n[f],f);Ce.isUndefined(y)&&p!==u||(r[f]=y)}),r}const J6=e=>{const n=lo({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=n;n.headers=l=pr.from(l),n.url=V6(X6(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(Ce.isFormData(r)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...f]=d?d.split(";").map(p=>p.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...f].join("; "))}}if(Kn.hasStandardBrowserEnv&&(a&&Ce.isFunction(a)&&(a=a(n)),a||a!==!1&&Wse(n.url))){const h=s&&o&&Vse.read(o);h&&l.set(s,h)}return n},Kse=typeof XMLHttpRequest<"u",Qse=Kse&&function(e){return new Promise(function(r,a){const s=J6(e);let o=s.data;const l=pr.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=s,f,p,y,b,x;function j(){b&&b(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function T(){if(!w)return;const O=pr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!u||u==="text"||u==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:O,config:e,request:w};Q6(function(k){r(k),j()},function(k){a(k),j()},S),w=null}"onloadend"in w?w.onloadend=T:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(T)},w.onabort=function(){w&&(a(new ot("Request aborted",ot.ECONNABORTED,e,w)),w=null)},w.onerror=function(){a(new ot("Network Error",ot.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||Y6;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),a(new ot(P,S.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,e,w)),w=null},o===void 0&&l.setContentType(null),"setRequestHeader"in w&&Ce.forEach(l.toJSON(),function(P,S){w.setRequestHeader(S,P)}),Ce.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),u&&u!=="json"&&(w.responseType=s.responseType),h&&([y,x]=Zf(h,!0),w.addEventListener("progress",y)),d&&w.upload&&([p,b]=Zf(d),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(f=O=>{w&&(a(!O||O.type?new fc(null,e,w):O),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const A=Fse(s.url);if(A&&Kn.protocols.indexOf(A)===-1){a(new ot("Unsupported protocol "+A+":",ot.ERR_BAD_REQUEST,e));return}w.send(o||null)})},Xse=(e,n)=>{const{length:r}=e=e?e.filter(Boolean):[];if(n||r){let a=new AbortController,s;const o=function(h){if(!s){s=!0,u();const f=h instanceof Error?h:this.reason;a.abort(f instanceof ot?f:new fc(f instanceof Error?f.message:f))}};let l=n&&setTimeout(()=>{l=null,o(new ot(`timeout ${n} of ms exceeded`,ot.ETIMEDOUT))},n);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:d}=a;return d.unsubscribe=()=>Ce.asap(u),d}},Jse=function*(e,n){let r=e.byteLength;if(r<n){yield e;return}let a=0,s;for(;a<r;)s=a+n,yield e.slice(a,s),a=s},Zse=async function*(e,n){for await(const r of eie(e))yield*Jse(r,n)},eie=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:r,value:a}=await n.read();if(r)break;yield a}}finally{await n.cancel()}},U3=(e,n,r,a)=>{const s=Zse(e,n);let o=0,l,u=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:h,value:f}=await s.next();if(h){u(),d.close();return}let p=f.byteLength;if(r){let y=o+=p;r(y)}d.enqueue(new Uint8Array(f))}catch(h){throw u(h),h}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},Vp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Z6=Vp&&typeof ReadableStream=="function",tie=Vp&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),e8=(e,...n)=>{try{return!!e(...n)}catch{return!1}},nie=Z6&&e8(()=>{let e=!1;const n=new Request(Kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),F3=64*1024,fN=Z6&&e8(()=>Ce.isReadableStream(new Response("").body)),ep={stream:fN&&(e=>e.body)};Vp&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!ep[n]&&(ep[n]=Ce.isFunction(e[n])?r=>r[n]():(r,a)=>{throw new ot(`Response type '${n}' is not supported`,ot.ERR_NOT_SUPPORT,a)})})})(new Response);const rie=async e=>{if(e==null)return 0;if(Ce.isBlob(e))return e.size;if(Ce.isSpecCompliantForm(e))return(await new Request(Kn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(e)||Ce.isArrayBuffer(e))return e.byteLength;if(Ce.isURLSearchParams(e)&&(e=e+""),Ce.isString(e))return(await tie(e)).byteLength},aie=async(e,n)=>{const r=Ce.toFiniteNumber(e.getContentLength());return r??rie(n)},sie=Vp&&(async e=>{let{url:n,method:r,data:a,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:f,withCredentials:p="same-origin",fetchOptions:y}=J6(e);h=h?(h+"").toLowerCase():"text";let b=Xse([s,o&&o.toAbortSignal()],l),x;const j=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let w;try{if(d&&nie&&r!=="get"&&r!=="head"&&(w=await aie(f,a))!==0){let S=new Request(n,{method:"POST",body:a,duplex:"half"}),E;if(Ce.isFormData(a)&&(E=S.headers.get("content-type"))&&f.setContentType(E),S.body){const[k,D]=L3(w,Zf($3(d)));a=U3(S.body,F3,k,D)}}Ce.isString(p)||(p=p?"include":"omit");const T="credentials"in Request.prototype;x=new Request(n,{...y,signal:b,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:a,duplex:"half",credentials:T?p:void 0});let A=await fetch(x);const O=fN&&(h==="stream"||h==="response");if(fN&&(u||O&&j)){const S={};["status","statusText","headers"].forEach(_=>{S[_]=A[_]});const E=Ce.toFiniteNumber(A.headers.get("content-length")),[k,D]=u&&L3(E,Zf($3(u),!0))||[];A=new Response(U3(A.body,F3,k,()=>{D&&D(),j&&j()}),S)}h=h||"text";let P=await ep[Ce.findKey(ep,h)||"text"](A,e);return!O&&j&&j(),await new Promise((S,E)=>{Q6(S,E,{data:P,headers:pr.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:x})})}catch(T){throw j&&j(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,e,x),{cause:T.cause||T}):ot.from(T,T&&T.code,e,x)}}),pN={http:bse,xhr:Qse,fetch:sie};Ce.forEach(pN,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const H3=e=>`- ${e}`,iie=e=>Ce.isFunction(e)||e===null||e===!1,t8={getAdapter:e=>{e=Ce.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let o=0;o<n;o++){r=e[o];let l;if(a=r,!iie(r)&&(a=pN[(l=String(r)).toLowerCase()],a===void 0))throw new ot(`Unknown adapter '${l}'`);if(a)break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(H3).join(`
`):" "+H3(o[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:pN};function gj(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fc(null,e)}function z3(e){return gj(e),e.headers=pr.from(e.headers),e.data=yj.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),t8.getAdapter(e.adapter||Kd.adapter)(e).then(function(a){return gj(e),a.data=yj.call(e,e.transformResponse,a),a.headers=pr.from(a.headers),a},function(a){return K6(a)||(gj(e),a&&a.response&&(a.response.data=yj.call(e,e.transformResponse,a.response),a.response.headers=pr.from(a.response.headers))),Promise.reject(a)})}const n8="1.9.0",Yp={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Yp[e]=function(a){return typeof a===e||"a"+(n<1?"n ":" ")+e}});const W3={};Yp.transitional=function(n,r,a){function s(o,l){return"[Axios v"+n8+"] Transitional option '"+o+"'"+l+(a?". "+a:"")}return(o,l,u)=>{if(n===!1)throw new ot(s(l," has been removed"+(r?" in "+r:"")),ot.ERR_DEPRECATED);return r&&!W3[l]&&(W3[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(o,l,u):!0}};Yp.spelling=function(n){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${n}`),!0)};function oie(e,n,r){if(typeof e!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const o=a[s],l=n[o];if(l){const u=e[o],d=u===void 0||l(u,o,e);if(d!==!0)throw new ot("option "+o+" must be "+d,ot.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ot("Unknown option "+o,ot.ERR_BAD_OPTION)}}const Bm={assertOptions:oie,validators:Yp},ka=Bm.validators;let Xi=class{constructor(n){this.defaults=n||{},this.interceptors={request:new R3,response:new R3}}async request(n,r){try{return await this._request(n,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=lo(this.defaults,r);const{transitional:a,paramsSerializer:s,headers:o}=r;a!==void 0&&Bm.assertOptions(a,{silentJSONParsing:ka.transitional(ka.boolean),forcedJSONParsing:ka.transitional(ka.boolean),clarifyTimeoutError:ka.transitional(ka.boolean)},!1),s!=null&&(Ce.isFunction(s)?r.paramsSerializer={serialize:s}:Bm.assertOptions(s,{encode:ka.function,serialize:ka.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bm.assertOptions(r,{baseUrl:ka.spelling("baseURL"),withXsrfToken:ka.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&Ce.merge(o.common,o[r.method]);o&&Ce.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),r.headers=pr.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(d=d&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const h=[];this.interceptors.response.forEach(function(j){h.push(j.fulfilled,j.rejected)});let f,p=0,y;if(!d){const x=[z3.bind(this),void 0];for(x.unshift.apply(x,u),x.push.apply(x,h),y=x.length,f=Promise.resolve(r);p<y;)f=f.then(x[p++],x[p++]);return f}y=u.length;let b=r;for(p=0;p<y;){const x=u[p++],j=u[p++];try{b=x(b)}catch(w){j.call(this,w);break}}try{f=z3.call(this,b)}catch(x){return Promise.reject(x)}for(p=0,y=h.length;p<y;)f=f.then(h[p++],h[p++]);return f}getUri(n){n=lo(this.defaults,n);const r=X6(n.baseURL,n.url,n.allowAbsoluteUrls);return V6(r,n.params,n.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(n){Xi.prototype[n]=function(r,a){return this.request(lo(a||{},{method:n,url:r,data:(a||{}).data}))}});Ce.forEach(["post","put","patch"],function(n){function r(a){return function(o,l,u){return this.request(lo(u||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Xi.prototype[n]=r(),Xi.prototype[n+"Form"]=r(!0)});let lie=class r8{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const a=this;this.promise.then(s=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](s);a._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{a.subscribe(u),o=u}).then(s);return l.cancel=function(){a.unsubscribe(o)},l},n(function(o,l,u){a.reason||(a.reason=new fc(o,l,u),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=a=>{n.abort(a)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new r8(function(s){n=s}),cancel:n}}};function cie(e){return function(r){return e.apply(null,r)}}function uie(e){return Ce.isObject(e)&&e.isAxiosError===!0}const vN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vN).forEach(([e,n])=>{vN[n]=e});function a8(e){const n=new Xi(e),r=_6(Xi.prototype.request,n);return Ce.extend(r,Xi.prototype,n,{allOwnKeys:!0}),Ce.extend(r,n,null,{allOwnKeys:!0}),r.create=function(s){return a8(lo(e,s))},r}const Qt=a8(Kd);Qt.Axios=Xi;Qt.CanceledError=fc;Qt.CancelToken=lie;Qt.isCancel=K6;Qt.VERSION=n8;Qt.toFormData=Wp;Qt.AxiosError=ot;Qt.Cancel=Qt.CanceledError;Qt.all=function(n){return Promise.all(n)};Qt.spread=cie;Qt.isAxiosError=uie;Qt.mergeConfig=lo;Qt.AxiosHeaders=pr;Qt.formToJSON=e=>G6(Ce.isHTMLForm(e)?new FormData(e):e);Qt.getAdapter=t8.getAdapter;Qt.HttpStatusCode=vN;Qt.default=Qt;const{Axios:Wle,AxiosError:Vle,CanceledError:Yle,isCancel:Gle,CancelToken:Kle,VERSION:Qle,all:Xle,Cancel:Jle,isAxiosError:Zle,spread:ece,toFormData:tce,AxiosHeaders:nce,HttpStatusCode:rce,formToJSON:ace,getAdapter:sce,mergeConfig:ice}=Qt,ye=Qt.create({baseURL:Mae});ye.interceptors.request.use(e=>{const n=localStorage.getItem("token");return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e));ye.interceptors.response.use(e=>e,e=>(e.response&&e.response.status===401&&console.error("Authentication error: Please log in again"),Promise.reject(e)));const ht={getAllEquipment:()=>ye.get(st.BASE),getEquipmentById:e=>ye.get(st.BY_ID(e)),getEquipmentMainPhoto:e=>ye.get(`/minio/equipment/${e}/main-photo`),addEquipment:e=>ye.post(st.BASE,e,{headers:{"Content-Type":"multipart/form-data"}}),addEquipmentWithDTO:e=>ye.post(st.CREATE_DTO,e,{headers:{"Content-Type":"multipart/form-data"}}),updateEquipment:(e,n)=>ye.put(st.BY_ID(e),n,{headers:{"Content-Type":"multipart/form-data"}}),updateEquipmentWithDTO:(e,n)=>ye.put(st.STATUS_DTO(e),n),updateEquipmentStatus:(e,n)=>ye.patch(st.STATUS(e),{status:n}),updateEquipmentStatusWithDTO:(e,n)=>ye.patch(st.STATUS_DTO(e),n),deleteEquipment:e=>ye.delete(st.BY_ID(e)),getAllEquipmentTypes:()=>ye.get(st.TYPES),getEquipmentTypeById:e=>ye.get(st.TYPE_BY_ID(e)),createEquipmentType:e=>ye.post(st.TYPES,e),updateEquipmentType:(e,n)=>ye.put(st.TYPE_BY_ID(e),n),deleteEquipmentType:e=>ye.delete(st.TYPE_BY_ID(e)),getAllEquipmentBrands:()=>ye.get(st.BRANDS),getEquipmentBrandById:e=>ye.get(st.BRAND_BY_ID(e)),createEquipmentBrand:e=>ye.post(st.BRANDS,e),updateEquipmentBrand:(e,n)=>ye.put(st.BRAND_BY_ID(e),n),deleteEquipmentBrand:e=>ye.delete(st.BRAND_BY_ID(e)),getEquipmentByType:e=>ye.get(st.BY_TYPE(e)),getEquipmentConsumables:e=>ye.get(st.CONSUMABLES(e)),getEquipmentConsumablesByCategory:(e,n)=>ye.get(st.CONSUMABLES_BY_CATEGORY(e,n)),getConsumableAnalytics:e=>ye.get(st.CONSUMABLES_ANALYTICS(e)),getAllSites:()=>ye.get(Zt.BASE),getSiteById:e=>ye.get(Zt.BY_ID(e)),getAllMerchants:()=>ye.get(Hu.BASE),getMerchantById:e=>ye.get(Hu.BY_ID(e)),getAllEmployees:()=>ye.get(uN.BASE),getEmployeeById:e=>ye.get(uN.BY_ID(e)),getEligibleDriversForEquipmentType:e=>ye.get(st.ELIGIBLE_DRIVERS(e)),getDriversForSarkyByEquipmentType:e=>ye.get(st.SARKY_DRIVERS(e)),checkDriverCompatibility:(e,n)=>ye.get(st.CHECK_DRIVER_COMPATIBILITY(e,n)),getSupportedWorkTypesForEquipmentType:e=>ye.get(st.SUPPORTED_WORK_TYPES(e)),setSupportedWorkTypesForEquipmentType:(e,n)=>ye.put(st.TYPE_SUPPORTED_WORK_TYPES(e),n),addSupportedWorkTypesForEquipmentType:(e,n)=>ye.post(st.TYPE_SUPPORTED_WORK_TYPES(e),n),removeSupportedWorkTypesForEquipmentType:(e,n)=>ye.delete(st.TYPE_SUPPORTED_WORK_TYPES(e),{data:n}),getSarkyAnalyticsForEquipment:e=>ye.get(st.SARKY_ANALYTICS(e)),createEquipment:e=>(e.brand&&typeof e.brand=="object"&&(e.brandId=e.brand.id),ye.post(st.CREATE_DTO,e)),getEquipmentTransactions:e=>ye.get(st.TRANSACTIONS(e)),getInitiatedTransactions:e=>ye.get(st.TRANSACTIONS_INITIATED(e)),sendTransaction:(e,n)=>{const r=new URLSearchParams({receiverId:n.receiverId,receiverType:n.receiverType,batchNumber:n.batchNumber.toString(),purpose:n.purpose||"GENERAL"});return n.transactionDate&&r.append("transactionDate",n.transactionDate),ye.post(`${st.SEND_TRANSACTION(e)}?${r.toString()}`,n.items)},receiveTransaction:(e,n,r,a,s,o,l)=>{const u=new URLSearchParams({senderId:n,senderType:r,batchNumber:a.toString(),purpose:s||"GENERAL"});return l&&u.append("transactionDate",l),ye.post(`${st.RECEIVE_TRANSACTION(e)}?${u.toString()}`,o)},acceptEquipmentTransaction:(e,n,r)=>ye.post(st.ACCEPT_TRANSACTION(e,n),r),rejectEquipmentTransaction:(e,n,r)=>ye.post(st.REJECT_TRANSACTION(e,n),r),updateEquipmentTransaction:(e,n,r)=>{const a=new URLSearchParams({senderId:r.senderId,senderType:r.senderType,receiverId:r.receiverId,receiverType:r.receiverType,batchNumber:r.batchNumber.toString()});return r.transactionDate&&a.append("transactionDate",r.transactionDate),r.purpose&&a.append("purpose",r.purpose),ye.put(`${st.UPDATE_TRANSACTION(e,n)}?${a.toString()}`,r.items)},receiveTransactionLegacy:(e,n,r,a,s,o,l)=>{const u=new URLSearchParams({senderId:n,senderType:r,batchNumber:a.toString(),purpose:s||"GENERAL"});return l&&u.append("transactionDate",l),ye.post(`${st.RECEIVE_TRANSACTION(e)}?${u.toString()}`,o)}},cs={getByEquipmentId:e=>ye.get(Ca.BASE(e)),getAnalytics:e=>ye.get(Ca.ANALYTICS(e)),getTechnicians:e=>ye.get(Ca.TECHNICIANS(e)),create:(e,n)=>ye.post(Ca.CREATE(e),n),update:(e,n,r)=>ye.put(Ca.UPDATE(e,n),r),delete:(e,n)=>ye.delete(Ca.DELETE(e,n)),linkTransaction:(e,n,r)=>ye.post(Ca.LINK_TRANSACTION(e,n,r)),createMaintenanceTransaction:(e,n,r,a,s,o)=>ye.post(`${Ca.CREATE_TRANSACTION(e,n)}?senderId=${r}&senderType=${a}&batchNumber=${s}`,o),checkTransactionExists:(e,n)=>ye.get(Ca.CHECK_TRANSACTION(e,n)),getAllMaintenanceRecords:()=>ye.get("/api/maintenance/all"),getMaintenanceSummary:()=>ye.get("/api/maintenance/summary"),validateTransactionInline:(e,n,r,a)=>ye.post(Ca.VALIDATE_TRANSACTION(e,n,r),a)},die=()=>{const{t:e}=ln(),[n,r]=g.useState(!1),[a,s]=g.useState(""),[o,l]=g.useState("week"),[u,d]=g.useState("all"),[h,f]=g.useState([]),[p,y]=g.useState([]),[b,x]=g.useState([]),[j,w]=g.useState([]),[T,A]=g.useState({}),[O,P]=g.useState({}),[S,E]=g.useState(null),k=async()=>{try{const X=await ht.getAllEquipment();if(X.data)return f(X.data),X.data}catch(X){console.error("Error fetching equipment:",X),E("Failed to fetch equipment data")}return[]},D=async()=>{try{const X=await ht.getAllEquipmentTypes();if(X.data)return y(X.data),X.data}catch(X){console.error("Error fetching equipment types:",X)}return[]},_=async()=>{try{const X=await ht.getAllEquipmentBrands();if(X.data)return x(X.data),X.data}catch(X){console.error("Error fetching equipment brands:",X)}return[]},U=async()=>{try{const X=await ht.getAllSites();if(X.data)return w(X.data),console.log(X.data),X.data}catch(X){console.error("Error fetching sites:",X)}return[]},R=async X=>{try{const Z=await cs.getAnalytics(X);if(Z.data)return Z.data}catch(Z){console.error(`Error fetching maintenance analytics for equipment ${X}:`,Z)}return{}},$=async X=>{try{const Z=await ht.getSarkyAnalyticsForEquipment(X);if(Z.data)return Z.data}catch(Z){console.error(`Error fetching sarky analytics for equipment ${X}:`,Z)}return{}},L=async()=>{r(!0),E(null);try{const[X,Z,V,Y]=await Promise.all([k(),D(),_(),U()]);if(X.length>0){const ee=X.slice(0,10),ce=ee.map(xe=>R(xe.id).then(pe=>({id:xe.id,data:pe}))),re=ee.map(xe=>$(xe.id).then(pe=>({id:xe.id,data:pe}))),[te,he]=await Promise.all([Promise.allSettled(ce),Promise.allSettled(re)]),se={};te.forEach(xe=>{xe.status==="fulfilled"&&xe.value&&(se[xe.value.id]=xe.value.data)});const oe={};he.forEach(xe=>{xe.status==="fulfilled"&&xe.value&&(oe[xe.value.id]=xe.value.data)}),A(se),P(oe)}}catch(X){console.error("Error loading data:",X),E("Failed to load dashboard data. Please try refreshing.")}r(!1)};g.useEffect(()=>{L()},[]);const W=u==="all"?h:h.filter(X=>X.typeId===u),M=W.length,F=W.filter(X=>X.status==="SOLD"||X.status==="RENTED"||X.status==="IN_MAINTENANCE"||X.status==="AVAILABLE"||X.status==="SCRAPED").length,G=Object.values(T).reduce((X,Z)=>X+(Z.totalMaintenanceEvents||0),0),J=Object.values(O).reduce((X,Z)=>X+(Z.totalWorkHours||0),0),I=p.map(X=>{const Z=h.filter(ee=>ee.typeId===X.id),V=Z.length,Y=Z.filter(ee=>ee.status==="ACTIVE"||ee.status==="OPERATIONAL"||ee.status==="IN_USE"||ee.status==="AVAILABLE").length;return{name:X.name,count:V,active:Y,inactive:V-Y,maintenance:Z.filter(ee=>ee.status==="MAINTENANCE").length}}).filter(X=>X.count>0),q=[{name:"Available",value:h.filter(X=>X.status==="ACTIVE"||X.status==="OPERATIONAL"||X.status==="IN_USE"||X.status==="AVAILABLE").length,color:"#10b981"},{name:"Sold",value:h.filter(X=>X.status==="INACTIVE"||X.status==="OFFLINE"||X.status==="SOLD").length,color:"#ef4444"},{name:"In Maintenance",value:h.filter(X=>X.status==="MAINTENANCE"||X.status==="UNDER_MAINTENANCE"||X.status==="IN_MAINTENANCE").length,color:"#f59e0b"},{name:"Scraped",value:h.filter(X=>X.status==="OUT_OF_SERVICE"||X.status==="DAMAGED"||X.status==="SCRAPED").length,color:"#8b5cf6"},{name:"Rented",value:h.filter(X=>X.status==="RENTED").length,color:"#3060d0"}].filter(X=>X.value>0),B=b.map(X=>{const Z=h.filter(V=>V.brandId===X.id).length;return{name:X.name,value:Z}}).filter(X=>X.value>0).slice(0,8),K=j.filter(X=>X.name.toLowerCase().includes(a.toLowerCase())).map(X=>{var ce,re;const Z=h.filter(te=>te.siteId===X.id),V=Z.filter(te=>te.status==="ACTIVE"||te.status==="OPERATIONAL"||te.status==="IN_USE"||te.status==="AVAILABLE"),Y=Z.reduce((te,he)=>{var se;return te+(((se=T[he.id])==null?void 0:se.totalMaintenanceEvents)||0)},0),ee=Z.reduce((te,he)=>{var se;return te+(((se=O[he.id])==null?void 0:se.totalWorkHours)||0)},0);return{name:X.name,totalEquipment:Z.length,activeEquipment:V.length,utilizationRate:Z.length>0?Math.round(V.length/Z.length*100):0,maintenanceEvents:Y,workHours:Math.round(ee),location:X.physicalAddress||"Unknown",completionRate:((re=T[(ce=Z[0])==null?void 0:ce.id])==null?void 0:re.completionRate)||0}}).filter(X=>X.totalEquipment>0),ie=Object.values(T).filter(X=>X.monthlyBreakdown&&X.monthlyBreakdown.length>0).reduce((X,Z)=>(Z.monthlyBreakdown.forEach(V=>{const Y=X.find(ee=>ee.month===V.month);Y?(Y.totalEvents+=V.totalEvents||0,Y.completedEvents+=V.completedEvents||0):X.push({month:V.month,totalEvents:V.totalEvents||0,completedEvents:V.completedEvents||0})}),X),[]).sort((X,Z)=>X.month.localeCompare(Z.month)).slice(-6),ae=Object.values(O).filter(X=>X.monthlyWorkHours&&X.monthlyWorkHours.length>0).reduce((X,Z)=>(Z.monthlyWorkHours.forEach(V=>{const Y=X.find(ee=>ee.month===V.month);Y?(Y.totalHours+=V.totalHours||0,Y.workDays+=V.workDays||0):X.push({month:V.month,totalHours:V.totalHours||0,workDays:V.workDays||0})}),X),[]).sort((X,Z)=>X.month.localeCompare(Z.month)).slice(-6),me=K.length>0?Math.round(K.reduce((X,Z)=>X+Z.utilizationRate,0)/K.length):0,de=Object.values(T).reduce((X,Z)=>X+(Z.overdueEvents||0),0),fe=Object.values(T).length>0?Math.round(Object.values(T).reduce((X,Z)=>X+(Z.completionRate||0),0)/Object.values(T).length):0;return t.jsxs("div",{className:"eq-dashboard",children:[t.jsx("header",{className:"eq-header",children:t.jsx("div",{className:"eq-header-container",children:t.jsxs("div",{className:"eq-header-content",children:[t.jsxs("div",{className:"eq-title-section",children:[t.jsx("h1",{children:"Equipment Operations"}),t.jsx("p",{children:"Comprehensive equipment management and analytics dashboard"})]}),t.jsxs("div",{className:"eq-header-controls",children:[t.jsxs("select",{value:o,onChange:X=>l(X.target.value),className:"eq-time-filter",children:[t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"}),t.jsx("option",{value:"quarter",children:"This Quarter"}),t.jsx("option",{value:"year",children:"This Year"})]}),t.jsxs("select",{value:u,onChange:X=>d(X.target.value),className:"eq-type-filter",children:[t.jsx("option",{value:"all",children:"All Equipment Types"}),p.map(X=>t.jsx("option",{value:X.id,children:X.name},X.id))]}),t.jsxs("button",{onClick:L,disabled:n,className:"eq-refresh-btn",children:[t.jsx(Yd,{className:n?"eq-spinning":""}),"Refresh"]})]})]})})}),t.jsxs("div",{className:"eq-content",children:[S&&t.jsxs("div",{className:"eq-error-banner",children:[t.jsx(Qi,{size:20}),t.jsx("span",{children:S}),t.jsx("button",{onClick:()=>E(null),children:""})]}),t.jsxs("section",{className:"eq-kpi-section",children:[t.jsxs("div",{className:"eq-section-header",children:[t.jsx("h2",{children:"Key Performance Indicators"}),t.jsx("p",{children:"Real-time overview of your equipment fleet operations"})]}),t.jsxs("div",{className:"eq-kpi-grid",children:[t.jsxs("div",{className:"eq-kpi-card eq-primary",children:[t.jsx("div",{className:"eq-kpi-icon",children:t.jsx(P3,{})}),t.jsxs("div",{className:"eq-kpi-content",children:[t.jsx("div",{className:"eq-kpi-value",children:M.toLocaleString()}),t.jsx("div",{className:"eq-kpi-label",children:"Total Equipment"}),t.jsxs("div",{className:"eq-kpi-trend eq-positive",children:[t.jsx(Xf,{size:14}),p.length," types available"]})]})]}),t.jsxs("div",{className:"eq-kpi-card eq-success",children:[t.jsx("div",{className:"eq-kpi-icon",children:t.jsx(Pr,{})}),t.jsxs("div",{className:"eq-kpi-content",children:[t.jsxs("div",{className:"eq-kpi-value",children:[M>0?Math.round(F/M*100):0,"%"]}),t.jsx("div",{className:"eq-kpi-label",children:"Utilization Rate"}),t.jsxs("div",{className:"eq-kpi-trend eq-positive",children:[t.jsx(Xf,{size:14}),F," active units"]})]})]}),t.jsxs("div",{className:"eq-kpi-card eq-warning",children:[t.jsx("div",{className:"eq-kpi-icon",children:t.jsx(Cae,{})}),t.jsxs("div",{className:"eq-kpi-content",children:[t.jsx("div",{className:"eq-kpi-value",children:G}),t.jsx("div",{className:"eq-kpi-label",children:"Maintenance Events"}),t.jsxs("div",{className:"eq-kpi-trend eq-neutral",children:[t.jsx(sN,{size:14}),fe,"% completion rate"]})]})]}),t.jsxs("div",{className:"eq-kpi-card eq-info",children:[t.jsx("div",{className:"eq-kpi-icon",children:t.jsx(hr,{})}),t.jsxs("div",{className:"eq-kpi-content",children:[t.jsx("div",{className:"eq-kpi-value",children:Math.round(J).toLocaleString()}),t.jsx("div",{className:"eq-kpi-label",children:"Total Work Hours"}),t.jsxs("div",{className:"eq-kpi-trend eq-positive",children:[t.jsx(Jf,{size:14}),"Operational time logged"]})]})]})]})]}),t.jsxs("section",{className:"eq-analytics-section",children:[t.jsxs("div",{className:"eq-section-header",children:[t.jsx("h2",{children:"Equipment Analytics"}),t.jsx("p",{children:"Deep insights into equipment performance and utilization"})]}),t.jsxs("div",{className:"eq-analytics-grid",children:[t.jsxs("div",{className:"eq-chart-card eq-main-chart",children:[t.jsxs("div",{className:"eq-chart-header",children:[t.jsxs("div",{className:"eq-chart-title",children:[t.jsx(O6,{className:"eq-chart-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Equipment by Type"}),t.jsx("p",{children:"Distribution and status across equipment types"})]})]}),t.jsxs("button",{className:"eq-view-details-btn",children:[t.jsx(R2,{size:16}),"View Details"]})]}),t.jsx("div",{className:"eq-chart-container",children:t.jsx(yn,{width:"100%",height:320,children:t.jsxs(ei,{data:I,margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(dr,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),t.jsx(Mn,{dataKey:"name",tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(gn,{tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(Pt,{contentStyle:{backgroundColor:"var(--color-surface)",border:"1px solid var(--border-color)",borderRadius:"8px",color:"var(--color-text-primary)"}}),t.jsx(sn,{dataKey:"active",fill:"#10b981",name:"Active",radius:[4,4,0,0]}),t.jsx(sn,{dataKey:"inactive",fill:"#ef4444",name:"Inactive",radius:[4,4,0,0]}),t.jsx(sn,{dataKey:"maintenance",fill:"#f59e0b",name:"In Maintenance",radius:[4,4,0,0]})]})})})]}),t.jsxs("div",{className:"eq-chart-card",children:[t.jsx("div",{className:"eq-chart-header",children:t.jsxs("div",{className:"eq-chart-title",children:[t.jsx(D6,{className:"eq-chart-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Equipment Status"}),t.jsx("p",{children:"Current fleet status"})]})]})}),t.jsx("div",{className:"eq-chart-container",children:t.jsx(yn,{width:"100%",height:220,children:t.jsxs(zi,{children:[t.jsx(sr,{data:q,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",children:q.map((X,Z)=>t.jsx(Pa,{fill:X.color},`cell-${Z}`))}),t.jsx(Pt,{})]})})}),t.jsx("div",{className:"eq-chart-legend",children:q.map((X,Z)=>t.jsxs("div",{className:"eq-legend-item",children:[t.jsx("div",{className:"eq-legend-color",style:{backgroundColor:X.color}}),t.jsx("span",{className:"eq-legend-label",children:X.name}),t.jsx("span",{className:"eq-legend-value",children:X.value})]},X.name))})]}),t.jsxs("div",{className:"eq-chart-card",children:[t.jsx("div",{className:"eq-chart-header",children:t.jsxs("div",{className:"eq-chart-title",children:[t.jsx(Jf,{className:"eq-chart-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Maintenance Trends"}),t.jsx("p",{children:"Monthly maintenance events"})]})]})}),t.jsx("div",{className:"eq-chart-container",children:t.jsx(yn,{width:"100%",height:220,children:t.jsxs(C6,{data:ie,children:[t.jsx(dr,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),t.jsx(Mn,{dataKey:"month",tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(gn,{tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(Pt,{}),t.jsx(oo,{type:"monotone",dataKey:"totalEvents",stroke:"#f59e0b",name:"Total Events"}),t.jsx(oo,{type:"monotone",dataKey:"completedEvents",stroke:"#10b981",name:"Completed"})]})})})]}),t.jsxs("div",{className:"eq-chart-card",children:[t.jsx("div",{className:"eq-chart-header",children:t.jsxs("div",{className:"eq-chart-title",children:[t.jsx(hr,{className:"eq-chart-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Work Hours Trends"}),t.jsx("p",{children:"Monthly operational hours"})]})]})}),t.jsx("div",{className:"eq-chart-container",children:t.jsx(yn,{width:"100%",height:220,children:t.jsxs(I2,{data:ae,children:[t.jsx(dr,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),t.jsx(Mn,{dataKey:"month",tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(gn,{tick:{fontSize:12,fill:"var(--color-text-secondary)"}}),t.jsx(Pt,{}),t.jsx(pa,{type:"monotone",dataKey:"totalHours",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})})})]})]})]}),t.jsxs("section",{className:"eq-equipment-section",children:[t.jsxs("div",{className:"eq-section-header",children:[t.jsx("h2",{children:"Fleet Management"}),t.jsx("p",{children:"Monitor and manage equipment across all sites"})]}),t.jsxs("div",{className:"eq-equipment-content",children:[t.jsxs("div",{className:"eq-equipment-overview",children:[t.jsxs("div",{className:"eq-overview-header",children:[t.jsxs("div",{className:"eq-overview-title",children:[t.jsx(Pd,{className:"eq-overview-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Equipment by Location"}),t.jsx("p",{children:"Real-time site distribution and metrics"})]})]}),t.jsxs("div",{className:"eq-search-container",children:[t.jsx(ec,{className:"eq-search-icon"}),t.jsx("input",{type:"text",placeholder:"Search sites...",value:a,onChange:X=>s(X.target.value),className:"eq-search-input"})]})]}),t.jsx("div",{className:"eq-equipment-grid",children:K.map((X,Z)=>t.jsxs("div",{className:"eq-equipment-card",children:[t.jsxs("div",{className:"eq-equipment-header",children:[t.jsxs("div",{className:"eq-equipment-info",children:[t.jsx("h4",{children:X.name}),t.jsxs("div",{className:"eq-equipment-meta",children:[t.jsxs("span",{children:[t.jsx(Pd,{size:12})," ",X.location]}),t.jsxs("span",{children:[t.jsx(P3,{size:12})," ",X.totalEquipment," units"]})]})]}),t.jsx("div",{className:`eq-status-badge ${X.utilizationRate>80?"eq-success":X.utilizationRate>60?"eq-warning":"eq-danger"}`,children:X.utilizationRate>80?t.jsx(Pr,{size:16}):t.jsx(Qi,{size:16})})]}),t.jsxs("div",{className:"eq-equipment-stats",children:[t.jsxs("div",{className:"eq-stat",children:[t.jsx("span",{className:"eq-stat-value",children:X.activeEquipment}),t.jsx("span",{className:"eq-stat-label",children:"Active"})]}),t.jsxs("div",{className:"eq-stat",children:[t.jsxs("span",{className:"eq-stat-value",children:[X.utilizationRate,"%"]}),t.jsx("span",{className:"eq-stat-label",children:"Utilization"})]}),t.jsxs("div",{className:"eq-stat",children:[t.jsx("span",{className:"eq-stat-value",children:X.workHours}),t.jsx("span",{className:"eq-stat-label",children:"Work Hours"})]})]}),t.jsxs("div",{className:"eq-utilization-indicator",children:[t.jsx("div",{className:"eq-utilization-bar",children:t.jsx("div",{className:"eq-utilization-fill",style:{width:`${X.utilizationRate}%`,backgroundColor:X.utilizationRate>80?"#10b981":X.utilizationRate>60?"#f59e0b":"#ef4444"}})}),t.jsxs("span",{className:"eq-utilization-text",children:[X.utilizationRate,"% utilized"]})]})]},X.name))})]}),t.jsxs("div",{className:"eq-brand-overview",children:[t.jsx("div",{className:"eq-brand-header",children:t.jsxs("div",{className:"eq-brand-title",children:[t.jsx(mae,{className:"eq-brand-icon"}),t.jsxs("div",{children:[t.jsx("h3",{children:"Equipment by Brand"}),t.jsx("p",{children:"Fleet composition and brand distribution"})]})]})}),t.jsx("div",{className:"eq-brand-list",children:B.map((X,Z)=>t.jsxs("div",{className:"eq-brand-item",children:[t.jsxs("div",{className:"eq-brand-info",children:[t.jsx("span",{className:"eq-brand-name",children:X.name}),t.jsxs("span",{className:"eq-brand-count",children:[X.value," units"]})]}),t.jsx("div",{className:"eq-brand-bar",children:t.jsx("div",{className:"eq-brand-fill",style:{width:`${X.value/Math.max(...B.map(V=>V.value))*100}%`,backgroundColor:`hsl(${200+Z*40}, 70%, 50%)`}})})]},X.name))})]})]})]}),t.jsxs("section",{className:"eq-insights-section",children:[t.jsxs("div",{className:"eq-section-header",children:[t.jsx("h2",{children:"Fleet Insights"}),t.jsx("p",{children:"Additional metrics and performance indicators"})]}),t.jsxs("div",{className:"eq-insights-grid",children:[t.jsxs("div",{className:"eq-insight-card",children:[t.jsxs("div",{className:"eq-insight-header",children:[t.jsx(Qi,{className:"eq-insight-icon"}),t.jsx("h3",{children:"Maintenance Alerts"})]}),t.jsxs("div",{className:"eq-insight-content",children:[t.jsx("div",{className:"eq-insight-value",children:de}),t.jsx("div",{className:"eq-insight-label",children:"Overdue Maintenances"}),t.jsx("div",{className:"eq-insight-description",children:"Equipment requiring immediate attention"})]})]}),t.jsxs("div",{className:"eq-insight-card",children:[t.jsxs("div",{className:"eq-insight-header",children:[t.jsx(sN,{className:"eq-insight-icon"}),t.jsx("h3",{children:"Fleet Efficiency"})]}),t.jsxs("div",{className:"eq-insight-content",children:[t.jsxs("div",{className:"eq-insight-value",children:[me,"%"]}),t.jsx("div",{className:"eq-insight-label",children:"Average Utilization"}),t.jsx("div",{className:"eq-insight-description",children:"Overall fleet utilization rate"})]})]}),t.jsxs("div",{className:"eq-insight-card",children:[t.jsxs("div",{className:"eq-insight-header",children:[t.jsx(Pr,{className:"eq-insight-icon"}),t.jsx("h3",{children:"Maintenance Success"})]}),t.jsxs("div",{className:"eq-insight-content",children:[t.jsxs("div",{className:"eq-insight-value",children:[fe,"%"]}),t.jsx("div",{className:"eq-insight-label",children:"Completion Rate"}),t.jsx("div",{className:"eq-insight-description",children:"Average maintenance completion rate"})]})]})]})]})]})]})};class hie{}const mie=({data:e})=>{const{t:n}=ln();if(!e)return null;const r=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),a=[{icon:t.jsx(s9,{}),title:n("hr.dashboard.averageSalary"),value:r(e.averageSalary),color:"blue"},{icon:t.jsx(Qm,{}),title:n("hr.dashboard.employeeCount"),value:e.employeeCount,color:"green"},{icon:t.jsx(t9,{}),title:n("hr.dashboard.totalBonuses"),value:r(e.totalBonuses),color:"purple"},{icon:t.jsx(Y7,{}),title:n("hr.dashboard.totalCommissions"),value:r(e.totalCommissions),color:"orange"}];return t.jsx("div",{className:"salary-stats-container",children:a.map((s,o)=>t.jsxs("div",{className:`hr-dashboard-stat-card hr-dashboard-stat-${s.color}`,children:[t.jsx("div",{className:"hr-dashboard-stat-icon",children:s.icon}),t.jsxs("div",{className:"hr-dashboard-stat-info",children:[t.jsx("h3",{className:"hr-dashboard-stat-value",children:s.value}),t.jsx("p",{className:"hr-dashboard-stat-title",children:s.title})]})]},o))})},fie=({data:e})=>{const{t:n}=ln(),[r,a]=g.useState("departments");if(!e)return null;const s=()=>{switch(r){case"departments":return o(e.departmentCounts,n("hr.dashboard.department"));case"positions":return o(e.positionCounts,n("hr.dashboard.position"));case"employmentTypes":return o(e.employmentTypeCounts,n("hr.dashboard.employmentType"));default:return null}},o=(l,u)=>{if(!l||Object.keys(l).length===0)return t.jsx("p",{className:"no-data-message",children:n("common.noData")});const d=Object.entries(l).sort((h,f)=>f[1]-h[1]);return t.jsx("div",{className:"distribution-list",children:d.map(([h,f],p)=>t.jsxs("div",{className:"distribution-item",children:[t.jsx("div",{className:"distribution-label",children:h}),t.jsx("div",{className:"distribution-bar-container",children:t.jsx("div",{className:"distribution-bar",style:{width:`${f/l.totalEmployees*100}%`}})}),t.jsx("div",{className:"distribution-count",children:f})]},p))})};return t.jsxs("div",{className:"employee-distribution-card",children:[t.jsxs("div",{className:"distribution-card-header",children:[t.jsxs("div",{className:"site-info",children:[t.jsx("div",{className:"site-icon",children:t.jsx(Gm,{})}),t.jsxs("div",{children:[t.jsx("h3",{className:"site-name",children:e.siteName}),t.jsxs("p",{className:"site-location",children:[t.jsx(XM,{})," ",e.siteLocation]})]})]}),t.jsxs("div",{className:"employee-count",children:[t.jsx(y9,{}),t.jsxs("span",{children:[e.totalEmployees," ",n("hr.dashboard.employees")]})]})]}),t.jsxs("div",{className:"distribution-tabs",children:[t.jsxs("button",{className:`employee-distribution-tab-button ${r==="departments"?"active":""}`,onClick:()=>a("departments"),children:[t.jsx(Gm,{})," ",n("hr.dashboard.departments")]}),t.jsxs("button",{className:`employee-distribution-tab-button ${r==="positions"?"active":""}`,onClick:()=>a("positions"),children:[t.jsx(GM,{})," ",n("hr.dashboard.positions")]}),t.jsxs("button",{className:`employee-distribution-tab-button ${r==="employmentTypes"?"active":""}`,onClick:()=>a("employmentTypes"),children:[t.jsx(n9,{})," ",n("hr.dashboard.employmentTypes")]})]}),t.jsx("div",{className:"distribution-content",children:s()})]})},pie=({departmentSalaries:e})=>{const{t:n}=ln();if(!e||Object.keys(e).length===0)return t.jsxs("div",{className:"chart-container",children:[t.jsx("h3",{children:n("hr.dashboard.departmentSalaries")}),t.jsx("div",{className:"no-data-message",children:n("common.noData")})]});const r=Object.keys(e).map(o=>({department:o,averageSalary:parseFloat(e[o])}));r.sort((o,l)=>l.averageSalary-o.averageSalary);const a=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),s=({active:o,payload:l,label:u})=>o&&l&&l.length?t.jsxs("div",{className:"custom-tooltip",children:[t.jsx("p",{className:"tooltip-label",children:u}),t.jsxs("p",{className:"tooltip-value",children:[n("hr.dashboard.averageSalary"),": ",a(l[0].value)]})]}):null;return t.jsxs("div",{className:"chart-container",children:[t.jsx("h3",{children:n("hr.dashboard.departmentSalaries")}),t.jsx("div",{className:"chart-wrapper",children:t.jsx(yn,{width:"100%",height:300,children:t.jsxs(ei,{data:r,margin:{top:20,right:30,left:20,bottom:70},children:[t.jsx(dr,{strokeDasharray:"3 3"}),t.jsx(Mn,{dataKey:"department",angle:-45,textAnchor:"end",height:70,tick:{fontSize:12}}),t.jsx(gn,{tickFormatter:o=>a(o),width:80}),t.jsx(Pt,{content:t.jsx(s,{})}),t.jsx(ps,{}),t.jsx(sn,{dataKey:"averageSalary",name:n("hr.dashboard.averageSalary"),fill:"#3b82f6"})]})})})]})},vie=({monthlySalaries:e})=>{const{t:n}=ln();if(!e||Object.keys(e).length===0)return t.jsxs("div",{className:"chart-container",children:[t.jsx("h3",{children:n("hr.dashboard.monthlySalaries")}),t.jsx("div",{className:"no-data-message",children:n("common.noData")})]});const r=Object.entries(e).map(([o,l])=>({month:o,salary:parseFloat(l)})),a=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),s=({active:o,payload:l,label:u})=>o&&l&&l.length?t.jsxs("div",{className:"custom-tooltip",children:[t.jsx("p",{className:"tooltip-label",children:u}),t.jsxs("p",{className:"tooltip-value",children:[n("hr.dashboard.totalSalary"),": ",a(l[0].value)]})]}):null;return t.jsxs("div",{className:"chart-container",children:[t.jsx("h3",{children:n("hr.dashboard.monthlySalaries")}),t.jsx("div",{className:"chart-wrapper",children:t.jsx(yn,{width:"100%",height:300,children:t.jsxs(C6,{data:r,margin:{top:20,right:30,left:20,bottom:40},children:[t.jsx(dr,{strokeDasharray:"3 3"}),t.jsx(Mn,{dataKey:"month",tick:{fontSize:12}}),t.jsx(gn,{tickFormatter:o=>a(o),width:80}),t.jsx(Pt,{content:t.jsx(s,{})}),t.jsx(ps,{}),t.jsx(oo,{type:"monotone",dataKey:"salary",name:n("hr.dashboard.totalSalary"),stroke:"#3b82f6",activeDot:{r:8},strokeWidth:2})]})})})]})},yie=({data:e})=>{const{t:n}=ln(),[r,a]=g.useState("all"),s=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#14b8a6","#6366f1","#84cc16"],o=g.useMemo(()=>{if(!e||e.length===0)return[];const d=new Map;return e.forEach(h=>{if(r!=="all"&&h.siteName!==r)return;const f=h.positionCounts||{};Object.entries(f).forEach(([p,y])=>{const b=d.get(p)||0;d.set(p,b+y)})}),Array.from(d.entries()).map(([h,f])=>({name:h,value:f})).sort((h,f)=>f.value-h.value).slice(0,10)},[e,r]),l=g.useMemo(()=>e?[{value:"all",label:n("hr.dashboard.allSites")},...e.map(d=>({value:d.siteName,label:d.siteName}))]:[],[e,n]),u=({active:d,payload:h})=>d&&h&&h.length?t.jsxs("div",{className:"position-tooltip",children:[t.jsx("p",{className:"position-name",children:h[0].name}),t.jsxs("p",{className:"position-count",children:[h[0].value," ",n("hr.dashboard.employees")]}),t.jsx("p",{className:"position-percent",children:`${(h[0].percent*100).toFixed(1)}%`})]}):null;return!e||e.length===0||o.length===0?t.jsxs("div",{className:"chart-container",children:[t.jsx("h3",{children:n("hr.dashboard.employeesByPosition")}),t.jsx("div",{className:"no-data-message",children:n("common.noData")})]}):t.jsxs("div",{className:"position-chart-container",children:[t.jsxs("div",{className:"chart-header",children:[t.jsx("h3",{children:n("hr.dashboard.employeesByPosition")}),t.jsx("select",{className:"site-selector",value:r,onChange:d=>a(d.target.value),children:l.map(d=>t.jsx("option",{value:d.value,children:d.label},d.value))})]}),t.jsx("div",{className:"position-chart-wrapper",children:t.jsx(yn,{width:"100%",height:350,children:t.jsxs(zi,{children:[t.jsx(sr,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,labelLine:!1,label:({name:d,percent:h})=>`${d} (${(h*100).toFixed(0)}%)`,dataKey:"value",nameKey:"name",children:o.map((d,h)=>t.jsx(Pa,{fill:s[h%s.length]},`cell-${h}`))}),t.jsx(Pt,{content:t.jsx(u,{})}),t.jsx(ps,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{paddingLeft:"20px"}})]})})})]})},gie=()=>{const{t:e}=ln(),[n,r]=g.useState(null),[a,s]=g.useState([]),[o,l]=g.useState(!0),[u,d]=g.useState(null);return g.useEffect(()=>{(async()=>{try{l(!0);const f=localStorage.getItem("token"),p=await fetch("http://localhost:8080/api/v1/hr/dashboard/salary-statistics",{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(!p.ok)throw new Error(`Error fetching salary statistics: ${p.status}`);const y=await fetch("http://localhost:8080/api/v1/hr/dashboard/employee-distribution",{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error(`Error fetching employee distribution: ${y.status}`);const b=await p.json(),x=await y.json();r(b),s(x),d(null)}catch(f){console.error("Error fetching dashboard data:",f),d(f.message)}finally{l(!1)}})()},[]),o?t.jsxs("div",{className:"hr-dashboard-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:e("common.loading")})]}):u?t.jsxs("div",{className:"hr-dashboard-error",children:[t.jsx("h3",{children:e("common.error")}),t.jsx("p",{children:u})]}):t.jsxs("div",{className:"hr-dashboard",children:[t.jsx("div",{className:"hr-dashboard-header",children:t.jsx("h1",{children:e("hr.dashboard.title")})}),t.jsxs("div",{className:"hr-dashboard-content",children:[t.jsxs("div",{className:"dashboard-section",children:[t.jsx("h2",{children:e("hr.dashboard.salaryStatistics")}),t.jsx("div",{className:"stats-cards",children:t.jsx(mie,{data:n})}),t.jsxs("div",{className:"stats-charts",children:[t.jsx(pie,{departmentSalaries:(n==null?void 0:n.departmentAverageSalaries)||{}}),t.jsx(vie,{monthlySalaries:(n==null?void 0:n.monthlySalaryTotals)||{}})]})]}),t.jsxs("div",{className:"dashboard-section",children:[t.jsx("h2",{children:e("hr.dashboard.employeeDistribution")}),t.jsx("div",{className:"distribution-cards",children:a.map((h,f)=>t.jsx(fie,{data:h},f))}),a.length>0&&t.jsx("div",{className:"distribution-charts",children:t.jsx(yie,{data:a})})]})]})]})},xie=()=>{const{currentUser:e}=Xt(),[n,r]=g.useState(!1);g.useEffect(()=>{const s=()=>{r(window.innerWidth<768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const a=()=>{switch(e==null?void 0:e.role){case"SITE_ADMIN":return t.jsx(k9,{});case"PROCUREMENT":return t.jsx(O9,{});case"WAREHOUSE_MANAGER":return t.jsx(Dae,{});case"SECRETARY":return t.jsx(Pae,{});case"EQUIPMENT_MANAGER":return t.jsx(die,{});case"HR_MANAGER":return t.jsx(hie,{});case"HR_EMPLOYEE":return t.jsx(gie,{});case"USER":default:return t.jsx(C9,{})}};return t.jsx("div",{className:"dashboard-layout",children:t.jsx("div",{className:"dashboard-content",children:a()})})},bie=({onClose:e,onSave:n,jobPositions:r})=>{const a=new Date().toISOString().split("T")[0],[s,o]=g.useState({title:"",description:"",requirements:"",responsibilities:"",postingDate:a,closingDate:"",status:"OPEN",numberOfPositions:1,priority:"MEDIUM",jobPosition:null}),[l,u]=g.useState({}),d=y=>{const{name:b,value:x}=y.target;o({...s,[b]:x}),l[b]&&u({...l,[b]:null})},h=y=>{const b=y.target.value;if(b===""){o({...s,jobPosition:null});return}const x=r.find(j=>j.id===b);x&&o({...s,jobPosition:{id:x.id}})},f=()=>{const y={};s.title||(y.title="Title is required"),s.description||(y.description="Description is required"),s.closingDate||(y.closingDate="Closing date is required");const b=new Date(s.postingDate);return new Date(s.closingDate)<b&&(y.closingDate="Closing date cannot be before posting date"),s.numberOfPositions<1&&(y.numberOfPositions="Number of positions must be at least 1"),u(y),Object.keys(y).length===0},p=y=>{y.preventDefault(),f()&&n(s)};return t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"vacancy-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Post New Vacancy"}),t.jsx("button",{className:"close-button",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:p,children:[t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Job Title *"}),t.jsx("input",{type:"text",name:"title",value:s.title,onChange:d,className:l.title?"error":"",placeholder:"e.g. Senior Software Engineer"}),l.title&&t.jsx("span",{className:"error-message",children:l.title})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Job Position"}),t.jsxs("select",{onChange:h,defaultValue:"",children:[t.jsx("option",{value:"",children:"Select a position"}),r.map(y=>t.jsxs("option",{value:y.id,children:[y.positionName," - ",y.department]},y.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{name:"status",value:s.status,onChange:d,children:[t.jsx("option",{value:"OPEN",children:"Open"}),t.jsx("option",{value:"CLOSED",children:"Closed"}),t.jsx("option",{value:"FILLED",children:"Filled"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Number of Positions"}),t.jsx("input",{type:"number",name:"numberOfPositions",value:s.numberOfPositions,onChange:d,min:"1",className:l.numberOfPositions?"error":""}),l.numberOfPositions&&t.jsx("span",{className:"error-message",children:l.numberOfPositions})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Priority"}),t.jsxs("select",{name:"priority",value:s.priority,onChange:d,children:[t.jsx("option",{value:"HIGH",children:"High"}),t.jsx("option",{value:"MEDIUM",children:"Medium"}),t.jsx("option",{value:"LOW",children:"Low"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Posting Date"}),t.jsx("input",{type:"date",name:"postingDate",value:s.postingDate,onChange:d})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Closing Date *"}),t.jsx("input",{type:"date",name:"closingDate",value:s.closingDate,onChange:d,className:l.closingDate?"error":"",min:s.postingDate}),l.closingDate&&t.jsx("span",{className:"error-message",children:l.closingDate})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Description *"}),t.jsx("textarea",{name:"description",value:s.description,onChange:d,rows:"4",className:l.description?"error":"",placeholder:"Brief overview of the job opportunity"}),l.description&&t.jsx("span",{className:"error-message",children:l.description})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Requirements"}),t.jsx("textarea",{name:"requirements",value:s.requirements,onChange:d,rows:"4",placeholder:"Qualifications, skills, experience needed"})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Responsibilities"}),t.jsx("textarea",{name:"responsibilities",value:s.responsibilities,onChange:d,rows:"4",placeholder:"Key duties and responsibilities of the position"})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"cancel-btn",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"save-btn",children:"Post Vacancy"})]})]})]})})},jie=({vacancy:e,onClose:n,onSave:r,jobPositions:a})=>{const[s,o]=g.useState({title:"",description:"",requirements:"",responsibilities:"",postingDate:"",closingDate:"",status:"OPEN",numberOfPositions:1,priority:"MEDIUM",jobPosition:null}),[l,u]=g.useState({});g.useEffect(()=>{if(e){const y=b=>b?new Date(b).toISOString().split("T")[0]:"";o({title:e.title||"",description:e.description||"",requirements:e.requirements||"",responsibilities:e.responsibilities||"",postingDate:y(e.postingDate),closingDate:y(e.closingDate),status:e.status||"OPEN",numberOfPositions:e.numberOfPositions||1,priority:e.priority||"MEDIUM",jobPosition:e.jobPosition||null})}},[e]);const d=y=>{const{name:b,value:x}=y.target;o({...s,[b]:x}),l[b]&&u({...l,[b]:null})},h=y=>{const b=y.target.value;if(b===""){o({...s,jobPosition:null});return}const x=a.find(j=>j.id===parseInt(b));o({...s,jobPosition:x})},f=()=>{const y={};if(s.title||(y.title="Title is required"),s.description||(y.description="Description is required"),s.closingDate||(y.closingDate="Closing date is required"),s.closingDate&&s.postingDate){const b=new Date(s.postingDate);new Date(s.closingDate)<b&&(y.closingDate="Closing date cannot be before posting date")}return s.numberOfPositions<1&&(y.numberOfPositions="Number of positions must be at least 1"),u(y),Object.keys(y).length===0},p=y=>{y.preventDefault(),f()&&r({...s,id:e.id})};return t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"vacancy-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Edit Vacancy"}),t.jsx("button",{className:"close-button",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:p,children:[t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Job Title *"}),t.jsx("input",{type:"text",name:"title",value:s.title,onChange:d,className:l.title?"error":"",placeholder:"e.g. Senior Software Engineer"}),l.title&&t.jsx("span",{className:"error-message",children:l.title})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Job Position"}),t.jsxs("select",{onChange:h,value:s.jobPosition?s.jobPosition.id:"",children:[t.jsx("option",{value:"",children:"Select a position"}),a.map(y=>t.jsxs("option",{value:y.id,children:[y.positionName," - ",y.department]},y.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{name:"status",value:s.status,onChange:d,children:[t.jsx("option",{value:"OPEN",children:"Open"}),t.jsx("option",{value:"CLOSED",children:"Closed"}),t.jsx("option",{value:"FILLED",children:"Filled"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Number of Positions"}),t.jsx("input",{type:"number",name:"numberOfPositions",value:s.numberOfPositions,onChange:d,min:"1",className:l.numberOfPositions?"error":""}),l.numberOfPositions&&t.jsx("span",{className:"error-message",children:l.numberOfPositions})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Priority"}),t.jsxs("select",{name:"priority",value:s.priority,onChange:d,children:[t.jsx("option",{value:"HIGH",children:"High"}),t.jsx("option",{value:"MEDIUM",children:"Medium"}),t.jsx("option",{value:"LOW",children:"Low"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Posting Date"}),t.jsx("input",{type:"date",name:"postingDate",value:s.postingDate,onChange:d})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Closing Date *"}),t.jsx("input",{type:"date",name:"closingDate",value:s.closingDate,onChange:d,className:l.closingDate?"error":"",min:s.postingDate}),l.closingDate&&t.jsx("span",{className:"error-message",children:l.closingDate})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Description *"}),t.jsx("textarea",{name:"description",value:s.description,onChange:d,rows:"4",className:l.description?"error":"",placeholder:"Brief overview of the job opportunity"}),l.description&&t.jsx("span",{className:"error-message",children:l.description})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Requirements"}),t.jsx("textarea",{name:"requirements",value:s.requirements,onChange:d,rows:"4",placeholder:"Qualifications, skills, experience needed"})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Responsibilities"}),t.jsx("textarea",{name:"responsibilities",value:s.responsibilities,onChange:d,rows:"4",placeholder:"Key duties and responsibilities of the position"})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"cancel-btn",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"save-btn",children:"Update Vacancy"})]})]})]})})},Ss=({type:e="success",message:n,show:r,onClose:a,duration:s=3e3,persistent:o=!1,actions:l=null})=>{const[u,d]=g.useState(!1),[h,f]=g.useState("hidden"),p=165,y=535;g.useEffect(()=>{if(r){if(d(!0),setTimeout(()=>{f("slide-in")},p),!o&&!l){const w=setTimeout(()=>{f("slide-out");const T=setTimeout(()=>{d(!1),a&&a()},y);return()=>clearTimeout(T)},s);return()=>clearTimeout(w)}}else{f("slide-out");const w=setTimeout(()=>{d(!1)},y);return()=>clearTimeout(w)}},[r,s,a,o,l]);const b=()=>{f("slide-out"),setTimeout(()=>{d(!1),a&&a()},y)};if(!u)return null;const x=()=>{switch(e){case"success":return t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),t.jsx("path",{d:"M22 4L12 14.01l-3-3"})]});case"error":return t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),t.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]});case"info":return t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});case"warning":return t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]});default:return null}},j=typeof n=="string"&&n.includes(`
`);return t.jsxs("div",{className:`snackbar ${e}-snackbar ${h} ${o?"persistent":""} ${j?"multi-line":""}`,children:[t.jsx("div",{className:"snackbar-icon",children:x()}),t.jsxs("div",{className:"snackbar-content",children:[j?t.jsx("pre",{className:"snackbar-message",children:n}):t.jsx("span",{className:"snackbar-message",children:n}),l&&l.buttons&&t.jsx("div",{className:"snackbar-actions",children:l.buttons.map((w,T)=>t.jsx("button",{className:`snackbar-action-button ${w.type||"default"}`,onClick:()=>{w.onClick&&w.onClick(),w.preventClose||b()},children:w.label},T))})]}),o&&!l&&t.jsx("button",{className:"snackbar-close-button",onClick:b,"aria-label":"Close notification",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},s8=g.createContext(),Nie=({children:e})=>{const[n,r]=g.useState({show:!1,message:"",type:"success",duration:3e3,persistent:!1,actions:null}),a=g.useCallback((f,p="success",y=3e3,b=!1,x=null)=>{r({show:!0,message:f,type:p,duration:y,persistent:b,actions:x})},[]),s=g.useCallback(()=>{r(f=>({...f,show:!1}))},[]),o=g.useCallback((f,p)=>a(f,"success",p),[a]),l=g.useCallback((f,p)=>a(f,"error",p),[a]),u=g.useCallback((f,p,y=!1)=>a(f,"info",p,y),[a]),d=g.useCallback((f,p,y=!1)=>a(f,"warning",p,y),[a]),h=g.useCallback((f,p,y)=>{a(f,"warning",0,!0,{buttons:[{label:"YES",type:"confirm",onClick:()=>{p&&p(),s()}},{label:"NO",type:"cancel",onClick:()=>{y&&y(),s()}}]})},[a,s]);return t.jsxs(s8.Provider,{value:{showSnackbar:a,hideSnackbar:s,showSuccess:o,showError:l,showInfo:u,showWarning:d,showConfirmation:h},children:[e,t.jsx(Ss,{show:n.show,message:n.message,type:n.type,duration:n.duration,persistent:n.persistent,actions:n.actions,onClose:s})]})},cn=()=>{const e=g.useContext(s8);if(!e)throw new Error("useSnackbar must be used within a SnackbarProvider");return e},Cm={getAll:()=>ye.get(is.BASE),getById:e=>ye.get(is.BY_ID(e)),create:e=>ye.post(is.CREATE,e),update:(e,n)=>ye.put(is.UPDATE(e),n),delete:e=>ye.delete(is.DELETE(e)),getStatistics:e=>ye.get(is.STATISTICS(e)),getPotentialCandidates:()=>ye.get(is.POTENTIAL_CANDIDATES),hireCandidate:e=>ye.post(is.HIRE_CANDIDATE(e)),moveToPotential:e=>ye.post(is.MOVE_TO_POTENTIAL(e))},bl={getAll:()=>ye.get(Aa.BASE),getAllDTOs:()=>ye.get(Aa.BASE),getById:e=>ye.get(Aa.BY_ID(e)),getDTOById:e=>ye.get(Aa.DTO_BY_ID(e)),create:e=>ye.post(Aa.CREATE,e),createDTO:e=>ye.post(Aa.CREATE_DTO,e),update:(e,n)=>ye.put(Aa.UPDATE(e),n),updateDTO:(e,n)=>ye.put(Aa.UPDATE_DTO(e),n),delete:e=>ye.delete(Aa.DELETE(e)),getEmployees:e=>ye.get(Aa.EMPLOYEES(e))},wie=()=>{const e=Tt(),{showSuccess:n,showError:r}=cn(),[a,s]=g.useState([]),[o,l]=g.useState(!1),[u,d]=g.useState(!1),[h,f]=g.useState(null),[p,y]=g.useState(!0),[b,x]=g.useState(null),[j,w]=g.useState([]),[T,A]=g.useState(""),[O,P]=g.useState(""),S=async()=>{var q,B;try{y(!0);const K=(await Cm.getAll()).data;s(K),y(!1)}catch(H){console.error("Error fetching vacancies:",H);const K=((B=(q=H.response)==null?void 0:q.data)==null?void 0:B.message)||H.message||"Failed to load vacancies";x(K),r("Failed to load vacancies. Please try again."),y(!1)}},E=async()=>{try{const q=await bl.getAll();w(q.data)}catch(q){console.error("Error fetching job positions:",q),r("Failed to load job positions")}};g.useEffect(()=>{S(),E()},[]);const k=async q=>{var B,H;try{y(!0),console.log("Sending vacancy data:",q);const K=await Cm.create(q);await S(),l(!1),n("Vacancy created successfully!")}catch(K){console.error("Error adding vacancy:",K),console.error("Error response:",K.response);const ie=((H=(B=K.response)==null?void 0:B.data)==null?void 0:H.message)||K.message||"Failed to create vacancy";x(ie),r("Failed to create vacancy. Please try again.")}finally{y(!1)}},D=async q=>{var B,H;try{y(!0);const K=await Cm.update(h.id,q);await S(),d(!1),f(null),n("Vacancy updated successfully!")}catch(K){console.error("Error updating vacancy:",K);const ie=((H=(B=K.response)==null?void 0:B.data)==null?void 0:H.message)||K.message||"Failed to update vacancy";x(ie),r("Failed to update vacancy. Please try again.")}finally{y(!1)}},_=async q=>{var B,H;if(window.confirm("Are you sure you want to delete this vacancy?"))try{y(!0),await Cm.delete(q),await S(),n("Vacancy deleted successfully!")}catch(K){console.error("Error deleting vacancy:",K);const ie=((H=(B=K.response)==null?void 0:B.data)==null?void 0:H.message)||K.message||"Failed to delete vacancy";x(ie),r("Failed to delete vacancy. Please try again.")}finally{y(!1)}},U=q=>{f(q),d(!0)},R=q=>{e(`/hr/vacancies/${q.id}`)},$=q=>q?new Date(q).toLocaleDateString():"N/A",L=q=>{if(!q)return"N/A";const B=new Date,K=new Date(q)-B,ie=Math.ceil(K/(1e3*60*60*24));return ie<0?"Closed":ie===0?"Today":`${ie} days`},z=q=>{switch(q){case"OPEN":return"status-badge-success";case"CLOSED":return"status-badge-danger";case"FILLED":return"status-badge-info";default:return"status-badge-warning"}},W=q=>{switch(q){case"HIGH":return"priority-badge-high";case"MEDIUM":return"priority-badge-medium";case"LOW":return"priority-badge-low";default:return"priority-badge-medium"}},M=[{header:"Title",accessor:"title",render:q=>t.jsx("div",{className:"title-cell",children:t.jsx("strong",{children:q.title})})},{header:"Position",accessor:"jobPosition.positionName",render:q=>q.jobPosition?q.jobPosition.positionName:"N/A"},{header:"Department",accessor:"jobPosition.department.name",render:q=>q.jobPosition&&q.jobPosition.department&&q.jobPosition.department.name||"N/A"},{header:"Status",accessor:"status",render:q=>t.jsx("span",{className:`jv-status-badge ${z(q.status)}`,children:q.status})},{header:"Priority",accessor:"priority",render:q=>t.jsx("span",{className:`priority-badge ${W(q.priority)}`,children:q.priority||"MEDIUM"})},{header:"Posted",accessor:"postingDate",render:q=>$(q.postingDate)},{header:"Closing",accessor:"closingDate",render:q=>$(q.closingDate)},{header:"Remaining",accessor:"closingDate",render:q=>{const B=L(q.closingDate),H=B==="Closed"?"remaining-days-closed":B==="Today"?"remaining-days-today":parseInt(B)<=7?"remaining-days-urgent":"remaining-days-normal";return t.jsx("span",{className:H,children:B})}},{header:"Positions",accessor:"numberOfPositions",render:q=>t.jsx("div",{className:"center-text",children:q.numberOfPositions||1})}],F=[{label:"Edit",icon:t.jsx(ga,{}),onClick:q=>U(q),className:"primary"},{label:"Delete",icon:t.jsx(kN,{}),onClick:q=>_(q.id),className:"danger"}],G=[{header:"Title",accessor:"title"},{header:"Position",accessor:"jobPosition.positionName"},{header:"Department",accessor:"jobPosition.department.name"}],J=[{label:"Status",component:t.jsxs("select",{value:T,onChange:q=>A(q.target.value),children:[t.jsx("option",{value:"",children:"All Statuses"}),t.jsx("option",{value:"OPEN",children:"Open"}),t.jsx("option",{value:"CLOSED",children:"Closed"}),t.jsx("option",{value:"FILLED",children:"Filled"})]})},{label:"Priority",component:t.jsxs("select",{value:O,onChange:q=>P(q.target.value),children:[t.jsx("option",{value:"",children:"All Priorities"}),t.jsx("option",{value:"HIGH",children:"High"}),t.jsx("option",{value:"MEDIUM",children:"Medium"}),t.jsx("option",{value:"LOW",children:"Low"})]})}],I=a.filter(q=>{const B=!T||q.status===T,H=!O||q.priority===O;return B&&H});return b?t.jsx("div",{className:"vacancy-container",children:t.jsxs("div",{className:"error-container",children:[t.jsxs("p",{children:["Error: ",b]}),t.jsx("button",{onClick:S,children:"Try Again"})]})}):t.jsxs("div",{className:"vacancy-container",children:[t.jsxs("div",{className:"departments-header",children:[t.jsxs("h1",{children:["Job Vacancies",t.jsx("p",{className:"employees-header__subtitle",children:"Post open positions, manage applications, and track your recruitment process"})]}),t.jsx("button",{className:"primary-button",onClick:()=>l(!0),children:"Post New Vacancy"})]}),t.jsx(Nt,{data:I,columns:M,actions:F,loading:p,tableTitle:"",showSearch:!0,showFilters:!0,filterableColumns:G,customFilters:J,onRowClick:R,defaultItemsPerPage:10,itemsPerPageOptions:[10,25,50],className:"vacancy-data-table"}),o&&t.jsx(bie,{onClose:()=>l(!1),onSave:k,jobPositions:j}),u&&h&&t.jsx(jie,{vacancy:h,onClose:()=>{d(!1),f(null)},onSave:D,jobPositions:j})]})};function yN(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function ir(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function xn(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Qd(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function xj(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function i8(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function _n(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function tp(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Sie(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Eie(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function _d(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Qn(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function vo(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function o8(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(e)}function gN(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function Tie(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Aie(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function La(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Cie(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function l8(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function V3(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function kie(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function F2(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function H2(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Y3(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function vr(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function bj(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function si(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const Oie=({isOpen:e,onClose:n,onSubmit:r})=>{const{showError:a,showWarning:s}=cn(),[o,l]=g.useState({positionName:"",department:"",head:"",contractType:"MONTHLY",experienceLevel:"ENTRY_LEVEL",probationPeriod:90,active:!0,workingDaysPerWeek:5,hoursPerShift:8,hourlyRate:0,overtimeMultiplier:1.5,trackBreaks:!1,breakDurationMinutes:30,dailyRate:0,workingDaysPerMonth:22,includesWeekends:!1,monthlyBaseSalary:0,shifts:"Day Shift",workingHours:8,vacations:"21 days annual leave",baseSalary:"",type:"",workingDays:"",customVacationDays:""}),[u,d]=g.useState(!1),[h,f]=g.useState(null),[p,y]=g.useState([]),[b,x]=g.useState([]),[j,w]=g.useState(!1),[T,A]=g.useState(!1),[O,P]=g.useState({daily:0,monthly:0}),S=[{value:"HOURLY",label:"Hourly Contract",description:"Pay per hour worked with time tracking"},{value:"DAILY",label:"Daily Contract",description:"Fixed daily rate for attendance"},{value:"MONTHLY",label:"Monthly Contract",description:"Fixed monthly salary"}],E=[{value:"ENTRY_LEVEL",label:"Entry Level"},{value:"MID_LEVEL",label:"Mid Level"},{value:"SENIOR_LEVEL",label:"Senior Level"},{value:"EXPERT_LEVEL",label:"Expert Level"}];g.useEffect(()=>{e&&(D(),_())},[e]),g.useEffect(()=>{e&&(l({positionName:"",department:"",head:"",contractType:"MONTHLY",experienceLevel:"ENTRY_LEVEL",probationPeriod:90,active:!0,workingDaysPerWeek:5,hoursPerShift:8,hourlyRate:0,overtimeMultiplier:1.5,trackBreaks:!1,breakDurationMinutes:30,dailyRate:0,workingDaysPerMonth:22,includesWeekends:!1,monthlyBaseSalary:0,shifts:"Day Shift",workingHours:8,vacations:"21 days annual leave",baseSalary:"",type:"",workingDays:"",customVacationDays:""}),f(null))},[e]),g.useEffect(()=>{k()},[o]);const k=()=>{let z=0,W=0;switch(o.contractType){case"HOURLY":z=(o.hourlyRate||0)*(o.hoursPerShift||0),W=z*(o.workingDaysPerWeek||0)*4;break;case"DAILY":z=o.dailyRate||0,W=z*(o.workingDaysPerMonth||0);break;case"MONTHLY":W=o.monthlyBaseSalary||0,z=W/22;break;default:z=0,W=0}P({daily:Math.round(z*100)/100,monthly:Math.round(W*100)/100})},D=async()=>{w(!0);try{const z=await fetch("http://localhost:8080/api/v1/employees",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!z.ok)throw new Error("Failed to fetch employees");const W=await z.json();y(Array.isArray(W)?W:[])}catch(z){console.error("Error fetching employees:",z),a("Failed to load employees. Please try again."),f(W=>W||"Failed to load employees")}finally{w(!1)}},_=async()=>{A(!0);try{const z=await fetch("http://localhost:8080/api/v1/departments",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!z.ok)throw new Error("Failed to fetch departments");const W=await z.json();x(Array.isArray(W)?W:[])}catch(z){console.error("Error fetching departments:",z),a("Failed to load departments. Please try again."),f(W=>W||"Failed to load departments")}finally{A(!1)}},U=z=>{const{name:W,value:M,type:F,checked:G}=z.target;l(J=>({...J,[W]:F==="checkbox"?G:F==="number"?M===""?"":Number(M):M}))},R=()=>{const z=[];switch(o.positionName.trim()||z.push("Position name is required"),o.department||z.push("Department is required"),o.contractType){case"HOURLY":(!o.hourlyRate||o.hourlyRate<=0)&&z.push("Hourly rate must be greater than 0"),(!o.hoursPerShift||o.hoursPerShift<=0)&&z.push("Hours per shift must be greater than 0"),(!o.workingDaysPerWeek||o.workingDaysPerWeek<=0||o.workingDaysPerWeek>7)&&z.push("Working days per week must be between 1 and 7");break;case"DAILY":(!o.dailyRate||o.dailyRate<=0)&&z.push("Daily rate must be greater than 0"),(!o.workingDaysPerMonth||o.workingDaysPerMonth<=0||o.workingDaysPerMonth>31)&&z.push("Working days per month must be between 1 and 31");break;case"MONTHLY":(!o.monthlyBaseSalary||o.monthlyBaseSalary<=0)&&z.push("Monthly salary must be greater than 0");break}return z},$=async z=>{z.preventDefault(),d(!0),f(null);try{const W=R();if(W.length>0){const F=W.join(`
`);throw a(F),new Error(F)}const M={positionName:o.positionName.trim(),department:o.department,head:o.head||null,contractType:o.contractType,experienceLevel:o.experienceLevel,probationPeriod:o.probationPeriod,active:o.active,...o.contractType==="HOURLY"&&{workingDaysPerWeek:o.workingDaysPerWeek,hoursPerShift:o.hoursPerShift,hourlyRate:o.hourlyRate,overtimeMultiplier:o.overtimeMultiplier,trackBreaks:o.trackBreaks,breakDurationMinutes:o.trackBreaks?o.breakDurationMinutes:null},...o.contractType==="DAILY"&&{dailyRate:o.dailyRate,workingDaysPerMonth:o.workingDaysPerMonth,includesWeekends:o.includesWeekends},...o.contractType==="MONTHLY"&&{monthlyBaseSalary:o.monthlyBaseSalary,shifts:o.shifts,workingHours:o.workingHours,vacations:o.vacations},calculatedDailySalary:O.daily,calculatedMonthlySalary:O.monthly};await r(M)}catch(W){console.error("Error submitting form:",W),a(W.message||"Failed to add position"),f(W.message||"Failed to add position")}finally{d(!1)}};g.useEffect(()=>{(()=>{let W="";switch(o.contractType){case"HOURLY":o.hourlyRate<7.25&&(W="Hourly rate is below federal minimum wage ($7.25)");break;case"DAILY":o.dailyRate<58&&(W="Daily rate is below minimum wage equivalent ($58)");break;case"MONTHLY":o.monthlyBaseSalary<1256&&(W="Monthly salary is below minimum wage equivalent ($1,256)");break}W&&s(W)})()},[o.contractType,o.hourlyRate,o.dailyRate,o.monthlyBaseSalary,s]);const L=()=>{switch(o.contractType){case"HOURLY":return t.jsxs("div",{className:"jp-section",children:[t.jsx("h4",{children:"Hourly Contract Configuration"}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"hourlyRate",children:["Hourly Rate ($) ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"hourlyRate",name:"hourlyRate",value:o.hourlyRate,onChange:U,min:"0",step:"0.01",required:!0,placeholder:"0.00"})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"hoursPerShift",children:["Hours per Shift ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"hoursPerShift",name:"hoursPerShift",value:o.hoursPerShift,onChange:U,min:"1",max:"24",required:!0})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"workingDaysPerWeek",children:["Working Days per Week ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"workingDaysPerWeek",name:"workingDaysPerWeek",value:o.workingDaysPerWeek,onChange:U,min:"1",max:"7",required:!0})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"overtimeMultiplier",children:"Overtime Multiplier"}),t.jsx("input",{type:"number",id:"overtimeMultiplier",name:"overtimeMultiplier",value:o.overtimeMultiplier,onChange:U,min:"1",max:"3",step:"0.1"})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsx("div",{className:"jp-form-group jp-checkbox-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"trackBreaks",checked:o.trackBreaks,onChange:U}),"Track Break Time"]})}),o.trackBreaks&&t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"breakDurationMinutes",children:"Break Duration (minutes)"}),t.jsx("input",{type:"number",id:"breakDurationMinutes",name:"breakDurationMinutes",value:o.breakDurationMinutes,onChange:U,min:"0",max:"120"})]})]})]});case"DAILY":return t.jsxs("div",{className:"jp-section",children:[t.jsx("h4",{children:"Daily Contract Configuration"}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"dailyRate",children:["Daily Rate ($) ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"dailyRate",name:"dailyRate",value:o.dailyRate,onChange:U,min:"0",step:"0.01",required:!0,placeholder:"0.00"})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"workingDaysPerMonth",children:["Working Days per Month ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"workingDaysPerMonth",name:"workingDaysPerMonth",value:o.workingDaysPerMonth,onChange:U,min:"1",max:"31",required:!0})]})]}),t.jsx("div",{className:"jp-form-row",children:t.jsx("div",{className:"jp-form-group jp-checkbox-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"includesWeekends",checked:o.includesWeekends,onChange:U}),"Includes Weekend Work"]})})})]});case"MONTHLY":return t.jsxs("div",{className:"jp-section",children:[t.jsx("h4",{children:"Monthly Contract Configuration"}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"monthlyBaseSalary",children:["Monthly Base Salary ($) ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"monthlyBaseSalary",name:"monthlyBaseSalary",value:o.monthlyBaseSalary,onChange:U,min:"0",step:"0.01",required:!0,placeholder:"0.00"})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"workingHours",children:"Standard Working Hours per Day"}),t.jsx("input",{type:"number",id:"workingHours",name:"workingHours",value:o.workingHours,onChange:U,min:"1",max:"24"})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"shifts",children:"Shifts"}),t.jsx("div",{className:"jp-select-wrapper",children:t.jsxs("select",{id:"shifts",name:"shifts",value:o.shifts,onChange:U,children:[t.jsx("option",{value:"Day Shift",children:"Day Shift"}),t.jsx("option",{value:"Night Shift",children:"Night Shift"}),t.jsx("option",{value:"Rotating Shifts",children:"Rotating Shifts"}),t.jsx("option",{value:"Flexible",children:"Flexible"})]})})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"vacations",children:"Vacation Policy"}),t.jsx("input",{type:"text",id:"vacations",name:"vacations",value:o.vacations,onChange:U,placeholder:"e.g., 21 days annual leave"})]})]})]});default:return null}};return e?t.jsx("div",{className:"jp-modal",children:t.jsxs("div",{className:"jp-modal-content",children:[t.jsxs("div",{className:"jp-modal-header",children:[t.jsx("h2",{children:"Add New Position"}),t.jsx("button",{className:"jp-modal-close",onClick:n,children:""})]}),h&&t.jsx("div",{className:"jp-error",children:h}),T||j?t.jsx("div",{className:"jp-loading",children:"Loading form data..."}):t.jsxs("form",{onSubmit:$,children:[t.jsxs("div",{className:"jp-section",children:[t.jsx("h3",{children:"Basic Information"}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"positionName",children:["Position Name ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"text",id:"positionName",name:"positionName",value:o.positionName,onChange:U,required:!0,placeholder:"e.g. Software Engineer"})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"department",children:["Department ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("div",{className:"jp-select-wrapper",children:t.jsxs("select",{id:"department",name:"department",value:o.department,onChange:U,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Department"}),b.map(z=>t.jsx("option",{value:z.name,children:z.name},z.id))]})})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"head",children:"Reporting To"}),t.jsx("div",{className:"jp-select-wrapper",children:t.jsxs("select",{id:"head",name:"head",value:o.head,onChange:U,children:[t.jsx("option",{value:"",children:"Select Manager (Optional)"}),p.map(z=>t.jsx("option",{value:z.fullName||`${z.firstName} ${z.lastName}`,children:z.fullName||`${z.firstName} ${z.lastName}`},z.id))]})})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"experienceLevel",children:"Experience Level"}),t.jsx("div",{className:"jp-select-wrapper",children:t.jsx("select",{id:"experienceLevel",name:"experienceLevel",value:o.experienceLevel,onChange:U,children:E.map(z=>t.jsx("option",{value:z.value,children:z.label},z.value))})})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"probationPeriod",children:"Probation Period (days)"}),t.jsx("input",{type:"number",id:"probationPeriod",name:"probationPeriod",value:o.probationPeriod,onChange:U,min:"0",max:"365",placeholder:"90"})]}),t.jsx("div",{className:"jp-checkbox-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"active",checked:o.active,onChange:U}),"Active Position"]})})]})]}),t.jsxs("div",{className:"jp-section",children:[t.jsx("h3",{children:"Contract Type"}),t.jsx("div",{className:"jp-contract-selector",children:S.map(z=>t.jsxs("div",{className:`jp-contract-option ${o.contractType===z.value?"selected":""}`,onClick:()=>l(W=>({...W,contractType:z.value})),children:[t.jsxs("div",{className:"jp-contract-header",children:[t.jsx("input",{type:"radio",name:"contractType",value:z.value,checked:o.contractType===z.value,onChange:U}),t.jsx("span",{className:"jp-contract-label",children:z.label})]}),t.jsx("p",{className:"jp-contract-description",children:z.description})]},z.value))})]}),L(),t.jsxs("div",{className:"jp-section",children:[t.jsx("h3",{children:"Salary Calculation Preview"}),t.jsxs("div",{className:"jp-salary-preview",children:[t.jsxs("div",{className:"jp-salary-item",children:[t.jsx("span",{className:"jp-salary-label",children:"Calculated Daily Rate:"}),t.jsxs("span",{className:"jp-salary-value",children:["$",O.daily.toFixed(2)]})]}),t.jsxs("div",{className:"jp-salary-item",children:[t.jsx("span",{className:"jp-salary-label",children:"Calculated Monthly Salary:"}),t.jsxs("span",{className:"jp-salary-value",children:["$",O.monthly.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"jp-form-actions",children:[t.jsx("button",{type:"button",className:"jp-cancel-button",onClick:n,disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"jp-submit-button",disabled:u,children:u?"Adding...":"Add Position"})]})]})]})}):null},Die=({isOpen:e,onClose:n,onSubmit:r,position:a})=>{const{showError:s,showWarning:o}=cn(),[l,u]=g.useState({positionName:"",department:"",head:"",contractType:"MONTHLY",experienceLevel:"ENTRY_LEVEL",probationPeriod:90,active:!0,workingDaysPerWeek:5,hoursPerShift:8,hourlyRate:0,overtimeMultiplier:1.5,trackBreaks:!1,breakDurationMinutes:30,dailyRate:0,workingDaysPerMonth:22,includesWeekends:!1,monthlyBaseSalary:0,shifts:"Day Shift",workingHours:8,vacations:"21 days annual leave"}),[d,h]=g.useState(!1),[f,p]=g.useState(null),[y,b]=g.useState([]),[x,j]=g.useState([]),[w,T]=g.useState(!1),[A,O]=g.useState(!1),[P,S]=g.useState({daily:0,monthly:0}),E=[{value:"HOURLY",label:"Hourly Contract",description:"Pay per hour worked with time tracking"},{value:"DAILY",label:"Daily Contract",description:"Fixed daily rate for attendance"},{value:"MONTHLY",label:"Monthly Contract",description:"Fixed monthly salary"}],k=[{value:"ENTRY_LEVEL",label:"Entry Level"},{value:"MID_LEVEL",label:"Mid Level"},{value:"SENIOR_LEVEL",label:"Senior Level"},{value:"EXPERT_LEVEL",label:"Expert Level"}];g.useEffect(()=>{e&&(_(),U())},[e]),g.useEffect(()=>{if(a&&e){const W=a.type||"MONTHLY",M={positionName:a.positionName||"",department:a.department||"",head:a.head||"",contractType:W,experienceLevel:a.experienceLevel||"ENTRY_LEVEL",probationPeriod:a.probationPeriod||90,active:a.active!==void 0?a.active:!0,workingDaysPerWeek:a.workingDaysPerWeek||5,hoursPerShift:a.hoursPerShift||8,hourlyRate:a.hourlyRate||0,overtimeMultiplier:a.overtimeMultiplier||1.5,trackBreaks:a.trackBreaks||!1,breakDurationMinutes:a.breakDurationMinutes||30,dailyRate:a.dailyRate||0,workingDaysPerMonth:a.workingDaysPerMonth||22,includesWeekends:a.includesWeekends||!1,monthlyBaseSalary:a.monthlyBaseSalary||a.baseSalary||0,shifts:a.shifts||"Day Shift",workingHours:a.workingHours||8,vacations:a.vacations||"21 days annual leave"};u(M),p(null)}},[a,e]),g.useEffect(()=>{D()},[l]);const D=()=>{let W=0,M=0;switch(l.contractType){case"HOURLY":W=(l.hourlyRate||0)*(l.hoursPerShift||0),M=W*(l.workingDaysPerWeek||0)*4;break;case"DAILY":W=l.dailyRate||0,M=W*(l.workingDaysPerMonth||0);break;case"MONTHLY":M=l.monthlyBaseSalary||0,W=M/22;break;default:W=0,M=0}S({daily:Math.round(W*100)/100,monthly:Math.round(M*100)/100})},_=async()=>{T(!0);try{const W=await fetch("http://localhost:8080/api/v1/employees",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!W.ok)throw new Error("Failed to fetch employees");const M=await W.json();b(Array.isArray(M)?M:[])}catch(W){console.error("Error fetching employees:",W),s("Failed to load employees. Please try again."),p(M=>M||"Failed to load employees")}finally{T(!1)}},U=async()=>{O(!0);try{const W=await fetch("http://localhost:8080/api/v1/departments",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!W.ok)throw new Error("Failed to fetch departments");const M=await W.json();j(Array.isArray(M)?M:[])}catch(W){console.error("Error fetching departments:",W),s("Failed to load departments. Please try again."),p(M=>M||"Failed to load departments")}finally{O(!1)}},R=W=>{const{name:M,value:F,type:G,checked:J}=W.target;u(I=>({...I,[M]:G==="checkbox"?J:G==="number"?F===""?"":Number(F):F}))},$=()=>{const W=[];switch(l.positionName.trim()||W.push("Position name is required"),l.department||W.push("Department is required"),l.contractType){case"HOURLY":(!l.hourlyRate||l.hourlyRate<=0)&&W.push("Hourly rate must be greater than 0"),(!l.hoursPerShift||l.hoursPerShift<=0)&&W.push("Hours per shift must be greater than 0"),(!l.workingDaysPerWeek||l.workingDaysPerWeek<=0||l.workingDaysPerWeek>7)&&W.push("Working days per week must be between 1 and 7");break;case"DAILY":(!l.dailyRate||l.dailyRate<=0)&&W.push("Daily rate must be greater than 0"),(!l.workingDaysPerMonth||l.workingDaysPerMonth<=0||l.workingDaysPerMonth>31)&&W.push("Working days per month must be between 1 and 31");break;case"MONTHLY":(!l.monthlyBaseSalary||l.monthlyBaseSalary<=0)&&W.push("Monthly salary must be greater than 0");break}return W},L=async W=>{W.preventDefault(),h(!0),p(null);try{const M=$();if(M.length>0){const G=M.join(`
`);throw s(G),new Error(G)}const F={positionName:l.positionName.trim(),department:l.department,head:l.head||null,contractType:l.contractType,experienceLevel:l.experienceLevel,probationPeriod:l.probationPeriod,active:l.active,...l.contractType==="HOURLY"&&{workingDaysPerWeek:l.workingDaysPerWeek,hoursPerShift:l.hoursPerShift,hourlyRate:l.hourlyRate,overtimeMultiplier:l.overtimeMultiplier,trackBreaks:l.trackBreaks,breakDurationMinutes:l.trackBreaks?l.breakDurationMinutes:null},...l.contractType==="DAILY"&&{dailyRate:l.dailyRate,workingDaysPerMonth:l.workingDaysPerMonth,includesWeekends:l.includesWeekends},...l.contractType==="MONTHLY"&&{monthlyBaseSalary:l.monthlyBaseSalary,shifts:l.shifts,workingHours:l.workingHours,vacations:l.vacations},calculatedDailySalary:P.daily,calculatedMonthlySalary:P.monthly};await r(F)}catch(M){console.error("Error submitting form:",M),s(M.message||"Failed to update position"),p(M.message||"Failed to update position")}finally{h(!1)}},z=()=>{switch(l.contractType){case"HOURLY":return t.jsxs("div",{className:"jp-section",children:[t.jsx("h4",{children:"Hourly Contract Configuration"}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"hourlyRate",children:["Hourly Rate ($) ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"hourlyRate",name:"hourlyRate",value:l.hourlyRate,onChange:R,min:"0",step:"0.01",required:!0,placeholder:"0.00"})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"hoursPerShift",children:["Hours per Shift ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"hoursPerShift",name:"hoursPerShift",value:l.hoursPerShift,onChange:R,min:"1",max:"24",required:!0})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"workingDaysPerWeek",children:["Working Days per Week ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"workingDaysPerWeek",name:"workingDaysPerWeek",value:l.workingDaysPerWeek,onChange:R,min:"1",max:"7",required:!0})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"overtimeMultiplier",children:"Overtime Multiplier"}),t.jsx("input",{type:"number",id:"overtimeMultiplier",name:"overtimeMultiplier",value:l.overtimeMultiplier,onChange:R,min:"1",max:"3",step:"0.1"})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsx("div",{className:"jp-form-group jp-checkbox-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"trackBreaks",checked:l.trackBreaks,onChange:R}),"Track Break Time"]})}),l.trackBreaks&&t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"breakDurationMinutes",children:"Break Duration (minutes)"}),t.jsx("input",{type:"number",id:"breakDurationMinutes",name:"breakDurationMinutes",value:l.breakDurationMinutes,onChange:R,min:"0",max:"120"})]})]})]});case"DAILY":return t.jsxs("div",{className:"jp-section",children:[t.jsx("h4",{children:"Daily Contract Configuration"}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"dailyRate",children:["Daily Rate ($) ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"dailyRate",name:"dailyRate",value:l.dailyRate,onChange:R,min:"0",step:"0.01",required:!0,placeholder:"0.00"})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"workingDaysPerMonth",children:["Working Days per Month ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"workingDaysPerMonth",name:"workingDaysPerMonth",value:l.workingDaysPerMonth,onChange:R,min:"1",max:"31",required:!0})]})]}),t.jsx("div",{className:"jp-form-row",children:t.jsx("div",{className:"jp-form-group jp-checkbox-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"includesWeekends",checked:l.includesWeekends,onChange:R}),"Includes Weekend Work"]})})})]});case"MONTHLY":return t.jsxs("div",{className:"jp-section",children:[t.jsx("h4",{children:"Monthly Contract Configuration"}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"monthlyBaseSalary",children:["Monthly Base Salary ($) ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"number",id:"monthlyBaseSalary",name:"monthlyBaseSalary",value:l.monthlyBaseSalary,onChange:R,min:"0",step:"0.01",required:!0,placeholder:"0.00"})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"workingHours",children:"Standard Working Hours per Day"}),t.jsx("input",{type:"number",id:"workingHours",name:"workingHours",value:l.workingHours,onChange:R,min:"1",max:"24"})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"shifts",children:"Shifts"}),t.jsx("div",{className:"jp-select-wrapper",children:t.jsxs("select",{id:"shifts",name:"shifts",value:l.shifts,onChange:R,children:[t.jsx("option",{value:"Day Shift",children:"Day Shift"}),t.jsx("option",{value:"Night Shift",children:"Night Shift"}),t.jsx("option",{value:"Rotating Shifts",children:"Rotating Shifts"}),t.jsx("option",{value:"Flexible",children:"Flexible"})]})})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"vacations",children:"Vacation Policy"}),t.jsx("input",{type:"text",id:"vacations",name:"vacations",value:l.vacations,onChange:R,placeholder:"e.g., 21 days annual leave"})]})]})]});default:return null}};return e?t.jsx("div",{className:"jp-modal",children:t.jsxs("div",{className:"jp-modal-content",children:[t.jsxs("div",{className:"jp-modal-header",children:[t.jsx("h2",{children:"Edit Position"}),t.jsx("button",{className:"jp-modal-close",onClick:n,children:""})]}),f&&t.jsx("div",{className:"jp-error",children:f}),A||w?t.jsx("div",{className:"jp-loading",children:"Loading form data..."}):t.jsxs("form",{onSubmit:L,children:[t.jsxs("div",{className:"jp-section",children:[t.jsx("h3",{children:"Basic Information"}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"positionName",children:["Position Name ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("input",{type:"text",id:"positionName",name:"positionName",value:l.positionName,onChange:R,required:!0,placeholder:"e.g. Software Engineer"})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsxs("label",{htmlFor:"department",children:["Department ",t.jsx("span",{className:"jp-required",children:"*"})]}),t.jsx("div",{className:"jp-select-wrapper",children:t.jsxs("select",{id:"department",name:"department",value:l.department,onChange:R,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Department"}),x.map(W=>t.jsx("option",{value:W.name,children:W.name},W.id))]})})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"head",children:"Reporting To"}),t.jsx("div",{className:"jp-select-wrapper",children:t.jsxs("select",{id:"head",name:"head",value:l.head,onChange:R,children:[t.jsx("option",{value:"",children:"Select Manager (Optional)"}),y.map(W=>t.jsx("option",{value:W.fullName||`${W.firstName} ${W.lastName}`,children:W.fullName||`${W.firstName} ${W.lastName}`},W.id))]})})]}),t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"experienceLevel",children:"Experience Level"}),t.jsx("div",{className:"jp-select-wrapper",children:t.jsx("select",{id:"experienceLevel",name:"experienceLevel",value:l.experienceLevel,onChange:R,children:k.map(W=>t.jsx("option",{value:W.value,children:W.label},W.value))})})]})]}),t.jsxs("div",{className:"jp-form-row",children:[t.jsxs("div",{className:"jp-form-group",children:[t.jsx("label",{htmlFor:"probationPeriod",children:"Probation Period (days)"}),t.jsx("input",{type:"number",id:"probationPeriod",name:"probationPeriod",value:l.probationPeriod,onChange:R,min:"0",max:"365",placeholder:"90"})]}),t.jsx("div",{className:"jp-checkbox-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"active",checked:l.active,onChange:R}),"Active Position"]})})]})]}),t.jsxs("div",{className:"jp-section",children:[t.jsx("h3",{children:"Contract Type"}),t.jsx("div",{className:"jp-contract-selector",children:E.map(W=>t.jsxs("div",{className:`jp-contract-option ${l.contractType===W.value?"selected":""}`,onClick:()=>u(M=>({...M,contractType:W.value})),children:[t.jsxs("div",{className:"jp-contract-header",children:[t.jsx("input",{type:"radio",name:"contractType",value:W.value,checked:l.contractType===W.value,onChange:R}),t.jsx("span",{className:"jp-contract-label",children:W.label})]}),t.jsx("p",{className:"jp-contract-description",children:W.description})]},W.value))})]}),z(),t.jsxs("div",{className:"jp-section",children:[t.jsx("h3",{children:"Salary Calculation Preview"}),t.jsxs("div",{className:"jp-salary-preview",children:[t.jsxs("div",{className:"jp-salary-item",children:[t.jsx("span",{className:"jp-salary-label",children:"Calculated Daily Rate:"}),t.jsxs("span",{className:"jp-salary-value",children:["$",P.daily.toFixed(2)]})]}),t.jsxs("div",{className:"jp-salary-item",children:[t.jsx("span",{className:"jp-salary-label",children:"Calculated Monthly Salary:"}),t.jsxs("span",{className:"jp-salary-value",children:["$",P.monthly.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"jp-form-actions",children:[t.jsx("button",{type:"button",className:"jp-cancel-button",onClick:n,disabled:d,children:"Cancel"}),t.jsx("button",{type:"submit",className:"jp-submit-button",disabled:d,children:d?"Updating...":"Update Position"})]})]})]})}):null},Pie=()=>{const{showSuccess:e,showError:n}=cn(),[r,a]=g.useState([]),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,p]=g.useState(!1),[y,b]=g.useState(null);g.useEffect(()=>{x()},[]);const x=async()=>{var P,S;o(!0),u(null);try{const k=(await bl.getAll()).data;a(Array.isArray(k)?k:[])}catch(E){console.error("Error fetching positions:",E);const k=((S=(P=E.response)==null?void 0:P.data)==null?void 0:S.message)||E.message||"Failed to load positions";u(k),n("Failed to load positions. Please try again."),a([])}finally{o(!1)}},j=async P=>{var S,E;try{u(null);const k=await bl.create(P);await x(),h(!1),e("Job position created successfully!")}catch(k){console.error("Error adding position:",k);const D=((E=(S=k.response)==null?void 0:S.data)==null?void 0:E.message)||k.message||"Failed to add position";throw u(D),n("Failed to add position. Please try again."),k}},w=async P=>{var S,E;try{u(null);const k=await bl.update(y.id,P);await x(),p(!1),b(null),e("Job position updated successfully!")}catch(k){console.error("Error updating position:",k);const D=((E=(S=k.response)==null?void 0:S.data)==null?void 0:E.message)||k.message||"Failed to update position";throw u(D),n("Failed to update position. Please try again."),k}},T=async P=>{var S,E;if(window.confirm("Are you sure you want to delete this position?"))try{u(null),await bl.delete(P),await x(),e("Job position deleted successfully!")}catch(k){console.error("Error deleting position:",k);const D=((E=(S=k.response)==null?void 0:S.data)==null?void 0:E.message)||k.message||"Failed to delete position";u(D),n("Failed to delete position. Please try again.")}},A=[{header:"Position Name",accessor:"positionName",sortable:!0},{header:"Department",accessor:"department",sortable:!0},{header:"Type",accessor:"type",sortable:!0,render:P=>{var S;return((S=P.type)==null?void 0:S.replace("_"," "))||"N/A"}},{header:"Experience Level",accessor:"experienceLevel",sortable:!0},{header:"Base Salary (Monthly)",accessor:"baseSalary",sortable:!0,render:P=>P.baseSalary?`${Number(P.baseSalary).toLocaleString()}/month`:"N/A"},{header:"Reporting To",accessor:"head",sortable:!0},{header:"Working Days",accessor:"workingDays",sortable:!0,render:P=>P.workingDays?`${P.workingDays}/week`:"N/A"},{header:"Working Hours",accessor:"workingHours",sortable:!0,render:P=>P.workingHours?`${P.workingHours}h/day`:"N/A"}],O=[{label:"Edit",icon:t.jsx(_d,{}),onClick:P=>{b(P),p(!0)},className:"primary"},{label:"Delete",icon:t.jsx(H2,{}),className:"danger",onClick:P=>T(P.id)}];return t.jsxs("div",{className:"positions-container",children:[t.jsxs("div",{className:"departments-header",children:[t.jsxs("h1",{children:["Job Positions",t.jsx("p",{className:"employees-header__subtitle",children:"Manage job positions with salary structures, requirements, and department assignments"})]}),t.jsxs("button",{className:"btn btn-primary",onClick:()=>h(!0),children:[t.jsx(l8,{})," Add Position"]})]}),l&&t.jsxs("div",{className:"positions-error",children:[t.jsx("strong",{children:"Error:"})," ",l,t.jsx("button",{onClick:()=>u(null),style:{marginLeft:"10px",background:"none",border:"none",color:"inherit",cursor:"pointer",fontSize:"16px"},children:""})]}),t.jsx(Nt,{data:r,columns:A,actions:O,loading:s,tableTitle:"Job Positions",showSearch:!0,showFilters:!0,filterableColumns:["department","type","experienceLevel"],defaultSortField:"positionName",defaultSortDirection:"asc",emptyMessage:"No job positions found. Click 'Add Position' to create one."}),d&&t.jsx(Oie,{isOpen:d,onClose:()=>{h(!1),u(null)},onSubmit:j}),f&&y&&t.jsx(Die,{isOpen:f,onClose:()=>{p(!1),b(null),u(null)},onSubmit:w,position:y})]})},G3=(e,n,r)=>{const a=n?parseFloat(n):e.baseSalary||0,s=r?parseFloat(r):1;switch(e.contractType){case"HOURLY":return a*s*(e.workingDaysPerWeek*4)*e.hoursPerShift;case"DAILY":return a*s*e.workingDaysPerMonth;case"MONTHLY":return a*s;default:return a*s}},Mie=({onClose:e,onSave:n,jobPositions:r,sites:a})=>{var U,R,$,L;const[s,o]=g.useState({firstName:"",lastName:"",middleName:"",email:"",phoneNumber:"",address:"",city:"",country:"",birthDate:"",hireDate:new Date().toISOString().split("T")[0],maritalStatus:"",militaryStatus:"",nationalIDNumber:"",gender:"",status:"ACTIVE",education:"",bonus:"",commission:"",baseSalaryOverride:"",salaryMultiplier:1,jobPositionId:"",siteId:""}),[l,u]=g.useState(null),[d,h]=g.useState(null),[f,p]=g.useState(null),[y,b]=g.useState(null),[x,j]=g.useState({}),[w,T]=g.useState(!1),[A,O]=g.useState(null);g.useEffect(()=>{const z=sessionStorage.getItem("prepopulatedEmployeeData");if(z){const W=JSON.parse(z);o(M=>({...M,...W})),W.candidateId&&(O(W.candidateId),T(!0)),sessionStorage.removeItem("prepopulatedEmployeeData")}},[]);const P=s.jobPositionId?r.find(z=>String(z.id).trim()===String(s.jobPositionId).trim()):null,S=z=>{const{name:W,value:M}=z.target;o({...s,[W]:M}),x[W]&&j({...x,[W]:null})},E=z=>{const{name:W,files:M}=z.target;W==="photo"&&M[0]?(u(M[0]),b(URL.createObjectURL(M[0]))):W==="idFront"&&M[0]?h(M[0]):W==="idBack"&&M[0]&&p(M[0])},k=z=>{const{name:W,value:M}=z.target;(M===""||!isNaN(parseFloat(M)))&&o({...s,[W]:M})},D=()=>{const z={};return s.firstName||(z.firstName="First name is required"),s.lastName||(z.lastName="Last name is required"),s.email||(z.email="Email is required"),s.jobPositionId||(z.jobPositionId="Job position is required"),s.birthDate||(z.birthDate="Date of Birth is required"),s.nationalIDNumber||(z.nationalIDNumber="National ID is required"),s.country||(z.country="Country is required"),s.gender||(z.gender="Gender is required"),s.hireDate||(z.hireDate="Hire date is required"),s.email&&!/\S+@\S+\.\S+/.test(s.email)&&(z.email="Email is invalid"),s.phoneNumber&&!/^[+]?[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/.test(s.phoneNumber)&&(z.phoneNumber="Phone number is invalid"),j(z),Object.keys(z).length===0},_=z=>{if(z.preventDefault(),D()){const W={...s,jobPositionId:s.jobPositionId?s.jobPositionId:null,bonus:s.bonus?parseFloat(s.bonus):null,commission:s.commission?parseFloat(s.commission):null,baseSalaryOverride:s.baseSalaryOverride?parseFloat(s.baseSalaryOverride):null,salaryMultiplier:s.salaryMultiplier?parseFloat(s.salaryMultiplier):1,birthDate:s.birthDate&&s.birthDate.trim()!==""?s.birthDate:null,hireDate:s.hireDate&&s.hireDate.trim()!==""?s.hireDate:null},{siteId:M,...F}=W;w&&A&&(F.candidateId=A),n(F,l,d,f)}};return t.jsx("div",{className:"r4m-modal-overlay",children:t.jsxs("div",{className:"r4m-employee-modal",children:[t.jsxs("div",{className:"r4m-modal-header",children:[t.jsx("h2",{children:w?"Hire Candidate as Employee":"Add New Employee"}),t.jsx("button",{className:"r4m-close-button",onClick:e,children:""})]}),w&&t.jsxs("div",{className:"r4m-candidate-banner",children:[t.jsx("i",{className:"fas fa-user-check"}),t.jsx("span",{children:"This form is pre-filled with candidate information. Please complete the additional required fields to finalize the hiring process."})]}),t.jsxs("form",{onSubmit:_,children:[t.jsx("div",{className:"r4m-modal-body",children:t.jsxs("div",{className:"r4m-form-columns",children:[t.jsxs("div",{className:"r4m-form-column",children:[t.jsx("h3",{children:"Personal Information"}),t.jsxs("div",{className:"r4m-photo-section",children:[t.jsx("div",{className:"r4m-photo-preview",children:y?t.jsx("img",{src:y,alt:"Employee preview"}):t.jsx("div",{className:"r4m-photo-placeholder",children:t.jsx("span",{children:"Photo"})})}),t.jsxs("div",{className:"r4m-file-inputs",children:[t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Photo"}),t.jsx("input",{type:"file",name:"photo",accept:"image/*",onChange:E})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"ID Front"}),t.jsx("input",{type:"file",name:"idFront",accept:"image/*",onChange:E})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"ID Back"}),t.jsx("input",{type:"file",name:"idBack",accept:"image/*",onChange:E})]})]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"First Name *"}),t.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:S,className:x.firstName?"error":""}),x.firstName&&t.jsx("span",{className:"r4m-error-message",children:x.firstName})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Middle Name"}),t.jsx("input",{type:"text",name:"middleName",value:s.middleName,onChange:S})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Last Name *"}),t.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:S,className:x.lastName?"error":""}),x.lastName&&t.jsx("span",{className:"r4m-error-message",children:x.lastName})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Gender *"}),t.jsxs("select",{name:"gender",value:s.gender,onChange:S,className:x.gender?"error":"",children:[t.jsx("option",{value:"",children:"Select Gender"}),t.jsx("option",{value:"MALE",children:"Male"}),t.jsx("option",{value:"FEMALE",children:"Female"}),t.jsx("option",{value:"OTHER",children:"Other"})]}),x.gender&&t.jsx("span",{className:"r4m-error-message",children:x.gender})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Date of Birth *"}),t.jsx("input",{type:"date",name:"birthDate",value:s.birthDate,onChange:S,className:x.birthDate?"error":""}),x.birthDate&&t.jsx("span",{className:"r4m-error-message",children:x.birthDate})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"National ID Number *"}),t.jsx("input",{type:"text",name:"nationalIDNumber",value:s.nationalIDNumber,onChange:S,className:x.nationalIDNumber?"error":""}),x.nationalIDNumber&&t.jsx("span",{className:"r4m-error-message",children:x.nationalIDNumber})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Marital Status"}),t.jsxs("select",{name:"maritalStatus",value:s.maritalStatus,onChange:S,children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"SINGLE",children:"Single"}),t.jsx("option",{value:"MARRIED",children:"Married"}),t.jsx("option",{value:"DIVORCED",children:"Divorced"}),t.jsx("option",{value:"WIDOWED",children:"Widowed"})]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Military Status"}),t.jsxs("select",{name:"militaryStatus",value:s.militaryStatus,onChange:S,children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"NONE",children:"None"}),t.jsx("option",{value:"ACTIVE",children:"Active"}),t.jsx("option",{value:"VETERAN",children:"Veteran"}),t.jsx("option",{value:"RESERVE",children:"Reserve"}),t.jsx("option",{value:"EXEMPT",children:"Exempt"})]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Education"}),t.jsxs("select",{name:"education",value:s.education,onChange:S,children:[t.jsx("option",{value:"",children:"Select Education Level"}),t.jsx("option",{value:"HIGH_SCHOOL",children:"High School"}),t.jsx("option",{value:"ASSOCIATE",children:"Associate Degree"}),t.jsx("option",{value:"BACHELOR",children:"Bachelor's Degree"}),t.jsx("option",{value:"MASTER",children:"Master's Degree"}),t.jsx("option",{value:"DOCTORATE",children:"Doctorate"}),t.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),t.jsxs("div",{className:"r4m-form-column",children:[t.jsx("h3",{children:"Contact Information"}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Email *"}),t.jsx("input",{type:"email",name:"email",value:s.email,onChange:S,className:x.email?"error":""}),x.email&&t.jsx("span",{className:"r4m-error-message",children:x.email})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phoneNumber",value:s.phoneNumber,onChange:S,className:x.phoneNumber?"error":""}),x.phoneNumber&&t.jsx("span",{className:"r4m-error-message",children:x.phoneNumber})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Address"}),t.jsx("input",{type:"text",name:"address",value:s.address,onChange:S})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"City"}),t.jsx("input",{type:"text",name:"city",value:s.city,onChange:S})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Country *"}),t.jsx("input",{type:"text",name:"country",value:s.country,onChange:S,className:x.country?"error":""}),x.country&&t.jsx("span",{className:"r4m-error-message",children:x.country})]})]}),t.jsxs("div",{className:"r4m-form-column",children:[t.jsx("h3",{children:"Employment Information"}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Job Position *"}),t.jsxs("select",{name:"jobPositionId",value:s.jobPositionId,onChange:S,className:x.jobPositionId?"error":"",children:[t.jsx("option",{value:"",children:"Select Job Position"}),r.map(z=>t.jsxs("option",{value:z.id,children:[z.positionName," - ",z.department]},z.id))]}),x.jobPositionId&&t.jsx("span",{className:"r4m-error-message",children:x.jobPositionId})]}),P&&t.jsxs("div",{className:"r4m-job-details",children:[t.jsx("h4",{children:"Position Details"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Position:"})," ",P.positionName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Department:"})," ",P.department||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Contract Type:"})," ",((U=P.contractType)==null?void 0:U.replace("_"," "))||"N/A"]}),P.contractType==="HOURLY"&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Working Days/Week:"})," ",P.workingDaysPerWeek||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Hours/Shift:"})," ",P.hoursPerShift||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Hourly Rate:"})," $",((R=P.hourlyRate)==null?void 0:R.toFixed(2))||"N/A"]})]}),P.contractType==="DAILY"&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Working Days/Month:"})," ",P.workingDaysPerMonth||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Daily Rate:"})," $",(($=P.dailyRate)==null?void 0:$.toFixed(2))||"N/A"]})]}),P.contractType==="MONTHLY"&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Monthly Base Salary:"})," $",((L=P.monthlyBaseSalary)==null?void 0:L.toFixed(2))||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Working Hours:"})," ",P.workingHours||"N/A"]})]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Hire Date *"}),t.jsx("input",{type:"date",name:"hireDate",value:s.hireDate,onChange:S,className:x.hireDate?"error":""}),x.hireDate&&t.jsx("span",{className:"r4m-error-message",children:x.hireDate})]}),w&&t.jsxs("div",{className:"r4m-prev-employment",children:[t.jsx("h4",{children:"Previous Employment"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Position:"})," ",s.previousPosition||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Company:"})," ",s.previousCompany||"N/A"]})]}),t.jsx("h4",{children:"Compensation"}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Base Salary Override"}),t.jsx("input",{type:"number",name:"baseSalaryOverride",min:"0",step:"0.01",value:s.baseSalaryOverride,onChange:k,placeholder:(P==null?void 0:P.baseSalary)||"Enter amount"})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Salary Multiplier"}),t.jsx("input",{type:"number",name:"salaryMultiplier",min:"0.1",step:"0.1",value:s.salaryMultiplier,onChange:k})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Bonus"}),t.jsx("input",{type:"number",name:"bonus",min:"0",step:"0.01",value:s.bonus,onChange:k})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Commission"}),t.jsx("input",{type:"number",name:"commission",min:"0",step:"0.01",value:s.commission,onChange:k})]}),P&&t.jsxs("div",{className:"r4m-salary-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Base Salary: "}),"$",s.baseSalaryOverride?parseFloat(s.baseSalaryOverride).toFixed(2):(P.baseSalary||0).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Monthly Salary: "}),"$",G3(P,s.baseSalaryOverride,s.salaryMultiplier).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Annual Salary: "}),"$",(G3(P,s.baseSalaryOverride,s.salaryMultiplier)*12).toFixed(2)]})]})]})]})}),t.jsxs("div",{className:"r4m-modal-footer",children:[t.jsx("button",{type:"button",className:"r4m-cancel-btn",onClick:e,children:"Cancel"}),t.jsx("button",{type:"submit",className:"r4m-save-btn",children:w?"Complete Hiring Process":"Save Employee"})]})]})]})})},K3=(e,n,r)=>{const a=n?parseFloat(n):e.baseSalary||0,s=r?parseFloat(r):1;switch(e.contractType){case"HOURLY":return a*s*(e.workingDaysPerWeek*4)*e.hoursPerShift;case"DAILY":return a*s*e.workingDaysPerMonth;case"MONTHLY":return a*s;default:return a*s}},_ie=({employee:e,onClose:n,onSave:r,jobPositions:a,sites:s})=>{var k,D,_,U,R;const[o,l]=g.useState({firstName:"",lastName:"",middleName:"",email:"",phoneNumber:"",address:"",city:"",country:"",birthDate:"",hireDate:"",maritalStatus:"",militaryStatus:"",nationalIDNumber:"",gender:"",status:"ACTIVE",education:"",bonus:"",commission:"",baseSalaryOverride:"",salaryMultiplier:1,jobPositionId:"",siteId:""}),[u,d]=g.useState(null),[h,f]=g.useState(null),[p,y]=g.useState(null),[b,x]=g.useState(null),[j,w]=g.useState({});g.useEffect(()=>{if(e){const $=L=>L?new Date(L).toISOString().split("T")[0]:"";l({firstName:e.firstName||"",lastName:e.lastName||"",middleName:e.middleName||"",email:e.email||"",phoneNumber:e.phoneNumber||"",address:e.address||"",city:e.city||"",country:e.country||"",birthDate:$(e.birthDate),hireDate:$(e.hireDate),maritalStatus:e.maritalStatus||"",militaryStatus:e.militaryStatus||"",nationalIDNumber:e.nationalIDNumber||"",gender:e.gender||"",status:"ACTIVE",education:e.education||"",bonus:e.bonus||"",commission:e.commission||"",baseSalaryOverride:e.baseSalaryOverride||"",salaryMultiplier:e.salaryMultiplier||1,jobPositionId:e.jobPositionId?e.jobPositionId.toString():"",siteId:e.siteId||""}),e.photoUrl&&x(e.photoUrl)}},[e]);const T=$=>{const{name:L,value:z}=$.target;l({...o,[L]:z}),j[L]&&w({...j,[L]:null})},A=$=>{const{name:L,files:z}=$.target;if(L==="photo"){if(z[0]){d(z[0]);const W=URL.createObjectURL(z[0]);x(W)}}else L==="idFront"?z[0]&&f(z[0]):L==="idBack"&&z[0]&&y(z[0])},O=()=>{const $={};return o.firstName||($.firstName="First name is required"),o.lastName||($.lastName="Last name is required"),o.email||($.email="Email is required"),o.jobPositionId||($.jobPositionId="Job position is required"),o.birthDate||($.birthDate="Date of Birth is required"),o.nationalIDNumber||($.nationalIDNumber="National ID is required"),o.country||($.country="Country is required"),o.gender||($.gender="Gender is required"),o.hireDate||($.hireDate="Hire date is required"),o.email&&!/\S+@\S+\.\S+/.test(o.email)&&($.email="Email is invalid"),o.phoneNumber&&!/^[+]?[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/.test(o.phoneNumber)&&($.phoneNumber="Phone number is invalid"),w($),Object.keys($).length===0},P=$=>{if($.preventDefault(),O()){const L={...o,status:"ACTIVE",jobPositionId:o.jobPositionId?parseInt(o.jobPositionId):null,birthDate:o.birthDate&&o.birthDate.trim()!==""?o.birthDate:null,hireDate:o.hireDate&&o.hireDate.trim()!==""?o.hireDate:null};r(L,u,h,p)}},E=o.jobPositionId?a.find($=>$.id===parseInt(o.jobPositionId)):null;return t.jsx("div",{className:"r4m-modal-overlay",children:t.jsxs("div",{className:"r4m-employee-modal",children:[t.jsxs("div",{className:"r4m-modal-header",children:[t.jsxs("h2",{children:["Edit Employee: ",e.fullName]}),t.jsx("button",{className:"r4m-close-button",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:P,children:[t.jsx("div",{className:"r4m-modal-body",children:t.jsxs("div",{className:"r4m-form-columns",children:[t.jsxs("div",{className:"r4m-form-column",children:[t.jsx("h3",{children:"Personal Information"}),t.jsxs("div",{className:"r4m-photo-section",children:[t.jsx("div",{className:"r4m-photo-preview",children:b?t.jsx("img",{src:b,alt:"Employee preview"}):t.jsx("div",{className:"r4m-photo-placeholder",children:t.jsx("span",{children:"Photo"})})}),t.jsxs("div",{className:"r4m-file-inputs",children:[t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Update Photo"}),t.jsx("input",{type:"file",name:"photo",accept:"image/*",onChange:A})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Update ID Front"}),t.jsx("input",{type:"file",name:"idFront",accept:"image/*",onChange:A})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Update ID Back"}),t.jsx("input",{type:"file",name:"idBack",accept:"image/*",onChange:A})]})]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"First Name *"}),t.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:T,className:j.firstName?"error":""}),j.firstName&&t.jsx("span",{className:"r4m-error-message",children:j.firstName})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Middle Name"}),t.jsx("input",{type:"text",name:"middleName",value:o.middleName,onChange:T})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Last Name *"}),t.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:T,className:j.lastName?"error":""}),j.lastName&&t.jsx("span",{className:"r4m-error-message",children:j.lastName})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Gender"}),t.jsxs("select",{name:"gender",value:o.gender,onChange:T,children:[t.jsx("option",{value:"",children:"Select Gender"}),t.jsx("option",{value:"MALE",children:"Male"}),t.jsx("option",{value:"FEMALE",children:"Female"}),t.jsx("option",{value:"OTHER",children:"Other"})]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("input",{type:"date",name:"birthDate",value:o.birthDate,onChange:T})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"National ID Number"}),t.jsx("input",{type:"text",name:"nationalIDNumber",value:o.nationalIDNumber,onChange:T})]})]}),t.jsxs("div",{className:"r4m-form-column",children:[t.jsx("h3",{children:"Contact Information"}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Email *"}),t.jsx("input",{type:"email",name:"email",value:o.email,onChange:T,className:j.email?"error":""}),j.email&&t.jsx("span",{className:"r4m-error-message",children:j.email})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phoneNumber",value:o.phoneNumber,onChange:T,className:j.phoneNumber?"error":""}),j.phoneNumber&&t.jsx("span",{className:"r4m-error-message",children:j.phoneNumber})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Address"}),t.jsx("input",{type:"text",name:"address",value:o.address,onChange:T})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"City"}),t.jsx("input",{type:"text",name:"city",value:o.city,onChange:T})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Country *"}),t.jsx("input",{type:"text",name:"country",value:o.country,onChange:T,className:j.country?"error":""}),j.country&&t.jsx("span",{className:"r4m-error-message",children:j.country})]})]}),t.jsxs("div",{className:"r4m-form-column",children:[t.jsx("h3",{children:"Employment Information"}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Site"}),t.jsxs("select",{name:"siteId",value:o.siteId,onChange:T,children:[t.jsx("option",{value:"",children:"Select Site"}),s.map($=>t.jsx("option",{value:$.id,children:$.name},$.id))]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Job Position"}),t.jsxs("select",{name:"jobPositionId",value:o.jobPositionId,onChange:T,children:[t.jsx("option",{value:"",children:"Select Job Position"}),a.map($=>t.jsxs("option",{value:$.id,children:[$.positionName," - ",$.department]},$.id))]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Contract Type"}),t.jsxs("select",{name:"contractType",value:o.contractType,onChange:T,children:[t.jsx("option",{value:"FULL_TIME",children:"Full Time"}),t.jsx("option",{value:"PART_TIME",children:"Part Time"}),t.jsx("option",{value:"CONTRACT",children:"Contract"}),t.jsx("option",{value:"TEMPORARY",children:"Temporary"}),t.jsx("option",{value:"INTERNSHIP",children:"Internship"})]})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Hire Date"}),t.jsx("input",{type:"date",name:"hireDate",value:o.hireDate,onChange:T})]}),t.jsxs("div",{className:"r4m-form-group",children:[t.jsx("label",{children:"Salary Multiplier"}),t.jsx("input",{type:"number",name:"salaryMultiplier",min:"0.1",step:"0.1",value:o.salaryMultiplier,onChange:T})]}),E&&t.jsxs("div",{className:"r4m-job-details",children:[t.jsx("h4",{children:"Position Details"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Position:"})," ",E.positionName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Department:"})," ",((k=E.department)==null?void 0:k.name)||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Contract Type:"})," ",((D=E.contractType)==null?void 0:D.replace("_"," "))||"N/A"]}),E.contractType==="HOURLY"&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Working Days/Week:"})," ",E.workingDaysPerWeek||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Hours/Shift:"})," ",E.hoursPerShift||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Hourly Rate:"})," $",((_=E.hourlyRate)==null?void 0:_.toFixed(2))||"N/A"]})]}),E.contractType==="DAILY"&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Working Days/Month:"})," ",E.workingDaysPerMonth||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Daily Rate:"})," $",((U=E.dailyRate)==null?void 0:U.toFixed(2))||"N/A"]})]}),E.contractType==="MONTHLY"&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Monthly Base Salary:"})," $",((R=E.monthlyBaseSalary)==null?void 0:R.toFixed(2))||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Working Hours:"})," ",E.workingHours||"N/A"]})]})]}),E&&t.jsxs("div",{className:"r4m-salary-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Base Salary: "}),"$",o.baseSalaryOverride?parseFloat(o.baseSalaryOverride).toFixed(2):(E.baseSalary||0).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Monthly Salary: "}),"$",K3(E,o.baseSalaryOverride,o.salaryMultiplier).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Annual Salary: "}),"$",(K3(E,o.baseSalaryOverride,o.salaryMultiplier)*12).toFixed(2)]})]})]})]})}),t.jsxs("div",{className:"r4m-modal-footer",children:[t.jsx("button",{type:"button",className:"r4m-cancel-btn",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"r4m-save-btn",children:"Update Employee"})]})]})]})})},Iie="http://localhost:8080",oa=Qt.create({baseURL:`${Iie}/api/v1/employees`,headers:{"Content-Type":"application/json"},timeout:15e3});oa.interceptors.request.use(e=>{const n=localStorage.getItem("token");return n?n.includes(".")?(e.headers.Authorization=`Bearer ${n}`,e):(localStorage.removeItem("token"),window.location.href="/login",Promise.reject("Invalid token format")):(window.location.href="/login",Promise.reject("No auth token found"))},e=>Promise.reject(e));oa.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const co={getAll:async()=>{try{return await oa.get("")}catch(e){throw console.error("Error fetching all employees:",e),e}},getMinimal:async()=>{try{return await oa.get("/minimal")}catch(e){throw console.error("Error fetching minimal employee data:",e),e}},getByContractType:async e=>{try{return await oa.get(`/by-contract-type/${e.toUpperCase()}`)}catch(n){throw console.error(`Error fetching employees by contract type ${e}:`,n),n}},getActiveByContractType:async e=>{try{return await oa.get(`/active/by-contract-type/${e.toUpperCase()}`)}catch(n){throw console.error(`Error fetching active employees by contract type ${e}:`,n),n}},getGroupedByContractType:async()=>{try{return await oa.get("/grouped-by-contract")}catch(e){throw console.error("Error fetching employees grouped by contract type:",e),e}},getWarehouseWorkers:async()=>{try{return await oa.get("/warehouse-workers")}catch(e){throw console.error("Error fetching warehouse workers:",e),e}},getWarehouseManagers:async()=>{try{return await oa.get("/warehouse-managers")}catch(e){throw console.error("Error fetching warehouse managers:",e),e}},getDrivers:async()=>{try{return await oa.get("/drivers")}catch(e){throw console.error("Error fetching drivers:",e),e}},getTechnicians:async()=>{try{return await oa.get("/technicians")}catch(e){throw console.error("Error fetching technicians:",e),e}},utils:{getContractTypeDisplay:e=>({HOURLY:"Hourly Contract",DAILY:"Daily Contract",MONTHLY:"Monthly Contract"})[e]||e,getContractTypeColor:e=>({HOURLY:"#2196f3",DAILY:"#ff9800",MONTHLY:"#4caf50"})[e]||"#9e9e9e",filterEmployees:(e,n={})=>!e||!Array.isArray(e)?[]:e.filter(r=>{var a,s,o;if(n.status&&r.status!==n.status||n.contractType&&r.contractType!==n.contractType||n.siteId&&r.siteId!==n.siteId||n.departmentName&&r.departmentName!==n.departmentName)return!1;if(n.search){const l=n.search.toLowerCase(),u=((a=r.fullName)==null?void 0:a.toLowerCase())||"",d=((s=r.jobPositionName)==null?void 0:s.toLowerCase())||"",h=((o=r.siteName)==null?void 0:o.toLowerCase())||"";if(!u.includes(l)&&!d.includes(l)&&!h.includes(l))return!1}return!0}),groupEmployees:(e,n)=>!e||!Array.isArray(e)?{}:e.reduce((r,a)=>{const s=a[n]||"Unassigned";return r[s]||(r[s]=[]),r[s].push(a),r},{}),sortEmployees:(e,n,r="asc")=>!e||!Array.isArray(e)?[]:[...e].sort((a,s)=>{let o=a[n],l=s[n];return o==null&&(o=""),l==null&&(l=""),typeof o=="string"&&(o=o.toLowerCase()),typeof l=="string"&&(l=l.toLowerCase()),r==="desc"?o<l?1:o>l?-1:0:o>l?1:o<l?-1:0}),getEmployeeStats:e=>{if(!e||!Array.isArray(e))return{total:0,byContractType:{},byStatus:{},bySite:{},byDepartment:{}};const n={total:e.length,byContractType:{},byStatus:{},bySite:{},byDepartment:{}};return e.forEach(r=>{const a=r.contractType||"Unknown";n.byContractType[a]=(n.byContractType[a]||0)+1;const s=r.status||"Unknown";n.byStatus[s]=(n.byStatus[s]||0)+1;const o=r.siteName||"Unassigned";n.bySite[o]=(n.bySite[o]||0)+1;const l=r.departmentName||"Unassigned";n.byDepartment[l]=(n.byDepartment[l]||0)+1}),n},validateForAttendance:e=>{const n=[],r=[];return e?(e.id||n.push("Employee ID is required"),e.fullName||n.push("Employee name is required"),e.contractType?["HOURLY","DAILY","MONTHLY"].includes(e.contractType)||n.push("Invalid contract type"):r.push("Contract type not specified, defaulting to MONTHLY"),e.jobPositionName||r.push("Job position not assigned"),e.siteName||r.push("Site not assigned"),e.status!=="ACTIVE"&&r.push("Employee is not in ACTIVE status"),{isValid:n.length===0,errors:n,warnings:r,hasWarnings:r.length>0}):(n.push("Employee data is required"),{isValid:!1,errors:n,warnings:r})},formatForDisplay:e=>e?{id:e.id,displayName:e.fullName||`${e.firstName||""} ${e.lastName||""}`.trim(),position:e.jobPositionName||"Unassigned",contractType:co.utils.getContractTypeDisplay(e.contractType),site:e.siteName||"Unassigned",department:e.departmentName||"Unassigned",status:e.status||"Unknown",photoUrl:e.photoUrl||"/default-avatar.png",isActive:e.status==="ACTIVE",canCheckIn:e.contractType==="HOURLY"&&e.status==="ACTIVE",contractTypeColor:co.utils.getContractTypeColor(e.contractType)}:null},cache:{employees:null,minimalEmployees:null,groupedEmployees:null,lastFetch:null,cacheTimeout:5*60*1e3,isValid:function(){return this.lastFetch&&Date.now()-this.lastFetch<this.cacheTimeout},clear:function(){this.employees=null,this.minimalEmployees=null,this.groupedEmployees=null,this.lastFetch=null},updateTimestamp:function(){this.lastFetch=Date.now()}}},jj={employee:{getById:e=>ye.get(cl.EMPLOYEE.BY_ID(e)),create:e=>ye.post(cl.EMPLOYEE.CREATE,e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,n)=>ye.put(cl.EMPLOYEE.UPDATE(e),n,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>ye.delete(cl.EMPLOYEE.DELETE(e))},dashboard:{getSalaryStatistics:()=>ye.get(cl.DASHBOARD.SALARY_STATISTICS),getEmployeeDistribution:()=>ye.get(cl.DASHBOARD.EMPLOYEE_DISTRIBUTION)}},km={getAll:()=>ye.get(dl.BASE),getById:e=>ye.get(dl.BY_ID(e)),create:e=>ye.post(dl.CREATE,e),update:(e,n)=>ye.put(dl.UPDATE(e),n),delete:e=>ye.delete(dl.DELETE(e)),test:()=>ye.get(dl.TEST)},Rie=()=>{const{showSuccess:e,showError:n}=cn(),[r,a]=g.useState([]),[s,o]=g.useState([]),[l,u]=g.useState(""),[d,h]=g.useState(""),[f,p]=g.useState(""),[y,b]=g.useState(""),[x,j]=g.useState(""),[w,T]=g.useState(!1),[A,O]=g.useState(!1),[P,S]=g.useState(null),[E,k]=g.useState(!0),[D,_]=g.useState(null),[U,R]=g.useState([]),[$,L]=g.useState([]),[z,W]=g.useState([]),[M,F]=g.useState([]),G=async()=>{var ee,ce;try{k(!0);const te=(await co.getAll()).data;te&&te.length>0&&(console.log("First employee data:",te[0]),console.log("Status field:",te[0].status),console.log("Status type:",typeof te[0].status)),a(te),o(te),k(!1);const he=[...new Set(te.map(oe=>oe.jobPositionDepartment&&typeof oe.jobPositionDepartment=="object"?oe.jobPositionDepartment.name:oe.jobPositionDepartment).filter(Boolean))],se=[...new Set(te.map(oe=>oe.position).filter(Boolean))];R(he),L(se)}catch(re){console.error("Error fetching employees:",re);const te=((ce=(ee=re.response)==null?void 0:ee.data)==null?void 0:ce.message)||re.message||"Failed to load employees";_(te),n("Failed to load employees. Please try again."),k(!1)}},J=ee=>{console.log("getStatusBadge called with:",ee,"Type:",typeof ee);const ce={ACTIVE:"success",INACTIVE:"secondary",INVITED:"info",ON_LEAVE:"warning",SUSPENDED:"danger",TERMINATED:"danger"},re=ee||"ACTIVE",te=ce[re]||"secondary";return t.jsx("span",{className:`status-badge status-badge--${te}`,children:re})},I=ee=>ee.jobPositionDepartment?typeof ee.jobPositionDepartment=="object"&&ee.jobPositionDepartment.name?ee.jobPositionDepartment.name:typeof ee.jobPositionDepartment=="string"?ee.jobPositionDepartment:"N/A":"N/A",q=[{header:"Photo",accessor:"photoUrl",sortable:!1,width:"80px",render:(ee,ce)=>t.jsxs("div",{className:"employee-avatar",children:[ce?t.jsx("img",{src:ce,alt:`${ee.firstName} ${ee.lastName}`,onError:re=>{re.target.style.display="none",re.target.nextSibling.style.display="flex"}}):t.jsx("div",{className:"employee-avatar__placeholder",children:t.jsx(Rj,{})}),t.jsx("div",{className:"employee-avatar__placeholder",style:{display:"none"},children:t.jsx(Rj,{})})]})},{header:"Name",accessor:"fullName",render:ee=>t.jsxs("div",{className:"employee-name",children:[t.jsx("div",{className:"employee-name__primary",children:ee.fullName||`${ee.firstName} ${ee.lastName}`}),t.jsx("div",{className:"employee-name__secondary",children:ee.email})]})},{header:"Position",accessor:"position",render:ee=>t.jsxs("div",{className:"employee-position",children:[t.jsx("div",{className:"employee-position__title",children:ee.position||ee.jobPositionName||"N/A"}),t.jsx("div",{className:"employee-position__department",children:I(ee)})]})},{header:"Status",accessor:"status",render:ee=>(console.log("Rendering status for employee:",ee.firstName,"Status:",ee.status),J(ee.status))},{header:"Type",accessor:"contractType",render:ee=>t.jsx("span",{className:"contract-type",children:ee.jobPositionType?ee.jobPositionType.replace("_"," "):"N/A"})},{header:"Salary",accessor:"monthlySalary",render:ee=>t.jsxs("div",{className:"salary-info",children:[t.jsx("div",{className:"salary-info__monthly",children:fe(ee.monthlySalary)}),t.jsx("div",{className:"salary-info__period",children:ee.jobPositionType==="HOURLY"?"per hour":ee.jobPositionType==="DAILY"?"per day":"per month"})]})},{header:"Site",accessor:"siteName",render:ee=>ee.siteName||"N/A"},{header:"Hire Date",accessor:"hireDate",render:ee=>X(ee.hireDate)}],B=async()=>{try{const ee=await bl.getAll();F(ee.data)}catch(ee){console.error("Error fetching job positions:",ee),n("Failed to load job positions")}},H=async()=>{try{const ee=localStorage.getItem("token"),ce=await fetch("http://localhost:8080/api/v1/site",{method:"GET",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"}});if(!ce.ok)throw new Error(`HTTP error! Status: ${ce.status}`);const re=await ce.json();W(re)}catch(ee){console.error("Error fetching sites:",ee),n("Failed to load sites")}};g.useEffect(()=>{G(),B(),H()},[]),g.useEffect(()=>{let ee=r;if(l){const ce=l.toLowerCase();ee=ee.filter(re=>re.firstName&&re.firstName.toLowerCase().includes(ce)||re.lastName&&re.lastName.toLowerCase().includes(ce)||re.email&&re.email.toLowerCase().includes(ce)||re.fullName&&re.fullName.toLowerCase().includes(ce))}d&&(ee=ee.filter(ce=>{const re=ce.jobPositionDepartment;return re&&typeof re=="object"?re.name===d:re===d})),f&&(ee=ee.filter(ce=>ce.position===f||ce.jobPositionName===f)),y&&(ee=ee.filter(ce=>ce.status===y)),x&&(ee=ee.filter(ce=>ce.contractType===x)),o(ee)},[l,d,f,y,x,r]);const K=async(ee,ce,re,te)=>{var he,se;try{k(!0),console.log("Employee data being sent:",ee);const oe=new FormData;oe.append("employeeData",new Blob([JSON.stringify(ee)],{type:"application/json"})),ce&&(oe.append("photo",ce),console.log("Added photo file:",ce.name)),re&&(oe.append("idFrontImage",re),console.log("Added ID front file:",re.name)),te&&(oe.append("idBackImage",te),console.log("Added ID back file:",te.name));for(let pe of oe.entries())console.log(pe[0],pe[1]instanceof Blob?`Blob: ${pe[1].type}, size: ${pe[1].size}`:pe[1]);const xe=await jj.employee.create(oe);console.log("Employee added successfully:",xe.data),await G(),T(!1),e("Employee added successfully!")}catch(oe){console.error("Error adding employee:",oe);const xe=((se=(he=oe.response)==null?void 0:he.data)==null?void 0:se.message)||oe.message||"Failed to add employee";_(`Failed to add employee: ${xe}`),n("Failed to add employee. Please try again.")}finally{k(!1)}},ie=async(ee,ce,re,te)=>{var he,se;try{k(!0);const oe=new FormData;oe.append("employeeData",JSON.stringify(ee)),ce&&oe.append("photo",ce),re&&oe.append("idFrontImage",re),te&&oe.append("idBackImage",te);const xe=await jj.employee.update(P.id,oe);await G(),O(!1),S(null),e("Employee updated successfully!")}catch(oe){console.error("Error updating employee:",oe);const xe=((se=(he=oe.response)==null?void 0:he.data)==null?void 0:se.message)||oe.message||"Failed to update employee";_(`Failed to update employee: ${xe}`),n("Failed to update employee. Please try again.")}finally{k(!1)}},ae=async ee=>{var ce,re;if(window.confirm("Are you sure you want to delete this employee?"))try{k(!0),await jj.employee.delete(ee),await G(),e("Employee deleted successfully!")}catch(te){console.error("Error deleting employee:",te);const he=((re=(ce=te.response)==null?void 0:ce.data)==null?void 0:re.message)||te.message||"Failed to delete employee";_(`Failed to delete employee: ${he}`),n("Failed to delete employee. Please try again.")}finally{k(!1)}},me=ee=>{window.location.href=`/hr/employee-details/${ee.id}`},de=ee=>{S(ee),O(!0)},fe=ee=>ee?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ee):"-",X=ee=>ee?new Date(ee).toLocaleDateString():"-",Z=[{header:"Name",accessor:"fullName"},{header:"Email",accessor:"email"},{header:"Position",accessor:"position"},{header:"Department",accessor:"jobPositionDepartment"}],V=[{label:"Status",component:t.jsxs("select",{value:y,onChange:ee=>b(ee.target.value),className:"filter-select",children:[t.jsx("option",{value:"",children:"All Statuses"}),t.jsx("option",{value:"ACTIVE",children:"Active"}),t.jsx("option",{value:"INACTIVE",children:"Inactive"}),t.jsx("option",{value:"INVITED",children:"Invited"}),t.jsx("option",{value:"ON_LEAVE",children:"On Leave"}),t.jsx("option",{value:"SUSPENDED",children:"Suspended"}),t.jsx("option",{value:"TERMINATED",children:"Terminated"})]})},{label:"Contract Type",component:t.jsxs("select",{value:x,onChange:ee=>j(ee.target.value),className:"filter-select",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"HOURLY",children:"Hourly"}),t.jsx("option",{value:"DAILY",children:"Daily"}),t.jsx("option",{value:"MONTHLY",children:"Monthly"})]})},{label:"Department",component:t.jsxs("select",{value:d,onChange:ee=>h(ee.target.value),className:"filter-select",children:[t.jsx("option",{value:"",children:"All Departments"}),U.map(ee=>t.jsx("option",{value:ee,children:ee},ee))]})}],Y=[{label:"Edit",icon:t.jsx(ga,{}),className:"primary",onClick:ee=>de(ee)},{label:"Delete",icon:t.jsx(Ua,{}),className:"danger",onClick:ee=>ae(ee.id)}];return D&&!E?t.jsxs("div",{className:"error-container",children:[t.jsxs("p",{children:["Error: ",D]}),t.jsx("button",{onClick:G,children:"Try Again"})]}):t.jsxs("div",{className:"employees-container",children:[t.jsxs("div",{className:"departments-header",children:[t.jsxs("div",{className:"employees-header__content",children:[t.jsx("h1",{className:"employees-header__title",children:"Employees Directory"}),t.jsx("p",{className:"employees-header__subtitle",children:"Manage your workforce and employee information"})]}),t.jsxs("button",{className:"btn btn-primary",onClick:()=>T(!0),children:[t.jsx(e_,{}),t.jsx("span",{children:"Add Employee"})]})]}),t.jsx(Nt,{data:s,columns:q,loading:E,tableTitle:"",showSearch:!0,showFilters:!0,filterableColumns:Z,customFilters:V,onRowClick:me,actions:Y,itemsPerPageOptions:[10,25,50,100],defaultItemsPerPage:25,defaultSortField:"fullName",defaultSortDirection:"asc",className:"employees-datatable"}),w&&t.jsx(Mie,{onClose:()=>T(!1),onSave:K,jobPositions:M,sites:z}),A&&P&&t.jsx(_ie,{employee:P,onClose:()=>{O(!1),S(null)},onSave:ie,jobPositions:M,sites:z})]})},qie=()=>{const[e,n]=g.useState(!1),[r,a]=g.useState(!1);return g.useEffect(()=>{const s=()=>{n(window.innerWidth<768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),t.jsx("div",{className:"hr-module-container",children:t.jsx(SN,{})})},Lie=({employee:e,formatDate:n})=>t.jsxs("div",{className:"personal-info tab-panel",children:[t.jsx("h3",{children:"Personal Information"}),t.jsxs("div",{className:"info-grid",children:[t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Full Name"}),t.jsx("p",{children:`${e.firstName} ${e.middleName?e.middleName+" ":""}${e.lastName}`})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Gender"}),t.jsx("p",{children:e.gender||"Not specified"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("p",{children:n(e.birthDate)})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"National ID"}),t.jsx("p",{children:e.nationalIDNumber||"Not available"})]})]}),t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Email"}),t.jsx("p",{children:e.email||"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("p",{children:e.phoneNumber||"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Marital Status"}),t.jsx("p",{children:e.maritalStatus||"Not specified"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Military Status"}),t.jsx("p",{children:e.militaryStatus||"Not applicable"})]})]}),t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Address"}),t.jsx("p",{children:e.address||"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"City"}),t.jsx("p",{children:e.city||"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Country"}),t.jsx("p",{children:e.country||"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Education"}),t.jsx("p",{children:e.education||"Not specified"})]})]})]})]}),$ie=({employee:e,formatDate:n,getPosition:r,getDepartment:a,getSiteName:s})=>{var u,d,h,f,p,y,b,x;const o=()=>{var j;return(j=e.jobPosition)!=null&&j.contractType?e.jobPosition.contractType.replace(/_/g," "):"Not specified"},l=()=>{if(!e.jobPosition)return"Standard hours";switch(e.jobPosition.contractType){case"HOURLY":return`${e.jobPosition.hoursPerShift} hours per shift, ${e.jobPosition.workingDaysPerWeek} days per week`;case"DAILY":return`${e.jobPosition.workingDaysPerMonth} days per month`;case"MONTHLY":return`${e.jobPosition.workingHours||"Standard"} hours per month`;default:return"Standard hours"}};return t.jsxs("div",{className:"employment-info tab-panel",children:[t.jsx("h3",{children:"Employment Information"}),t.jsxs("div",{className:"info-grid",children:[t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Position"}),t.jsx("p",{children:r()})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Department"}),t.jsx("p",{children:a()})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Contract Type"}),t.jsx("p",{children:o()})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Status"}),t.jsx("p",{className:`status-badge ${((u=e.status)==null?void 0:u.toLowerCase())||"active"}`,children:e.status||"Active"})]})]}),t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Site"}),t.jsx("p",{children:s()})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Hire Date"}),t.jsx("p",{children:n(e.hireDate)})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Manager"}),t.jsx("p",{children:e.managerName||"Not assigned"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Experience Level"}),t.jsx("p",{children:((d=e.jobPosition)==null?void 0:d.experienceLevel)||"Not specified"})]})]}),t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Working Hours"}),t.jsx("p",{children:l()})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Employee ID"}),t.jsx("p",{children:e.id||"N/A"})]}),((h=e.jobPosition)==null?void 0:h.contractType)==="HOURLY"&&t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Hourly Rate"}),t.jsxs("p",{children:["$",((f=e.jobPosition.hourlyRate)==null?void 0:f.toFixed(2))||"N/A"]})]}),((p=e.jobPosition)==null?void 0:p.contractType)==="DAILY"&&t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Daily Rate"}),t.jsxs("p",{children:["$",((y=e.jobPosition.dailyRate)==null?void 0:y.toFixed(2))||"N/A"]})]}),((b=e.jobPosition)==null?void 0:b.contractType)==="MONTHLY"&&t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Monthly Base Salary"}),t.jsxs("p",{children:["$",((x=e.jobPosition.monthlyBaseSalary)==null?void 0:x.toFixed(2))||"N/A"]})]})]})]})]})},Bie=({employee:e})=>t.jsxs("div",{className:"documents-info tab-panel",children:[t.jsx("h3",{children:"Employee Documents"}),t.jsxs("div",{className:"documents-grid",children:[t.jsxs("div",{className:"document-card",children:[t.jsx("div",{className:"document-thumbnail",children:t.jsx("img",{src:e.idFrontImage||"https://via.placeholder.com/150?text=No+Image",alt:"ID Card Front"})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h4",{children:"ID Card - Front"}),e.idFrontImage?t.jsx("a",{href:e.idFrontImage,target:"_blank",rel:"noopener noreferrer",className:"view-document",children:"View Full Size"}):t.jsx("p",{className:"no-document",children:"Not uploaded"})]})]}),t.jsxs("div",{className:"document-card",children:[t.jsx("div",{className:"document-thumbnail",children:t.jsx("img",{src:e.idBackImage||"https://via.placeholder.com/150?text=No+Image",alt:"ID Card Back"})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h4",{children:"ID Card - Back"}),e.idBackImage?t.jsx("a",{href:e.idBackImage,target:"_blank",rel:"noopener noreferrer",className:"view-document",children:"View Full Size"}):t.jsx("p",{className:"no-document",children:"Not uploaded"})]})]}),t.jsxs("div",{className:"document-card",children:[t.jsx("div",{className:"document-thumbnail document-placeholder",children:t.jsx("span",{className:"document-icon",children:""})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h4",{children:"License"}),t.jsx("p",{className:"no-document",children:e.license||"Not uploaded"}),t.jsx("button",{className:"upload-document",children:"Upload"})]})]}),t.jsxs("div",{className:"document-card",children:[t.jsx("div",{className:"document-thumbnail document-placeholder",children:t.jsx("span",{className:"document-icon",children:""})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h4",{children:"Resume / CV"}),t.jsx("p",{className:"no-document",children:"Not uploaded"}),t.jsx("button",{className:"upload-document",children:"Upload"})]})]})]})]}),Uie=({employee:e,formatCurrency:n})=>{var r,a,s,o,l,u,d,h;return t.jsxs("div",{className:"compensation-info tab-panel",children:[t.jsx("h3",{children:"Compensation Details"}),t.jsxs("div",{className:"salary-overview",children:[t.jsxs("div",{className:"salary-card",children:[t.jsx("div",{className:"salary-title",children:"Base Monthly Salary"}),t.jsx("div",{className:"salary-amount",children:n(e.monthlySalary||((r=e.jobPosition)!=null&&r.baseSalary?e.jobPosition.baseSalary:0))})]}),t.jsxs("div",{className:"salary-card",children:[t.jsx("div",{className:"salary-title",children:"Annual Salary"}),t.jsx("div",{className:"salary-amount",children:n((e.baseSalary||((a=e.jobPosition)==null?void 0:a.baseSalary))*12||0)})]}),t.jsxs("div",{className:"salary-card",children:[t.jsx("div",{className:"salary-title",children:"Base Position Salary"}),t.jsx("div",{className:"salary-amount",children:n(((s=e.jobPosition)==null?void 0:s.baseSalary)||0)})]})]}),t.jsxs("div",{className:"info-grid",children:[t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Base Salary Override"}),t.jsx("p",{children:e.baseSalaryOverride?n(e.baseSalaryOverride):"Not applied"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Contract Type"}),t.jsx("p",{children:e.contractType||"Not specified"})]})]}),t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Probation Period"}),t.jsx("p",{children:(o=e.jobPosition)!=null&&o.probationPeriod?`${e.jobPosition.probationPeriod} days`:"Not specified"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Working Days"}),t.jsx("p",{children:(l=e.jobPosition)!=null&&l.workingDays?`${e.jobPosition.workingDays} days/week`:"Standard"})]})]}),t.jsxs("div",{className:"info-group",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Shifts"}),t.jsx("p",{children:((u=e.jobPosition)==null?void 0:u.shifts)||"Standard"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Vacations"}),t.jsx("p",{children:((d=e.jobPosition)==null?void 0:d.vacations)||"Per company policy"})]})]})]}),t.jsxs("div",{className:"salary-history",children:[t.jsx("h4",{children:"Salary Information"}),t.jsxs("p",{className:"info-text",children:["This employee's compensation is based on the ",((h=e.jobPosition)==null?void 0:h.positionName)||"current"," position,",e.baseSalaryOverride?" with a custom salary override applied.":" using the standard position salary."]})]})]})};function Fie(e){return Ue({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0"},child:[]},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"},child:[]}]})(e)}function Hie(e){return Ue({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7"},child:[]},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"},child:[]}]})(e)}function zie(e){return Ue({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0z"},child:[]},{tag:"path",attr:{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"},child:[]},{tag:"path",attr:{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"},child:[]}]})(e)}function Wie(e){return Ue({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"},child:[]},{tag:"path",attr:{d:"M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"},child:[]},{tag:"path",attr:{d:"M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"},child:[]}]})(e)}function Vie(e){return Ue({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4"},child:[]},{tag:"path",attr:{d:"M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z"},child:[]}]})(e)}function c8(e){return Ue({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"},child:[]},{tag:"path",attr:{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"},child:[]}]})(e)}const Yie=({employee:e,formatDate:n})=>{const[r,a]=g.useState([]),[s,o]=g.useState({daysPresent:0,totalWorkDays:0,punctuality:0,averageHours:0,daysWorked:0,absentDays:0,lateDays:0,leaveDays:0}),[l,u]=g.useState(!0),[d,h]=g.useState(null),[f,p]=g.useState("month"),[y,b]=g.useState(new Date().getMonth()+1),[x,j]=g.useState(new Date().getFullYear()),[w,T]=g.useState({startDate:new Date(new Date().setDate(1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[A,O]=g.useState("FULL_TIME"),P=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],S=new Date().getFullYear(),E=Array.from({length:3},(J,I)=>S-1+I);g.useEffect(()=>{e&&e.jobPosition&&e.jobPosition.type&&O(e.jobPosition.type.toUpperCase())},[e]),g.useEffect(()=>{if(f==="month"){const J=new Date(x,y-1,1),I=new Date(x,y,0);T({startDate:J.toISOString().split("T")[0],endDate:I.toISOString().split("T")[0]})}else if(f==="week"){const J=new Date,I=new Date(J);I.setDate(J.getDate()-J.getDay());const q=new Date(I);q.setDate(I.getDate()+6),T({startDate:I.toISOString().split("T")[0],endDate:q.toISOString().split("T")[0]})}},[f,y,x]),g.useEffect(()=>{k()},[e,w]);const k=async()=>{if(!(!e||!e.id))try{u(!0),h(null);const{startDate:J,endDate:I}=w,q=localStorage.getItem("token"),B=await fetch(`http://localhost:8080/api/v1/attendance/employee/${e.id}/monthly?year=${x}&month=${y}`,{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}});if(!B.ok)throw new Error(`HTTP error! Status: ${B.status}`);const H=await B.json();if(H&&Array.isArray(H)){const K=[...H].sort((Z,V)=>new Date(V.date)-new Date(Z.date));a(K);const ie=K.length,ae=K.filter(Z=>Z.status==="PRESENT").length,me=K.filter(Z=>Z.status==="ABSENT").length,de=K.filter(Z=>Z.status==="LATE").length,fe=K.filter(Z=>Z.status==="ON_LEAVE").length;let X=8;if(A==="HOURLY"){const Z=K.filter(V=>V.startTime&&V.endTime);Z.length>0&&(X=Z.reduce((Y,ee)=>{const ce=new Date(`2000-01-01T${ee.startTime}`),te=(new Date(`2000-01-01T${ee.endTime}`)-ce)/(1e3*60*60);return Y+te},0)/Z.length)}o({daysPresent:ae,totalWorkDays:ie,absentDays:me,lateDays:de,leaveDays:fe,punctuality:ae>0?(ae-de)/ae*100:0,averageHours:X,daysWorked:ae+de})}}catch(J){console.error("Error fetching attendance data:",J),h(J.message)}finally{u(!1)}},D=J=>{p(J)},_=J=>{b(parseInt(J.target.value))},U=J=>{j(parseInt(J.target.value))},R=J=>{const{name:I,value:q}=J.target;T(B=>({...B,[I]:q}))},$=J=>J?J.split(":").length===3?J.substring(0,5):J:"-",L=J=>{let I="",q=J||"Unknown";switch(J){case"PRESENT":I="present",q="Present";break;case"ABSENT":I="absent",q="Absent";break;case"LATE":I="late",q="Late";break;case"HALF_DAY":I="half-day",q="Half Day";break;case"ON_LEAVE":I="leave",q="On Leave";break;default:I="unknown";break}return t.jsx("span",{className:`status-badge ${I}`,children:q})},z=()=>s.totalWorkDays===0?0:(s.daysPresent/s.totalWorkDays*100).toFixed(1),W=()=>s.daysPresent+s.lateDays===0?0:(s.daysPresent/(s.daysPresent+s.lateDays)*100).toFixed(1),M=()=>r.length===0?t.jsx("div",{className:"no-records",children:t.jsx("p",{children:"No attendance records found for the selected period."})}):A==="HOURLY"?t.jsxs("table",{className:"attendance-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Start Time"}),t.jsx("th",{children:"End Time"}),t.jsx("th",{children:"Hours"}),t.jsx("th",{children:"Overtime"}),t.jsx("th",{children:"Notes"})]})}),t.jsx("tbody",{children:r.slice(0,7).map((J,I)=>t.jsxs("tr",{children:[t.jsx("td",{children:n?n(J.date):new Date(J.date).toLocaleDateString()}),t.jsx("td",{children:$(J.startTime)}),t.jsx("td",{children:$(J.endTime)}),t.jsx("td",{children:J.startTime&&J.endTime?F(J.startTime,J.endTime):"-"}),t.jsx("td",{children:J.overtimeHours?`${J.overtimeHours}h`:"-"}),t.jsx("td",{children:J.notes||"-"})]},I))})]}):A==="DAILY"?t.jsxs("table",{className:"attendance-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Notes"})]})}),t.jsx("tbody",{children:r.slice(0,7).map((J,I)=>t.jsxs("tr",{children:[t.jsx("td",{children:n?n(J.date):new Date(J.date).toLocaleDateString()}),t.jsx("td",{children:L(J.status)}),t.jsx("td",{children:J.notes||"-"})]},I))})]}):t.jsxs("table",{className:"attendance-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Day"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Notes"})]})}),t.jsx("tbody",{children:r.slice(0,7).map((J,I)=>{const q=new Date(J.date),B=q.toLocaleDateString("en-US",{weekday:"short"});return t.jsxs("tr",{children:[t.jsx("td",{children:n?n(J.date):q.toLocaleDateString()}),t.jsx("td",{children:B}),t.jsx("td",{children:L(J.status)}),t.jsx("td",{children:J.notes||"-"})]},I)})})]}),F=(J,I)=>{const q=J.split(":").map(Number),B=I.split(":").map(Number),H=q[0]*60+q[1];let ie=B[0]*60+B[1]-H;return ie<0&&(ie+=24*60),(ie/60).toFixed(1)+"h"},G=()=>t.jsxs("div",{className:"attendance-metrics",children:[t.jsxs("div",{className:"metric-card",children:[t.jsx("div",{className:"metric-icon",children:t.jsx(Fie,{})}),t.jsxs("div",{className:"metric-content",children:[t.jsx("div",{className:"metric-title",children:"Attendance"}),t.jsxs("div",{className:"metric-value",children:[z(),"%"]}),t.jsx("div",{className:"metric-details",children:t.jsxs("span",{children:[s.daysPresent," of ",s.totalWorkDays," days"]})})]})]}),t.jsxs("div",{className:"metric-card",children:[t.jsx("div",{className:"metric-icon",children:t.jsx(Wie,{})}),t.jsxs("div",{className:"metric-content",children:[t.jsx("div",{className:"metric-title",children:"Punctuality"}),t.jsxs("div",{className:"metric-value",children:[W(),"%"]}),t.jsx("div",{className:"metric-details",children:t.jsxs("span",{children:[s.lateDays," late days"]})})]})]}),A==="HOURLY"?t.jsxs("div",{className:"metric-card",children:[t.jsx("div",{className:"metric-icon",children:t.jsx(zie,{})}),t.jsxs("div",{className:"metric-content",children:[t.jsx("div",{className:"metric-title",children:"Hours"}),t.jsxs("div",{className:"metric-value",children:[s.averageHours.toFixed(1),"h"]}),t.jsx("div",{className:"metric-details",children:t.jsx("span",{children:"Avg. per day"})})]})]}):t.jsxs("div",{className:"metric-card",children:[t.jsx("div",{className:"metric-icon",children:t.jsx(Vie,{})}),t.jsxs("div",{className:"metric-content",children:[t.jsx("div",{className:"metric-title",children:"Leaves"}),t.jsx("div",{className:"metric-value",children:s.leaveDays}),t.jsx("div",{className:"metric-details",children:t.jsx("span",{children:"Days this period"})})]})]})]});return t.jsxs("div",{className:"attendance-tab",children:[t.jsxs("div",{className:"attendance-header",children:[t.jsx("h3",{children:"Attendance Records"}),t.jsxs("div",{className:"employee-type",children:[t.jsx("span",{className:"type-label",children:"Contract:"}),t.jsx("span",{className:"type-value",children:A.replace("_"," ")})]})]}),t.jsxs("div",{className:"period-selector",children:[t.jsxs("div",{className:"period-tabs",children:[t.jsx("button",{className:`period-tab ${f==="month"?"active":""}`,onClick:()=>D("month"),children:"Monthly"}),t.jsx("button",{className:`period-tab ${f==="week"?"active":""}`,onClick:()=>D("week"),children:"Weekly"}),t.jsx("button",{className:`period-tab ${f==="custom"?"active":""}`,onClick:()=>D("custom"),children:"Custom Range"})]}),t.jsxs("div",{className:"period-options",children:[f==="month"&&t.jsxs("div",{className:"month-selector",children:[t.jsx("div",{className:"form-group",children:t.jsx("select",{value:y,onChange:_,children:P.map(J=>t.jsx("option",{value:J.value,children:J.label},J.value))})}),t.jsx("div",{className:"form-group",children:t.jsx("select",{value:x,onChange:U,children:E.map(J=>t.jsx("option",{value:J,children:J},J))})})]}),f==="custom"&&t.jsxs("div",{className:"date-range-selector",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"From:"}),t.jsx("input",{type:"date",name:"startDate",value:w.startDate,onChange:R,max:w.endDate})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"To:"}),t.jsx("input",{type:"date",name:"endDate",value:w.endDate,onChange:R,min:w.startDate,max:new Date().toISOString().split("T")[0]})]}),t.jsx("button",{className:"apply-btn",onClick:k,children:"Apply"})]})]})]}),l?t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loader"}),t.jsx("p",{children:"Loading attendance data..."})]}):d?t.jsxs("div",{className:"error-container",children:[t.jsxs("p",{children:["Error: ",d]}),t.jsx("button",{onClick:k,children:"Try Again"})]}):t.jsxs(t.Fragment,{children:[G(),t.jsxs("div",{className:"attendance-details",children:[t.jsx("h4",{children:"Recent Attendance"}),t.jsx("div",{className:"table-container",children:M()})]}),t.jsx("div",{className:"view-all-link",children:t.jsx("a",{href:`/attendance/${e.id}`,target:"_blank",rel:"noopener noreferrer",children:"View Complete Attendance History"})})]})]})},Gie=({employee:e,formatCurrency:n})=>t.jsxs("div",{className:"deductions-info tab-panel",children:[t.jsx("h3",{children:"Salary Deductions"}),t.jsx("div",{className:"deductions-summary",children:t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"Total Deductions"}),t.jsx("div",{className:"amount",children:n(250)}),t.jsx("div",{className:"period",children:"Current Month"})]})}),t.jsx("div",{className:"deductions-table-container",children:t.jsxs("table",{className:"deductions-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Amount"}),t.jsx("th",{children:"Reason"}),t.jsx("th",{children:"Status"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"April 15, 2025"}),t.jsx("td",{children:"Tax"}),t.jsx("td",{children:n(150)}),t.jsx("td",{children:"Income Tax"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Processed"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"April 15, 2025"}),t.jsx("td",{children:"Insurance"}),t.jsx("td",{children:n(75)}),t.jsx("td",{children:"Health Insurance"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Processed"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"April 25, 2025"}),t.jsx("td",{children:"Absence"}),t.jsx("td",{children:n(25)}),t.jsx("td",{children:"Unauthorized Absence"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge pending",children:"Pending"})})]})]})]})})]}),Kie=({employee:e,formatCurrency:n})=>t.jsxs("div",{className:"commissions-info tab-panel",children:[t.jsx("h3",{children:"Commissions & Bonuses"}),t.jsxs("div",{className:"commissions-summary",children:[t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"Total Commissions"}),t.jsx("div",{className:"amount",children:n(e.commission||0)}),t.jsx("div",{className:"period",children:"Year to Date"})]}),t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"Performance Bonus"}),t.jsx("div",{className:"amount",children:n(e.bonus||0)}),t.jsx("div",{className:"period",children:"Last Quarter"})]})]}),t.jsx("div",{className:"commissions-table-container",children:t.jsxs("table",{className:"commissions-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Type"}),t.jsx("th",{children:"Amount"}),t.jsx("th",{children:"Description"}),t.jsx("th",{children:"Status"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"March 30, 2025"}),t.jsx("td",{children:"Performance Bonus"}),t.jsx("td",{children:n(500)}),t.jsx("td",{children:"Q1 Performance Target Achieved"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Paid"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"February 15, 2025"}),t.jsx("td",{children:"Sales Commission"}),t.jsx("td",{children:n(350)}),t.jsx("td",{children:"Monthly Sales Target Exceeded"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Paid"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"April 28, 2025"}),t.jsx("td",{children:"Referral Bonus"}),t.jsx("td",{children:n(200)}),t.jsx("td",{children:"New Employee Referral"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge pending",children:"Processing"})})]})]})]})})]}),Qie=({employee:e,formatCurrency:n})=>t.jsxs("div",{className:"loans-info tab-panel",children:[t.jsx("h3",{children:"Loans & Advances"}),t.jsxs("div",{className:"loans-summary",children:[t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"Total Outstanding"}),t.jsx("div",{className:"amount",children:n(1200)}),t.jsx("div",{className:"period",children:"Current Balance"})]}),t.jsxs("div",{className:"summary-card",children:[t.jsx("h4",{children:"Monthly Deduction"}),t.jsx("div",{className:"amount",children:n(100)}),t.jsx("div",{className:"period",children:"Current Rate"})]})]}),t.jsx("div",{className:"loans-table-container",children:t.jsxs("table",{className:"loans-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date Issued"}),t.jsx("th",{children:"Loan Type"}),t.jsx("th",{children:"Amount"}),t.jsx("th",{children:"Remaining"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"January 10, 2025"}),t.jsx("td",{children:"Personal Loan"}),t.jsx("td",{children:n(1500)}),t.jsx("td",{children:n(1200)}),t.jsx("td",{children:t.jsx("span",{className:"status-badge active",children:"Active"})}),t.jsx("td",{children:t.jsx("button",{className:"view-details-btn",children:"Details"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"October 5, 2024"}),t.jsx("td",{children:"Salary Advance"}),t.jsx("td",{children:n(500)}),t.jsx("td",{children:n(0)}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Paid Off"})}),t.jsx("td",{children:t.jsx("button",{className:"view-details-btn",children:"Details"})})]})]})]})}),t.jsxs("div",{className:"loan-application",children:[t.jsx("h4",{children:"Request Loan or Advance"}),t.jsx("button",{className:"request-loan-btn",children:"Apply for Loan"})]})]}),Xie=({employee:e,formatCurrency:n})=>t.jsxs("div",{className:"payslips-info tab-panel",children:[t.jsx("h3",{children:"Payslips & Salary History"}),t.jsx("div",{className:"payslips-table-container",children:t.jsxs("table",{className:"payslips-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Period"}),t.jsx("th",{children:"Gross Pay"}),t.jsx("th",{children:"Deductions"}),t.jsx("th",{children:"Net Pay"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"April 2025"}),t.jsx("td",{children:n(e.monthlySalary||3e3)}),t.jsx("td",{children:n(250)}),t.jsx("td",{children:n((e.monthlySalary||3e3)-250)}),t.jsx("td",{children:t.jsx("span",{className:"status-badge pending",children:"Processing"})}),t.jsx("td",{children:t.jsx("button",{className:"download-btn",disabled:!0,children:"Download"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"March 2025"}),t.jsx("td",{children:n(e.monthlySalary||3e3)}),t.jsx("td",{children:n(250)}),t.jsx("td",{children:n((e.monthlySalary||3e3)-250)}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Paid"})}),t.jsx("td",{children:t.jsx("button",{className:"download-btn",children:"Download"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"February 2025"}),t.jsx("td",{children:n(e.monthlySalary||3e3)}),t.jsx("td",{children:n(250)}),t.jsx("td",{children:n((e.monthlySalary||3e3)-250)}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Paid"})}),t.jsx("td",{children:t.jsx("button",{className:"download-btn",children:"Download"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"January 2025"}),t.jsx("td",{children:n(e.monthlySalary||3e3)}),t.jsx("td",{children:n(250)}),t.jsx("td",{children:n((e.monthlySalary||3e3)-250)}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Paid"})}),t.jsx("td",{children:t.jsx("button",{className:"download-btn",children:"Download"})})]})]})]})})]}),Jie=({employee:e,formatDate:n})=>t.jsxs("div",{className:"vacation-info tab-panel",children:[t.jsx("h3",{children:"Vacation & Leave"}),t.jsxs("div",{className:"leave-balance",children:[t.jsxs("div",{className:"balance-card",children:[t.jsx("h4",{children:"Annual Leave"}),t.jsx("div",{className:"balance",children:"15 / 21"}),t.jsx("div",{className:"balance-label",children:"Days Remaining"})]}),t.jsxs("div",{className:"balance-card",children:[t.jsx("h4",{children:"Sick Leave"}),t.jsx("div",{className:"balance",children:"7 / 10"}),t.jsx("div",{className:"balance-label",children:"Days Remaining"})]}),t.jsxs("div",{className:"balance-card",children:[t.jsx("h4",{children:"Personal Leave"}),t.jsx("div",{className:"balance",children:"3 / 5"}),t.jsx("div",{className:"balance-label",children:"Days Remaining"})]})]}),t.jsx("h4",{children:"Leave History"}),t.jsx("div",{className:"leave-history-table-container",children:t.jsxs("table",{className:"leave-history-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Type"}),t.jsx("th",{children:"From"}),t.jsx("th",{children:"To"}),t.jsx("th",{children:"Days"}),t.jsx("th",{children:"Reason"}),t.jsx("th",{children:"Status"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Annual Leave"}),t.jsx("td",{children:n("2025-03-15")}),t.jsx("td",{children:n("2025-03-20")}),t.jsx("td",{children:"5"}),t.jsx("td",{children:"Vacation"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Approved"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Sick Leave"}),t.jsx("td",{children:n("2025-02-03")}),t.jsx("td",{children:n("2025-02-05")}),t.jsx("td",{children:"3"}),t.jsx("td",{children:"Illness"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge completed",children:"Approved"})})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Personal Leave"}),t.jsx("td",{children:n("2025-05-10")}),t.jsx("td",{children:n("2025-05-12")}),t.jsx("td",{children:"2"}),t.jsx("td",{children:"Family event"}),t.jsx("td",{children:t.jsx("span",{className:"status-badge pending",children:"Pending"})})]})]})]})}),t.jsxs("div",{className:"leave-request",children:[t.jsx("h4",{children:"Request Leave"}),t.jsx("button",{className:"request-leave-btn",children:"New Leave Request"})]})]}),pc=()=>t.jsxs("div",{className:"loading-page",children:[t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-logo",children:t.jsxs("div",{className:"logo-wrapper",children:[t.jsx("div",{className:"logo-icon",children:t.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("circle",{cx:"30",cy:"30",r:"25",fill:"url(#gradient1)"}),t.jsx("path",{d:"M20 30L28 38L40 22",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#667eea"}),t.jsx("stop",{offset:"100%",stopColor:"#764ba2"})]})})]})}),t.jsx("h1",{className:"logo-text",children:"RockOps"})]})}),t.jsxs("div",{className:"loading-animation",children:[t.jsx("div",{className:"spinner-container",children:t.jsxs("div",{className:"spinner",children:[t.jsx("div",{className:"spinner-ring"}),t.jsx("div",{className:"spinner-ring"}),t.jsx("div",{className:"spinner-ring"})]})}),t.jsxs("div",{className:"progress-container",children:[t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill"})}),t.jsx("div",{className:"progress-text",children:"Loading your workspace..."})]})]}),t.jsxs("div",{className:"floating-elements",children:[t.jsx("div",{className:"floating-dot dot-1"}),t.jsx("div",{className:"floating-dot dot-2"}),t.jsx("div",{className:"floating-dot dot-3"}),t.jsx("div",{className:"floating-dot dot-4"}),t.jsx("div",{className:"floating-dot dot-5"})]}),t.jsxs("div",{className:"loading-text",children:[t.jsx("p",{className:"loading-message",children:"Please wait while we prepare everything for you"}),t.jsxs("div",{className:"loading-dots",children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]})]})]}),t.jsx("div",{className:"background-pattern",children:t.jsx("div",{className:"pattern-grid",children:Array.from({length:20}).map((e,n)=>t.jsx("div",{className:"grid-item"},n))})})]}),Q3=()=>{var T,A;const{id:e}=ya(),n=Tt(),[r,a]=g.useState(null),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState("personal");g.useEffect(()=>{f()},[e]);const f=async()=>{try{o(!0);const O=localStorage.getItem("token"),P=await fetch(`http://localhost:8080/api/v1/hr/employee/${e}`,{method:"GET",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(console.log("Employee details response:",P),!P.ok)throw new Error(`HTTP error! Status: ${P.status}`);const S=await P.json();console.log("Employee details data:",S),a(S),o(!1)}catch(O){console.error("Error fetching employee details:",O),u(O.message),o(!1)}},p=O=>{if(!O)return"Not specified";try{let P;return typeof O=="string"?P=new Date(O):O instanceof Date?P=O:P=new Date(O+"T00:00:00"),isNaN(P.getTime())?(console.warn("Invalid date:",O),"Not specified"):P.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(P){return console.error("Error formatting date:",P,"Date string:",O),"Not specified"}},y=O=>{if(!O)return"N/A";try{const P=new Date;let S;if(typeof O=="string"?S=new Date(O):O instanceof Date?S=O:S=new Date(O+"T00:00:00"),isNaN(S.getTime()))return console.warn("Invalid hire date:",O),"N/A";const E=P-S;return`${Math.floor(E/(1e3*60*60*24))} days`}catch(P){return console.error("Error calculating days since hire:",P),"N/A"}},b=O=>!O&&O!==0?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(O);if(s)return t.jsx(pc,{});if(l)return t.jsx("div",{className:"employee-details-container",children:t.jsxs("div",{className:"error-message",children:[t.jsx("h2",{children:"Error Loading Data"}),t.jsx("p",{children:l}),t.jsxs("div",{className:"error-actions",children:[t.jsx("button",{onClick:()=>f(),children:"Try Again"}),t.jsx("button",{onClick:()=>n("/hr/employees"),children:"Back to List"})]})]})});if(!r)return t.jsx("div",{className:"employee-details-container",children:t.jsxs("div",{className:"error-message",children:[t.jsx("h2",{children:"Employee Not Found"}),t.jsx("p",{children:"The requested employee could not be found."}),t.jsx("button",{onClick:()=>n("/hr/employees"),children:"Back to Employees List"})]})});const x=()=>r.jobPosition&&r.jobPosition.positionName?r.jobPosition.positionName:r.position||"Position Not Assigned",j=()=>{var O;if((O=r.jobPosition)!=null&&O.department){if(typeof r.jobPosition.department=="object"&&r.jobPosition.department.name)return r.jobPosition.department.name;if(typeof r.jobPosition.department=="string")return r.jobPosition.department}return"Department Not Assigned"},w=()=>r.site&&r.site.name?r.site.name:r.siteName||"No site assigned";return t.jsx("div",{className:"employee-details-container",children:t.jsxs("div",{className:"employee-details-content",children:[t.jsxs("div",{className:"employee-info-bar",children:[t.jsxs("div",{className:"employee-details-avatar",children:[t.jsx("img",{src:r.photoUrl||"https://via.placeholder.com/48?text=?",alt:`${r.firstName} ${r.lastName}`}),t.jsx("div",{className:`employee-status-indicator ${((T=r.status)==null?void 0:T.toLowerCase())||"active"}`})]}),t.jsxs("div",{className:"employee-basic-info",children:[t.jsx("h1",{className:"employee-name",children:r.fullName||`${r.firstName} ${r.middleName?r.middleName+" ":""}${r.lastName}`}),t.jsxs("div",{className:"employee-meta",children:[t.jsx("span",{className:"position",children:x()}),t.jsx("span",{className:"separator",children:""}),t.jsx("span",{className:"department",children:j()}),t.jsx("span",{className:"separator",children:""}),t.jsx("span",{className:"site",children:w()})]})]}),t.jsxs("div",{className:"employee-quick-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Status"}),t.jsx("span",{className:`status-badge ${((A=r.status)==null?void 0:A.toLowerCase())||"active"}`,children:r.status||"N/A"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Employee ID"}),t.jsxs("span",{className:"stat-value",children:["#",r.id]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Hire Date"}),t.jsxs("span",{className:"stat-value",children:[p(r.hireDate),t.jsxs("span",{className:"days-since-hire",children:["(",y(r.hireDate),")"]})]})]})]})]}),t.jsxs("div",{className:"employee-details-tabs",children:[t.jsxs("div",{className:"tabs-header",children:[t.jsx("button",{className:`tab-button ${d==="personal"?"active":""}`,onClick:()=>h("personal"),children:"Personal Info"}),t.jsx("button",{className:`tab-button ${d==="employment"?"active":""}`,onClick:()=>h("employment"),children:"Employment"}),t.jsx("button",{className:`tab-button ${d==="documents"?"active":""}`,onClick:()=>h("documents"),children:"Documents"}),t.jsx("button",{className:`tab-button ${d==="compensation"?"active":""}`,onClick:()=>h("compensation"),children:"Compensation"}),t.jsx("button",{className:`tab-button ${d==="attendance"?"active":""}`,onClick:()=>h("attendance"),children:"Attendance"}),t.jsx("button",{className:`tab-button ${d==="deductions"?"active":""}`,onClick:()=>h("deductions"),children:"Deductions"}),t.jsx("button",{className:`tab-button ${d==="commissions"?"active":""}`,onClick:()=>h("commissions"),children:"Commissions"}),t.jsx("button",{className:`tab-button ${d==="loans"?"active":""}`,onClick:()=>h("loans"),children:"Loans"}),t.jsx("button",{className:`tab-button ${d==="payslips"?"active":""}`,onClick:()=>h("payslips"),children:"Payslips"}),t.jsx("button",{className:`tab-button ${d==="vacation"?"active":""}`,onClick:()=>h("vacation"),children:"Vacation"})]}),t.jsxs("div",{className:"tab-content","data-active-tab":d==="personal"?"Personal Information":d==="employment"?"Employment Information":d==="documents"?"Documents":d==="compensation"?"Compensation":d==="attendance"?"Attendance":d==="deductions"?"Deductions":d==="commissions"?"Commissions":d==="loans"?"Loans":d==="payslips"?"Payslips":"Vacation",children:[d==="personal"&&t.jsx(Lie,{employee:r,formatDate:p}),d==="employment"&&t.jsx($ie,{employee:r,formatDate:p,getPosition:x,getDepartment:j,getSiteName:w}),d==="documents"&&t.jsx(Bie,{employee:r}),d==="compensation"&&t.jsx(Uie,{employee:r,formatCurrency:b}),d==="attendance"&&t.jsx(Yie,{employee:r,formatDate:p}),d==="deductions"&&t.jsx(Gie,{employee:r,formatCurrency:b}),d==="commissions"&&t.jsx(Kie,{employee:r,formatCurrency:b}),d==="loans"&&t.jsx(Qie,{employee:r,formatCurrency:b}),d==="payslips"&&t.jsx(Xie,{employee:r,formatCurrency:b}),d==="vacation"&&t.jsx(Jie,{employee:r,formatDate:p})]})]})]})})},Zie=({onClose:e,onSave:n,vacancyId:r})=>{const[a,s]=g.useState(1),o=3,[l,u]=g.useState({firstName:"",lastName:"",email:"",phoneNumber:"",country:"",currentPosition:"",currentCompany:"",notes:"",applicationDate:new Date().toISOString().split("T")[0],vacancyId:r||""}),[d,h]=g.useState(null),[f,p]=g.useState({}),y=E=>{const{name:k,value:D}=E.target;u({...l,[k]:D||""}),f[k]&&p({...f,[k]:""})},b=E=>{E.target.name==="resume"&&E.target.files[0]&&h(E.target.files[0])},x=()=>{const E={};switch(a){case 1:l.firstName.trim()||(E.firstName="First name is required"),l.lastName.trim()||(E.lastName="Last name is required"),l.email.trim()||(E.email="Email is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(E.email="Email is invalid");break}return p(E),Object.keys(E).length===0},j=E=>{E.preventDefault(),E.stopPropagation(),x()&&s(a+1)},w=E=>{E.preventDefault(),E.stopPropagation(),s(a-1)},T=E=>{if(E.preventDefault(),a!==o){j(E);return}if(x()){const k=new FormData;k.append("candidateData",JSON.stringify(l)),d&&k.append("resume",d),n(k)}},A=()=>t.jsxs("div",{className:"form-step",children:[t.jsx("h3",{children:"Personal Information"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"First Name *"}),t.jsx("input",{type:"text",name:"firstName",value:l.firstName,onChange:y,className:f.firstName?"error":""}),f.firstName&&t.jsx("span",{className:"error-message",children:f.firstName})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Last Name *"}),t.jsx("input",{type:"text",name:"lastName",value:l.lastName,onChange:y,className:f.lastName?"error":""}),f.lastName&&t.jsx("span",{className:"error-message",children:f.lastName})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email *"}),t.jsx("input",{type:"email",name:"email",value:l.email,onChange:y,className:f.email?"error":""}),f.email&&t.jsx("span",{className:"error-message",children:f.email})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phoneNumber",value:l.phoneNumber,onChange:y})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Country"}),t.jsx("input",{type:"text",name:"country",value:l.country,onChange:y})]})]}),O=()=>t.jsxs("div",{className:"form-step",children:[t.jsx("h3",{children:"Professional Information"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Current Position"}),t.jsx("input",{type:"text",name:"currentPosition",value:l.currentPosition,onChange:y})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Current Company"}),t.jsx("input",{type:"text",name:"currentCompany",value:l.currentCompany,onChange:y})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Application Date"}),t.jsx("input",{type:"date",name:"applicationDate",value:l.applicationDate,onChange:y})]})]}),P=()=>t.jsxs("div",{className:"form-step",children:[t.jsx("h3",{children:"Additional Information"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Resume/CV"}),t.jsx("input",{type:"file",name:"resume",accept:".pdf,.doc,.docx",onChange:b}),t.jsx("small",{children:"Upload candidate's resume or CV (PDF, DOC, DOCX)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Notes"}),t.jsx("textarea",{name:"notes",rows:"4",value:l.notes,onChange:y,placeholder:"Additional information about the candidate..."})]})]}),S=()=>{switch(a){case 1:return A();case 2:return O();case 3:return P();default:return null}};return t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"candidate-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Add New Candidate"}),t.jsx("button",{className:"close-button",onClick:e,children:""})]}),t.jsxs("form",{onSubmit:T,children:[t.jsxs("div",{className:"modal-body",children:[t.jsx("div",{className:"step-indicator",children:Array.from({length:o},(E,k)=>t.jsxs("div",{className:`step ${k+1===a?"active":k+1<a?"completed":""}`,children:[t.jsx("div",{className:"step-number",children:k+1}),t.jsx("div",{className:"step-label",children:k===0?"Personal":k===1?"Professional":"Additional"})]},k))}),S()]}),t.jsxs("div",{className:"modal-footer",children:[a>1&&t.jsx("button",{type:"button",className:"back-btn",onClick:w,children:"Back"}),a<o?t.jsx("button",{type:"button",className:"next-btn",onClick:j,children:"Next"}):t.jsx("button",{type:"submit",className:"save-btn",children:"Submit Application"})]})]})]})})},Tu={getAll:()=>ye.get(Pi.BASE),getById:e=>ye.get(Pi.BY_ID(e)),getByVacancy:e=>ye.get(Pi.BY_VACANCY(e)),create:e=>ye.post(Pi.CREATE,e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,n)=>ye.put(Pi.UPDATE(e),n,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>ye.delete(Pi.DELETE(e)),convertToEmployee:e=>ye.get(Pi.TO_EMPLOYEE(e))},eoe=({vacancyId:e})=>{const n=Tt(),[r,a]=g.useState([]),[s,o]=g.useState(null),[l,u]=g.useState(!0),[d,h]=g.useState(null),[f,p]=g.useState(!1);g.useEffect(()=>{const S=async()=>{try{u(!0);const k=await Tu.getByVacancy(e);a(k.data),u(!1)}catch(k){console.error("Error fetching candidates:",k),h(k.message),u(!1)}},E=async()=>{try{const k=localStorage.getItem("token"),D=await fetch(`http://localhost:8080/api/v1/vacancies/${e}/statistics`,{method:"GET",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(D.ok){const _=await D.json();o(_)}}catch(k){console.error("Error fetching vacancy stats:",k)}};e&&(S(),E())},[e]);const y=async S=>{var E,k,D,_,U;try{u(!0),h(null),console.log("Submitting candidate data:",S);const R=await Tu.create(S);console.log("Candidate created successfully:",R),await j(),p(!1)}catch(R){console.error("Error adding candidate:",R),console.error("Error details:",((E=R.response)==null?void 0:E.data)||R.message);const $=((D=(k=R.response)==null?void 0:k.data)==null?void 0:D.message)||((U=(_=R.response)==null?void 0:_.data)==null?void 0:U.error)||R.message||"Failed to add candidate";h($)}finally{u(!1)}},b=async S=>{if(window.confirm("Are you sure you want to delete this candidate?"))try{u(!0),await Tu.delete(S),await j()}catch(E){console.error("Error deleting candidate:",E),h(E.message)}finally{u(!1)}},x=async S=>{if(window.confirm("Are you sure you want to hire this candidate?"))try{u(!0);const E=localStorage.getItem("token"),k=await fetch(`http://localhost:8080/api/v1/vacancies/hire-candidate/${S}`,{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!k.ok){const _=await k.json();throw new Error(_.error||"Failed to hire candidate")}const D=await Tu.convertToEmployee(S);sessionStorage.setItem("prepopulatedEmployeeData",JSON.stringify(D.data)),n("/employees/add")}catch(E){console.error("Error hiring candidate:",E),h(E.message),alert(`Failed to hire candidate: ${E.message}`)}finally{u(!1)}},j=async()=>{try{const S=await Tu.getByVacancy(e);a(S.data);const E=localStorage.getItem("token"),k=await fetch(`http://localhost:8080/api/v1/vacancies/${e}/statistics`,{method:"GET",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(k.ok){const D=await k.json();o(D)}}catch(S){console.error("Error refreshing data:",S)}},w=S=>S?new Date(S).toLocaleDateString():"N/A",T=S=>{if(!S)return"N/A";const E=new Date,D=new Date(S)-E,_=Math.ceil(D/(1e3*60*60*24));return _<0?"Closed":_===0?"Today":`${_} days`},A=S=>{const k={APPLIED:"info",UNDER_REVIEW:"warning",INTERVIEWED:"primary",HIRED:"success",REJECTED:"danger",POTENTIAL:"secondary",WITHDRAWN:"secondary"}[S]||"info";return t.jsx("span",{className:`status-badge status-badge--${k}`,children:(S==null?void 0:S.replace("_"," "))||"APPLIED"})},O=[{header:"Name",accessor:"firstName",render:S=>`${S.firstName} ${S.lastName}`},{header:"Status",accessor:"candidateStatus",render:S=>A(S.candidateStatus)},{header:"Email",accessor:"email"},{header:"Phone",accessor:"phoneNumber",render:S=>S.phoneNumber||"N/A"},{header:"Current Position",accessor:"currentPosition",render:S=>S.currentPosition||"N/A"},{header:"Current Company",accessor:"currentCompany",render:S=>S.currentCompany||"N/A"},{header:"Applied",accessor:"applicationDate",render:S=>w(S.applicationDate)}],P=[{label:"View Resume",icon:t.jsx(QM,{}),onClick:S=>window.open(S.resumeUrl,"_blank"),isDisabled:S=>!S.resumeUrl,className:"view-resume-btn"},{label:"Hire",icon:t.jsx(v9,{}),onClick:S=>x(S.id),isDisabled:S=>S.candidateStatus==="HIRED"||(s==null?void 0:s.isFull)&&S.candidateStatus!=="POTENTIAL",className:"hire-btn"},{label:"Delete",icon:t.jsx(kN,{}),onClick:S=>b(S.id),className:"delete-btn"}];return t.jsxs("div",{className:"candidates-section",children:[d&&t.jsxs("div",{className:"error-alert",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"16px",border:"1px solid #f5c6cb"},children:[t.jsx("strong",{children:"Error:"})," ",d]}),s&&t.jsxs("div",{className:"vacancy-stats",children:[t.jsxs("div",{className:"vacancy-stats-grid",children:[t.jsxs("div",{className:"vacancy-stat-card",children:[t.jsx("div",{className:"vacancy-stat-number",children:s.remainingPositions}),t.jsx("div",{className:"vacancy-stat-label",children:"Remaining Positions"})]}),t.jsxs("div",{className:"vacancy-stat-card",children:[t.jsx("div",{className:"vacancy-stat-number",children:s.hiredCount}),t.jsx("div",{className:"vacancy-stat-label",children:"Hired"})]}),t.jsxs("div",{className:"vacancy-stat-card",children:[t.jsx("div",{className:"vacancy-stat-number",children:s.totalPositions}),t.jsx("div",{className:"vacancy-stat-label",children:"Total Positions"})]}),t.jsxs("div",{className:"vacancy-stat-card",children:[t.jsxs("div",{className:"vacancy-stat-number",children:[Math.round(s.filledPercentage),"%"]}),t.jsx("div",{className:"vacancy-stat-label",children:"Filled"})]}),t.jsxs("div",{className:"vacancy-stat-card",children:[t.jsx("div",{className:`vacancy-stat-number ${T(s.closingDate)==="Closed"?"remaining-days-closed":T(s.closingDate)==="Today"?"remaining-days-today":parseInt(T(s.closingDate))<=7?"remaining-days-urgent":"remaining-days-normal"}`,children:T(s.closingDate)}),t.jsx("div",{className:"vacancy-stat-label",children:"Time Remaining"})]})]}),s.isFull&&t.jsxs("div",{className:"vacancy-full-alert",children:[t.jsx("i",{className:"fas fa-exclamation-circle"}),"This vacancy is full. New candidates will be moved to the potential list."]})]}),t.jsxs("div",{className:"departments-header",children:[t.jsx("h2",{children:"Candidates"}),t.jsx("button",{className:"btn-primary",onClick:()=>p(!0),disabled:l,children:l?"Loading...":"Add Candidate"})]}),t.jsx(Nt,{data:r||[],columns:O,actions:P,loading:l,tableTitle:"Candidates List",showSearch:!0,showFilters:!0,filterableColumns:O.filter(S=>S.accessor!=="candidateStatus"),defaultItemsPerPage:10,itemsPerPageOptions:[10,25,50,100]}),f&&t.jsx(Zie,{onClose:()=>p(!1),onSave:y,vacancyId:e})]})},toe=()=>{const{id:e}=ya(),n=Tt(),[r,a]=g.useState(null),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState("details");g.useEffect(()=>{e&&(async()=>{try{o(!0);const j=localStorage.getItem("token"),w=await fetch(`http://localhost:8080/api/v1/vacancies/${e}`,{method:"GET",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(!w.ok)throw new Error(`HTTP error! Status: ${w.status}`);const T=await w.json();a(T),o(!1)}catch(j){console.error("Error fetching vacancy details:",j),u(j.message),o(!1)}})()},[e]);const f=x=>x?new Date(x).toLocaleDateString():"N/A",p=x=>{if(!x)return"N/A";const j=new Date,T=new Date(x)-j,A=Math.ceil(T/(1e3*60*60*24));return A<0?"Closed":A===0?"Today":`${A} days`},y=x=>{switch(x){case"OPEN":return"status-badge-success";case"CLOSED":return"status-badge-danger";case"FILLED":return"status-badge-info";default:return"status-badge-warning"}},b=x=>{switch(x){case"HIGH":return"priority-badge-high";case"MEDIUM":return"priority-badge-medium";case"LOW":return"priority-badge-low";default:return"priority-badge-medium"}};return s?t.jsx("div",{className:"vacancy-details-container",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loader"}),t.jsx("p",{children:"Loading vacancy details..."})]})}):l?t.jsx("div",{className:"vacancy-details-container",children:t.jsxs("div",{className:"error-container",children:[t.jsxs("p",{children:["Error: ",l]}),t.jsx("button",{onClick:()=>n("/vacancies"),children:"Back to Vacancies"})]})}):r?t.jsxs("div",{className:"vacancy-details-container",children:[t.jsxs("div",{className:"details-header",children:[t.jsx("h1",{children:r.title}),t.jsxs("div",{className:"header-badges",children:[t.jsx("span",{className:`status-badge ${y(r.status)}`,children:r.status}),t.jsxs("span",{className:`priority-badge ${b(r.priority)}`,children:[r.priority||"MEDIUM"," Priority"]})]})]}),t.jsx("div",{className:"tabs-container",children:t.jsxs("div",{className:"tabs",children:[t.jsxs("button",{className:`tab-btn ${d==="details"?"active":""}`,onClick:()=>h("details"),children:[t.jsx("i",{className:"fas fa-info-circle"})," Details"]}),t.jsxs("button",{className:`tab-btn ${d==="candidates"?"active":""}`,onClick:()=>h("candidates"),children:[t.jsx("i",{className:"fas fa-users"})," Candidates"]})]})}),d==="details"?t.jsxs("div",{className:"vacancy-details-content",children:[t.jsx("div",{className:"vacancy-details-section vacancy-overview-section",children:t.jsxs("div",{className:"vacancy-info-grid",children:[t.jsxs("div",{className:"vacancy-info-card",children:[t.jsx("span",{className:"vacancy-info-label",children:"Position"}),t.jsx("span",{className:"vacancy-info-value",children:r.jobPosition?r.jobPosition.positionName:"General Position"})]}),t.jsxs("div",{className:"vacancy-info-card",children:[t.jsx("span",{className:"vacancy-info-label",children:"Department"}),t.jsx("span",{className:"vacancy-info-value",children:r.jobPosition?r.jobPosition.department.name:"N/A"})]}),t.jsxs("div",{className:"vacancy-info-card",children:[t.jsx("span",{className:"vacancy-info-label",children:"Posted Date"}),t.jsx("span",{className:"vacancy-info-value",children:f(r.postingDate)})]}),t.jsxs("div",{className:"vacancy-info-card",children:[t.jsx("span",{className:"vacancy-info-label",children:"Closing Date"}),t.jsx("span",{className:"vacancy-info-value",children:f(r.closingDate)})]}),t.jsxs("div",{className:"vacancy-info-card",children:[t.jsx("span",{className:"vacancy-info-label",children:"Remaining Time"}),t.jsx("span",{className:`vacancy-info-value ${p(r.closingDate)==="Closed"?"vacancy-closed":p(r.closingDate)==="Today"?"vacancy-today":parseInt(p(r.closingDate))<=7?"vacancy-urgent":"vacancy-normal"}`,children:p(r.closingDate)})]}),t.jsxs("div",{className:"vacancy-info-card",children:[t.jsx("span",{className:"vacancy-info-label",children:"Positions"}),t.jsx("span",{className:"vacancy-info-value",children:r.numberOfPositions||1})]})]})}),t.jsxs("div",{className:"vacancy-details-section vacancy-description-section",children:[t.jsx("h2",{children:"Description"}),t.jsx("div",{className:"vacancy-content-card",children:t.jsx("p",{children:r.description||"No description provided."})})]}),t.jsxs("div",{className:"vacancy-details-section vacancy-requirements-section",children:[t.jsx("h2",{children:"Requirements"}),t.jsx("div",{className:"vacancy-content-card",children:t.jsx("p",{children:r.requirements||"No specific requirements provided."})})]}),t.jsxs("div",{className:"vacancy-details-section vacancy-responsibilities-section",children:[t.jsx("h2",{children:"Responsibilities"}),t.jsx("div",{className:"vacancy-content-card",children:t.jsx("p",{children:r.responsibilities||"No specific responsibilities provided."})})]})]}):t.jsx("div",{className:"candidates-content",children:t.jsx(eoe,{vacancyId:e})})]}):t.jsx("div",{className:"vacancy-details-container",children:t.jsxs("div",{className:"error-container",children:[t.jsx("p",{children:"Vacancy not found"}),t.jsx("button",{onClick:()=>n("/vacancies"),children:"Back to Vacancies"})]})})},noe=()=>{const{showSuccess:e,showError:n}=cn(),[r,a]=g.useState([]),[s,o]=g.useState(!1),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,p]=g.useState(!1),[y,b]=g.useState(null),[x,j]=g.useState(null),[w,T]=g.useState({name:"",description:""}),[A,O]=g.useState({name:"",description:""}),P=async()=>{var M,F;o(!0),u(null);try{const G=await km.getAll();console.log("Fetched departments:",G.data),a(G.data)}catch(G){console.error("Error fetching departments:",G);const J=((F=(M=G.response)==null?void 0:M.data)==null?void 0:F.message)||G.message||"Failed to load departments";u(J),n("Failed to load departments. Please try again.")}finally{o(!1)}};g.useEffect(()=>{P()},[]);const S=()=>{T({name:"",description:""}),h(!0)},E=()=>{h(!1),T({name:"",description:""}),u(null)},k=M=>{b(M),O({name:M.name||"",description:M.description||""}),p(!0)},D=()=>{p(!1),b(null),O({name:"",description:""}),u(null)},_=M=>{const{name:F,value:G}=M.target;T(J=>({...J,[F]:G}))},U=M=>{const{name:F,value:G}=M.target;O(J=>({...J,[F]:G}))},R=async M=>{var F,G;if(M.preventDefault(),!w.name.trim()){u("Department name is required"),n("Department name is required");return}o(!0),u(null);try{const J={name:w.name.trim(),description:w.description.trim()||null};console.log("Creating department with data:",J);const I=await km.create(J);console.log("Created department:",I.data),await P(),E(),e("Department created successfully")}catch(J){console.error("Error creating department:",J);const I=((G=(F=J.response)==null?void 0:F.data)==null?void 0:G.error)||J.message||"Failed to create department";u(I),n(I)}finally{o(!1)}},$=async M=>{var F,G;if(M.preventDefault(),!A.name.trim()){u("Department name is required"),n("Department name is required");return}o(!0),u(null);try{const J={name:A.name.trim(),description:A.description.trim()||null};console.log("Updating department with data:",J);const I=await km.update(y.id,J);await P(),D(),e("Department updated successfully")}catch(J){console.error("Error updating department:",J);const I=((G=(F=J.response)==null?void 0:F.data)==null?void 0:G.error)||J.message||"Failed to update department";u(I),n(I)}finally{o(!1)}},L=async M=>{var F,G;o(!0),u(null);try{console.log("Deleting department with id:",M),await km.delete(M),await P(),j(null),e("Department deleted successfully")}catch(J){console.error("Error deleting department:",J);const I=((G=(F=J.response)==null?void 0:F.data)==null?void 0:G.error)||J.message||"Failed to delete department";u(I),n(I)}finally{o(!1)}},z=[{header:"Name",accessor:"name",sortable:!0},{header:"Description",accessor:"description",sortable:!0,render:(M,F)=>F||"No description"}],W=[{label:"Edit",icon:t.jsx(_d,{}),onClick:M=>k(M),className:"primary"},{label:"Delete",icon:t.jsx(H2,{}),onClick:M=>j(M.id),className:"danger"}];return s&&r.length===0?t.jsxs("div",{className:"departments-loading",children:[t.jsx("div",{className:"loader"}),t.jsx("p",{children:"Loading departments..."})]}):t.jsxs("div",{className:"departments-list-container",children:[t.jsxs("div",{className:"departments-header",children:[t.jsxs("h1",{children:["Departments",t.jsx("p",{className:"employees-header__subtitle",children:"Manage departments to structure your workforce effectively"})]}),t.jsxs("button",{className:"departments-add-button",onClick:S,disabled:s,children:[t.jsx(l8,{})," Add Department"]})]}),l&&!d&&!f&&t.jsxs("div",{className:"departments-error",children:[l,t.jsx("button",{onClick:P,className:"retry-button",children:"Try Again"})]}),t.jsx(Nt,{data:r,columns:z,actions:W,loading:s,tableTitle:"Departments",showSearch:!0,showFilters:!0,filterableColumns:z,defaultItemsPerPage:10,itemsPerPageOptions:[10,25,50,100]}),d&&t.jsx("div",{className:"departments-modal",children:t.jsxs("div",{className:"departments-modal-content",children:[t.jsx("h2",{children:"Add Department"}),l&&t.jsx("div",{className:"form-error",children:l}),t.jsxs("form",{onSubmit:R,children:[t.jsxs("div",{className:"departments-form-group",children:[t.jsx("label",{htmlFor:"name",children:"Name *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:w.name,onChange:_,required:!0,disabled:s,placeholder:"Enter department name"})]}),t.jsxs("div",{className:"departments-form-group",children:[t.jsx("label",{htmlFor:"description",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",rows:"4",value:w.description,onChange:_,disabled:s,placeholder:"Enter department description (optional)"})]}),t.jsxs("div",{className:"departments-form-actions",children:[t.jsx("button",{type:"button",className:"departments-cancel-button",onClick:E,disabled:s,children:"Cancel"}),t.jsx("button",{type:"submit",className:"departments-submit-button",disabled:s,children:s?"Adding...":"Add Department"})]})]})]})}),f&&y&&t.jsx("div",{className:"departments-modal",children:t.jsxs("div",{className:"departments-modal-content",children:[t.jsx("h2",{children:"Edit Department"}),l&&t.jsx("div",{className:"form-error",children:l}),t.jsxs("form",{onSubmit:$,children:[t.jsxs("div",{className:"departments-form-group",children:[t.jsx("label",{htmlFor:"edit-name",children:"Name *"}),t.jsx("input",{type:"text",id:"edit-name",name:"name",value:A.name,onChange:U,required:!0,disabled:s,placeholder:"Enter department name"})]}),t.jsxs("div",{className:"departments-form-group",children:[t.jsx("label",{htmlFor:"edit-description",children:"Description"}),t.jsx("textarea",{id:"edit-description",name:"description",rows:"4",value:A.description,onChange:U,disabled:s,placeholder:"Enter department description (optional)"})]}),t.jsxs("div",{className:"departments-form-actions",children:[t.jsx("button",{type:"button",className:"departments-cancel-button",onClick:D,disabled:s,children:"Cancel"}),t.jsx("button",{type:"submit",className:"departments-submit-button",disabled:s,children:s?"Updating...":"Update Department"})]})]})]})}),x&&t.jsx("div",{className:"departments-modal",children:t.jsxs("div",{className:"departments-modal-content",children:[t.jsx("h2",{children:"Confirm Delete"}),t.jsx("p",{children:"Are you sure you want to delete this department?"}),t.jsxs("div",{className:"departments-form-actions",children:[t.jsxs("button",{className:"departments-cancel-button",onClick:()=>j(null),disabled:s,children:[t.jsx(si,{})," Cancel"]}),t.jsxs("button",{className:"departments-confirm-button",onClick:()=>L(x),disabled:s,children:[t.jsx(Qd,{})," Confirm"]})]})]})})]})},zt={getAll:()=>ye.get(Zt.BASE),getAllSites:()=>ye.get(Zt.BASE),getById:e=>ye.get(Zt.BY_ID(e)),getSitePartners:e=>ye.get(Zt.PARTNERS(e)),getUnassignedPartners:e=>ye.get(Zt.UNASSIGNED_PARTNERS(e)),getSiteEmployees:e=>ye.get(Zt.EMPLOYEES(e)),getUnassignedEmployees:()=>ye.get(uN.UNASSIGNED),getSiteEquipment:e=>ye.get(Zt.EQUIPMENT(e)),getSiteWarehouses:e=>ye.get(Zt.WAREHOUSES(e)),getSiteMerchants:e=>ye.get(Zt.MERCHANTS(e)),getSiteFixedAssets:e=>ye.get(Zt.FIXED_ASSETS(e)),getAllPartners:()=>ye.get(_ae.GET_ALL),addSite:e=>ye.post(Zt.ADMIN.ADD_SITE,e,{headers:{"Content-Type":"multipart/form-data"}}),updateSite:(e,n)=>ye.put(Zt.ADMIN.UPDATE_SITE(e),n,{headers:{"Content-Type":"multipart/form-data"}}),addWarehouse:(e,n)=>ye.post(Zt.ADMIN.ADD_WAREHOUSE(e),n,{headers:{"Content-Type":"multipart/form-data"}}),assignEquipment:(e,n)=>ye.post(Zt.ADMIN.ASSIGN_EQUIPMENT(e,n)),removeEquipment:(e,n)=>ye.delete(Zt.ADMIN.REMOVE_EQUIPMENT(e,n)),assignEmployee:(e,n)=>ye.post(Zt.ADMIN.ASSIGN_EMPLOYEE(e,n)),removeEmployee:(e,n)=>ye.delete(Zt.ADMIN.REMOVE_EMPLOYEE(e,n)),assignWarehouse:(e,n)=>ye.post(Zt.ADMIN.ASSIGN_WAREHOUSE(e,n)),assignFixedAsset:(e,n)=>ye.post(`/siteadmin/${e}/assign-fixedAsset/${n}`),assignPartner:(e,n,r)=>ye.post(Zt.ADMIN.ASSIGN_PARTNER(e,n),{percentage:r}),updatePartnerPercentage:(e,n,r)=>ye.put(Zt.ADMIN.UPDATE_PARTNER_PERCENTAGE(e,n),{percentage:r}),removePartner:(e,n)=>ye.delete(Zt.ADMIN.REMOVE_PARTNER(e,n)),getUnassignedEquipment:()=>ye.get("/api/v1/site/unassigned-equipment"),getUnassignedFixedAssets:()=>ye.get("/fixedAssets"),getWarehouseManagers:()=>ye.get("/api/v1/employees/warehouse-managers"),getWarehouseWorkers:()=>ye.get("/api/v1/employees/warehouse-workers"),getMerchants:e=>ye.get(`/api/v1/site/${e}/merchants`)},roe="data:image/svg+xml,%3csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100' height='100' fill='%23ddd'/%3e%3ctext x='50' y='50' text-anchor='middle' dy='.3em' fill='%23999'%3eSite%3c/text%3e%3c/svg%3e",aoe=()=>{const{t:e}=ln(),[n,r]=g.useState([]),[a,s]=g.useState(!0),[o,l]=g.useState(null),u=Tt(),{currentUser:d}=Xt(),{showError:h,showSuccess:f,showWarning:p}=cn(),[y,b]=g.useState(!1),[x,j]=g.useState(!1),[w,T]=g.useState(null),[A,O]=g.useState([]),[P,S]=g.useState([]),[E,k]=g.useState([]),[D,_]=g.useState(!1),[U,R]=g.useState(null),[$,L]=g.useState({id:"",name:"",physicalAddress:"",companyAddress:"",creationDate:new Date().toISOString().split("T")[0],photo:null}),z=g.useRef(null);d==null||d.role,g.useEffect(()=>{console.log("AllSites component mounted"),W()},[]),g.useEffect(()=>{(y||x)&&M()},[y,x]),g.useEffect(()=>{U&&(console.log("Setting up form with editing site data:",U),L({id:U.id,name:U.name||"",physicalAddress:U.physicalAddress||"",companyAddress:U.companyAddress||"",creationDate:U.creationDate||new Date().toISOString().split("T")[0],photo:null}),U.photoUrl?T(U.photoUrl):U.photo?T(U.photo):T(null))},[U]),g.useEffect(()=>{const ae=me=>{z.current&&!z.current.contains(me.target)&&_(!1)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]);const W=async()=>{try{s(!0);const ae=await zt.getAll();console.log("Sites fetched from service:",ae.data),ae.data.length>0&&(console.log("First site structure:",Object.keys(ae.data[0])),console.log("First site full object:",ae.data[0])),r(ae.data),l(null)}catch(ae){const me=e("common.error")+": "+ae.message;l(me),h("Failed to fetch sites. Please try again."),console.error("Error fetching sites:",ae)}finally{s(!1)}},M=async()=>{try{const ae=await zt.getAllPartners();O(ae.data)}catch(ae){h("Failed to fetch partners."),console.error("Error fetching partners:",ae)}},F=ae=>{const me=ae.target.files[0];me&&(L({...$,photo:me}),T(URL.createObjectURL(me)))},G=ae=>{const{name:me,value:de}=ae.target;L({...$,[me]:de})},J=()=>{L({id:"",name:"",physicalAddress:"",companyAddress:"",creationDate:new Date().toISOString().split("T")[0],photo:null}),T(null),b(!0)},I=ae=>{console.log("Full site object:",ae),console.log("Site object keys:",Object.keys(ae)),ae.partners&&(console.log("Partners property exists:",ae.partners),Array.isArray(ae.partners)?(console.log("Partners is an array with",ae.partners.length,"items"),ae.partners.length>0&&console.log("First partner:",ae.partners[0])):console.log("Partners is not an array, but:",typeof ae.partners)),ae.sitePartners&&(console.log("sitePartners property exists:",ae.sitePartners),Array.isArray(ae.sitePartners)&&(console.log("sitePartners is an array with",ae.sitePartners.length,"items"),ae.sitePartners.length>0&&console.log("First sitePartner:",ae.sitePartners[0])))},q=async ae=>{try{const de=(await zt.getById(ae)).data;console.log("Raw response from API:",de);try{const fe=await zt.getSitePartners(ae);console.log("Site partners fetched separately:",fe.data),de.partners=fe.data}catch(fe){p("Could not fetch site partners separately"),console.warn("Could not fetch site partners separately:",fe.message)}return I(de),de}catch(me){throw console.error("Error fetching site details:",me.message),me}},B=async ae=>{try{T(null);const me=await q(ae.id);console.log("Fetched site details for editing:",me),R(me),j(!0)}catch(me){h("Error fetching site details. Using basic site data."),console.error("Error fetching site details:",me.message),R(ae),j(!0)}},H=()=>{b(!1),j(!1),R(null),T(null),L({id:"",name:"",physicalAddress:"",companyAddress:"",creationDate:new Date().toISOString().split("T")[0],photo:null})},K=async ae=>{ae.preventDefault();const me=new FormData,de={name:$.name,physicalAddress:$.physicalAddress,companyAddress:$.companyAddress,creationDate:$.creationDate};me.append("siteData",JSON.stringify(de)),$.photo&&me.append("photo",$.photo);try{await zt.addSite(me),W(),H(),f("Site added successfully!")}catch(fe){console.error("Failed to add site:",fe.message),h("Failed to add site. Please try again.")}},ie=async ae=>{ae.preventDefault();const me=new FormData,de={name:$.name,physicalAddress:$.physicalAddress,companyAddress:$.companyAddress,creationDate:$.creationDate};console.log("Updating site with data:",de),console.log("Site ID for URL:",$.id),me.append("siteData",JSON.stringify(de)),$.photo&&me.append("photo",$.photo);try{if(!$.id)throw new Error("Missing site ID for update");await zt.updateSite($.id,me),W(),H(),f("Site updated successfully!")}catch(fe){console.error("Failed to update site:",fe),h(`Failed to update site: ${fe.message}`)}};return a?t.jsx(pc,{}):o?t.jsx("div",{className:"error-container",children:o}):t.jsxs("div",{className:"sites-container",children:[t.jsxs("div",{className:"departments-header",children:[t.jsx("h1",{className:"sites-title",children:e("site.siteList")}),t.jsxs("button",{onClick:J,className:"btn btn-primary",children:[t.jsx("span",{children:"+"}),e("site.addSite")]})]}),t.jsx("div",{className:"sites-grid",children:n.length>0?n.map(ae=>t.jsxs("div",{className:"site-card",onClick:()=>u(`/sites/details/${ae.id}`),style:{cursor:"pointer"},children:[t.jsx("div",{className:"site-image",children:t.jsx("img",{src:(ae==null?void 0:ae.photoUrl)??roe,alt:"Site"})}),t.jsxs("div",{className:"site-content",children:[t.jsx("h2",{className:"site-name",children:ae.name||e("common.noData")}),t.jsxs("div",{className:"site-stats",children:[t.jsxs("p",{className:"stat-item",children:[t.jsxs("span",{className:"stat-label",children:[e("hr.dashboard.employees"),":"]}),t.jsxs("span",{className:"stat-value",children:[" ",ae.employeeCount||0]})]}),t.jsxs("p",{className:"stat-item",children:[t.jsxs("span",{className:"stat-label",children:[e("equipment.equipment"),":"]}),t.jsxs("span",{className:"stat-value",children:[" ",ae.equipmentCount||0]})]})]}),t.jsxs("div",{className:"site-actions",children:[t.jsx("button",{onClick:me=>{me.stopPropagation(),B(ae)},className:"edit-button",children:e("site.editSite")}),t.jsx("button",{onClick:me=>{me.stopPropagation(),u(`/sites/details/${ae.id}`)},className:"view-button",children:e("common.details")})]})]})]},ae.id)):t.jsxs("div",{className:"no-sites-message",children:[t.jsx("div",{children:t.jsx(Gm,{size:50})}),t.jsxs("p",{children:[e("common.noData")," ",e("site.addSite")]})]})}),y&&t.jsx("div",{className:"site-modal-overlay",children:t.jsxs("div",{className:"site-modal-content",children:[t.jsxs("div",{className:"site-modal-header",children:[t.jsx("h2",{children:e("site.addSite")}),t.jsx("button",{className:"site-modal-close-button",onClick:H,children:""})]}),t.jsx("div",{className:"site-modal-body",children:t.jsx("div",{className:"site-form-container",children:t.jsxs("div",{className:"site-form-card",children:[t.jsxs("div",{className:"site-profile-section",children:[t.jsxs("label",{htmlFor:"siteImageUpload",className:"site-image-upload-label",children:[w?t.jsx("img",{src:w,alt:"Site",className:"site-image-preview"}):t.jsx("div",{className:"site-image-placeholder"}),t.jsx("span",{className:"site-upload-text",children:e("common.uploadPhoto")})]}),t.jsx("input",{type:"file",id:"siteImageUpload",name:"photo",accept:"image/*",onChange:F,style:{display:"none"}})]}),t.jsx("div",{className:"site-form-fields-section",children:t.jsxs("form",{onSubmit:K,children:[t.jsxs("div",{className:"site-form-grid",children:[t.jsxs("div",{className:"site-form-group",children:[t.jsx("label",{children:e("site.siteName")}),t.jsx("input",{type:"text",name:"name",value:$.name,onChange:G,required:!0})]}),t.jsxs("div",{className:"site-form-group",children:[t.jsx("label",{children:e("site.physicalAddress")}),t.jsx("input",{type:"text",name:"physicalAddress",value:$.physicalAddress,onChange:G,required:!0})]}),t.jsxs("div",{className:"site-form-group",children:[t.jsx("label",{children:e("site.companyAddress")}),t.jsx("input",{type:"text",name:"companyAddress",value:$.companyAddress,onChange:G,required:!0})]}),t.jsxs("div",{className:"site-form-group",children:[t.jsx("label",{children:e("site.creationDate")}),t.jsx("input",{type:"date",name:"creationDate",value:$.creationDate,onChange:G,required:!0})]})]}),t.jsxs("div",{className:"site-form-actions",children:[t.jsx("button",{type:"button",className:"site-cancel-button",onClick:H,children:e("common.cancel")}),t.jsx("button",{type:"submit",className:"site-submit-button",children:e("site.addSite")})]})]})})]})})})]})}),x&&t.jsx("div",{className:"site-modal-overlay",children:t.jsxs("div",{className:"site-modal-content",children:[t.jsxs("div",{className:"site-modal-header",children:[t.jsx("h2",{children:e("site.editSite")}),t.jsx("button",{className:"site-modal-close-button",onClick:H,children:""})]}),t.jsx("div",{className:"site-modal-body",children:t.jsx("div",{className:"site-form-container",children:t.jsxs("div",{className:"site-form-card",children:[t.jsxs("div",{className:"site-profile-section",children:[t.jsxs("label",{htmlFor:"siteEditImageUpload",className:"site-image-upload-label",children:[w?t.jsx("img",{src:w,alt:"Site",className:"site-image-preview"}):t.jsx("div",{className:"site-image-placeholder"}),t.jsx("span",{className:"site-upload-text",children:e("common.uploadPhoto")})]}),t.jsx("input",{type:"file",id:"siteEditImageUpload",name:"photo",accept:"image/*",onChange:F,style:{display:"none"}})]}),t.jsx("div",{className:"site-form-fields-section",children:t.jsxs("form",{onSubmit:ie,children:[t.jsx("input",{type:"hidden",name:"id",value:$.id}),t.jsxs("div",{className:"site-form-grid",children:[t.jsxs("div",{className:"site-form-group",children:[t.jsx("label",{children:e("site.siteName")}),t.jsx("input",{type:"text",name:"name",value:$.name,onChange:G,required:!0})]}),t.jsxs("div",{className:"site-form-group",children:[t.jsx("label",{children:e("site.physicalAddress")}),t.jsx("input",{type:"text",name:"physicalAddress",value:$.physicalAddress,onChange:G,required:!0})]}),t.jsxs("div",{className:"site-form-group",children:[t.jsx("label",{children:e("site.companyAddress")}),t.jsx("input",{type:"text",name:"companyAddress",value:$.companyAddress,onChange:G,required:!0})]}),t.jsxs("div",{className:"site-form-group",children:[t.jsx("label",{children:e("site.creationDate")}),t.jsx("input",{type:"date",name:"creationDate",value:$.creationDate,onChange:G,required:!0})]})]}),t.jsxs("div",{className:"site-form-actions",children:[t.jsx("button",{type:"button",className:"site-cancel-button",onClick:H,children:e("common.cancel")}),t.jsx("button",{type:"submit",className:"site-submit-button site-save-button",children:e("common.save")})]})]})})]})})})]})})]})},Om=()=>t.jsx("div",{children:t.jsx(SN,{})}),soe=()=>{const[e,n]=g.useState([]),[r,a]=g.useState(!0),[s,o]=g.useState(null),[l,u]=g.useState(!1),[d,h]=g.useState({firstName:"",lastName:""}),{currentUser:f,token:p}=Xt(),{t:y}=ln(),b=f&&f.role==="ADMIN";g.useEffect(()=>{x()},[p]);const x=async()=>{try{a(!0);const S=await fetch("http://localhost:8080/api/v1/partner/getallpartners",{headers:{Authorization:`Bearer ${p}`}});if(!S.ok)throw new Error(y("partners.fetchError","Failed to fetch partners"));const E=await S.json();n(E),a(!1)}catch(S){o(S.message),a(!1)}},j=async S=>{S.preventDefault();try{const E=await fetch("http://localhost:8080/api/v1/partner/add",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${p}`},body:new URLSearchParams({firstName:d.firstName,lastName:d.lastName})});if(!E.ok)throw new Error(y("partners.addError","Failed to add partner"));const k=await E.json();n([...e,k]),h({firstName:"",lastName:""}),u(!1)}catch(E){o(E.message)}},w=S=>{const{name:E,value:k}=S.target;h({...d,[E]:k})},T=S=>{console.log("Edit partner:",S)},A=S=>{console.log("Delete partner:",S)};if(s)return t.jsxs("div",{className:"error",children:[y("common.error","Error"),": ",s]});const O=[{header:"ID",accessor:"id",width:"80px"},{header:y("partners.firstName","First Name"),accessor:"firstName"},{header:y("partners.lastName","Last Name"),accessor:"lastName"}],P=b?[{label:"Edit",icon:t.jsx(ga,{}),onClick:T,className:"primary"},{label:"Delete",icon:t.jsx(kN,{}),onClick:A,className:"danger"}]:[];return t.jsxs("div",{className:"partner-table-container",children:[t.jsxs("div",{className:"departments-header",children:[t.jsx("h2",{children:y("partners.title","Partners")}),b&&t.jsxs("button",{className:"btn btn-primary",onClick:()=>u(!0),children:[t.jsx(Qm,{})," ",y("partners.addButton","Add Partner")]})]}),t.jsx(Nt,{data:e,columns:O,loading:r,tableTitle:"",showSearch:!0,showFilters:!0,filterableColumns:O,actions:P,defaultItemsPerPage:10,itemsPerPageOptions:[10,25,50,100]}),l&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:y("partners.addTitle","Add New Partner")}),t.jsx("button",{className:"close-btn",onClick:()=>u(!1),children:""})]}),t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"firstName",children:y("partners.firstName","First Name")}),t.jsx("input",{type:"text",id:"firstName",name:"firstName",value:d.firstName,onChange:w,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"lastName",children:y("partners.lastName","Last Name")}),t.jsx("input",{type:"text",id:"lastName",name:"lastName",value:d.lastName,onChange:w,required:!0})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>u(!1),children:y("common.cancel","Cancel")}),t.jsx("button",{type:"submit",className:"submit-btn",children:y("common.add","Add")})]})]})]})})]})},ioe=({siteId:e})=>{const{t:n}=ln(),r=Tt(),[a,s]=g.useState([]),[o,l]=g.useState(!0),[u,d]=g.useState(null),[h,f]=g.useState(!1),[p,y]=g.useState([]),{currentUser:b}=Xt(),[x,j]=g.useState({show:!1,message:"",type:"success"}),w=(b==null?void 0:b.role)==="SITE_ADMIN"||(b==null?void 0:b.role)==="ADMIN",T=[{header:"ID",accessor:"conventionalId",sortable:!0},{header:"Equipment Type",accessor:"equipmentType",sortable:!0},{header:"Model Number",accessor:"modelNumber",sortable:!0},{header:"Status",accessor:"status",sortable:!0},{header:"Driver Name",accessor:"driverName",sortable:!0},{header:"Manufacture Date",accessor:"manufactureDate",sortable:!0},{header:"Purchase Date",accessor:"purchaseDate",sortable:!0},{header:"Actions",accessor:"actions",sortable:!1,render:U=>w&&t.jsx("button",{className:"btn-danger",onClick:R=>{R.stopPropagation(),k(U.equipmentID)},children:"Unassign"})}];g.useEffect(()=>{A()},[e]);const A=async()=>{try{const R=(await zt.getSiteEquipment(e)).data;if(Array.isArray(R)){const $=R.map((L,z)=>{var W;return{conventionalId:`EQ-${String(z+1).padStart(3,"0")}`,equipmentID:L.id,equipmentType:((W=L.type)==null?void 0:W.name)||"",modelNumber:L.modelNumber,status:L.status,driverName:L.mainDriver?`${L.mainDriver.firstName} ${L.mainDriver.lastName}`:"No Driver",manufactureDate:L.manufactureYear,purchaseDate:L.purchasedDate}});s($)}else s([]),j({show:!0,message:"No equipment found for this site",type:"info"});l(!1)}catch(U){d(U.message),s([]),l(!1),j({show:!0,message:U.message,type:"error"})}};a.reduce((U,R)=>(U[R.equipmentType]=(U[R.equipmentType]||0)+1,U),{});const O=()=>{f(!0),S()},P=()=>f(!1),S=async()=>{try{const R=(await zt.getUnassignedEquipment()).data;y(R),R.length===0&&j({show:!0,message:"No available equipment found to assign",type:"info"})}catch(U){console.error("Error fetching available equipment:",U),y([]),j({show:!0,message:"Failed to fetch available equipment",type:"error"})}},E=async U=>{try{await zt.assignEquipment(e,U),f(!1),await A(),j({show:!0,message:"Equipment successfully assigned to site",type:"success"})}catch(R){console.error("Error assigning equipment:",R),j({show:!0,message:"Failed to assign equipment",type:"error"})}},k=async U=>{try{await zt.removeEquipment(e,U),await A(),j({show:!0,message:"Equipment successfully unassigned from site",type:"success"})}catch(R){console.error("Error unassigning equipment:",R),j({show:!0,message:"Failed to unassign equipment",type:"error"})}},D=U=>{r(`/equipment/${U.equipmentID}`),j({show:!0,message:`Navigating to equipment details: ${U.equipmentType} ${U.modelNumber}`,type:"info"})},_=()=>{j(U=>({...U,show:!1}))};return o?t.jsx("div",{className:"loading-container",children:n("site.loadingEquipment")}):t.jsxs("div",{className:"site-equipment-tab",children:[t.jsx(Ss,{show:x.show,message:x.message,type:x.type,onClose:_,duration:3e3}),t.jsxs("div",{className:"departments-header",children:[t.jsx("h3",{children:n("site.siteEquipmentReport")}),w&&t.jsx("div",{className:"btn-primary-container",children:t.jsx("button",{className:"btn btn-primary",onClick:O,children:n("site.assignEquipment")})})]}),h&&t.jsx("div",{className:"assign-equipment-modal-overlay",children:t.jsxs("div",{className:"assign-equipment-modal-content",children:[t.jsxs("div",{className:"assign-equipment-modal-header",children:[t.jsx("h2",{children:n("site.assignEquipment")}),t.jsx("button",{className:"assign-equipment-modal-close-button",onClick:P,children:""})]}),t.jsx("div",{className:"assign-equipment-modal-body",children:p.length===0?t.jsx("div",{className:"assign-equipment-no-equipment",children:t.jsx("p",{children:n("site.noEquipmentAvailable")})}):t.jsx("div",{className:"assign-equipment-table-container",children:t.jsxs("table",{className:"assign-equipment-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:n("common.type")}),t.jsx("th",{children:n("common.model")}),t.jsx("th",{children:n("common.status")}),t.jsx("th",{children:n("common.action")})]})}),t.jsx("tbody",{children:p.map(U=>{var M;const R=U.equipment||{},$=R.id||U.id,L=((M=U.type)==null?void 0:M.name)||U.typeName||"",z=R.modelNumber||U.modelNumber,W=R.status||U.status;return t.jsxs("tr",{children:[t.jsx("td",{className:"assign-equipment-type","data-label":n("common.type"),children:L}),t.jsx("td",{className:"assign-equipment-model","data-label":n("common.model"),children:z}),t.jsx("td",{"data-label":n("common.status"),children:t.jsx("span",{className:`assign-equipment-status status-${W==null?void 0:W.toLowerCase().replace(/\s+/g,"-")}`,children:W})}),t.jsx("td",{"data-label":n("common.action"),children:t.jsx("button",{className:"assign-equipment-btn",onClick:()=>E($),children:n("site.assign")})})]},$)})})]})})})]})}),u?t.jsx("div",{className:"error-container",children:u}):t.jsx("div",{className:"data-table-container",children:t.jsx(Nt,{data:a,columns:T,loading:o,showSearch:!0,showFilters:!0,filterableColumns:T,itemsPerPageOptions:[10,25,50,100],defaultItemsPerPage:10,tableTitle:"Equipment List",onRowClick:D,rowClassName:"clickable-row"})})]})},ooe=({siteId:e})=>{const{t:n}=ln(),r=Tt(),[a,s]=g.useState([]),[o,l]=g.useState(!0),[u,d]=g.useState(null),[h,f]=g.useState(!1),[p,y]=g.useState([]),[b,x]=g.useState(null),{currentUser:j}=Xt(),[w,T]=g.useState({show:!1,message:"",type:"success"}),A=(j==null?void 0:j.role)==="SITE_ADMIN"||(j==null?void 0:j.role)==="ADMIN",O=()=>{T(R=>({...R,show:!1}))},P=R=>{r(`/sites/employee-details/${R.employeeID}`),T({show:!0,message:`Navigating to employee details: ${R.employeeName}`,type:"info"})},S=[{header:"ID",accessor:"conventionalId",sortable:!0},{header:"Employee Name",accessor:"employeeName",sortable:!0},{header:"Mobile Number",accessor:"mobileNumber",sortable:!0},{header:"Position",accessor:"position",sortable:!0},{header:"Department",accessor:"department",sortable:!0},{header:"Contract Type",accessor:"contractType",sortable:!0},{header:"Actions",accessor:"actions",sortable:!1,render:R=>A&&t.jsx("button",{className:"btn-danger",onClick:$=>{$.stopPropagation(),U(R.employeeID)},children:"Unassign"})}];g.useEffect(()=>{e&&E()},[e]);const E=async()=>{try{l(!0),d(null);const $=(await zt.getSiteEmployees(e)).data;if(Array.isArray($)){const L=$.map((z,W)=>{var F,G,J,I,q;let M="Unknown";return(G=(F=z.jobPosition)==null?void 0:F.department)!=null&&G.name?M=z.jobPosition.department.name:(J=z.jobPosition)!=null&&J.departmentName?M=z.jobPosition.departmentName:z.jobPositionDepartment&&(M=z.jobPositionDepartment),{conventionalId:`EMP-${String(W+1).padStart(3,"0")}`,employeeID:z.id,employeeName:`${z.firstName||""} ${z.lastName||""}`.trim(),mobileNumber:z.phoneNumber||"N/A",position:((I=z.jobPosition)==null?void 0:I.positionName)||z.jobPositionName||"Unknown",department:M,contractType:((q=z.jobPosition)==null?void 0:q.type)||z.jobPositionType||"N/A"}});s(L)}else s([]),T({show:!0,message:"No employees found for this site",type:"info"})}catch(R){console.error("Error in fetchEmployees:",R),d(R.message||"Failed to fetch employees"),s([]),T({show:!0,message:R.message||"Failed to fetch employees",type:"error"})}finally{l(!1)}},k=async()=>{var R,$;try{const L=await zt.getUnassignedEmployees();console.log("Unassigned employees response:",L);const z=(L==null?void 0:L.data)||[],W=Array.isArray(z)?z.map(M=>{var F,G,J,I;return{id:M.id,firstName:M.firstName||"",lastName:M.lastName||"",jobPositionName:((F=M.jobPosition)==null?void 0:F.positionName)||M.jobPositionName||"Not Specified",jobPositionDepartment:((J=(G=M.jobPosition)==null?void 0:G.department)==null?void 0:J.name)||M.jobPositionDepartment||"Not Specified",jobPositionType:((I=M.jobPosition)==null?void 0:I.type)||M.jobPositionType||"Not Specified"}}):[];console.log("Transformed unassigned employees:",W),y(W),f(!0),W.length===0&&T({show:!0,message:"No available employees found to assign",type:"info"})}catch(L){console.error("Error fetching available employees:",L);const z=(($=(R=L.response)==null?void 0:R.data)==null?void 0:$.message)||L.message||"Failed to load available employees";T({show:!0,message:z,type:"error"})}},D=()=>{f(!1),y([]),x(null)},_=async R=>{try{x(R),await zt.assignEmployee(e,R),await E(),D(),T({show:!0,message:"Employee successfully assigned to site",type:"success"})}catch($){console.error("Error assigning employee:",$),T({show:!0,message:"Failed to assign employee",type:"error"})}finally{x(null)}},U=async R=>{try{await zt.removeEmployee(e,R),await E(),T({show:!0,message:"Employee successfully unassigned from site",type:"success"})}catch($){console.error("Error unassigning employee:",$),T({show:!0,message:"Failed to unassign employee",type:"error"})}};return o?t.jsx("div",{className:"loading-container",children:n("site.loadingEmployees")}):t.jsxs("div",{children:[t.jsx(Ss,{show:w.show,message:w.message,type:w.type,onClose:O,duration:3e3}),t.jsx("div",{className:"tab-header",children:t.jsxs("div",{className:"departments-header",children:[t.jsx("h3",{children:n("site.siteEmployeesReport")}),A&&t.jsx("div",{className:"btn-primary-container",children:t.jsx("button",{className:"btn-primary",onClick:k,children:"Add Employee"})})]})}),u?t.jsxs("div",{className:"error-message",children:[t.jsx("p",{children:u}),t.jsx("button",{className:"btn-secondary",onClick:E,children:"Retry"})]}):t.jsx("div",{className:"table-container",children:t.jsx(Nt,{data:a,columns:S,loading:o,showSearch:!0,showFilters:!0,filterableColumns:S,itemsPerPageOptions:[10,25,50,100],defaultItemsPerPage:10,tableTitle:"Employees List",onRowClick:P,rowClassName:"clickable-row"})}),h&&t.jsx("div",{className:"assign-employee-modal-overlay",children:t.jsxs("div",{className:"assign-employee-modal-content",children:[t.jsxs("div",{className:"assign-employee-modal-header",children:[t.jsx("h2",{children:n("site.assignEmployee")}),t.jsx("button",{className:"assign-employee-modal-close-button",onClick:D,children:""})]}),t.jsx("div",{className:"assign-employee-modal-body",children:p.length===0?t.jsx("div",{className:"assign-employee-no-employees",children:t.jsx("p",{children:n("site.noEmployeesAvailable")})}):t.jsx("div",{className:"assign-employee-table-container",children:t.jsxs("table",{className:"assign-employee-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:n("common.name")}),t.jsx("th",{children:n("hr.dashboard.position")}),t.jsx("th",{children:n("hr.dashboard.department")}),t.jsx("th",{children:n("hr.contractType")}),t.jsx("th",{children:n("common.action")})]})}),t.jsx("tbody",{children:p.map(R=>{var $;return t.jsxs("tr",{children:[t.jsxs("td",{children:[R.firstName," ",R.lastName]}),t.jsx("td",{children:R.jobPositionName||"Not Specified"}),t.jsx("td",{children:R.jobPositionDepartment||"Not Specified"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${($=R.jobPositionType)==null?void 0:$.toLowerCase()}`,children:R.jobPositionType||"Not Specified"})}),t.jsx("td",{children:t.jsx("button",{className:"assign-employee-btn",onClick:()=>_(R.id),disabled:b===R.id,children:b===R.id?"Assigning...":n("site.assign")})})]},R.id)})})]})})})]})})]})},loe=({siteId:e})=>{const{t:n}=ln(),r=Tt(),[a,s]=g.useState([]),[o,l]=g.useState(!0),[u,d]=g.useState(null),[h,f]=g.useState(!1),[p,y]=g.useState([]),[b,x]=g.useState([]),[j,w]=g.useState(null),[T,A]=g.useState([]),[O,P]=g.useState([]),[S,E]=g.useState(!1),[k,D]=g.useState(null),[_,U]=g.useState(!1),[R,$]=g.useState(null),[L,z]=g.useState({show:!1,message:"",type:"success"}),W=g.useRef(null),{currentUser:M}=Xt(),F=(M==null?void 0:M.role)==="SITE_ADMIN",G=[{header:"ID",accessor:"conventionalId",sortable:!0},{header:"Capacity",accessor:"capacity",sortable:!0},{header:"Manager",accessor:"manager",sortable:!0}],J=V=>{if(V.managerName)return V.managerName;if(V.employees&&Array.isArray(V.employees)&&V.employees.length>0){const Y=V.employees.find(ee=>ee.jobPosition&&ee.jobPosition.positionName&&ee.jobPosition.positionName.toLowerCase()==="warehouse manager"||ee.position&&ee.position.toLowerCase()==="warehouse manager");if(Y)return`${Y.firstName} ${Y.lastName}`}return"No Manager"};g.useEffect(()=>{q()},[e]),g.useEffect(()=>{const V=Y=>{W.current&&!W.current.contains(Y.target)&&E(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[]);const I=()=>{z(V=>({...V,show:!1}))},q=async()=>{try{const Y=(await zt.getSiteWarehouses(e)).data;if(Array.isArray(Y)){const ee=Y.map((ce,re)=>({conventionalId:`WH-${String(re+1).padStart(3,"0")}`,warehouseID:ce.id,capacity:`${ce.capacity} m`,manager:J(ce)}));s(ee)}else s([]),z({show:!0,message:"No warehouses found for this site",type:"info"});l(!1)}catch(V){d(V.message),s([]),l(!1),z({show:!0,message:V.message,type:"error"})}},B=async()=>{try{const Y=(await zt.getWarehouseManagers()).data;y(Y);const ce=(await zt.getWarehouseWorkers()).data;x(ce),Y.length===0&&ce.length===0&&z({show:!0,message:"No available managers or workers found",type:"info"})}catch(V){console.error("Error fetching employees:",V),$("Failed to load employee data. Please try again."),z({show:!0,message:"Failed to load employee data",type:"error"})}},H=()=>{f(!0),w(null),A([]),P([]),E(!1),D(null),$(null),B()},K=()=>{f(!1)},ie=V=>{const Y=V.target.files[0];Y&&D(URL.createObjectURL(Y))},ae=V=>{if(!V){w(null);return}try{let Y=p.find(ee=>ee.id===V);if(!Y){const ee=parseInt(V,10);Y=p.find(ce=>ce.id===ee)}Y||(Y=p.find(ee=>String(ee.id)===String(V))),Y?w(Y):(console.error("Could not find manager with ID:",V),w(null))}catch(Y){console.error("Error selecting manager:",Y),w(null)}},me=()=>{E(!S)},de=V=>{O.includes(V.id)||(A([...T,V]),P([...O,V.id]))},fe=V=>{A(T.filter(Y=>Y.id!==V)),P(O.filter(Y=>Y!==V))},X=async V=>{V.preventDefault(),U(!0),$(null);const Y=V.currentTarget.elements,ee=new FormData,ce={name:Y.name.value,capacity:parseInt(Y.capacity.value,10)},re=[];j&&re.push({id:j.id}),T.length>0&&T.forEach(he=>{re.push({id:he.id})}),re.length>0&&(ce.employees=re),ee.append("warehouseData",JSON.stringify(ce));const te=document.getElementById("imageUpload");te&&te.files.length>0&&ee.append("photo",te.files[0]);try{await zt.addWarehouse(e,ee),f(!1),await q(),z({show:!0,message:"Warehouse successfully added",type:"success"})}catch(he){console.error("Failed to add warehouse:",he.message),$(`Failed to add warehouse: ${he.message}`),z({show:!0,message:`Failed to add warehouse: ${he.message}`,type:"error"})}finally{U(!1)}},Z=V=>{r(`/warehouses/warehouse-details/${V.warehouseID}`),z({show:!0,message:`Navigating to warehouse details: ${V.conventionalId}`,type:"info"})};return o?t.jsx("div",{className:"loading-container",children:n("site.loadingWarehouses")}):t.jsxs("div",{className:"site-warehouses-tab",children:[t.jsx(Ss,{show:L.show,message:L.message,type:L.type,onClose:I,duration:3e3}),t.jsxs("div",{className:"departments-header",children:[t.jsx("h3",{children:n("site.siteWarehousesReport")}),F&&t.jsx("div",{className:"btn-primary-container",children:t.jsx("button",{className:"assign-button",onClick:H,children:"Add Warehouse"})})]}),u?t.jsx("div",{className:"error-container",children:u}):t.jsx("div",{className:"data-table-container",children:t.jsx(Nt,{data:a,columns:G,loading:o,showSearch:!0,showFilters:!0,filterableColumns:G,itemsPerPageOptions:[10,25,50,100],defaultItemsPerPage:10,tableTitle:"Warehouses List",onRowClick:Z,rowClassName:"clickable-row"})}),h&&t.jsx("div",{className:"add-warehouse-modal-overlay",children:t.jsxs("div",{className:"add-warehouse-modal-content",children:[t.jsxs("div",{className:"add-warehouse-modal-header",children:[t.jsx("h2",{children:"Add New Warehouse"}),t.jsx("button",{className:"add-warehouse-modal-close-button",onClick:K,children:""})]}),t.jsx("div",{className:"add-warehouse-modal-body",children:t.jsx("div",{className:"add-warehouse-form-container",children:t.jsxs("div",{className:"add-warehouse-form-card",children:[t.jsxs("div",{className:"add-warehouse-profile-section",children:[t.jsxs("label",{htmlFor:"imageUpload",className:"add-warehouse-image-upload-label",children:[k?t.jsx("img",{src:k,alt:"Warehouse",className:"add-warehouse-image-preview"}):t.jsx("div",{className:"add-warehouse-image-placeholder"}),t.jsx("span",{className:"add-warehouse-upload-text",children:n("common.uploadPhoto")})]}),t.jsx("input",{type:"file",id:"imageUpload",name:"photo",accept:"image/*",onChange:ie,style:{display:"none"}})]}),t.jsxs("div",{className:"add-warehouse-form-fields-section",children:[R&&t.jsx("div",{className:"add-warehouse-form-error",children:R}),t.jsxs("form",{onSubmit:X,children:[t.jsxs("div",{className:"add-warehouse-form-grid",children:[t.jsxs("div",{className:"add-warehouse-form-group",children:[t.jsx("label",{children:"Warehouse Name"}),t.jsx("input",{type:"text",name:"name",required:!0})]}),t.jsxs("div",{className:"add-warehouse-form-group",children:[t.jsx("label",{children:"Warehouse Capacity (m)"}),t.jsx("input",{type:"number",name:"capacity",required:!0,min:"1"})]}),t.jsxs("div",{className:"add-warehouse-form-group",children:[t.jsx("label",{children:"Warehouse Manager"}),t.jsxs("select",{name:"managerId",onChange:V=>ae(V.target.value),children:[t.jsx("option",{value:"",children:"Select Warehouse Manager"}),p.map(V=>t.jsxs("option",{value:V.id,children:[V.firstName," ",V.lastName]},V.id))]})]}),t.jsxs("div",{className:"add-warehouse-form-group add-warehouse-workers-section",children:[t.jsx("label",{children:"Warehouse Workers"}),t.jsxs("div",{className:"add-warehouse-workers-dropdown",ref:W,children:[t.jsxs("div",{className:"add-warehouse-dropdown-header",onClick:me,children:[t.jsx("span",{children:"Select Workers"}),t.jsx("span",{className:`add-warehouse-dropdown-icon ${S?"open":""}`,children:""})]}),S&&t.jsxs("div",{className:"add-warehouse-dropdown-menu",children:[b.filter(V=>!O.includes(V.id)).map(V=>t.jsxs("div",{className:"add-warehouse-dropdown-item",onClick:()=>de(V),children:[V.firstName," ",V.lastName]},V.id)),b.filter(V=>!O.includes(V.id)).length===0&&t.jsx("div",{className:"add-warehouse-dropdown-item",children:"No workers available"})]})]}),T.length>0&&t.jsx("div",{className:"add-warehouse-workers-list",children:T.map(V=>t.jsxs("div",{className:"add-warehouse-worker-chip",children:[t.jsxs("span",{children:[V.firstName," ",V.lastName]}),t.jsx("span",{className:"add-warehouse-remove-worker",onClick:()=>fe(V.id),children:""})]},V.id))})]})]}),t.jsxs("div",{className:"add-warehouse-form-actions",children:[t.jsx("button",{type:"button",className:"add-warehouse-cancel-button",onClick:K,disabled:_,children:n("common.cancel")}),t.jsx("button",{type:"submit",className:"add-warehouse-submit-button",disabled:_,children:_?"Adding...":"Add Warehouse"})]})]})]})]})})})]})})]})},coe=({siteId:e})=>{const{t:n}=ln(),[r,a]=g.useState([]),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,p]=g.useState([]),{currentUser:y}=Xt(),[b,x]=g.useState({show:!1,message:"",type:"success"}),j=(y==null?void 0:y.role)==="SITE_ADMIN",w=[{header:"ID",accessor:"conventionalId",sortable:!0},{header:"Asset Name",accessor:"assetName",sortable:!0},{header:"Creation Date",accessor:"creationDate",sortable:!0},{header:"Area/Quantity",accessor:"areaQuantity",sortable:!0}];g.useEffect(()=>{T()},[e]);const T=async()=>{try{const _=(await zt.getSiteFixedAssets(e)).data;if(Array.isArray(_)){const U=_.map((R,$)=>({conventionalId:`FA-${String($+1).padStart(3,"0")}`,assetID:R.id,assetName:R.name,creationDate:R.creationDate.split("T")[0],areaQuantity:`${R.area} m`}));a(U)}else a([]),x({show:!0,message:"No fixed assets found for this site",type:"info"});o(!1)}catch(D){u(D.message),a([]),o(!1),x({show:!0,message:D.message,type:"error"})}},A=r.reduce((D,_)=>(D[_.assetName]=(D[_.assetName]||0)+1,D),{}),O=async()=>{try{const U=(await zt.getUnassignedFixedAssets()).data.filter(R=>!R.site);p(U),U.length===0&&x({show:!0,message:"No available fixed assets found to assign",type:"info"})}catch(D){console.error("Error fetching available fixed asset:",D),p([]),x({show:!0,message:"Failed to fetch available fixed assets",type:"error"})}},P=async D=>{try{await zt.assignFixedAsset(e,D),h(!1),await T(),x({show:!0,message:"Fixed asset successfully assigned to site",type:"success"})}catch(_){console.error("Error assigning fixed asset:",_),x({show:!0,message:"Failed to assign fixed asset",type:"error"})}},S=()=>{h(!0),O()},E=()=>h(!1),k=()=>{x(D=>({...D,show:!1}))};return s?t.jsx("div",{className:"loading-container",children:n("site.loadingFixedAssets")}):t.jsxs("div",{className:"site-fixed-assets-tab",children:[t.jsx(Ss,{show:b.show,message:b.message,type:b.type,onClose:k,duration:3e3}),t.jsxs("div",{className:"departments-header",children:[t.jsx("h3",{children:n("site.siteFixedAssetsReport")}),j&&t.jsx("div",{className:"btn-primary-container",children:t.jsx("button",{className:"assign-button",onClick:S,children:n("site.assignFixedAsset")})})]}),t.jsx("div",{className:"assets-stats",children:Object.entries(A).map(([D,_])=>t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-title",children:D}),t.jsx("div",{className:"stat-value",children:_})]},D))}),d&&t.jsx("div",{className:"assign-fixed-asset-modal-overlay",children:t.jsxs("div",{className:"assign-fixed-asset-modal-content",children:[t.jsxs("div",{className:"assign-fixed-asset-modal-header",children:[t.jsx("h2",{children:n("site.assignFixedAsset")}),t.jsx("button",{className:"assign-fixed-asset-modal-close-button",onClick:E,children:""})]}),t.jsx("div",{className:"assign-fixed-asset-modal-body",children:f.length===0?t.jsx("div",{className:"assign-fixed-asset-no-assets",children:t.jsx("p",{children:n("site.noFixedAssetsAvailable")})}):t.jsx("div",{className:"assign-fixed-asset-table-container",children:t.jsxs("table",{className:"assign-fixed-asset-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:n("common.name")}),t.jsx("th",{children:n("site.creationDate")}),t.jsx("th",{children:n("fixedAssets.areaOrQuantity")}),t.jsx("th",{children:n("common.action")})]})}),t.jsx("tbody",{children:f.map(D=>t.jsxs("tr",{children:[t.jsx("td",{children:D.name}),t.jsx("td",{className:"assign-fixed-asset-creation-date",children:D.creationDate}),t.jsxs("td",{className:"assign-fixed-asset-area",children:[D.area," m"]}),t.jsx("td",{children:t.jsx("button",{className:"assign-fixed-asset-btn",onClick:()=>P(D.id),children:n("site.assign")})})]},D.id))})]})})})]})}),l?t.jsx("div",{className:"error-container",children:l}):t.jsx("div",{className:"data-table-container",children:t.jsx(Nt,{data:r,columns:w,loading:s,showSearch:!0,showFilters:!0,filterableColumns:w,itemsPerPageOptions:[10,25,50,100],defaultItemsPerPage:10,tableTitle:"Fixed Assets List"})})]})},uoe=({siteId:e})=>{const{t:n}=ln(),[r,a]=g.useState([]),[s,o]=g.useState(!0),[l,u]=g.useState(null),d=Tt(),[h,f]=g.useState({show:!1,message:"",type:"success"}),p=()=>{f(j=>({...j,show:!1}))},y=j=>{d(`/merchants/${j.id}`)},b=[{header:"ID",accessor:"conventionalId",sortable:!0},{header:"Merchant Name",accessor:"merchantName",sortable:!0},{header:"Merchant Type",accessor:"merchantType",sortable:!0},{header:"Address",accessor:"address",sortable:!0},{header:"Contact Number",accessor:"contactPhone",sortable:!0}];g.useEffect(()=>{x()},[e]);const x=async()=>{try{const w=(await zt.getMerchants(e)).data;if(Array.isArray(w)){const T=w.map((A,O)=>({conventionalId:`ME-${String(O+1).padStart(3,"0")}`,id:A.id,merchantName:A.name,merchantType:A.merchantType,address:A.address,contactPhone:A.contactPhone}));a(T)}else a([]),f({show:!0,message:"No merchants found for this site",type:"info"});o(!1)}catch(j){u(j.message),a([]),o(!1),f({show:!0,message:j.message,type:"error"})}};return r.reduce((j,w)=>(j[w.merchantType]=(j[w.merchantType]||0)+1,j),{}),s?t.jsx("div",{className:"loading-container",children:n("site.loadingMerchants")}):t.jsxs("div",{className:"site-merchants-tab",children:[t.jsx(Ss,{show:h.show,message:h.message,type:h.type,onClose:p,duration:3e3}),t.jsx("div",{className:"departments-header",children:t.jsx("h3",{children:n("site.siteMerchantsReport")})}),l?t.jsx("div",{className:"error-container",children:l}):t.jsx("div",{className:"data-table-container",children:t.jsx(Nt,{data:r,columns:b,loading:s,showSearch:!0,showFilters:!0,filterableColumns:b,itemsPerPageOptions:[10,25,50,100],defaultItemsPerPage:10,onRowClick:j=>{y(j),f({show:!0,message:`Navigating to merchant: ${j.merchantName}`,type:"info"})},tableTitle:"Merchants List"})})]})},doe=({siteId:e})=>{const{t:n}=ln(),[r,a]=g.useState([]),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,p]=g.useState([]),[y,b]=g.useState({}),{currentUser:x}=Xt(),[j,w]=g.useState(null),[T,A]=g.useState(""),{showSuccess:O,showError:P,showWarning:S}=cn();x==null||x.role;const E=[{header:"ID",accessor:"conventionalId",sortable:!0},{header:"Partner Name",accessor:"partnerName",sortable:!0},{header:"Percentage",accessor:"partnerPercentage",sortable:!0,render:W=>j===W.partnerID?t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("input",{type:"number",className:"assign-partner-percentage-input",value:T,onChange:M=>A(M.target.value),placeholder:"0",min:"0",max:"100",step:"0.01",style:{width:"80px"}}),t.jsx("button",{className:"icon-button success",onClick:()=>L(W.partnerID,T),disabled:!T||parseFloat(T)<0||parseFloat(T)>100,title:"Save",children:t.jsx(Ij,{})}),t.jsx("button",{className:"icon-button cancel",onClick:()=>{w(null),A("")},title:"Cancel",children:t.jsx(Zi,{})})]}):W.partnerPercentage},{header:"Actions",accessor:"actions",sortable:!1,render:W=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"icon-button primary",onClick:()=>{w(W.partnerID),A(W.partnerPercentage.replace("%",""))},title:"Edit Percentage",children:t.jsx(ga,{})}),t.jsx("button",{className:"icon-button danger",onClick:()=>z(W.partnerID),title:"Remove Partner",children:t.jsx(Ua,{})})]})}];g.useEffect(()=>{k()},[e]);const k=async()=>{try{const W=localStorage.getItem("token"),M=await fetch(`http://localhost:8080/api/v1/site/${e}/partners`,{method:"GET",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(!M.ok){const G=await M.text();try{const J=JSON.parse(G);throw new Error(J.message||`HTTP error! Status: ${M.status}`)}catch{throw new Error("No Partners found for this site.")}}const F=await M.json();if(Array.isArray(F)){const G=F.map((J,I)=>({conventionalId:`P-${String(I+1).padStart(3,"0")}`,partnerID:J.id,partnerFirstName:J.firstName,partnerLastName:J.lastName,partnerName:`${J.firstName} ${J.lastName}`,partnerPercentage:`${parseFloat(J.percentage).toFixed(2)}%`}));a(G)}else a([]);o(!1)}catch(W){u(W.message),P(W.message),a([]),o(!1)}},D=()=>{h(!0),R()},_=(W,M)=>{b(F=>({...F,[W]:M}))},U=()=>h(!1),R=async()=>{try{const W=localStorage.getItem("token"),M=await fetch(`http://localhost:8080/api/v1/site/${e}/unassigned-partners`,{method:"GET",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(!M.ok)throw new Error("Failed to fetch partners.");const G=(await M.json()).filter(J=>!J.site);p(G)}catch(W){console.error("Error fetching available partners:",W),P("Unable to load available partners. Please try again."),p([])}},$=async W=>{try{const M=localStorage.getItem("token"),F=y[W],G=await fetch(`http://localhost:8080/siteadmin/${e}/assign-partner/${W}`,{method:"POST",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify({percentage:parseFloat(F)})});if(!G.ok){const J=await G.text();throw new Error(J)}h(!1),await k(),O("Partner successfully assigned to the site.")}catch(M){console.error("Error assigning partner:",M),P(M.message||"Failed to assign partner. Please try again.")}},L=async(W,M)=>{try{const F=localStorage.getItem("token"),G=await fetch(`http://localhost:8080/siteadmin/${e}/update-partner-percentage/${W}`,{method:"PUT",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({percentage:parseFloat(M)})});if(!G.ok){const J=await G.text();let I;try{const q=JSON.parse(J);I=q.message||q.error||J}catch{I=J}throw I.includes("Rock4Mining")?new Error("Cannot modify the default Rock4Mining partner's percentage directly"):I.includes("Cannot increase partner percentage")?new Error("Not enough percentage available to increase. Please reduce other partners first"):new Error(I)}await k(),w(null),A(""),O("Partner percentage successfully updated")}catch(F){console.error("Error updating partner percentage:",F),F.message.includes("Rock4Mining")?P("Cannot modify the default partner's percentage. Please adjust other partners instead"):F.message.includes("Cannot increase partner percentage")?P("Not enough percentage available. Please reduce other partners first"):F.message.includes("Server Error")?P("Unable to update partner percentage. Please check if the percentage is available"):P(F.message||"Unable to update partner percentage")}},z=async W=>{try{const M=localStorage.getItem("token"),F=await fetch(`http://localhost:8080/siteadmin/${e}/remove-partner/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}});if(!F.ok){const G=await F.text();let J;try{const I=JSON.parse(G);J=I.message||I.error||G}catch{J=G}throw J.includes("Rock4Mining")?new Error("The default Rock4Mining partner cannot be removed from the site"):new Error(J)}await k(),O("Partner successfully removed from the site")}catch(M){console.error("Error removing partner:",M),M.message.includes("Rock4Mining")?P("This partner cannot be removed as they are the default partner for the site"):M.message.includes("Server Error")?P("Unable to remove partner. The partner might be the default partner or have active assignments."):P(M.message||"Unable to remove partner from the site")}};return s?t.jsx("div",{className:"loading-container",children:"Loading Partners..."}):t.jsxs("div",{className:"site-partners-tab",children:[t.jsxs("div",{className:"departments-header",children:[t.jsx("h3",{children:"Site Partners Report"}),t.jsx("div",{className:"btn-primary-container",children:t.jsx("button",{className:"assign-button",onClick:D,children:"Assign Partner"})})]}),d&&t.jsx("div",{className:"assign-partner-modal-overlay",children:t.jsxs("div",{className:"assign-partner-modal-content",children:[t.jsxs("div",{className:"assign-partner-modal-header",children:[t.jsx("h2",{children:"Assign Partner"}),t.jsx("button",{className:"assign-partner-modal-close-button",onClick:U,children:""})]}),t.jsx("div",{className:"assign-partner-modal-body",children:f.length===0?t.jsx("div",{className:"assign-partner-no-partners",children:t.jsx("p",{children:"No Partners Available"})}):t.jsx("div",{className:"assign-partner-table-container",children:t.jsxs("table",{className:"assign-partner-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"First Name"}),t.jsx("th",{children:"Last Name"}),t.jsx("th",{children:"Percentage (%)"}),t.jsx("th",{children:n("common.action")})]})}),t.jsx("tbody",{children:f.map(W=>{const M=y[W.id]||"",F=M&&parseFloat(M)>=0&&parseFloat(M)<=100;return t.jsxs("tr",{children:[t.jsx("td",{className:"assign-partner-first-name","data-label":"First Name",children:W.firstName}),t.jsx("td",{className:"assign-partner-last-name","data-label":"Last Name",children:W.lastName}),t.jsxs("td",{"data-label":"Percentage",children:[t.jsx("div",{className:"assign-partner-percentage-label",children:t.jsx("input",{type:"number",className:"assign-partner-percentage-input",value:M,onChange:G=>_(W.id,G.target.value),placeholder:"0",min:"0",max:"100",step:"0.01"})}),t.jsx("div",{className:`assign-partner-validation-message ${M&&!F?"show":""}`,children:"Please enter a value between 0 and 100"})]}),t.jsx("td",{"data-label":"Action",children:t.jsx("button",{className:"assign-partner-btn",onClick:()=>$(W.id),disabled:!F,children:n("site.assign")})})]},W.id)})})]})})})]})}),l?t.jsx("div",{className:"error-container",children:l}):t.jsx("div",{className:"data-table-container",children:t.jsx(Nt,{data:r,columns:E,loading:s,showSearch:!0,showFilters:!0,filterableColumns:E,itemsPerPageOptions:[10,25,50,100],defaultItemsPerPage:10,tableTitle:"Partners List"})})]})},hoe=()=>{var x;const{siteId:e}=ya(),n=Tt(),{currentUser:r}=Xt(),[a,s]=g.useState(null),[o,l]=g.useState(!0),[u,d]=g.useState(null),[h,f]=g.useState("equipment"),p=(r==null?void 0:r.role)==="ADMIN"||(r==null?void 0:r.role)==="SITE_ADMIN";g.useEffect(()=>{y()},[e]);const y=async()=>{try{l(!0);const j=localStorage.getItem("token"),w=await fetch(`http://localhost:8080/api/v1/site/${e}`,{method:"GET",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(!w.ok)throw new Error(`HTTP error! Status: ${w.status}`);const T=await w.json();s(T),l(!1)}catch(j){console.error("Error fetching site details:",j),d(j.message),l(!1)}},b=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not specified";return o?t.jsx(pc,{}):u?t.jsx("div",{className:"site-details-container",children:t.jsxs("div",{className:"error-message",children:[t.jsx("h2",{children:"Error Loading Data"}),t.jsx("p",{children:u}),t.jsxs("div",{className:"error-actions",children:[t.jsx("button",{onClick:()=>y(),children:"Try Again"}),t.jsx("button",{onClick:()=>n("/sites"),children:"Back to Sites"})]})]})}):a?t.jsx("div",{className:"site-details-container",children:t.jsxs("div",{className:"site-details-content",children:[t.jsxs("div",{className:"site-compact-header",children:[t.jsxs("div",{className:"site-basic-info",children:[t.jsxs("div",{className:"site-avatar",children:[t.jsx("img",{src:a.photoUrl||"https://via.placeholder.com/60?text=Site",alt:a.name}),t.jsx("div",{className:`site-status-indicator ${((x=a.status)==null?void 0:x.toLowerCase())||"active"}`})]}),t.jsx("div",{className:"site-title",children:t.jsx("h1",{children:a.name})})]}),t.jsx("div",{className:"site-quick-stats",children:t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-label",children:"Created"}),t.jsx("span",{className:"stat-value",children:b(a.creationDate)})]})})]}),t.jsxs("div",{className:"site-details-tabs",children:[t.jsxs("div",{className:"tabs-header",children:[t.jsx("button",{className:`tab-button ${h==="equipment"?"active":""}`,onClick:()=>f("equipment"),children:"Equipment"}),t.jsx("button",{className:`tab-button ${h==="employees"?"active":""}`,onClick:()=>f("employees"),children:"Employees"}),t.jsx("button",{className:`tab-button ${h==="warehouses"?"active":""}`,onClick:()=>f("warehouses"),children:"Warehouses"}),t.jsx("button",{className:`tab-button ${h==="fixedassets"?"active":""}`,onClick:()=>f("fixedassets"),children:"Fixed Assets"}),t.jsx("button",{className:`tab-button ${h==="merchants"?"active":""}`,onClick:()=>f("merchants"),children:"Merchants"}),p&&t.jsx("button",{className:`tab-button ${h==="partners"?"active":""}`,onClick:()=>f("partners"),children:"Partners"})]}),t.jsxs("div",{className:"tab-content","data-active-tab":h==="equipment"?"Equipment":h==="employees"?"Employees":h==="warehouses"?"Warehouses":h==="fixedassets"?"Fixed Assets":h==="merchants"?"Merchants":"Partners",children:[h==="equipment"&&t.jsx(ioe,{siteId:e}),h==="employees"&&t.jsx(ooe,{siteId:e}),h==="warehouses"&&t.jsx(loe,{siteId:e}),h==="fixedassets"&&t.jsx(coe,{siteId:e}),h==="merchants"&&t.jsx(uoe,{siteId:e}),h==="partners"&&p&&t.jsx(doe,{siteId:e})]})]})]})}):t.jsx("div",{className:"site-details-container",children:t.jsxs("div",{className:"error-message",children:[t.jsx("h2",{children:"Site Not Found"}),t.jsx("p",{children:"The requested site could not be found."}),t.jsx("button",{onClick:()=>n("/sites"),children:"Back to Sites List"})]})})},moe={getAllEquipmentTypes:()=>ye.get(Gs.BASE),getEquipmentTypeById:e=>ye.get(Gs.BY_ID(e)),createEquipmentType:e=>ye.post(Gs.CREATE,e),updateEquipmentType:(e,n)=>ye.put(Gs.UPDATE(e),n),deleteEquipmentType:e=>ye.delete(Gs.DELETE(e)),searchEquipmentTypes:e=>ye.get(Gs.SEARCH,{params:e}),getSupportedWorkTypes:e=>ye.get(Gs.SUPPORTED_WORK_TYPES(e)),setSupportedWorkTypes:(e,n)=>ye.put(Gs.SET_SUPPORTED_WORK_TYPES(e),n)},Pu={getAllEquipmentBrands:()=>ye.get(st.BRANDS),getEquipmentBrandById:e=>ye.get(st.BRAND_BY_ID(e)),createEquipmentBrand:e=>ye.post(st.BRANDS,e),updateEquipmentBrand:(e,n)=>ye.put(st.BRAND_BY_ID(e),n),deleteEquipmentBrand:e=>ye.delete(st.BRAND_BY_ID(e))},foe={getAll:()=>ye.get(Hu.BASE),getAllMerchants:()=>ye.get(Hu.BASE),getById:e=>ye.get(Hu.BY_ID(e))},zu={getById:e=>ye.get(Am.BY_ID(e)),getByEntity:(e,n)=>ye.get(Am.BY_ENTITY(e,n)),create:(e,n,r)=>{const a=new FormData;return a.append("name",r.name),a.append("type",r.type),a.append("file",r.file),ye.post(Am.CREATE(e,n),a,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>ye.delete(Am.DELETE(e))},Nj=({fieldType:e,fieldLabel:n,onDocumentsChange:r,initialDocuments:a=[]})=>{const[s,o]=g.useState([]),l=g.useMemo(()=>e==="SHIPPING"?[{value:"SHIPPING_INVOICE",label:"Shipping Invoice"},{value:"BILL_OF_LADING",label:"Bill of Lading"},{value:"SHIPPING_RECEIPT",label:"Shipping Receipt"},{value:"SHIPPING_OTHER",label:"Other Shipping Document"}]:e==="CUSTOMS"?[{value:"CUSTOMS_DECLARATION",label:"Customs Declaration"},{value:"CUSTOMS_INVOICE",label:"Customs Invoice"},{value:"CUSTOMS_CLEARANCE",label:"Customs Clearance"},{value:"CUSTOMS_OTHER",label:"Other Customs Document"}]:e==="TAXES"?[{value:"TAX_CERTIFICATE",label:"Tax Certificate"},{value:"TAX_INVOICE",label:"Tax Invoice"},{value:"TAX_RECEIPT",label:"Tax Receipt"},{value:"TAX_OTHER",label:"Other Tax Document"}]:[{value:"DOCUMENT",label:"Document"},{value:"OTHER",label:"Other"}],[e]);g.useEffect(()=>{a&&a.length>0&&o(a)},[a]);const u=y=>{if(!y)return t.jsx(wA,{});const b=y.toLowerCase();return b.includes("pdf")?t.jsx(QM,{}):b.includes("word")||b.includes("doc")?t.jsx(e9,{}):b.includes("excel")||b.includes("sheet")||b.includes("csv")?t.jsx(X7,{}):b.includes("image")||b.includes("jpeg")||b.includes("jpg")||b.includes("png")?t.jsx(J7,{}):t.jsx(wA,{})},d=y=>{Array.from(y.target.files).forEach(x=>{const j={id:Date.now()+Math.random(),file:x,documentName:x.name.split(".")[0],documentType:l[0].value,fieldType:e,fileType:x.type,fileSize:x.size,isNew:!0},w=[...s,j];o(w),r(e,w)}),y.target.value=""},h=(y,b)=>{const x=s.map(j=>j.id===y?{...j,documentName:b}:j);o(x),r(e,x)},f=(y,b)=>{const x=s.map(j=>j.id===y?{...j,documentType:b}:j);o(x),r(e,x)},p=y=>{const b=s.filter(x=>x.id!==y);o(b),r(e,b)};return t.jsxs("div",{className:"document-upload",children:[t.jsxs("div",{className:"field-header",children:[t.jsx("h4",{children:n}),t.jsxs("div",{className:"upload-actions",children:[t.jsx("input",{type:"file",id:`document-upload-${e}`,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.xlsx,.xls,.csv",onChange:d,style:{display:"none"},multiple:!0}),t.jsxs("label",{htmlFor:`document-upload-${e}`,className:"upload-button",children:[t.jsx(ZM,{}),t.jsx("span",{children:"Add Document"})]})]})]}),s.length>0&&t.jsx("div",{className:"documents-list",children:s.map(y=>t.jsxs("div",{className:"document-item",children:[t.jsx("div",{className:"document-preview",children:t.jsx("div",{className:"file-icon",children:u(y.fileType)})}),t.jsxs("div",{className:"document-details",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Document Name:"}),t.jsx("input",{type:"text",className:"form-control small",value:y.documentName,onChange:b=>h(y.id,b.target.value),placeholder:"Enter document name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Document Type:"}),t.jsx("select",{className:"form-control small",value:y.documentType,onChange:b=>f(y.id,b.target.value),children:l.map(b=>t.jsx("option",{value:b.value,children:b.label},b.value))})]})]}),t.jsx("button",{type:"button",className:"remove-button",onClick:()=>p(y.id),title:"Remove document",children:t.jsx(Ua,{})})]},y.id))}),s.length===0&&t.jsx("div",{className:"no-documents",children:'No documents selected. Click "Add Document" to upload files.'})]})},poe=({isOpen:e,onClose:n,onSave:r,equipmentToEdit:a=null})=>{var di;const{showSuccess:s,showError:o,showInfo:l,showWarning:u,hideSnackbar:d}=cn(),h=g.useRef(null),f=Re=>{if(!Re)return"";const _e=new Date(Re);if(isNaN(_e.getTime()))return Re;const ve=String(_e.getDate()).padStart(2,"0"),Ee=String(_e.getMonth()+1).padStart(2,"0"),$e=_e.getFullYear();return`${ve}/${Ee}/${$e}`},p=Re=>{if(!Re)return"";let _e;if(Re.match(/^\d{2}\/\d{2}\/\d{4}$/)){const[We,jt,tn]=Re.split("/");_e=new Date(tn,jt-1,We)}else _e=new Date(Re);if(isNaN(_e.getTime()))return Re;const ve=_e.getFullYear(),Ee=String(_e.getMonth()+1).padStart(2,"0"),$e=String(_e.getDate()).padStart(2,"0");return`${ve}-${Ee}-${$e}`},y=Re=>Re==null||Re===""?"":Re.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),b=Re=>Re?Re.toString().replace(/,/g,""):"",x={name:"",model:"",brandId:"",serialNumber:"",modelNumber:"",typeId:"",siteId:"",mainDriverId:"",subDriverId:"",status:"AVAILABLE",manufactureYear:new Date().getFullYear(),purchasedDate:"",deliveredDate:"",egpPrice:"",dollarPrice:"",purchasedFrom:"",examinedBy:"",equipmentComplaints:"",countryOfOrigin:"",shipping:"",customs:"",taxes:"",relatedDocuments:"",workedHours:0},[j,w]=g.useState(!1),[T,A]=g.useState(null),[O,P]=g.useState([]),[S,E]=g.useState([]),[k,D]=g.useState([]),[_,U]=g.useState([]),[R,$]=g.useState(null),[L,z]=g.useState(x),[W,M]=g.useState({egpPrice:"",dollarPrice:"",workedHours:"0",purchasedDate:"",deliveredDate:""}),[F,G]=g.useState(null),[J,I]=g.useState(0),[q,B]=g.useState(!1),[H,K]=g.useState({0:!1,1:!1,2:!1}),[ie,ae]=g.useState(!0),[me,de]=g.useState(!1),fe=g.useRef(null),X=[{id:0,name:"Basic Information",requiredFields:["name","serialNumber","typeId","model","brandId","modelNumber","manufactureYear"]},{id:1,name:"Purchase Details",requiredFields:["purchasedDate","deliveredDate","egpPrice","countryOfOrigin","shipping","customs","taxes","purchasedFrom"]},{id:2,name:"Additional Info",requiredFields:[]}],[Z,V]=g.useState([]),[Y,ee]=g.useState(null),[ce,re]=g.useState(!1),[te,he]=g.useState({SHIPPING:[],CUSTOMS:[],TAXES:[]});g.useEffect(()=>{h.current&&(h.current.scrollTop=0)},[J]);const se=()=>{me?(u("Are you sure you want to clear all form data?",0,!0),setTimeout(()=>{const Re=document.querySelector(".global-notification");if(Re){const _e=document.createElement("div");_e.className="snackbar-actions";const ve=document.createElement("button");ve.innerText="YES",ve.className="snackbar-action-button confirm",ve.onclick=()=>{oe(),d()};const Ee=document.createElement("button");Ee.innerText="NO",Ee.className="snackbar-action-button cancel",Ee.onclick=()=>{d()},_e.appendChild(ve),_e.appendChild(Ee),Re.appendChild(_e),fe.current=_e}},100)):oe()},oe=()=>{z(x),M({egpPrice:"",dollarPrice:"",workedHours:"0"}),G(null),$(null),re(!1),I(0),de(!1),he({SHIPPING:[],CUSTOMS:[],TAXES:[]}),l("Form has been cleared")},xe=(Re,_e)=>{he(ve=>({...ve,[Re]:_e})),de(!0)};g.useEffect(()=>(e&&(pe(),a?qe():(z(x),M({egpPrice:"",dollarPrice:"",workedHours:"0"}),G(null),$(null),de(!1),I(0),he({SHIPPING:[],CUSTOMS:[],TAXES:[]})),Le(),h.current&&(h.current.scrollTop=0)),()=>{fe.current&&(fe.current.remove(),fe.current=null)}),[e,a]),g.useEffect(()=>{Le(),e&&JSON.stringify(L)!==JSON.stringify(x)&&de(!0)},[L,F]),g.useEffect(()=>{L.typeId?je(L.typeId):V([])},[L.typeId]);const pe=async()=>{w(!0);try{const Re=await moe.getAllEquipmentTypes();P(Re.data);const _e=await Pu.getAllEquipmentBrands();E(_e.data);const ve=await zt.getAllSites();D(ve.data);try{const Ee=await foe.getAllMerchants();U(Ee.data)}catch(Ee){console.error("Error fetching merchants:",Ee),U([]),u("Could not fetch merchant data. Some features may be limited.")}w(!1)}catch(Re){console.error("Error fetching form data:",Re),A("Failed to load form data. Please try again."),o("Failed to load form data. Please try again."),w(!1)}},je=async Re=>{if(Re)try{const _e=await ht.getEligibleDriversForEquipmentType(Re);if(V(_e.data),L.mainDriverId||L.subDriverId){const ve=_e.data.some($e=>$e.id===L.mainDriverId),Ee=_e.data.some($e=>$e.id===L.subDriverId);L.subDriverId&&!Ee&&(z($e=>({...$e,subDriverId:""})),re(!0),u("The selected sub driver is not qualified for this equipment type and has been cleared.")),L.mainDriverId&&!ve&&!(a!=null&&a.mainDriverId)&&(z($e=>({...$e,mainDriverId:""})),re(!0),u("The selected main driver is not qualified for this equipment type and has been cleared."))}ee(null)}catch(_e){console.error("Error fetching eligible drivers:",_e),ee("Could not fetch eligible drivers for this equipment type"),o("Could not fetch eligible drivers for this equipment type"),V([])}},qe=()=>{if(!a)return;console.log("equipment to edit"),console.log(a);const Re={name:a.name||"",model:a.model||"",brandId:a.brandId||"",serialNumber:a.serialNumber||"",modelNumber:a.modelNumber||"",typeId:a.typeId||"",siteId:a.siteId||"",mainDriverId:a.mainDriverId||"",subDriverId:a.subDriverId||"",status:a.status||"AVAILABLE",manufactureYear:a.manufactureYear||new Date().getFullYear(),purchasedDate:p(a.purchasedDate)||"",deliveredDate:p(a.deliveredDate)||"",egpPrice:a.egpPrice||"",dollarPrice:a.dollarPrice||"",purchasedFrom:a.purchasedFromId||"",examinedBy:a.examinedBy||"",equipmentComplaints:a.equipmentComplaints||"",countryOfOrigin:a.countryOfOrigin||"",shipping:a.shipping||"",customs:a.customs||"",taxes:a.taxes||"",relatedDocuments:a.relatedDocuments||"",workedHours:a.workedHours||0};z(Re),M({egpPrice:y(a.egpPrice)||"",dollarPrice:y(a.dollarPrice)||"",workedHours:y(a.workedHours)||"0",purchasedDate:f(a.purchasedDate)||"",deliveredDate:f(a.deliveredDate)||""}),a.imageUrl&&$(a.imageUrl),de(!0),ae(!1),ke(a.id)},ke=async Re=>{try{const ve=(await zu.getByEntity("equipment",Re)).data,Ee={SHIPPING:[],CUSTOMS:[],TAXES:[]};ve.forEach($e=>{const We=$e.type.toUpperCase();We.includes("SHIPPING")?Ee.SHIPPING.push({id:$e.id,documentName:$e.name,documentType:$e.type,fieldType:"SHIPPING",fileType:"application/octet-stream",fileSize:$e.fileSize||0,fileUrl:$e.url,isNew:!1,existingDocument:!0}):We.includes("CUSTOMS")?Ee.CUSTOMS.push({id:$e.id,documentName:$e.name,documentType:$e.type,fieldType:"CUSTOMS",fileType:"application/octet-stream",fileSize:$e.fileSize||0,fileUrl:$e.url,isNew:!1,existingDocument:!0}):We.includes("TAX")&&Ee.TAXES.push({id:$e.id,documentName:$e.name,documentType:$e.type,fieldType:"TAXES",fileType:"application/octet-stream",fileSize:$e.fileSize||0,fileUrl:$e.url,isNew:!1,existingDocument:!0})}),he(Ee)}catch(_e){console.error("Error loading existing documents:",_e)}},Oe=Re=>{const{name:_e,value:ve,type:Ee,checked:$e}=Re.target;if(Ee==="checkbox"){z(We=>({...We,[_e]:$e})),de(!0);return}if(_e==="egpPrice"||_e==="dollarPrice"){const We=b(ve);z(jt=>({...jt,[_e]:We})),M(jt=>({...jt,[_e]:y(We)}))}else if(_e==="workedHours"){const We=b(ve);z(jt=>({...jt,[_e]:We})),M(jt=>({...jt,[_e]:y(We)}))}else _e==="purchasedDate"||_e==="deliveredDate"?(z(We=>({...We,[_e]:ve})),M(We=>({...We,[_e]:f(ve)}))):z(We=>({...We,[_e]:ve}));de(!0)},Be=Re=>{const{name:_e,value:ve}=Re.target;z({...L,[_e]:ve})},Ke=Re=>{const _e=Re.target.files[0];if(_e){G(_e);const ve=new FileReader;ve.onloadend=()=>{$(ve.result)},ve.readAsDataURL(_e),de(!0)}},bt=Re=>{I(Re)},Se=Re=>{const _e=X.find(Ee=>Ee.id===Re);if(!_e)return!0;let ve=_e.requiredFields.every(Ee=>L[Ee]!==void 0&&L[Ee]!==null&&L[Ee]!=="");return Re===0&&(ve=ve&&(F!==null||a&&a.imageUrl)),K(Ee=>({...Ee,[Re]:ve})),ve},Le=()=>{const Re=Se(0),_e=Se(1),ve=Se(2),Ee=Re&&_e&&ve;return B(Ee),Ee},Fe=Re=>H[Re]?t.jsx(F7,{className:"tab-status-icon valid"}):t.jsx(os,{className:"tab-status-icon invalid"}),ze=()=>{if(!Le()){const _e=Object.keys(H).find(ve=>!H[ve]);return _e!==void 0&&(I(parseInt(_e)),ae(!0),u("Please complete all required fields before submitting.")),!1}return!0},Xe=Re=>{var ve,Ee;const _e=((Ee=(ve=Re==null?void 0:Re.response)==null?void 0:ve.data)==null?void 0:Ee.message)||(Re==null?void 0:Re.message)||"An unexpected error occurred.";return _e.includes("serial number")&&_e.includes("already exists")?"This serial number is already in use. Please use a unique serial number.":_e.includes("Validation error")||_e.includes("Not valid")?"Some fields contain invalid data. Please check your inputs and try again.":_e.includes("Cannot be assigned as a driver")?"The selected employee cannot be assigned as a driver for this equipment type.":_e.includes("Equipment type not found")?"The selected equipment type no longer exists. Please select another type.":_e.includes("required")||_e.includes("cannot be null")?"Some required fields are missing. Please fill all required fields.":_e},pt=async Re=>{if(Re.preventDefault(),!ze()){ae(!0),I(0);return}w(!0),A(null);try{const _e=new FormData;_e.append("typeId",L.typeId),_e.append("brandId",L.brandId),_e.append("name",L.name),_e.append("model",L.model),_e.append("serialNumber",L.serialNumber),_e.append("modelNumber",L.modelNumber),_e.append("purchasedDate",L.purchasedDate),_e.append("deliveredDate",L.deliveredDate),_e.append("egpPrice",L.egpPrice),_e.append("dollarPrice",L.dollarPrice||0),_e.append("countryOfOrigin",L.countryOfOrigin),_e.append("shipping",L.shipping),_e.append("customs",L.customs),_e.append("taxes",L.taxes),_e.append("examinedBy",L.examinedBy),L.purchasedFrom&&_e.append("purchasedFrom",L.purchasedFrom),_e.append("status",L.status),_e.append("manufactureYear",L.manufactureYear),L.workedHours!==void 0?_e.append("workedHours",L.workedHours):_e.append("workedHours",0),L.siteId&&_e.append("siteId",L.siteId),L.mainDriverId&&_e.append("mainDriverId",L.mainDriverId),L.subDriverId&&_e.append("subDriverId",L.subDriverId),L.equipmentComplaints&&_e.append("equipmentComplaints",L.equipmentComplaints),L.relatedDocuments&&_e.append("relatedDocuments",L.relatedDocuments),F&&_e.append("file",F),console.log("=== FormData Contents ===");for(let[$e,We]of _e.entries())We instanceof File?console.log(`${$e}: [File] ${We.name} (${We.size} bytes, ${We.type})`):console.log(`${$e}: ${We}`);console.log("=== End FormData Contents ===");let ve;a?ve=await ht.updateEquipment(a.id,_e):(console.log(_e),ve=await ht.addEquipment(_e));const Ee=a?a.id:ve.data.id;await en(Ee),s(a?`Equipment "${L.name}" has been updated successfully`:`Equipment "${L.name}" has been added successfully`),w(!1),r(ve.data),n()}catch(_e){console.error("Error saving equipment:",_e);const ve=Xe(_e);A(ve),o(`Error: ${ve}`),w(!1)}},en=async Re=>{try{const _e=["SHIPPING","CUSTOMS","TAXES"];for(const ve of _e){const Ee=te[ve]||[];for(const $e of Ee)if($e.isNew&&$e.file)try{const We={name:$e.documentName,type:$e.documentType,file:$e.file};await zu.create("equipment",Re,We)}catch(We){console.error(`Error uploading ${ve} document:`,We)}}}catch(_e){console.error("Error uploading documents:",_e)}},Bt=()=>{J<X.length-1&&I(J+1)},qn=((di=O.find(Re=>Re.id===L.typeId))==null?void 0:di.name)||"",Jr=O.find(Re=>Re.id===L.typeId),Jn=(Jr==null?void 0:Jr.drivable)||!1;if(!e)return null;const ja=Z.filter(Re=>Re.id!==L.subDriverId),Mr=Z.filter(Re=>Re.id!==L.mainDriverId);return t.jsx("div",{className:"equipment-modal-overlay",children:t.jsxs("div",{className:"equipment-modal",children:[t.jsxs("div",{className:"equipment-modal-header",children:[t.jsx("h2",{children:a?"Edit Equipment":"Add New Equipment"}),t.jsx("button",{className:"equipment-modal-close",onClick:n,"aria-label":"Close",children:t.jsx(Zi,{})})]}),t.jsxs("div",{className:"equipment-form-guidance",children:[t.jsx(qi,{className:"guidance-icon"}),t.jsxs("div",{className:"guidance-text",children:[t.jsxs("p",{children:["This form is divided into ",X.length," tabs. Please complete all required fields marked with ",t.jsx("span",{className:"required",children:"*"})," before submitting."]}),t.jsxs("p",{children:["Currently on: ",t.jsx("strong",{children:X[J].name})," (Tab ",J+1," of ",X.length,")"]})]})]}),t.jsx("div",{className:"equipment-modal-tabs",children:X.map(Re=>t.jsxs("button",{className:`equipment-modal-tab ${J===Re.id?"active":""} ${H[Re.id]?"valid":"invalid"}`,onClick:()=>bt(Re.id),children:[Re.name," ",Fe(Re.id)]},Re.id))}),T&&t.jsxs("div",{className:"equipment-modal-error",children:[t.jsx(os,{}),t.jsx("span",{children:T})]}),ie&&!H[J]&&t.jsxs("div",{className:"equipment-validation-hint",children:[t.jsx(os,{}),t.jsx("span",{children:"Please complete all required fields in this tab before proceeding."})]}),ce&&t.jsxs("div",{className:"equipment-validation-warning",children:[t.jsx(os,{}),t.jsxs("span",{children:["The previously selected driver(s) are not qualified for this equipment type and have been cleared. Please select a driver that can operate ",qn,"."]})]}),t.jsxs("form",{onSubmit:pt,className:"equipment-modal-form",children:[t.jsxs("div",{className:"equipment-modal-content",ref:h,children:[t.jsxs("div",{className:`equipment-modal-tab-content ${J===0?"active":""}`,children:[t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"name",className:"required-field",children:"Equipment Name"}),t.jsx("input",{type:"text",id:"name",name:"name",value:L.name,onChange:Oe,placeholder:"Enter equipment name",className:!L.name&&ie?"invalid-field":"",required:!0})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"serialNumber",className:"required-field",children:"Serial Number"}),t.jsx("input",{type:"text",id:"serialNumber",name:"serialNumber",value:L.serialNumber,onChange:Oe,placeholder:"Enter serial number",className:!L.serialNumber&&ie?"invalid-field":"",required:!0})]})]}),t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"brand",className:"required-field",children:"Brand"}),t.jsxs("select",{id:"brandId",name:"brandId",value:L.brandId,onChange:Oe,className:!L.brandId&&ie?"invalid-field":"",required:!0,children:[t.jsx("option",{value:"",children:"Select equipment brand"}),S.map(Re=>t.jsx("option",{value:Re.id,children:Re.name},Re.id))]})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"model",className:"required-field",children:"Model"}),t.jsx("input",{type:"text",id:"model",name:"model",value:L.model,onChange:Oe,placeholder:"Enter model",className:!L.model&&ie?"invalid-field":"",required:!0})]})]}),t.jsx("div",{className:"equipment-modal-form-row",children:t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"typeId",className:"required-field",children:"Equipment Type"}),t.jsxs("select",{id:"typeId",name:"typeId",value:L.typeId,onChange:Be,className:!L.typeId&&ie?"invalid-field":"",required:!0,children:[t.jsx("option",{value:"",children:"Select equipment type"}),O.map(Re=>t.jsx("option",{value:Re.id,children:Re.name},Re.id))]}),L.typeId&&Jn&&t.jsxs("div",{className:"field-hint",children:[t.jsx(qi,{}),t.jsxs("span",{children:["Drivers for this equipment must have the job position: ",qn," Driver"]})]}),L.typeId&&!Jn&&t.jsxs("div",{className:"field-hint",children:[t.jsx(qi,{}),t.jsx("span",{children:"This equipment type does not require a driver"})]})]})}),t.jsx("div",{className:"equipment-modal-form-row",children:t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"modelNumber",className:"required-field",children:"Model Number"}),t.jsx("input",{type:"text",id:"modelNumber",name:"modelNumber",value:L.modelNumber,onChange:Oe,placeholder:"Enter model number",className:!L.modelNumber&&ie?"invalid-field":"",required:!0})]})}),t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"status",children:"Status"}),t.jsxs("select",{id:"status",name:"status",value:L.status,onChange:Oe,children:[t.jsx("option",{value:"AVAILABLE",children:"Available"}),t.jsx("option",{value:"RENTED",children:"Rented"}),t.jsx("option",{value:"IN_MAINTENANCE",children:"In Maintenance"}),t.jsx("option",{value:"SOLD",children:"Sold"}),t.jsx("option",{value:"SCRAPPED",children:"Scrapped"})]})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"manufactureYear",className:"required-field",children:"Manufacture Year"}),t.jsx("input",{type:"number",id:"manufactureYear",name:"manufactureYear",value:L.manufactureYear,onChange:Oe,min:"1900",max:new Date().getFullYear(),className:!L.manufactureYear&&ie?"invalid-field":"",required:!0})]})]}),t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"siteId",children:"Site"}),t.jsxs("select",{id:"siteId",name:"siteId",value:L.siteId,onChange:Oe,children:[t.jsx("option",{value:"",children:"Select site"}),k.map(Re=>t.jsx("option",{value:Re.id,children:Re.name},Re.id))]})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{className:"required-field",children:"Equipment Image"}),t.jsxs("div",{className:"equipment-modal-image-upload",children:[t.jsx("input",{type:"file",id:"equipmentImage",accept:"image/*",onChange:Ke,className:"equipment-image-input"}),t.jsxs("label",{htmlFor:"equipmentImage",className:"equipment-image-label",children:[t.jsx(ZM,{}),t.jsx("span",{children:"Choose file"})]}),R&&t.jsx("div",{className:"equipment-image-preview",children:t.jsx("img",{src:R,alt:"Equipment preview"})})]}),!F&&!(a!=null&&a.imageUrl)&&ie&&t.jsxs("div",{className:"field-hint warning",children:[t.jsx(os,{}),t.jsx("span",{children:"Equipment image is required"})]})]})]}),t.jsx("div",{className:"tab-navigation",children:t.jsxs("button",{type:"button",className:"next-tab-button",onClick:Bt,children:["Next: Purchase Details ",t.jsx(bA,{})]})})]}),t.jsxs("div",{className:`equipment-modal-tab-content ${J===1?"active":""}`,children:[t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"purchasedDate",className:"required-field",children:"Purchase Date"}),t.jsxs("div",{className:"date-input-container",children:[t.jsx("input",{type:"date",id:"purchasedDate",name:"purchasedDate",value:L.purchasedDate,onChange:Oe,className:!L.purchasedDate&&ie?"invalid-field":"",required:!0}),t.jsx("div",{className:"date-display",children:W.purchasedDate||"DD/MM/YYYY"})]})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"deliveredDate",className:"required-field",children:"Delivery Date"}),t.jsxs("div",{className:"date-input-container",children:[t.jsx("input",{type:"date",id:"deliveredDate",name:"deliveredDate",value:L.deliveredDate,onChange:Oe,className:!L.deliveredDate&&ie?"invalid-field":"",required:!0}),t.jsx("div",{className:"date-display",children:W.deliveredDate||"DD/MM/YYYY"})]})]})]}),t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"egpPrice",className:"required-field",children:"Price (EGP)"}),t.jsx("input",{type:"text",id:"egpPrice",name:"egpPrice",value:W.egpPrice,onChange:Oe,placeholder:"Enter price in EGP",className:!L.egpPrice&&ie?"invalid-field":"",required:!0})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"dollarPrice",children:"Price (USD)"}),t.jsx("input",{type:"text",id:"dollarPrice",name:"dollarPrice",value:W.dollarPrice,onChange:Oe,placeholder:"Enter price in USD"})]})]}),t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"purchasedFrom",className:"required-field",children:"Purchased From"}),t.jsxs("select",{id:"purchasedFrom",name:"purchasedFrom",value:L.purchasedFrom,onChange:Oe,className:!L.purchasedFrom&&ie?"invalid-field":"",required:!0,children:[t.jsx("option",{value:"",children:"Select merchant"}),_.map(Re=>t.jsx("option",{value:Re.id,children:Re.name},Re.id))]})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"countryOfOrigin",className:"required-field",children:"Country of Origin"}),t.jsx("input",{type:"text",id:"countryOfOrigin",name:"countryOfOrigin",value:L.countryOfOrigin,onChange:Oe,placeholder:"Enter country of origin",className:!L.countryOfOrigin&&ie?"invalid-field":"",required:!0})]})]}),t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"shipping",className:"required-field",children:"Shipping Cost (EGP)"}),t.jsx("input",{type:"number",step:"0.01",id:"shipping",name:"shipping",value:L.shipping,onChange:Oe,placeholder:"Enter shipping cost",className:!L.shipping&&ie?"invalid-field":"",required:!0})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"customs",className:"required-field",children:"Customs Cost (EGP)"}),t.jsx("input",{type:"number",step:"0.01",id:"customs",name:"customs",value:L.customs,onChange:Oe,placeholder:"Enter customs cost",className:!L.customs&&ie?"invalid-field":"",required:!0})]})]}),t.jsx("div",{className:"equipment-modal-form-row",children:t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"taxes",className:"required-field",children:"Taxes Cost (EGP)"}),t.jsx("input",{type:"number",step:"0.01",id:"taxes",name:"taxes",value:L.taxes,onChange:Oe,placeholder:"Enter taxes cost",className:!L.taxes&&ie?"invalid-field":"",required:!0})]})}),t.jsxs("div",{className:"monetary-documents-section",children:[t.jsx("h3",{children:"Document Attachments"}),t.jsxs("div",{className:"document-preview-grid",children:[t.jsx(Nj,{fieldType:"SHIPPING",fieldLabel:"Shipping Documents",onDocumentsChange:xe,initialDocuments:te.SHIPPING}),t.jsx(Nj,{fieldType:"CUSTOMS",fieldLabel:"Customs Documents",onDocumentsChange:xe,initialDocuments:te.CUSTOMS}),t.jsx(Nj,{fieldType:"TAXES",fieldLabel:"Tax Documents",onDocumentsChange:xe,initialDocuments:te.TAXES})]})]}),t.jsx("div",{className:"tab-navigation",children:t.jsxs("button",{type:"button",className:"next-tab-button",onClick:Bt,children:["Next: Additional Info ",t.jsx(bA,{})]})})]}),t.jsxs("div",{className:`equipment-modal-tab-content ${J===2?"active":""}`,children:[Jn&&L.typeId&&t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"mainDriverId",children:"Main Driver"}),t.jsxs("select",{id:"mainDriverId",name:"mainDriverId",value:L.mainDriverId,onChange:Oe,disabled:!L.typeId||ja.length===0,children:[t.jsx("option",{value:"",children:"Select main driver"}),ja.map(Re=>t.jsxs("option",{value:Re.id,children:[Re.fullName," - ",Re.position]},Re.id))]}),!L.typeId&&t.jsxs("div",{className:"field-hint",children:[t.jsx(qi,{}),t.jsx("span",{children:"Please select an equipment type first"})]}),L.typeId&&ja.length===0&&t.jsxs("div",{className:"field-hint warning",children:[t.jsx(os,{}),t.jsx("span",{children:Z.length===0?`No eligible drivers found for this equipment type. Drivers must have the job position: ${qn} Driver`:"All eligible drivers are already assigned or selected as sub driver"})]})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"subDriverId",children:"Sub Driver"}),t.jsxs("select",{id:"subDriverId",name:"subDriverId",value:L.subDriverId,onChange:Oe,disabled:!L.typeId||Mr.length===0,children:[t.jsx("option",{value:"",children:"Select sub driver"}),Mr.map(Re=>t.jsxs("option",{value:Re.id,children:[Re.fullName," - ",Re.position]},Re.id))]}),L.typeId&&Mr.length===0&&t.jsxs("div",{className:"field-hint warning",children:[t.jsx(os,{}),t.jsx("span",{children:Z.length===0?"No eligible drivers found for this equipment type":"All eligible drivers are already assigned or selected as main driver"})]})]})]}),!Jn&&L.typeId&&t.jsx("div",{className:"equipment-modal-form-row",children:t.jsx("div",{className:"equipment-modal-form-group full-width",children:t.jsxs("div",{className:"info-message",children:[t.jsx(qi,{}),t.jsxs("span",{children:["This equipment type (",qn,") does not require a driver. Driver assignment is disabled."]})]})})}),t.jsxs("div",{className:"equipment-modal-form-row",children:[t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"workedHours",children:"Worked Hours"}),t.jsx("input",{type:"text",id:"workedHours",name:"workedHours",value:W.workedHours,onChange:Oe,placeholder:"Enter worked hours"})]}),t.jsxs("div",{className:"equipment-modal-form-group",children:[t.jsx("label",{htmlFor:"examinedBy",children:"Examined By"}),t.jsx("input",{type:"text",id:"examinedBy",name:"examinedBy",value:L.examinedBy,onChange:Oe,placeholder:"Enter examiner name"})]})]}),t.jsx("div",{className:"equipment-modal-form-row",children:t.jsxs("div",{className:"equipment-modal-form-group full-width",children:[t.jsx("label",{htmlFor:"equipmentComplaints",children:"Equipment Complaints"}),t.jsx("textarea",{id:"equipmentComplaints",name:"equipmentComplaints",value:L.equipmentComplaints,onChange:Oe,placeholder:"Enter any equipment complaints or issues",rows:"3"})]})}),t.jsx("div",{className:"equipment-modal-form-row",children:t.jsxs("div",{className:"equipment-modal-form-group full-width",children:[t.jsx("label",{htmlFor:"relatedDocuments",children:"Related Documents"}),t.jsx("textarea",{id:"relatedDocuments",name:"relatedDocuments",value:L.relatedDocuments,onChange:Oe,placeholder:"Enter related documents information",rows:"3"})]})})]})]}),t.jsxs("div",{className:"equipment-modal-footer",children:[t.jsxs("div",{className:"form-completion-status",children:[t.jsx("div",{className:"completion-indicator",children:t.jsx("div",{className:"completion-bar",style:{width:`${Object.values(H).filter(Boolean).length/X.length*100}%`}})}),t.jsxs("span",{children:[Object.values(H).filter(Boolean).length," of ",X.length," tabs complete"]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsxs("button",{type:"button",className:"equipment-modal-clear",onClick:se,disabled:j,children:[t.jsx(Ua,{})," Clear"]}),t.jsx("button",{type:"button",className:"equipment-modal-cancel",onClick:n,disabled:j,children:"Cancel"}),t.jsx("button",{type:"submit",className:"equipment-modal-submit",disabled:j||!q,children:j?"Saving...":a?"Update Equipment":"Add Equipment"})]})]})]})]})})},voe="/assets/equipment_icon-Cfk9Ft_s.png",yoe=g.forwardRef((e,n)=>{const[r,a]=g.useState(""),[s,o]=g.useState("Equipment Name"),[l,u]=g.useState("N/A"),[d,h]=g.useState("Unknown"),[f,p]=g.useState("No Driver Assigned"),[y,b]=g.useState(""),[x,j]=g.useState([]),w=Tt(),T=()=>{r&&w(`/equipment/${r}`)},A=E=>{E.stopPropagation(),r&&w(`/equipment/info/${r}`)},O=E=>{if(!E)return"status-unknown";const k=E.toLowerCase();return k==="available"?"status-available":k==="in_use"||k==="in use"||k==="rented"?"status-in-use":k==="maintenance"||k==="in_maintenance"?"status-maintenance":k==="unavailable"||k==="sold"||k==="scrapped"?"status-unavailable":"status-unknown"},P=(E,k,D,_,U,R)=>{o(E||"Equipment Name"),u(k||"N/A"),h(D||"Unknown"),p(_||"No Driver Assigned"),b(U||Excavator1),a(R||""),console.log(`EquipmentCard updated for ${E} with siteName: ${k} and image: ${U}`)},S=E=>{j(E||[])};return g.useImperativeHandle(n,()=>({updateEquipmentCard:P,setActions:S})),t.jsxs("div",{className:"equipment-card",onClick:T,children:[t.jsx("div",{className:"equipment-image-container",children:t.jsx("img",{className:"equipment-image",src:y,alt:s,onError:E=>{console.log(`Image failed to load for ${s}: ${y}`),E.target.src=Excavator1}})}),t.jsxs("div",{className:"equipment-details",children:[t.jsx("h2",{className:"equipment-name",children:s}),t.jsxs("div",{className:"equipment-specs",children:[t.jsxs("div",{className:"spec-row",children:[t.jsxs("div",{className:"spec-item",children:[t.jsx("span",{className:"spec-label",children:"Site"}),t.jsx("span",{className:"spec-value",children:l})]}),t.jsxs("div",{className:"spec-item",children:[t.jsx("span",{className:"spec-label",children:"Status"}),t.jsx("span",{className:`status-indicator ${O(d)}`,children:d})]})]}),t.jsx("div",{className:"spec-row",children:t.jsxs("div",{className:"spec-item full-width",children:[t.jsx("span",{className:"spec-label",children:"Driver"}),t.jsx("span",{className:"spec-value",children:f})]})})]}),t.jsxs("div",{className:"equipment-actions",children:[x.map((E,k)=>t.jsxs("button",{className:`btn-custom-action ${E.className||""}`,onClick:D=>{D.stopPropagation(),E.action(r)},children:[E.icon&&t.jsx("span",{className:"action-icon",children:E.icon}),E.label]},k)),x.length===0&&t.jsx("button",{className:"btn-edit-equipment",onClick:E=>{E.stopPropagation(),e.onEdit&&r?e.onEdit(r):w(`/EditEquipment/${r}`)},children:"Edit Equipment"}),t.jsx("button",{className:"btn-view-details",onClick:A,children:"View Details"})]})]})]})}),goe=["Equipment Manager","EQUIPMENT_MANAGER","equipment_manager"],xoe=["Admin","ADMIN","admin","Administrator","ADMINISTRATOR"],u8=e=>{if(!e||!e.role)return!1;const n=e.role.toString();return xoe.includes(n)?!0:goe.includes(n)},wj=e=>u8(e),boe=e=>e,joe=(e,n)=>({canView:boe(n),canCreate:wj(e),canEdit:wj(e),canDelete:wj(e),isEquipmentManager:u8(e)}),Es=e=>{const{currentUser:n,isAuthenticated:r}=e;return joe(n,r)},Noe=()=>{const[e,n]=g.useState([]),[r,a]=g.useState([]),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState(""),[f,p]=g.useState(!1),[y,b]=g.useState([]),[x,j]=g.useState([]),[w,T]=g.useState([]),[A]=g.useState(["AVAILABLE","RENTED","IN_MAINTENANCE","SOLD","SCRAPPED"]),[O,P]=g.useState(""),[S,E]=g.useState(""),[k,D]=g.useState(""),[_,U]=g.useState(""),[R,$]=g.useState(!1),[L,z]=g.useState(""),[W,M]=g.useState(!1),[F,G]=g.useState(null),J=g.useRef([]),I=g.useRef({}),q=Xt(),B=Es(q),H=async()=>{try{o(!0);const Z=await ht.getAllEquipment();Array.isArray(Z.data)?(n(Z.data),a(Z.data)):(console.error("Expected array data, received:",typeof Z.data),u("Invalid data format received from server"))}catch(Z){console.error("Error fetching equipment data:",Z),u(Z.message||"Failed to load equipment data")}finally{o(!1)}},K=async()=>{try{const Z=await ht.getAllEquipmentTypes();Array.isArray(Z.data)&&b(Z.data);const V=await ht.getAllEquipmentBrands();Array.isArray(V.data)&&j(V.data);const Y=await ht.getAllSites();Array.isArray(Y.data)&&T(Y.data)}catch(Z){console.error("Error fetching reference data:",Z)}};g.useEffect(()=>{H(),K()},[]),g.useEffect(()=>{!Array.isArray(r)||r.length===0||(I.current={},J.current.length!==r.length&&(J.current=Array(r.length).fill(null)),r.forEach((Z,V)=>{if(J.current[V]){console.log();const ee=`${(Z.brand&&typeof Z.brand=="object"?Z.brand.name:"")||""} ${Z.model||""} ${Z.name||""}`.trim()||"Unknown Equipment",ce=Z.siteName?Z.siteName:"No Site Assigned",re=Z.status||"Unknown",te=Z.mainDriverName?Z.mainDriverName:"No Driver Assigned",he=Z.imageUrl||null,se=Z.id;J.current[V].updateEquipmentCard(ee,ce,re,te,he,se)}}))},[r]),g.useEffect(()=>{let Z=[...e];if(d){const V=d.toLowerCase();Z=Z.filter(Y=>Y.name&&Y.name.toLowerCase().includes(V)||Y.model&&Y.model.toLowerCase().includes(V)||Y.brand&&Y.brand.toLowerCase().includes(V)||Y.serialNumber&&Y.serialNumber.toLowerCase().includes(V))}if(O){const V=isNaN(O)?O:Number(O);Z=Z.filter(Y=>Y.typeId===V)}if(S){const V=isNaN(S)?S:Number(S);Z=Z.filter(Y=>Y.brandId===V)}if(k){const V=isNaN(k)?k:Number(k);Z=Z.filter(Y=>Y.siteId===V)}_&&(Z=Z.filter(V=>V.status===_)),a(Z)},[e,d,O,S,k,_]);const ie=()=>{G(null),M(!0)},ae=Z=>{const V=e.find(Y=>Y.id===Z);V&&(G(V),M(!0))},me=Z=>{z(F?`Equipment "${Z.name}" was updated successfully!`:`Equipment "${Z.name}" was added successfully!`),$(!0),setTimeout(()=>$(!1),3e3),H()},de=()=>{P(""),E(""),D(""),U(""),h("")},fe=()=>{p(!f)},X=(Z,V,Y)=>{if(Z){J.current[V]=Z;const ee=`card_${V}_${Y}`;if(!I.current[ee]&&Z.setActions){I.current[ee]=!0;const ce=[];B.canEdit&&ce.push({icon:t.jsx(Tl,{}),label:"Edit",className:"btn-edit",action:()=>ae(Y)}),Z.setActions(ce)}}};return t.jsxs("main",{className:"equipment-main-container",children:[t.jsxs("header",{className:"equipment-intro-card",children:[t.jsx("div",{className:"equipment-intro-left",children:t.jsx("img",{src:voe,alt:"Equipment",className:"equipment-intro-image"})}),t.jsxs("div",{className:"equipment-intro-content",children:[t.jsxs("div",{className:"equipment-intro-header",children:[t.jsx("span",{className:"equipment-label",children:"EQUIPMENT MANAGEMENT"}),t.jsx("h2",{className:"equipment-intro-title",children:"Equipment"})]}),t.jsx("div",{className:"equipment-stats",children:t.jsxs("div",{className:"equipment-stat-item",children:[t.jsx("span",{className:"equipment-stat-value",children:e.length}),t.jsx("span",{className:"equipment-stat-label",children:"Total Equipment"})]})})]}),t.jsx("button",{className:"equipment-info-button",children:t.jsx(os,{})})]}),t.jsxs("section",{className:"equipment-toolbar",children:[t.jsxs("div",{className:"equipment-search-container",children:[t.jsx("input",{type:"text",placeholder:"Search equipment...",className:"equipment-search-input",value:d,onChange:Z=>h(Z.target.value)}),t.jsx(CN,{className:"equipment-search-icon"})]}),t.jsxs("div",{className:"equipment-actions-bar",children:[t.jsxs("div",{className:"equipment-filter-section",children:[t.jsxs("button",{className:"equipment-filter-toggle",onClick:fe,children:[t.jsx(_j,{})," Filters"]}),f&&t.jsx("div",{className:"equipment-filters-panel",children:t.jsxs("div",{className:"equipment-filter-controls",children:[t.jsxs("div",{className:"equipment-filter-group",children:[t.jsx("label",{children:"Equipment Type"}),t.jsxs("select",{value:O,onChange:Z=>P(Z.target.value),children:[t.jsx("option",{value:"",children:"All Types"}),y.map(Z=>t.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),t.jsxs("div",{className:"equipment-filter-group",children:[t.jsx("label",{children:"Equipment Brand"}),t.jsxs("select",{value:S,onChange:Z=>E(Z.target.value),children:[t.jsx("option",{value:"",children:"All Brands"}),x.map(Z=>t.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),t.jsxs("div",{className:"equipment-filter-group",children:[t.jsx("label",{children:"Site"}),t.jsxs("select",{value:k,onChange:Z=>D(Z.target.value),children:[t.jsx("option",{value:"",children:"All Sites"}),w.map(Z=>t.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),t.jsxs("div",{className:"equipment-filter-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{value:_,onChange:Z=>U(Z.target.value),children:[t.jsx("option",{value:"",children:"All Statuses"}),A.map(Z=>t.jsx("option",{value:Z,children:Z.replace("_"," ")},Z))]})]}),t.jsx("button",{className:"equipment-filter-reset",onClick:de,children:"Reset Filters"})]})})]}),t.jsx("div",{className:"equipment-actions-buttons",children:B.canCreate&&t.jsxs("button",{className:"btn-primary",onClick:ie,children:[t.jsx(Tl,{})," Add Equipment"]})})]})]}),t.jsx("section",{className:"equipment-cards-container",children:s?t.jsxs("div",{className:"equipment-loading",children:[t.jsx("div",{className:"equipment-loading-spinner"}),t.jsx("p",{children:"Loading equipment data..."})]}):l?t.jsxs("div",{className:"equipment-error",children:[t.jsx(os,{}),t.jsxs("p",{children:["Error: ",l]}),t.jsx("p",{children:"Please try again later or contact support."})]}):r.length>0?t.jsx("div",{className:"equipment-grid",children:r.map((Z,V)=>t.jsx(yoe,{ref:Y=>X(Y,V,Z.id)},Z.id||V))}):t.jsxs("div",{className:"equipment-empty-state",children:[t.jsx("div",{className:"equipment-empty-icon",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:t.jsx("path",{d:"M20 6L9 17l-5-5"})})}),t.jsx("h3",{children:"No equipment found"}),t.jsx("p",{children:"Try adjusting your search filters or add new equipment"})]})}),R&&t.jsxs("div",{className:"equipment-notification success-notification",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),t.jsx("path",{d:"M22 4L12 14.01l-3-3"})]}),t.jsx("span",{children:L})]}),t.jsx(poe,{isOpen:W,onClose:()=>M(!1),onSave:me,equipmentToEdit:F})]})},woe=e=>{var n,r,a,s,o;return(r=(n=e.response)==null?void 0:n.data)!=null&&r.message?e.response.data.message:(s=(a=e.response)==null?void 0:a.data)!=null&&s.error?e.response.data.error:(o=e.response)!=null&&o.data?typeof e.response.data=="string"?e.response.data:"An unexpected error occurred. Please try again later.":e.message?e.message:"An unexpected error occurred. Please try again later."},Au=(e,n,r,a)=>{console.error(`Error ${r} ${a}:`,e);const s=woe(e);n(`Failed to ${r} ${a}: ${s}`)},z2=(e,n)=>({handleCreateError:r=>Au(r,e,"create",n),handleUpdateError:r=>Au(r,e,"update",n),handleDeleteError:r=>Au(r,e,"delete",n),handleFetchError:r=>Au(r,e,"fetch",n),handleGenericError:(r,a)=>Au(r,e,a,n)}),Soe=()=>{const[e,n]=g.useState([]),[r,a]=g.useState(!0),[s,o]=g.useState(null),[l,u]=g.useState(!1),[d,h]=g.useState(null),[f,p]=g.useState({name:"",description:""}),[y,b]=g.useState(null),{showSuccess:x,showError:j,showInfo:w,showWarning:T,showSnackbar:A,hideSnackbar:O,showConfirmation:P}=cn(),S=Xt(),E=Es(S),k=z2(j,"equipment brand"),D=async()=>{try{a(!0);const M=await Pu.getAllEquipmentBrands();M.data?n(M.data):(n([]),w("No equipment brands found. Add your first brand!")),a(!1)}catch(M){k.handleFetchError(M),o("Failed to load equipment brands"),a(!1)}};g.useEffect(()=>{D()},[]);const _=(M=null)=>{M?(h(M),p({name:M.name,description:M.description||""})):(h(null),p({name:"",description:""})),u(!0)},U=M=>{const{name:F,value:G}=M.target;p(J=>({...J,[F]:G}))},R=async M=>{M.preventDefault();try{d?(await Pu.updateEquipmentBrand(d.id,f),x(`Equipment brand "${f.name}" has been updated successfully`)):(await Pu.createEquipmentBrand(f),x(`Equipment brand "${f.name}" has been added successfully`)),u(!1),D()}catch(F){d?k.handleUpdateError(F):k.handleCreateError(F)}},$=(M,F)=>{P(`Are you sure you want to delete "${F}"?`,()=>L(M,F),()=>b(null))},L=async(M,F)=>{var G,J;try{await Pu.deleteEquipmentBrand(M),x(`Equipment brand "${F}" has been deleted successfully`),D()}catch(I){console.error("Error deleting equipment brand:",I),j(`Failed to delete equipment brand: ${((J=(G=I.response)==null?void 0:G.data)==null?void 0:J.message)||I.message}`)}finally{b(null)}},z=[{header:"Name",accessor:"name",sortable:!0},{header:"Description",accessor:"description",sortable:!0,render:M=>M.description||"N/A"}],W=E.canEdit||E.canDelete?[...E.canEdit?[{label:"Edit",icon:t.jsx(ga,{}),onClick:M=>_(M),className:"primary"}]:[],...E.canDelete?[{label:"Delete",icon:t.jsx(Ua,{}),onClick:M=>$(M.id,M.name),className:"danger"}]:[]]:[];return s?t.jsx("div",{className:"equipment-types-error",children:s}):t.jsxs("div",{className:"equipment-types-container",children:[t.jsxs("div",{className:"equipment-types-header",children:[t.jsx("h1",{children:"Equipment Brands"}),E.canCreate&&t.jsxs("button",{className:"btn btn-primary",onClick:()=>_(),children:[t.jsx(Tl,{})," Add Equipment Brand"]})]}),t.jsx(Nt,{data:e,columns:z,loading:r,actions:W,tableTitle:"Equipment Brands List",showSearch:!0,showFilters:!0,filterableColumns:z}),l&&t.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:t.jsxs("div",{className:"modal-content",onClick:M=>M.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:d?"Edit Equipment Brand":"Add Equipment Brand"}),t.jsx("button",{className:"modal-close",onClick:()=>u(!1),children:""})]}),t.jsxs("form",{onSubmit:R,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"name",children:"Name"}),t.jsx("input",{type:"text",id:"name",name:"name",value:f.name,onChange:U,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"description",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",value:f.description,onChange:U,rows:"4"})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>u(!1),children:"Cancel"}),(E.canCreate||E.canEdit)&&t.jsxs("button",{type:"submit",className:"submit-button",children:[d?"Update":"Add"," Brand"]})]})]})]})})]})},jl={getAll:()=>ye.get(ul.BASE),getAllForManagement:()=>ye.get(ul.MANAGEMENT),getById:e=>ye.get(ul.BY_ID(e)),create:e=>ye.post(ul.CREATE,e),update:(e,n)=>ye.put(ul.UPDATE(e),n),delete:e=>ye.delete(ul.DELETE(e))},Eoe=()=>{const[e,n]=g.useState([]),[r,a]=g.useState([]),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,p]=g.useState(null),[y,b]=g.useState({name:"",description:"",drivable:!0}),[x,j]=g.useState([]),[w,T]=g.useState(null),{showSuccess:A,showError:O,showInfo:P,showWarning:S,showSnackbar:E,hideSnackbar:k,showConfirmation:D}=cn(),_=Xt(),U=Es(_),R=async()=>{try{o(!0);const q=await ht.getAllEquipmentTypes();n(q.data),o(!1)}catch(q){console.error("Error fetching equipment types:",q),u("Failed to load equipment types"),O("Failed to load equipment types. Please try again later."),o(!1)}},$=async()=>{try{const q=await jl.getAll();a(q.data)}catch(q){console.error("Error fetching work types:",q),O("Failed to load work types.")}};g.useEffect(()=>{R(),$()},[]);const L=async(q=null)=>{if(q){p(q),b({name:q.name,description:q.description||"",drivable:q.drivable!==void 0?q.drivable:!0});const B=q.supportedWorkTypes?q.supportedWorkTypes.map(H=>H.id):[];j(B)}else p(null),b({name:"",description:"",drivable:!0}),j([]);h(!0)},z=q=>{const{name:B,value:H,type:K,checked:ie}=q.target;b(ae=>({...ae,[B]:K==="checkbox"?ie:H}))},W=q=>{j(B=>B.includes(q)?B.filter(H=>H!==q):[...B,q])},M=async q=>{var B,H;q.preventDefault();try{if(f)await ht.updateEquipmentType(f.id,y),await ht.setSupportedWorkTypesForEquipmentType(f.id,x),A(`Equipment type "${y.name}" has been updated successfully`);else{const K=await ht.createEquipmentType(y);x.length>0&&await ht.setSupportedWorkTypesForEquipmentType(K.data.id,x),A(`Equipment type "${y.name}" has been added successfully`)}h(!1),R()}catch(K){console.error("Error saving equipment type:",K),O(`Failed to ${f?"update":"add"} equipment type: ${((H=(B=K.response)==null?void 0:B.data)==null?void 0:H.message)||K.message}`)}},F=(q,B)=>{D(`Are you sure you want to delete "${B}"?`,()=>G(q,B),()=>T(null))},G=async(q,B)=>{var H,K;try{await ht.deleteEquipmentType(q),A(`Equipment type "${B}" has been deleted successfully`),R()}catch(ie){console.error("Error deleting equipment type:",ie),O(`Failed to delete equipment type: ${((K=(H=ie.response)==null?void 0:H.data)==null?void 0:K.message)||ie.message}`)}finally{T(null)}},J=[{header:"Name",accessor:"name",sortable:!0},{header:"Description",accessor:"description",sortable:!0,render:q=>q.description||"N/A"},{header:"Drivable",accessor:"drivable",sortable:!0,render:q=>t.jsx("span",{className:`status-badge ${q.drivable?"drivable":"non-drivable"}`,children:q.drivable?" Yes":"No"})},{header:"Supported Work Types",accessor:"supportedWorkTypes",sortable:!1,render:q=>{if(!q.supportedWorkTypes||q.supportedWorkTypes.length===0)return"None";const B=q.supportedWorkTypes.map(H=>H.name).join(", ");return t.jsx("span",{className:"work-types-list",children:B.length>50?B.substring(0,50)+"...":B})}}],I=U.canEdit||U.canDelete?[...U.canEdit?[{label:"Edit",icon:t.jsx(ga,{}),onClick:q=>L(q),className:"primary"}]:[],...U.canDelete?[{label:"Delete",icon:t.jsx(Ua,{}),onClick:q=>F(q.id,q.name),className:"danger"}]:[]]:[];return l?t.jsx("div",{className:"equipment-types-error",children:l}):t.jsxs("div",{className:"equipment-types-container",children:[t.jsxs("div",{className:"equipment-types-header",children:[t.jsx("h1",{children:"Equipment Types"}),U.canCreate&&t.jsxs("button",{className:"btn btn-primary",onClick:()=>L(),children:[t.jsx(Tl,{})," Add Equipment Type"]})]}),t.jsx(Nt,{data:e,columns:J,loading:s,actions:I,tableTitle:"Equipment Types List",showSearch:!0,showFilters:!0,filterableColumns:J}),d&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content work-type-modal",onClick:q=>q.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:f?"Edit Equipment Type":"Add Equipment Type"}),t.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),t.jsxs("form",{onSubmit:M,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"name",children:"Name"}),t.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:z,required:!0,placeholder:"Enter equipment type name (e.g., Excavator, Bulldozer, Truck)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"description",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:z,rows:"4",placeholder:"Enter a description of this equipment type..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",id:"drivable",name:"drivable",checked:y.drivable,onChange:z}),t.jsx("span",{className:"checkbox-text",children:"Requires Driver"})]}),t.jsx("small",{className:"form-help-text",children:"Check this if equipment of this type requires a driver to operate (e.g., bulldozers, trucks). Uncheck for stationary equipment like generators or compressors."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Supported Work Types"}),t.jsx("div",{className:"work-types-grid",children:r.map(q=>t.jsx("div",{className:"work-type-item",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:x.includes(q.id),onChange:()=>W(q.id)}),t.jsx("span",{className:"checkmark"}),t.jsx("span",{className:"work-type-name",children:q.name}),q.description&&t.jsx("span",{className:"work-type-description",children:q.description})]})},q.id))}),r.length===0&&t.jsx("p",{className:"no-work-types",children:"No work types available. Please create work types first."}),t.jsx("small",{className:"form-help-text",children:"Select which work types this equipment type can perform. This determines which work types are available when logging Sarky entries for equipment of this type."})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",onClick:()=>h(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"save-button",children:f?"Update":"Add"})]})]})]})})]})},Toe=()=>{const[e,n]=g.useState([]),[r,a]=g.useState([]),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,p]=g.useState(null),[y,b]=g.useState({name:"",description:"",active:!0}),[x,j]=g.useState([]),[w,T]=g.useState(null),{showSuccess:A,showError:O,showInfo:P,showWarning:S,showSnackbar:E,hideSnackbar:k,showConfirmation:D}=cn(),_=Xt(),U=Es(_),R=z2(O,"work type"),$=async()=>{try{o(!0);const B=await jl.getAllForManagement();if(B.data){const H=B.data.filter(ie=>ie.active),K=await Promise.all(H.map(async ie=>{try{const me=(await ht.getAllEquipmentTypes()).data.filter(de=>de.supportedWorkTypes&&de.supportedWorkTypes.some(fe=>fe.id===ie.id));return{...ie,supportingEquipmentTypes:me}}catch(ae){return console.error(`Error fetching equipment types for work type ${ie.id}:`,ae),{...ie,supportingEquipmentTypes:[]}}}));n(K),K.length===0&&P("No active work types found. Add your first work type!")}else n([]),P("No work types found. Add your first work type!");o(!1)}catch(B){R.handleFetchError(B),u("Failed to load work types"),o(!1)}},L=async()=>{try{const B=await ht.getAllEquipmentTypes();a(B.data)}catch(B){console.error("Error fetching equipment types:",B),O("Failed to load equipment types.")}};g.useEffect(()=>{$(),L()},[]);const z=async(B=null)=>{if(B){p(B),b({name:B.name,description:B.description||"",active:B.active});const H=B.supportingEquipmentTypes?B.supportingEquipmentTypes.map(K=>K.id):[];j(H)}else p(null),b({name:"",description:"",active:!0}),j([]);h(!0)},W=B=>{const{name:H,value:K}=B.target;b(ie=>({...ie,[H]:K}))},M=B=>{j(H=>H.includes(B)?H.filter(K=>K!==B):[...H,B])},F=async B=>{B.preventDefault();try{let H;if(f?(await jl.update(f.id,y),H=f.id,A(`Work type "${y.name}" has been updated successfully`)):(H=(await jl.create(y)).data.id,A(`Work type "${y.name}" has been added successfully`)),H)try{const K=await ht.getAllEquipmentTypes();for(const ie of K.data){const ae=ie.supportedWorkTypes?ie.supportedWorkTypes.map(me=>me.id):[];if(x.includes(ie.id)){if(!ae.includes(H)){const me=[...ae,H];await ht.setSupportedWorkTypesForEquipmentType(ie.id,me)}}else if(ae.includes(H)){const me=ae.filter(de=>de!==H);await ht.setSupportedWorkTypesForEquipmentType(ie.id,me)}}}catch(K){console.error("Error updating equipment type assignments:",K),O("Work type saved, but failed to update equipment type assignments")}h(!1),$()}catch(H){f?R.handleUpdateError(H):R.handleCreateError(H)}},G=(B,H)=>{D(`Are you sure you want to delete "${H}"?`,()=>J(B,H),()=>T(null))},J=async(B,H)=>{var K,ie;try{await jl.delete(B),A(`Work type "${H}" has been deleted successfully`),$()}catch(ae){console.error("Error deleting work type:",ae),O(`Failed to delete work type: ${((ie=(K=ae.response)==null?void 0:K.data)==null?void 0:ie.message)||ae.message}`)}finally{T(null)}},I=[{header:"Name",accessor:"name",sortable:!0},{header:"Description",accessor:"description",sortable:!0,render:B=>B.description||"N/A"},{header:"Supporting Equipment Types",accessor:"supportingEquipmentTypes",sortable:!1,render:B=>{if(!B.supportingEquipmentTypes||B.supportingEquipmentTypes.length===0)return"None";const H=B.supportingEquipmentTypes.map(K=>K.name).join(", ");return t.jsx("span",{className:"equipment-types-list",children:H.length>60?H.substring(0,60)+"...":H})}}],q=U.canEdit||U.canDelete?[...U.canEdit?[{label:"Edit",icon:t.jsx(ga,{}),onClick:B=>z(B),className:"primary"}]:[],...U.canDelete?[{label:"Delete",icon:t.jsx(Ua,{}),onClick:B=>G(B.id,B.name),className:"danger"}]:[]]:[];return l?t.jsx("div",{className:"equipment-types-error",children:l}):t.jsxs("div",{className:"equipment-types-container",children:[t.jsxs("div",{className:"equipment-types-header",children:[t.jsx("h1",{children:"Work Types"}),U.canCreate&&t.jsxs("button",{className:"btn btn-primary",onClick:()=>z(),children:[t.jsx(Tl,{})," Add Work Type"]})]}),t.jsx(Nt,{data:e,columns:I,loading:s,actions:q,tableTitle:"Work Types List",showSearch:!0,showFilters:!0,filterableColumns:I}),d&&t.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"modal-content work-type-modal",onClick:B=>B.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:f?"Edit Work Type":"Add Work Type"}),t.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),t.jsxs("form",{onSubmit:F,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"name",children:"Name"}),t.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:W,required:!0,placeholder:"Enter work type name (e.g., Excavation, Transportation, Maintenance)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"description",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:W,rows:"4",placeholder:"Enter a description of this work type..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"active",checked:y.active,onChange:B=>b(H=>({...H,active:B.target.checked}))}),t.jsx("span",{className:"checkbox-text",children:"Active"})]}),t.jsx("small",{className:"form-help-text",children:"Inactive work types will not be available for selection when creating Sarky entries"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Equipment Types that can perform this work type"}),t.jsx("div",{className:"work-types-grid",children:r.map(B=>t.jsx("div",{className:"work-type-item",children:t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",checked:x.includes(B.id),onChange:()=>M(B.id)}),t.jsx("span",{className:"checkmark"}),t.jsx("span",{className:"work-type-name",children:B.name}),B.description&&t.jsx("span",{className:"work-type-description",children:B.description})]})},B.id))}),r.length===0&&t.jsx("p",{className:"no-work-types",children:"No equipment types available. Please create equipment types first."}),t.jsx("small",{className:"form-help-text",children:"Select which equipment types can perform this type of work. This determines which work types are available when logging Sarky entries for specific equipment."})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",onClick:()=>h(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"save-button",children:f?"Update":"Add"})]})]})]})})]})},Mu={getAll:()=>ye.get(hl.BASE),getAllForManagement:()=>ye.get(hl.MANAGEMENT),getById:e=>ye.get(hl.BY_ID(e)),create:e=>ye.post(hl.CREATE,e),update:(e,n)=>ye.put(hl.UPDATE(e),n),delete:e=>ye.delete(hl.DELETE(e))},Aoe=()=>{const[e,n]=g.useState([]),[r,a]=g.useState(!0),[s,o]=g.useState(null),[l,u]=g.useState(!1),[d,h]=g.useState(null),[f,p]=g.useState(null),[y,b]=g.useState({name:"",description:"",active:!0}),{showSuccess:x,showError:j,showInfo:w,showWarning:T,showSnackbar:A,hideSnackbar:O,showConfirmation:P}=cn(),S=Xt(),E=Es(S),k=z2(j,"maintenance type"),D=async()=>{try{a(!0);const F=await Mu.getAllForManagement();if(F.data){const G=F.data.filter(J=>J.active);n(G),G.length===0&&w("No active maintenance types found. Add your first maintenance type!")}else n([]),w("No maintenance types found. Add your first maintenance type!");a(!1)}catch(F){k.handleFetchError(F),o("Failed to load maintenance types"),a(!1)}};g.useEffect(()=>{D()},[]);const _=async(F=null)=>{F?(h(F),b({name:F.name,description:F.description||"",active:F.active})):(h(null),b({name:"",description:"",active:!0})),u(!0)},U=F=>{const{name:G,value:J}=F.target;b(I=>({...I,[G]:J}))},R=async F=>{F.preventDefault();try{d?(await Mu.update(d.id,y),x(`Maintenance type "${y.name}" updated successfully!`)):(await Mu.create(y),x(`Maintenance type "${y.name}" created successfully!`)),u(!1),D()}catch(G){d?k.handleUpdateError(G):k.handleCreateError(G)}},$=(F,G)=>{P(`Are you sure you want to delete "${G}"?`,()=>L(F,G),()=>p(null))},L=async(F,G)=>{var J,I;try{await Mu.delete(F),x(`Maintenance type "${G}" has been deleted successfully`),D()}catch(q){console.error("Error deleting maintenance type:",q),j(`Failed to delete maintenance type: ${((I=(J=q.response)==null?void 0:J.data)==null?void 0:I.message)||q.message}`)}finally{p(null)}},z=[{header:"Name",accessor:"name",sortable:!0},{header:"Description",accessor:"description",sortable:!0,render:F=>F.description||"N/A"}],W=E.canEdit||E.canDelete?[...E.canEdit?[{label:"Edit",icon:t.jsx(ga,{}),onClick:F=>_(F),className:"primary"}]:[],...E.canDelete?[{label:"Delete",icon:t.jsx(Ua,{}),onClick:F=>$(F.id,F.name),className:"danger"}]:[]]:[],M=[{header:"Name",accessor:"name"},{header:"Description",accessor:"description"}];return s?t.jsx("div",{className:"equipment-types-error",children:s}):t.jsxs("div",{className:"equipment-types-container",children:[t.jsxs("div",{className:"equipment-types-header",children:[t.jsxs("div",{className:"header-left",children:[t.jsx("h1",{children:"Maintenance Types"}),t.jsx("p",{className:"header-subtitle",children:"Manage maintenance types that can be performed on equipment"})]}),E.canCreate&&t.jsxs("button",{className:"btn btn-primary",onClick:()=>_(),children:[t.jsx(Tl,{})," Add Maintenance Type"]})]}),t.jsx(Nt,{data:e,columns:z,loading:r,actions:W,tableTitle:"Maintenance Types",showSearch:!0,showFilters:!0,filterableColumns:M,emptyStateMessage:"No maintenance types found. Create your first maintenance type to get started."}),l&&t.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:t.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:d?"Edit Maintenance Type":"Add Maintenance Type"}),t.jsx("button",{className:"modal-close",onClick:()=>u(!1),children:""})]}),t.jsxs("form",{onSubmit:R,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"name",children:"Name *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:U,required:!0,placeholder:"e.g., Oil Change, Repair, Inspection"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"description",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:U,rows:"3",placeholder:"Describe this maintenance type..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"active",checked:y.active,onChange:F=>b(G=>({...G,active:F.target.checked}))}),t.jsx("span",{className:"checkbox-text",children:"Active"})]}),t.jsx("small",{className:"form-help-text",children:"Inactive maintenance types will not be available for selection"})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{type:"button",onClick:()=>u(!1),children:"Cancel"}),t.jsxs("button",{type:"submit",className:"save-button",children:[d?"Update":"Create"," Maintenance Type"]})]})]})]})})]})};function d8(e){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 56v120a32 32 0 0 0 32 32h120"},child:[]}]})(e)}const Coe=()=>{const e=ya();Tt();const[n,r]=g.useState(null),[a,s]=g.useState(!0),[o,l]=g.useState(null);g.useEffect(()=>{(async()=>{var p,y;try{console.log("Fetching equipment with ID:",e.EquipmentID);const b=await ht.getEquipmentById(e.EquipmentID);console.log("Fetched Equipment Data:",b.data),r(b.data),s(!1)}catch(b){console.error("Error fetching equipment data:",b),l(((y=(p=b.response)==null?void 0:p.data)==null?void 0:y.message)||b.message),s(!1)}})()},[e.EquipmentID]);const u=()=>{const f=document.getElementById("print-section"),p=document.body.innerHTML;document.body.innerHTML=f.innerHTML,window.print(),document.body.innerHTML=p,window.location.reload()},d=({label:f,value:p,type:y="default"})=>{const b=()=>{if(!p||p==="Not available")return"not-available";if(p==="Not applicable")return"not-applicable";switch(y){case"status":return"status-value";case"price":return"price-value";case"driver":return"driver-value";default:return""}};return t.jsxs("div",{className:"field-item",children:[t.jsx("div",{className:"field-label",children:f}),t.jsx("div",{className:`field-value ${b()}`,children:p||"Not available"})]})};if(a)return t.jsx("div",{className:"equipment-info-page",children:t.jsx("div",{className:"loading-message",children:"Loading equipment details..."})});if(o)return t.jsx("div",{className:"equipment-info-page",children:t.jsxs("div",{className:"error-message",children:["Error: ",o]})});if(!n)return t.jsx("div",{className:"equipment-info-page",children:t.jsx("div",{className:"error-message",children:"No equipment data found"})});const h=n;return t.jsx("div",{className:"equipment-info-page",children:t.jsxs("div",{id:"print-section",className:"equipment-info-container",children:[t.jsxs("div",{className:"info-header",children:[t.jsx("h1",{children:"Equipment Information"}),t.jsxs("div",{className:"header-actions",children:[t.jsx(Yu,{to:`/related-documents/equipment/${e.EquipmentID}`,children:t.jsx(d8,{})}),t.jsx("button",{onClick:u,children:t.jsx(c8,{})})]})]}),t.jsx("div",{className:"equipment-image",children:t.jsx("img",{src:h.imageUrl,alt:"Equipment",onError:f=>{f.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2Y1ZjVmNSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5FcXVpcG1lbnQgSW1hZ2U8L3RleHQ+PC9zdmc+"}})}),t.jsx("div",{className:"info-content",children:t.jsxs("div",{className:"info-sections",children:[t.jsxs("div",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:"Equipment Details"}),t.jsxs("div",{className:"field-list",children:[t.jsx(d,{label:"Equipment ID",value:h.id}),t.jsx(d,{label:"Equipment Name",value:h.name}),t.jsx(d,{label:"Type",value:h.typeName}),t.jsx(d,{label:"Brand",value:h.brandName}),t.jsx(d,{label:"Model",value:h.model}),t.jsx(d,{label:"Serial Number",value:h.serialNumber})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:"Status & Location"}),t.jsxs("div",{className:"field-list",children:[t.jsx(d,{label:"Status",value:h.status,type:"status"}),t.jsx(d,{label:"Site Location",value:h.siteName}),t.jsx(d,{label:"Worked Hours",value:h.workedHours}),t.jsx(d,{label:"Manufacture Year",value:h.manufactureYear})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:"Personnel"}),t.jsxs("div",{className:"field-list",children:[t.jsx(d,{label:"Main Driver",value:h.drivable?h.mainDriverName||"Not assigned":"Not applicable",type:"driver"}),t.jsx(d,{label:"Sub Driver",value:h.drivable?h.subDriverName||"Not assigned":"Not applicable",type:"driver"}),t.jsx(d,{label:"Examined By",value:h.examinedBy})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:"Purchase Information"}),t.jsxs("div",{className:"field-list",children:[t.jsx(d,{label:"Purchased From",value:h.purchasedFromName}),t.jsx(d,{label:"Purchase Date",value:h.purchasedDate}),t.jsx(d,{label:"Delivery Date",value:h.deliveredDate}),t.jsx(d,{label:"Country of Origin",value:h.countryOfOrigin}),t.jsx(d,{label:"EGP Price",value:h.egpPrice?`EGP ${h.egpPrice.toLocaleString()}`:"N/A",type:"price"}),t.jsx(d,{label:"USD Price",value:h.dollarPrice?`$${h.dollarPrice.toLocaleString()}`:"N/A",type:"price"})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:"Additional Information"}),t.jsxs("div",{className:"field-list",children:[t.jsx(d,{label:"Model Number",value:h.modelNumber}),t.jsx(d,{label:"Shipping Status",value:h.shipping}),t.jsx(d,{label:"Customs Status",value:h.customs}),t.jsx(d,{label:"Equipment Complaints",value:h.equipmentComplaints}),t.jsx(d,{label:"Related Documents",value:h.relatedDocuments})]})]})]})})]})})};function koe(e){return Ue({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(e)}const Ar={getByEquipment:e=>ye.get(zn.BY_EQUIPMENT(e)),getByEquipmentAndDate:(e,n)=>ye.get(zn.BY_EQUIPMENT_AND_DATE(e,n)),getByEquipmentDateRange:(e,n,r)=>ye.get(zn.BY_EQUIPMENT_DATE_RANGE(e),{params:{startDate:n,endDate:r}}),getDailySummary:(e,n)=>ye.get(zn.DAILY_SUMMARY(e,n)),getExistingDates:e=>ye.get(zn.EXISTING_DATES(e)),getValidationInfo:e=>ye.get(zn.VALIDATION_INFO(e)),getLatestDate:e=>ye.get(zn.LATEST_DATE(e)),getById:e=>ye.get(zn.BY_ID(e)),create:(e,n)=>ye.post(zn.CREATE(e),n),update:(e,n)=>ye.put(zn.UPDATE(e),n),delete:e=>ye.delete(zn.DELETE(e)),getRangeByEquipment:e=>ye.get(zn.RANGE_BY_EQUIPMENT(e)),getRangeById:e=>ye.get(zn.RANGE_BY_ID(e)),createRange:(e,n)=>ye.post(zn.CREATE_RANGE(e),n),updateRange:(e,n)=>ye.put(zn.UPDATE_RANGE(e),n),deleteRange:e=>ye.delete(zn.DELETE_RANGE(e))},Ooe=g.forwardRef(({equipmentId:e,onDataChange:n},r)=>{var se;const{showSuccess:a,showError:s}=cn(),o=Xt(),l=Es(o),[u,d]=g.useState(new Date().getMonth()+1),[h,f]=g.useState(new Date().getFullYear()),[p,y]=g.useState(null),[b,x]=g.useState([]),[j,w]=g.useState([]),[T,A]=g.useState([]),[O,P]=g.useState(!1),[S,E]=g.useState(null),[k,D]=g.useState(!1),[_,U]=g.useState({}),[R,$]=g.useState(!1),[L,z]=g.useState(null),[W,M]=g.useState(null),[F,G]=g.useState([]),J=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],I=new Date().getFullYear(),q=Array.from({length:5},(oe,xe)=>I-2+xe);g.useImperativeHandle(r,()=>({refreshData:()=>{H()}}));const B=()=>{n&&n()};g.useEffect(()=>{e&&(async()=>{try{const xe=await ht.getEquipmentById(e);y(xe.data);const pe=await Ar.getValidationInfo(e);M(pe.data);const je=await Ar.getExistingDates(e);if(G(je.data),xe.data.typeId){const qe=await ht.getDriversForSarkyByEquipmentType(xe.data.typeId);w(qe.data);const ke=await ht.getSupportedWorkTypesForEquipmentType(xe.data.typeId);x(ke.data)}else{const qe=await jl.getAll();x(qe.data)}}catch(xe){console.error("Error fetching equipment data:",xe),s("Failed to load equipment data")}})()},[e]),g.useEffect(()=>{e&&H()},[e,u,h]);const H=async()=>{var oe,xe;try{P(!0),E(null);const pe=Date.now(),je=await Ar.getByEquipment(e),qe=await Ar.getRangeByEquipment(e);console.log("=== SARKY DATA FETCH ==="),console.log("Single entries:",(oe=je.data)==null?void 0:oe.length),console.log("Range entries:",(xe=qe.data)==null?void 0:xe.length),console.log("========================");let ke=[];je.data&&je.data.forEach(Oe=>{var Ke;const Be=new Date(Oe.date);Be.getMonth()+1===u&&Be.getFullYear()===h&&ke.push({id:Oe.id,date:Oe.date,workType:Oe.workType,workTypeId:(Ke=Oe.workType)==null?void 0:Ke.id,workedHours:Oe.workedHours,driverId:Oe.driverId,driverName:Oe.driverName,type:"single",canEdit:l.canEdit,canDelete:l.canDelete})}),qe.data&&qe.data.forEach(Oe=>{Oe.workEntries&&Oe.workEntries.forEach(Be=>{var bt;const Ke=new Date(Be.date);Ke.getMonth()+1===u&&Ke.getFullYear()===h&&ke.push({id:Be.id,date:Be.date,workType:Be.workType,workTypeId:(bt=Be.workType)==null?void 0:bt.id,workedHours:Be.workedHours,driverId:Be.driverId,driverName:Be.driverName,type:"range",rangeId:Oe.id,canEdit:!1,canDelete:!1})})}),ke.sort((Oe,Be)=>{const Ke=new Date(Oe.date)-new Date(Be.date);return Ke===0?Oe.id.toString().localeCompare(Be.id.toString()):Ke}),console.log("Processed monthly entries:",ke.length),A(ke)}catch(pe){console.error("Error fetching monthly sarky:",pe),E(pe.message)}finally{P(!1)}},K=async()=>{try{D(!0);const oe=new Date(h,u,0).getDate(),xe=[];for(let je=1;je<=oe;je++){const ke=new Date(h,u-1,je).toISOString().split("T")[0];T.find(Be=>Be.date===ke)||xe.push({id:`temp-${je}`,date:ke,workType:null,workTypeId:"",workedHours:8,driverId:(p==null?void 0:p.mainDriverId)||"",driverName:(p==null?void 0:p.mainDriverName)||"",type:"draft",canEdit:l.canEdit,canDelete:l.canDelete,isNew:!0})}const pe=[...T,...xe];pe.sort((je,qe)=>new Date(je.date)-new Date(qe.date)),A(pe),a(`Generated ${xe.length} sarky entries for the month`)}catch(oe){console.error("Error generating monthly sarky:",oe),E(oe.message)}finally{D(!1)}},ie=(oe,xe,pe)=>{A(je=>je.map(qe=>qe.id===oe?{...qe,[xe]:pe}:qe))},ae=oe=>{var xe,pe,je,qe,ke,Oe,Be,Ke;return(pe=(xe=oe.response)==null?void 0:xe.data)!=null&&pe.message?oe.response.data.message:(je=oe.response)!=null&&je.data&&typeof oe.response.data=="string"?oe.response.data:oe.code==="NETWORK_ERROR"||!oe.response?"Network error. Please check your connection and try again.":((qe=oe.response)==null?void 0:qe.status)===400?((ke=oe.response.data)==null?void 0:ke.message)||"Invalid data provided. Please check your inputs.":((Oe=oe.response)==null?void 0:Oe.status)===403?"You don't have permission to perform this action.":((Be=oe.response)==null?void 0:Be.status)===404?"The requested resource was not found.":((Ke=oe.response)==null?void 0:Ke.status)>=500?"Server error. Please try again later or contact support.":oe.message||"An error occurred. Please try again."},me=async oe=>{if(!oe.workTypeId||!oe.workedHours||!oe.driverId){s("Please fill in all required fields: Work Type, Hours, and Driver");return}try{P(!0);const xe=new FormData;if(xe.append("workType",oe.workTypeId),xe.append("workedHours",oe.workedHours),xe.append("date",oe.date),xe.append("driver",oe.driverId),oe.isNew){const pe=await Ar.create(e,xe);A(ke=>ke.map(Oe=>Oe.id===oe.id?{...Oe,id:pe.data.id,type:"single",isNew:!1}:Oe)),a("Sarky entry saved successfully");const je=await Ar.getValidationInfo(e);M(je.data);const qe=await Ar.getExistingDates(e);G(qe.data)}else await Ar.update(oe.id,xe),a("Sarky entry updated successfully");B()}catch(xe){console.error("Error saving sarky entry:",xe);const pe=ae(xe);s(`Failed to save sarky entry: ${pe}`)}finally{P(!1)}},de=async()=>{const oe=T.filter(je=>je.canEdit&&je.workTypeId&&je.workedHours&&je.driverId);if(oe.length===0){s("No entries to save. Please fill in all required fields for at least one entry.");return}$(!0);let xe=0,pe=0;try{for(const je of oe)try{const qe=new FormData;if(qe.append("workType",je.workTypeId),qe.append("workedHours",je.workedHours),qe.append("date",je.date),qe.append("driver",je.driverId),je.isNew){const ke=await Ar.create(e,qe);A(Oe=>Oe.map(Be=>Be.id===je.id?{...Be,id:ke.data.id,type:"single",isNew:!1}:Be))}else await Ar.update(je.id,qe);xe++}catch(qe){console.error(`Error saving entry for ${je.date}:`,qe),pe++}xe>0&&pe===0?a(`Successfully saved all ${xe} entries`):xe>0&&pe>0?s(`Saved ${xe} entries, but ${pe} failed to save`):s(`Failed to save all ${pe} entries`),xe>0&&(H(),B())}catch(je){console.error("Error in bulk save operation:",je);const qe=ae(je);s(`Failed to save entries: ${qe}`)}finally{$(!1)}},fe=oe=>{T.filter(je=>je.date===oe);const pe={id:`temp-${oe}-${Date.now()}`,date:oe,workType:null,workTypeId:"",workedHours:8,driverId:(p==null?void 0:p.mainDriverId)||"",driverName:(p==null?void 0:p.mainDriverName)||"",type:"draft",canEdit:l.canEdit,canDelete:l.canDelete,isNew:!0};A(je=>[...je,pe].sort((ke,Oe)=>{const Be=new Date(ke.date)-new Date(Oe.date);return Be===0?ke.id.localeCompare(Oe.id):Be})),a(`Added new work entry for ${new Date(oe).toLocaleDateString()}`)},X=oe=>new Date(oe).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),Z=oe=>{switch(oe){case"single":return"single";case"range":return"range";case"draft":return"draft";default:return""}},V=oe=>{switch(oe){case"single":return t.jsx(Km,{className:"type-icon single"});case"range":return t.jsx(hg,{className:"type-icon range"});case"draft":return t.jsx(ga,{className:"type-icon draft"});default:return null}},Y=()=>{if(!T.length)return{completed:0,draft:0,total:0,totalHours:0};const oe={completed:T.filter(xe=>xe.type==="single"||xe.type==="range").length,draft:T.filter(xe=>xe.type==="draft").length,totalHours:T.reduce((xe,pe)=>xe+(parseFloat(pe.workedHours)||0),0)};return oe.total=T.length,oe},ee=()=>T.filter(oe=>oe.canEdit&&oe.workTypeId&&oe.workedHours&&oe.driverId).length,ce=()=>{const oe={};return T.forEach(pe=>{oe[pe.date]||(oe[pe.date]=[]),oe[pe.date].push(pe)}),Object.keys(oe).sort((pe,je)=>new Date(pe)-new Date(je)).map(pe=>({date:pe,entries:oe[pe]}))},re=Y(),te=ee(),he=ce();return p?O&&!T.length?t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loader"}),t.jsx("p",{children:"Loading monthly sarky data..."})]}):S?t.jsxs("div",{className:"error-container",children:[t.jsxs("p",{children:["Error: ",S]}),t.jsx("button",{onClick:()=>window.location.reload(),children:"Retry"})]}):t.jsxs("div",{className:"sarky-attendance-container",children:[t.jsxs("div",{className:"filters-container",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Equipment:"}),t.jsx("input",{type:"text",value:`${p.name} - ${p.typeName||"Unknown Type"}`,disabled:!0,className:"equipment-display"})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Month:"}),t.jsx("select",{value:u,onChange:oe=>d(parseInt(oe.target.value)),children:J.map(oe=>t.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{children:"Year:"}),t.jsx("select",{value:h,onChange:oe=>f(parseInt(oe.target.value)),children:q.map(oe=>t.jsx("option",{value:oe,children:oe},oe))})]}),l.canCreate&&t.jsxs("button",{className:"generate-btn",onClick:K,disabled:k,children:[t.jsx(Hie,{})," Generate Monthly Sarky"]}),l.canEdit&&t.jsxs("button",{className:"save-all-btn",onClick:de,disabled:R||te===0,children:[t.jsx(Ij,{})," ",R?"Saving All...":`Save All (${te})`]}),l.canCreate&&t.jsxs("button",{className:"quick-entry-btn",onClick:()=>{const oe=new Date().toISOString().split("T")[0];fe(oe)},title:"Add entry for today",children:[t.jsx(hg,{})," Quick Entry (Today)"]})]}),t.jsxs("div",{className:"sarky-header",children:[t.jsxs("h2",{children:["Monthly Sarky: ",p.name]}),t.jsxs("h3",{children:[(se=J.find(oe=>oe.value===u))==null?void 0:se.label," ",h]})]}),T.length>0&&t.jsxs("div",{className:"sarky-summary",children:[t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Working Days:"}),t.jsx("span",{className:"value",children:re.total})]}),t.jsxs("div",{className:"summary-item completed",children:[t.jsx("span",{className:"label",children:"Completed:"}),t.jsx("span",{className:"value",children:re.completed})]}),t.jsxs("div",{className:"summary-item draft",children:[t.jsx("span",{className:"label",children:"Draft:"}),t.jsx("span",{className:"value",children:re.draft})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Total Hours:"}),t.jsxs("span",{className:"value",children:[re.totalHours.toFixed(1),"h"]})]}),t.jsxs("div",{className:"summary-item",children:[t.jsx("span",{className:"label",children:"Completion Rate:"}),t.jsx("span",{className:"value",children:re.total>0?`${Math.round(re.completed/re.total*100)}%`:"0%"})]})]}),W&&t.jsxs("div",{className:"sarky-validation-info",children:[t.jsx("h4",{children:" Sarky Entry Guidelines"}),t.jsxs("div",{className:"validation-details",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"label",children:"Latest Entry Date:"}),t.jsx("span",{className:"value",children:W.latestDate?new Date(W.latestDate).toLocaleDateString():"No entries yet"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"label",children:"Dates with Existing Entries:"}),t.jsx("span",{className:"value",children:F.length>0?`${F.length} dates`:"None"})]}),t.jsxs("div",{className:"guidelines",children:[t.jsx("p",{children:t.jsx("strong",{children:"Entry Rules:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:" You can add entries for ANY date"}),t.jsx("li",{children:" Multiple entries per day are allowed"}),t.jsx("li",{children:" Historical entries and date corrections are permitted"}),t.jsx("li",{children:" Date constraints have been removed for maximum flexibility"})]})]})]})]}),T.length>0?t.jsx("div",{className:"sarky-table-container",children:t.jsxs("table",{className:"sarky-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Work Type"}),t.jsx("th",{children:"Hours"}),t.jsx("th",{children:"Driver"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:he.map(oe=>t.jsx(le.Fragment,{children:oe.entries.map((xe,pe)=>{var je;return t.jsxs("tr",{className:Z(xe.type),children:[t.jsx("td",{className:"date-cell",children:t.jsxs("div",{className:"date-group",children:[t.jsx("span",{className:"date-text",children:X(xe.date)}),oe.entries.length>1&&t.jsxs("span",{className:"entry-count",children:["Entry ",pe+1," of ",oe.entries.length]}),pe===0&&t.jsx("button",{className:"add-entry-btn",onClick:()=>fe(xe.date),title:"Add another entry for this day",children:t.jsx(hg,{})}),pe===0&&oe.entries.length>1&&t.jsxs("span",{className:"multiple-indicator",children:[" ",oe.entries.length," entries"]})]})}),t.jsx("td",{children:xe.canEdit?t.jsxs("select",{value:xe.workTypeId||"",onChange:qe=>ie(xe.id,"workTypeId",qe.target.value),className:"inline-select",children:[t.jsx("option",{value:"",children:"Select Work Type"}),b.map(qe=>t.jsx("option",{value:qe.id,children:qe.name},qe.id))]}):t.jsx("span",{children:((je=xe.workType)==null?void 0:je.name)||"Unknown"})}),t.jsx("td",{children:xe.canEdit?t.jsx("input",{type:"number",value:xe.workedHours||"",onChange:qe=>ie(xe.id,"workedHours",qe.target.value),min:"0.5",step:"0.5",className:"inline-input"}):t.jsxs("span",{children:[xe.workedHours,"h"]})}),t.jsx("td",{children:xe.canEdit?t.jsxs("select",{value:xe.driverId||"",onChange:qe=>ie(xe.id,"driverId",qe.target.value),className:"inline-select",children:[t.jsx("option",{value:"",children:"Select Driver"}),j.map(qe=>t.jsx("option",{value:qe.id,children:qe.fullName},qe.id))]}):t.jsx("span",{children:xe.driverName})}),t.jsxs("td",{className:"status-cell",children:[V(xe.type),t.jsx("span",{className:"status-text",children:xe.type==="single"?"Completed":xe.type==="range"?"Range Entry":"Draft"})]}),t.jsx("td",{children:t.jsx("div",{className:"action-buttons",children:xe.canEdit&&t.jsxs("button",{className:"save-btn",onClick:()=>me(xe),disabled:!xe.workTypeId||!xe.workedHours||!xe.driverId,children:[t.jsx(Ij,{})," Save"]})})})]},xe.id)})},oe.date))})]})}):t.jsxs("div",{className:"no-data-container",children:[t.jsx("p",{children:"No sarky records found for this month."}),t.jsx("button",{className:"generate-btn",onClick:K,disabled:k,children:k?"Generating...":"Generate Monthly Sarky"})]})]}):t.jsx("div",{className:"loading",children:"Loading equipment data..."})}),h8=({isOpen:e,onClose:n,equipmentId:r,maintenanceId:a,initialBatchNumber:s,onTransactionAdded:o})=>{const[l,u]=g.useState(s||""),[d,h]=g.useState(!1),[f,p]=g.useState(null),[y,b]=g.useState(!1),[x,j]=g.useState(null),[w,T]=g.useState(!1),[A,O]=g.useState([]),[P,S]=g.useState(""),[E,k]=g.useState([]),[D,_]=g.useState([]),[U,R]=g.useState([]),[$,L]=g.useState({senderId:"",items:[{itemTypeId:"",quantity:1}]}),z=localStorage.getItem("token"),W=Qt.create({headers:{Authorization:`Bearer ${z}`}});g.useEffect(()=>{e&&(M(),s&&(u(s),I(s)))},[e,s]);const M=async()=>{try{const de=await W.get("http://localhost:8080/api/v1/site");O(de.data)}catch(de){console.error("Error fetching sites:",de),j("Failed to load sites")}},F=async de=>{try{const fe=await W.get(`http://localhost:8080/api/v1/site/${de}/warehouses`);k(fe.data),L(X=>({...X,senderId:""}))}catch(fe){console.error("Error fetching warehouses:",fe),j("Failed to load warehouses")}},G=async()=>{if($.senderId)try{const de=await W.get("http://localhost:8080/api/v1/itemTypes");_(de.data),R(de.data)}catch(de){console.error("Error fetching item types:",de),j("Failed to load item types")}};g.useEffect(()=>{P&&F(P)},[P]),g.useEffect(()=>{$.senderId&&G()},[$.senderId]);const J=de=>{u(de.target.value),p(null),T(!1)},I=async(de=null)=>{var X,Z;const fe=de||l;if(!fe){alert("Please enter a batch number to verify");return}h(!0);try{const V=await W.get(`http://localhost:8080/api/v1/transactions/batch/${fe}`);if(V.data&&V.data.id){let Y=V.data.status;Y==="ACCEPTED"?(p({found:!0,error:!0,transaction:V.data,message:" Warning: Transaction found but it's already ACCEPTED. Accepted transactions cannot be linked to maintenance records."}),T(!1)):Y==="REJECTED"?(p({found:!0,error:!0,transaction:V.data,message:" Warning: Transaction found but it's already REJECTED. Rejected transactions cannot be linked to maintenance records."}),T(!1)):Y==="PENDING"?(p({found:!0,transaction:V.data,message:" Transaction found! It will be linked to this maintenance record and marked as MAINTENANCE purpose."}),T(!1)):(p({found:!0,error:!0,transaction:V.data,message:`Transaction found but it's already ${Y}. Only PENDING transactions can be linked.`}),T(!1))}else p({found:!1,message:"No transaction found with this batch number. You can create a new transaction below."}),T(!0)}catch(V){console.error("Error verifying batch number:",V),V.response&&V.response.status===404?(p({found:!1,message:"No transaction found with this batch number. You can create a new transaction below."}),T(!0)):(p({found:!1,error:!0,message:"Error verifying batch number: "+(((Z=(X=V.response)==null?void 0:X.data)==null?void 0:Z.message)||V.message)}),T(!1))}finally{h(!1)}},q=de=>{S(de.target.value)},B=de=>{L({...$,senderId:de.target.value})},H=(de,fe,X)=>{const Z=[...$.items];Z[de]={...Z[de],[fe]:X},L({...$,items:Z})},K=()=>{L({...$,items:[...$.items,{itemTypeId:"",quantity:1}]})},ie=de=>{if($.items.length<=1)return;const fe=$.items.filter((X,Z)=>Z!==de);L({...$,items:fe})},ae=de=>{const fe=$.items.filter((X,Z)=>Z!==de&&!!X.itemTypeId).map(X=>X.itemTypeId);return U.filter(X=>!fe.includes(X.id))},me=async de=>{var fe,X,Z,V;de.preventDefault(),b(!0),j(null);try{if(w&&$.senderId){if($.items.some(ee=>!ee.itemTypeId||ee.quantity<1))throw new Error("Please complete all transaction item fields with valid quantities");const Y=await W.post(`http://localhost:8080/api/equipment/${r}/maintenance/${a}/transactions`,$.items,{params:{senderId:$.senderId,senderType:"WAREHOUSE",batchNumber:l}});console.log("Transaction created successfully:",Y.data)}else if(f!=null&&f.found&&!(f!=null&&f.error)){const Y=await W.put(`http://localhost:8080/api/equipment/${r}/maintenance/${a}/link-transaction/${f.transaction.id}`);console.log("Transaction linked successfully:",Y.data)}else throw new Error("Unable to process transaction. Please verify batch number first or complete the transaction form.");o&&o()}catch(Y){console.error("Error processing transaction:",Y),(X=(fe=Y.response)==null?void 0:fe.data)!=null&&X.error?j(Y.response.data.error):(V=(Z=Y.response)==null?void 0:Z.data)!=null&&V.message?j(Y.response.data.message):Y.message?j(Y.message):j("Failed to process transaction")}finally{b(!1)}};return e?t.jsx("div",{className:"maintenance-transaction-modal-backdrop",children:t.jsxs("div",{className:"maintenance-transaction-modal",children:[t.jsxs("div",{className:"maintenance-transaction-modal-header",children:[t.jsx("h2",{children:"Add Transaction to Maintenance"}),t.jsx("button",{className:"close-button",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:me,className:"transaction-form",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("div",{className:"batch-checker",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Batch Number"}),t.jsxs("div",{className:"batch-input-group",children:[t.jsx("input",{type:"number",value:l,onChange:J,placeholder:"Enter batch number",required:!0}),t.jsx("button",{type:"button",className:"verify-button",onClick:()=>I(),disabled:d||!l,children:d?"Checking...":"Verify"})]}),f&&t.jsxs("div",{className:`batch-verification-result ${f.found&&!f.error?"success":"warning"}`,children:[t.jsx("div",{className:"verification-icon",children:f.found&&!f.error?t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),t.jsx("path",{d:"M22 4L12 14.01l-3-3"})]}):t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 8v4M12 16h.01"})]})}),t.jsx("span",{children:f.message})]})]})}),w&&t.jsxs("div",{className:"transaction-creation-section",children:[t.jsx("h4",{children:"Create New Transaction"}),t.jsx("p",{children:"This transaction will be linked to the maintenance record with purpose: MAINTENANCE"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Source Site"}),t.jsxs("select",{value:P,onChange:q,required:!0,children:[t.jsx("option",{value:"",children:"Select Site"}),A.map(de=>t.jsx("option",{value:de.id,children:de.name},de.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Source Warehouse"}),t.jsxs("select",{value:$.senderId,onChange:B,required:!0,disabled:!P,children:[t.jsx("option",{value:"",children:"Select Warehouse"}),E.map(de=>t.jsx("option",{value:de.id,children:de.name},de.id))]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h4",{children:"Items"}),t.jsx("button",{type:"button",className:"add-item-button",onClick:K,disabled:!$.senderId,children:"Add Item"})]}),$.items.map((de,fe)=>t.jsxs("div",{className:"item-row",children:[t.jsxs("div",{className:"item-header",children:[t.jsxs("span",{children:["Item ",fe+1]}),$.items.length>1&&t.jsx("button",{type:"button",className:"remove-item-button",onClick:()=>ie(fe),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Item Type"}),t.jsxs("select",{value:de.itemTypeId,onChange:X=>H(fe,"itemTypeId",X.target.value),required:!0,disabled:!$.senderId,children:[t.jsx("option",{value:"",children:"Select Item Type"}),ae(fe).map(X=>t.jsxs("option",{value:X.id,children:[X.name," ",X.unit?`(${X.unit})`:""]},X.id))]})]}),t.jsxs("div",{className:"form-group quantity-group",children:[t.jsx("label",{children:"Quantity"}),t.jsx("input",{type:"number",value:de.quantity,onChange:X=>H(fe,"quantity",parseInt(X.target.value,10)||1),min:"1",required:!0,disabled:!de.itemTypeId})]})]})]},fe))]})]})]}),x&&t.jsx("div",{className:"error-message",children:x}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:n,disabled:y,children:"Cancel"}),t.jsx("button",{type:"submit",className:"submit-button",disabled:y||!(f!=null&&f.found)&&!w,children:y?"Processing...":"Add Transaction"})]})]})]})}):null},m8={getAll:()=>ye.get(Su.BASE),getById:e=>ye.get(Su.BY_ID(e)),create:e=>ye.post(Su.CREATE,e),update:(e,n)=>ye.put(Su.UPDATE(e),n),delete:e=>ye.delete(Su.DELETE(e))},X3={getAll:()=>ye.get(Mi.BASE),getById:e=>ye.get(Mi.BY_ID(e)),getBySite:e=>ye.get(Mi.BY_SITE(e)),getItems:e=>ye.get(Mi.ITEMS(e)),getInventory:e=>ye.get(`/api/v1/warehouses/${e}/inventory`),create:e=>ye.post(Mi.CREATE,e),update:(e,n)=>ye.put(Mi.UPDATE(e),n),delete:e=>ye.delete(Mi.DELETE(e))},Doe=({transaction:e,onValidationDataChange:n,onCancel:r,isLoading:a})=>{var E,k;const[s,o]=g.useState("accept"),[l,u]=g.useState({}),[d,h]=g.useState({}),[f,p]=g.useState(""),[y,b]=g.useState(""),[x,j]=g.useState({});g.useEffect(()=>{if(e!=null&&e.items){const D={};e.items.forEach(_=>{D[_.id]=_.quantity}),u(D)}},[e]),g.useEffect(()=>{O()},[s,l,d,f,y]);const w=(D,_)=>{u(U=>({...U,[D]:_})),x[D]&&j(U=>{const R={...U};return delete R[D],R})},T=(D,_)=>{if(h(U=>({...U,[D]:_})),_)u(U=>({...U,[D]:0}));else{const U=e.items.find(R=>R.id===D);U&&u(R=>({...R,[D]:U.quantity}))}},A=()=>{const D={};return s==="accept"?e.items.forEach(_=>{const U=l[_.id];d[_.id]||(U===""||U===null||U===void 0?D[_.id]="Quantity is required":(isNaN(U)||parseInt(U)<0)&&(D[_.id]="Quantity must be a non-negative number"))}):s==="reject"&&(y.trim()||(D.rejectionReason="Rejection reason is required")),j(D),Object.keys(D).length===0},O=()=>{const D={action:s,comments:f.trim(),receivedItems:e.items.map(_=>({transactionItemId:_.id,receivedQuantity:d[_.id]?0:parseInt(l[_.id])||0,itemNotReceived:!!d[_.id]})),isValid:A()};s==="reject"&&(D.rejectionReason=y.trim()),n(D)},P=D=>D?new Date(D).toLocaleDateString("en-GB"):"N/A",S=D=>D.itemTypeName||"Unknown Item";return e?t.jsxs("div",{className:"inline-transaction-validation",children:[t.jsxs("div",{className:"validation-header",children:[t.jsx("h4",{children:"Validate Transaction"}),t.jsx("p",{children:"Transaction found! Please validate this transaction to link it to the maintenance record."})]}),t.jsxs("div",{className:"transaction-summary",children:[t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"Batch Number:"}),t.jsxs("span",{className:"value",children:["#",e.batchNumber]})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"Transaction Date:"}),t.jsx("span",{className:"value",children:P(e.transactionDate)})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"Items Count:"}),t.jsx("span",{className:"value",children:((E=e.items)==null?void 0:E.length)||0})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"Added By:"}),t.jsx("span",{className:"value",children:e.addedBy||"N/A"})]})]}),t.jsxs("div",{className:"validation-form",children:[t.jsxs("div",{className:"action-selector",children:[t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"action",value:"accept",checked:s==="accept",onChange:D=>o(D.target.value)}),t.jsx("span",{children:"Accept Transaction"})]}),t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"action",value:"reject",checked:s==="reject",onChange:D=>o(D.target.value)}),t.jsx("span",{children:"Reject Transaction"})]})]}),s==="accept"&&t.jsxs("div",{className:"items-validation",children:[t.jsx("h5",{children:"Validate Items Received"}),t.jsx("div",{className:"items-list",children:(k=e.items)==null?void 0:k.map(D=>{var _;return t.jsxs("div",{className:"item-validation-row",children:[t.jsxs("div",{className:"item-info",children:[t.jsx("strong",{children:S(D)}),t.jsxs("div",{className:"item-details",children:[t.jsxs("span",{children:["Expected: ",D.quantity," ",D.measuringUnit]}),t.jsxs("span",{children:["Category: ",typeof D.category=="string"?D.category:((_=D.category)==null?void 0:_.name)||"Uncategorized"]})]})]}),t.jsxs("div",{className:"validation-controls",children:[t.jsx("div",{className:"not-received-control",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:!!d[D.id],onChange:U=>T(D.id,U.target.checked)}),t.jsx("span",{children:"Item not received"})]})}),!d[D.id]&&t.jsxs("div",{className:"quantity-control",children:[t.jsx("label",{children:"Received Quantity:"}),t.jsx("input",{type:"number",min:"0",max:D.quantity,value:l[D.id]||"",onChange:U=>w(D.id,U.target.value),onWheel:U=>U.target.blur(),className:x[D.id]?"error":""}),t.jsx("span",{className:"unit",children:D.measuringUnit}),x[D.id]&&t.jsx("div",{className:"error-message",children:x[D.id]})]})]})]},D.id)})}),t.jsxs("div",{className:"comments-section",children:[t.jsx("label",{children:"Comments (optional):"}),t.jsx("textarea",{value:f,onChange:D=>p(D.target.value),placeholder:"Add any comments about the transaction validation...",rows:"3"})]})]}),s==="reject"&&t.jsxs("div",{className:"rejection-section",children:[t.jsx("label",{children:"Rejection Reason *"}),t.jsx("textarea",{value:y,onChange:D=>b(D.target.value),placeholder:"Please specify why this transaction is being rejected...",rows:"4",className:x.rejectionReason?"error":"",required:!0}),x.rejectionReason&&t.jsx("div",{className:"error-message",children:x.rejectionReason})]}),t.jsxs("div",{className:"validation-actions",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:r,disabled:a,children:"Cancel Validation"}),t.jsx("div",{className:"info-message",children:t.jsx("small",{children:'Complete the form above and click "Create Maintenance" to save and validate the transaction.'})})]})]})]}):null},f8=({isOpen:e,onClose:n,equipmentId:r,onMaintenanceAdded:a,editingMaintenance:s=null})=>{const[o,l]=g.useState({technicianId:"",maintenanceDate:"",maintenanceTypeId:"",description:"",status:"IN_PROGRESS",batchNumber:""}),[u,d]=g.useState({senderId:"",senderType:"WAREHOUSE",items:[{itemTypeId:"",quantity:1}]}),[h,f]=g.useState([]),[p,y]=g.useState([]),[b,x]=g.useState([]),[j,w]=g.useState([]),[T,A]=g.useState([]),[O,P]=g.useState(""),[S,E]=g.useState(!1),[k,D]=g.useState(null),[_,U]=g.useState(null),[R,$]=g.useState(!1),[L,z]=g.useState(!1),[W,M]=g.useState(!1),[F,G]=g.useState(null),[J,I]=g.useState(!1),[q,B]=g.useState({}),[H,K]=g.useState(null),{showSuccess:ie,showWarning:ae}=cn(),me=!!s,de=ke=>{if(!ke)return"";const Oe=new Date(ke),Be=Oe.getFullYear(),Ke=String(Oe.getMonth()+1).padStart(2,"0"),bt=String(Oe.getDate()).padStart(2,"0"),Se=String(Oe.getHours()).padStart(2,"0"),Le=String(Oe.getMinutes()).padStart(2,"0");return`${Be}-${Ke}-${bt}T${Se}:${Le}`};g.useEffect(()=>{e&&(l(me&&s?{technicianId:s.technicianId||"",maintenanceDate:de(s.maintenanceDate),maintenanceTypeId:s.maintenanceTypeId||"",description:s.description||"",status:s.status||"IN_PROGRESS",batchNumber:s.batchNumber||""}:{technicianId:"",maintenanceDate:de(new Date),maintenanceTypeId:"",description:"",status:"IN_PROGRESS",batchNumber:""}),D(null),U(null),z(!1),fe(),X(),Z(),Y())},[e,s,me]);const fe=async()=>{try{const ke=await cs.getTechnicians(r);f(ke.data)}catch(ke){console.error("Error fetching technicians:",ke)}},X=async()=>{try{const ke=await Mu.getAll();y(ke.data)}catch(ke){console.error("Error fetching maintenance types:",ke)}},Z=async()=>{try{const ke=await zt.getAll();x(ke.data)}catch(ke){console.error("Error fetching sites:",ke)}},V=async ke=>{try{const Oe=await X3.getBySite(ke);w(Oe.data)}catch(Oe){console.error("Error fetching warehouses:",Oe)}},Y=async()=>{try{const ke=await m8.getAll();A(ke.data)}catch(ke){console.error("Error fetching item types:",ke)}},ee=async ke=>{try{const Oe=await X3.getInventory(ke);B(Be=>({...Be,[ke]:Oe.data}))}catch(Oe){console.error("Error fetching warehouse inventory:",Oe)}},ce=ke=>{const{name:Oe,value:Be}=ke.target;l(Ke=>({...Ke,[Oe]:Be})),Oe==="batchNumber"&&(U(null),z(!1),M(!1),G(null),Be&&re(Be))},re=async ke=>{if(ke){$(!0);try{const Be=(await cs.checkTransactionExists(r,ke)).data;switch(U(Be),Be.scenario){case"already_handled":z(!1),M(!1),G(null);break;case"pending_validation":z(!1),M(!0),G(Be.transaction);break;case"other_status":z(!1),M(!1),G(null);break;case"not_found":z(!0),M(!1),G(null);break;default:z(!1),M(!1),G(null);break}}catch(Oe){console.error("Error verifying batch number:",Oe),U({scenario:"error",found:!1,error:!0,message:"Error checking batch number. You can still create a new transaction below."}),z(!0),M(!1),G(null)}finally{$(!1)}}},te=ke=>{const Oe=ke.target.value;P(Oe),Oe&&V(Oe)},he=ke=>{const Oe=ke.target.value;d(Be=>({...Be,senderId:Oe})),Oe&&ee(Oe)},se=(ke,Oe,Be)=>{const Ke=[...u.items];Ke[ke]={...Ke[ke],[Oe]:Oe==="quantity"?parseInt(Be)||1:Be},d(bt=>({...bt,items:Ke}))},oe=()=>{d(ke=>({...ke,items:[...ke.items,{itemTypeId:"",quantity:1}]}))},xe=ke=>{if(u.items.length>1){const Oe=u.items.filter((Be,Ke)=>Ke!==ke);d(Be=>({...Be,items:Oe}))}},pe=ke=>{const Oe=u.items.map((Be,Ke)=>Ke!==ke?Be.itemTypeId:null).filter(Be=>Be);return T.filter(Be=>!Oe.includes(Be.id))},je=()=>{M(!1),G(null),U(null),l(ke=>({...ke,batchNumber:""}))},qe=async ke=>{var Oe,Be,Ke,bt,Se,Le,Fe;if(ke.preventDefault(),W&&(!H||!H.isValid)){D("Please complete the transaction validation form above.");return}E(!0),D(null);try{let ze;if(me)ze=await cs.update(r,s.id,o);else{const pt={...o};H&&F&&(pt.transactionValidation={transactionId:F.id,...H}),ze=await cs.create(r,pt)}if(console.log("Maintenance response:",ze.data),ze.data.status==="transaction_status_invalid"){D(ze.data.error),E(!1);return}if(!me){const pt=((Be=(Oe=ze.data)==null?void 0:Oe.maintenance)==null?void 0:Be.id)||((Ke=ze.data)==null?void 0:Ke.id);if(console.log("Maintenance ID:",pt),o.batchNumber&&L&&u.senderId){if(u.items.some(en=>!en.itemTypeId||en.quantity<1))throw new Error("Please complete all transaction item fields with valid quantities");await cs.createMaintenanceTransaction(r,pt,u.senderId,"WAREHOUSE",o.batchNumber,u.items)}}ie(me?"Maintenance record updated successfully":"Maintenance record created successfully"),a&&a(),n()}catch(ze){console.error("Error saving maintenance:",ze),(Se=(bt=ze.response)==null?void 0:bt.data)!=null&&Se.error?D(ze.response.data.error):(Fe=(Le=ze.response)==null?void 0:Le.data)!=null&&Fe.message?D(ze.response.data.message):ze.message?D(ze.message):D(`Failed to ${me?"update":"create"} maintenance record`)}finally{E(!1)}};return e?t.jsx("div",{className:"maintenance-modal-backdrop",children:t.jsxs("div",{className:"maintenance-modal",children:[t.jsxs("div",{className:"maintenance-modal-header",children:[t.jsx("h2",{children:me?"Edit Maintenance Record":"Add Maintenance Record"}),t.jsx("button",{className:"close-button",onClick:n,children:""})]}),t.jsxs("form",{onSubmit:qe,className:"maintenance-form",children:[k&&t.jsx("div",{className:"error-message",children:k}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Maintenance Details"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Technician"}),t.jsxs("select",{name:"technicianId",value:o.technicianId,onChange:ce,required:!0,children:[t.jsx("option",{value:"",children:"Select Technician"}),h.map(ke=>t.jsxs("option",{value:ke.id,children:[ke.firstName," ",ke.lastName]},ke.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Maintenance Date"}),t.jsx("input",{type:"datetime-local",name:"maintenanceDate",value:o.maintenanceDate,onChange:ce,required:!0})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Maintenance Type"}),t.jsxs("select",{name:"maintenanceTypeId",value:o.maintenanceTypeId,onChange:ce,required:!0,children:[t.jsx("option",{value:"",children:"Select Maintenance Type"}),p.map(ke=>t.jsx("option",{value:ke.id,children:ke.name},ke.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Status"}),t.jsxs("select",{name:"status",value:o.status,onChange:ce,required:!0,children:[t.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),t.jsx("option",{value:"COMPLETED",children:"Completed"}),t.jsx("option",{value:"SCHEDULED",children:"Scheduled"}),t.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{name:"description",value:o.description,onChange:ce,rows:"4",placeholder:"Describe the maintenance being performed..."})]})]}),!me&&t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Parts & Materials Transaction"}),t.jsx("p",{className:"section-description",children:"Link this maintenance to a transaction by entering a batch number (optional)"}),t.jsxs("div",{className:"batch-checker",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Batch Number (optional)"}),t.jsx("input",{type:"number",name:"batchNumber",value:o.batchNumber,onChange:ce,onWheel:ke=>ke.target.blur(),placeholder:"Enter batch number (optional)"}),R&&t.jsx("div",{className:"batch-checking-indicator",children:t.jsx("span",{children:"Checking..."})})]}),_&&t.jsxs("div",{className:`batch-result ${_.scenario==="already_handled"?"error":_.scenario==="pending_validation"?"success":_.scenario==="other_status"?"error":_.scenario==="not_found"?"warning":"error"}`,children:[t.jsx("p",{children:_.message}),_.scenario==="already_handled"&&_.transaction&&t.jsxs("div",{className:"transaction-details",children:[t.jsx("p",{children:t.jsx("strong",{children:"Transaction Details:"})}),t.jsxs("p",{children:["ID: ",_.transaction.id]}),t.jsxs("p",{children:["Status: ",_.transaction.status]}),t.jsxs("p",{children:["Items: ",_.transaction.itemCount||0]}),_.viewUrl&&t.jsx("p",{children:t.jsx("a",{href:_.viewUrl,target:"_blank",rel:"noopener noreferrer",children:"View Transaction Details"})})]}),_.scenario==="other_status"&&_.transaction&&t.jsxs("div",{className:"transaction-details",children:[t.jsx("p",{children:t.jsx("strong",{children:"Transaction Details:"})}),t.jsxs("p",{children:["ID: ",_.transaction.id]}),t.jsxs("p",{children:["Status: ",_.transaction.status]}),t.jsxs("p",{children:["Items: ",_.transaction.itemCount||0]})]})]}),W&&F&&t.jsx(Doe,{transaction:F,onValidationDataChange:K,onCancel:je,isLoading:J})]}),L&&t.jsxs("div",{className:"transaction-form",children:[t.jsx("h4",{children:"Create New Transaction"}),t.jsx("p",{children:"Since no transaction was found with the provided batch number, you can create a new one:"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Site"}),t.jsxs("select",{value:O,onChange:te,required:!0,children:[t.jsx("option",{value:"",children:"Select Site"}),b.map(ke=>t.jsx("option",{value:ke.id,children:ke.name},ke.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Warehouse"}),t.jsxs("select",{value:u.senderId,onChange:he,required:!0,disabled:!O,children:[t.jsx("option",{value:"",children:"Select Warehouse"}),j.map(ke=>t.jsx("option",{value:ke.id,children:ke.name},ke.id))]})]})]}),t.jsxs("div",{className:"items-section",children:[t.jsx("h5",{children:"Items"}),u.items.map((ke,Oe)=>t.jsxs("div",{className:"item-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Item Type"}),t.jsxs("select",{value:ke.itemTypeId,onChange:Be=>se(Oe,"itemTypeId",Be.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Item Type"}),pe(Oe).map(Be=>t.jsx("option",{value:Be.id,children:Be.name},Be.id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Quantity"}),t.jsx("input",{type:"number",min:"1",value:ke.quantity,onChange:Be=>se(Oe,"quantity",Be.target.value),onWheel:Be=>Be.target.blur(),required:!0})]}),t.jsx("button",{type:"button",className:"remove-item-button",onClick:()=>xe(Oe),disabled:u.items.length===1,children:"Remove"})]},Oe)),t.jsx("button",{type:"button",className:"add-item-button",onClick:oe,children:"Add Item"})]})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:n,children:"Cancel"}),t.jsx("button",{type:"submit",className:"submit-button",disabled:S||J||W&&(!H||!H.isValid),children:S?"Saving...":J?"Processing...":W&&H&&H.isValid?H.action==="accept"?"Create Maintenance & Accept Transaction":"Create Maintenance & Reject Transaction":W?"Complete validation form above":me?"Update Maintenance":"Create Maintenance"})]})]})]})}):null},Xd=({transaction:e,isOpen:n,onClose:r,hideItemQuantities:a=!1})=>{var h,f;if(!n||!e)return null;const s=p=>p?new Date(p).toLocaleDateString("en-GB"):"N/A",o=p=>p?new Date(p).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A",l=p=>{var y;return p&&(p.name||p.fullModelName||((y=p.equipment)==null?void 0:y.fullModelName))||"N/A"},u=p=>`warehouse-transaction-view-status-badge ${(p==null?void 0:p.toLowerCase())||"unknown"}`,d=p=>p.itemTypeName||"Unknown Item";return(h=e.items)==null||h.some(p=>p.rejectionReason),t.jsx("div",{className:"warehouse-transaction-view-modal-overlay",onClick:r,children:t.jsxs("div",{className:"warehouse-transaction-view-modal",onClick:p=>p.stopPropagation(),children:[t.jsxs("div",{className:"warehouse-transaction-view-modal-header",children:[t.jsx("h2",{children:"Transaction Details"}),t.jsx("button",{className:"warehouse-transaction-view-close-button2",onClick:r,children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.jsxs("div",{className:"warehouse-transaction-view-modal-content",children:[t.jsxs("div",{className:"warehouse-transaction-view-overview",children:[t.jsxs("div",{className:"warehouse-transaction-view-overview-header",children:[t.jsx("h3",{children:"Transaction Overview"}),t.jsx("span",{className:u(e.status),children:e.status})]}),t.jsxs("div",{className:"warehouse-transaction-view-overview-grid",children:[t.jsxs("div",{className:"warehouse-transaction-view-overview-item",children:[t.jsx("label",{children:"Batch Number"}),t.jsx("span",{children:e.batchNumber||"N/A"})]}),t.jsxs("div",{className:"warehouse-transaction-view-overview-item",children:[t.jsx("label",{children:"Transaction Date"}),t.jsx("span",{children:s(e.transactionDate)})]})]})]}),t.jsxs("div",{className:"warehouse-transaction-view-party-information",children:[t.jsx("h3",{children:"Party Information"}),t.jsxs("div",{className:"warehouse-transaction-view-party-grid",children:[t.jsxs("div",{className:"warehouse-transaction-view-party-card warehouse-transaction-view-sender",children:[t.jsxs("div",{className:"warehouse-transaction-view-party-header",children:[t.jsx("h4",{children:"Sender"}),t.jsx("span",{className:"warehouse-transaction-view-party-type",children:e.senderType})]}),t.jsx("div",{className:"warehouse-transaction-view-party-details",children:t.jsx("div",{className:"warehouse-transaction-view-party-name",children:e.senderName||l(e.sender)})})]}),t.jsx("div",{className:"warehouse-transaction-view-arrow-container",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),t.jsx("polyline",{points:"12,5 19,12 12,19"})]})}),t.jsxs("div",{className:"warehouse-transaction-view-party-card warehouse-transaction-view-receiver",children:[t.jsxs("div",{className:"warehouse-transaction-view-party-header",children:[t.jsx("h4",{children:"Receiver"}),t.jsx("span",{className:"warehouse-transaction-view-party-type",children:e.receiverType})]}),t.jsx("div",{className:"warehouse-transaction-view-party-details",children:t.jsx("div",{className:"warehouse-transaction-view-party-name",children:e.receiverName||l(e.receiver)})})]})]})]}),t.jsxs("div",{className:"warehouse-transaction-view-items",children:[t.jsxs("h3",{children:["Transaction Items (",((f=e.items)==null?void 0:f.length)||0,")"]}),e.items&&e.items.length>0?t.jsx("div",{className:"warehouse-transaction-view-items-list",children:e.items.map((p,y)=>t.jsxs("div",{className:"warehouse-transaction-view-item-card",children:[t.jsx("div",{className:"warehouse-transaction-view-item-header",children:t.jsx("h4",{children:d(p)})}),t.jsxs("div",{className:"warehouse-transaction-view-item-details",children:[p.itemCategory&&t.jsxs("div",{className:"warehouse-transaction-view-item-detail",children:[t.jsx("label",{children:"Category"}),t.jsx("span",{children:p.itemCategory})]}),p.status&&t.jsxs("div",{className:"warehouse-transaction-view-item-detail",children:[t.jsx("label",{children:"Status"}),t.jsx("span",{className:`item-status ${p.status.toLowerCase()}`,children:p.status})]}),p.rejectionReason&&t.jsxs("div",{className:"warehouse-transaction-view-item-detail",children:[t.jsx("label",{children:"Rejection Reason"}),t.jsx("span",{children:p.rejectionReason})]})]})]},y))}):t.jsx("div",{className:"warehouse-transaction-view-no-items",children:t.jsx("p",{children:"No items in this transaction"})})]}),t.jsxs("div",{className:"warehouse-transaction-view-timeline",children:[t.jsx("h3",{children:"Transaction Timeline"}),t.jsxs("div",{className:"warehouse-transaction-view-timeline-grid",children:[t.jsxs("div",{className:"warehouse-transaction-view-timeline-item created",children:[t.jsx("div",{className:"timeline-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12,6 12,12 16,14"})]})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("label",{children:"Created At"}),t.jsx("span",{children:o(e.createdAt)})]})]}),t.jsxs("div",{className:"warehouse-transaction-view-timeline-item user",children:[t.jsx("div",{className:"timeline-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("label",{children:"Created By"}),t.jsx("span",{children:e.addedBy||"N/A"})]})]}),e.completedAt&&t.jsxs("div",{className:"warehouse-transaction-view-timeline-item completed",children:[t.jsx("div",{className:"timeline-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"9,11 12,14 22,4"}),t.jsx("path",{d:"M21,12v7a2,2 0 0,1 -2,2H5a2,2 0 0,1 -2,-2V5a2,2 0 0,1 2,-2h11"})]})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("label",{children:"Completed At"}),t.jsx("span",{children:o(e.completedAt)})]})]}),e.approvedBy&&t.jsxs("div",{className:"warehouse-transaction-view-timeline-item completed",children:[t.jsx("div",{className:"timeline-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("label",{children:"Completed By"}),t.jsx("span",{children:e.approvedBy})]})]})]})]}),e.acceptanceComment&&t.jsxs("div",{className:"warehouse-transaction-view-comments",children:[t.jsx("h3",{children:"Comments & Notes"}),t.jsxs("div",{className:"warehouse-transaction-view-comment-item warehouse-transaction-view-acceptance",children:[t.jsx("label",{children:"Acceptance Comment"}),t.jsx("p",{children:e.acceptanceComment})]})]}),e.maintenance&&t.jsxs("div",{className:"warehouse-transaction-view-maintenance-info",children:[t.jsx("h3",{children:"Related Maintenance"}),t.jsx("div",{className:"warehouse-transaction-view-maintenance-details",children:t.jsxs("div",{className:"warehouse-transaction-view-maintenance-item",children:[t.jsx("label",{children:"Maintenance ID"}),t.jsx("span",{children:e.maintenance.id})]})})]})]}),t.jsx("div",{className:"warehouse-transaction-view-modal-footer"})]})})},Poe=g.forwardRef(({equipmentId:e,onAddMaintenanceClick:n,onAddTransactionClick:r,showAddButton:a=!0,showHeader:s=!0},o)=>{const[l,u]=g.useState([]),[d,h]=g.useState(!0),[f,p]=g.useState(null),[y,b]=g.useState(""),[x,j]=g.useState(!1),[w,T]=g.useState(!1),[A,O]=g.useState(null),[P,S]=g.useState(null),[E,k]=g.useState(null),[D,_]=g.useState(!1),[U,R]=g.useState(null),{showSuccess:$,showError:L,showInfo:z,showWarning:W,hideSnackbar:M}=cn(),F=Xt(),G=Es(F),J=async()=>{try{h(!0),z("Loading maintenance records...");const ce=await cs.getByEquipmentId(e),re=await Promise.all(ce.data.map(async te=>{var oe,xe,pe,je;const he=((oe=te.relatedTransactions)==null?void 0:oe.length)||0,se=((xe=te.maintenanceType)==null?void 0:xe.name)||te.maintenanceType||"N/A";return{id:te.id,technicianName:te.technician?`${te.technician.firstName} ${te.technician.lastName}`:"N/A",technicianId:((pe=te.technician)==null?void 0:pe.id)||null,maintenanceDate:te.maintenanceDate,maintenanceType:se,maintenanceTypeId:((je=te.maintenanceType)==null?void 0:je.id)||null,description:te.description,status:te.status,batchNumber:te.batchNumber,transactionCount:he,relatedTransactions:te.relatedTransactions||[]}}));u(re),h(!1),$(`Successfully loaded ${re.length} maintenance record${re.length!==1?"s":""}`)}catch(ce){console.error("Error fetching maintenance records:",ce),p(ce.message),h(!1),L("Failed to load maintenance records. Please try again.")}};g.useImperativeHandle(o,()=>({refreshLogs:J})),g.useEffect(()=>{e&&(z("Initializing maintenance log..."),J())},[e]);const I=y?l.filter(ce=>{var re,te,he,se;return(((re=ce.technicianName)==null?void 0:re.toLowerCase())||"").includes(y.toLowerCase())||(((te=ce.maintenanceType)==null?void 0:te.toLowerCase())||"").includes(y.toLowerCase())||(((he=ce.description)==null?void 0:he.toLowerCase())||"").includes(y.toLowerCase())||(((se=ce.status)==null?void 0:se.toLowerCase())||"").includes(y.toLowerCase())}):l,q=ce=>{if(!ce)return"N/A";const re=new Date(ce);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(re)},B=()=>{j(!1),O(null),S(null),z("Transaction creation modal closed")},H=()=>{$("Transaction added successfully! Refreshing maintenance records..."),J(),B()},K=ce=>{console.log("Row clicked:",ce),z(`Selected maintenance record: ${ce.maintenanceType} by ${ce.technicianName}`)},ie=ce=>{try{k(ce),T(!0),z(`Opening edit modal for maintenance: ${ce.maintenanceType}`)}catch(re){L("Failed to open edit maintenance modal"),console.error("Error opening edit modal:",re)}},ae=async ce=>{const re=`Are you sure you want to delete the maintenance record "${ce.maintenanceType}" performed by ${ce.technicianName}? This action cannot be undone.`;W(re,0,!0),setTimeout(()=>{const te=document.querySelector(".global-notification");if(te){const he=document.createElement("div");he.className="snackbar-actions";const se=document.createElement("button");se.innerText="YES",se.className="snackbar-action-button confirm",se.onclick=async()=>{try{z("Deleting maintenance record..."),await cs.delete(e,ce.id),J(),$(`Maintenance record "${ce.maintenanceType}" deleted successfully!`)}catch(xe){console.error("Error deleting maintenance record:",xe),L(`Failed to delete maintenance record "${ce.maintenanceType}". Please try again.`)}M()};const oe=document.createElement("button");oe.innerText="NO",oe.className="snackbar-action-button cancel",oe.onclick=()=>{M()},he.appendChild(se),he.appendChild(oe),te.appendChild(he)}},100)},me=()=>{T(!1),k(null),z("Edit modal closed")},de=()=>{$("Maintenance record updated successfully! Refreshing list..."),J(),me()},fe=ce=>{var re;try{const te={...ce,senderName:ce.senderName||X(ce.senderType,ce.senderId),receiverName:ce.receiverName||X(ce.receiverType,ce.receiverId),items:((re=ce.items)==null?void 0:re.map(he=>{var se,oe;return{...he,itemTypeName:he.itemTypeName||((se=he.itemType)==null?void 0:se.name)||"Unknown Item",itemCategory:he.itemCategory||((oe=he.itemType)==null?void 0:oe.category)||"Unknown Category"}}))||[]};R(te),_(!0),z(`Opening transaction details for batch #${ce.batchNumber||"N/A"}`)}catch(te){L("Failed to open transaction details"),console.error("Error opening transaction modal:",te)}},X=(ce,re)=>{switch(ce){case"WAREHOUSE":return"Warehouse";case"EQUIPMENT":return"Equipment";case"EMPLOYEE":return"Employee";default:return"Unknown Entity"}},Z=()=>{_(!1),R(null),z("Transaction details closed")},V=[{header:"Technician",accessor:"technicianName"},{header:"Date",accessor:"maintenanceDate",render:ce=>q(ce.maintenanceDate)},{header:"Type",accessor:"maintenanceType"},{header:"Description",accessor:"description",render:ce=>{var re;return((re=ce.description)==null?void 0:re.length)>50?`${ce.description.substring(0,50)}...`:ce.description}},{header:"Status",accessor:"status",render:ce=>t.jsx("span",{className:`r4m-status-badge r4m-${ce.status.toLowerCase()}`,children:ce.status})},{header:"Transaction",accessor:"transaction",render:ce=>!ce.relatedTransactions||ce.relatedTransactions.length===0?t.jsx("span",{className:"r4m-no-transactions",title:"No transactions linked to this maintenance record",children:"None"}):t.jsx("div",{className:"r4m-transaction-buttons",children:ce.relatedTransactions.map((re,te)=>t.jsx("button",{className:"r4m-transaction-eye-button",title:`View Transaction ${re.batchNumber||"Details"} - Status: ${re.status||"Unknown"}`,onClick:()=>fe(re),children:t.jsx(K7,{})},re.id||te))})}],Y=G.canEdit||G.canDelete?[...G.canEdit?[{label:"Edit",icon:t.jsx(ga,{}),onClick:ce=>ie(ce),className:"primary"}]:[],...G.canDelete?[{label:"Delete",icon:t.jsx(Ua,{}),onClick:ce=>ae(ce),className:"danger"}]:[]]:[],ee=[{header:"Technician",accessor:"technicianName"},{header:"Type",accessor:"maintenanceType"},{header:"Status",accessor:"status"}];return t.jsxs("div",{className:"r4m-maintenance-log-container",children:[t.jsx("div",{className:"r4m-maintenance-content",children:d?t.jsxs("div",{className:"r4m-loading-state",children:[t.jsx("div",{className:"r4m-loading-spinner"}),t.jsx("p",{children:"Loading maintenance records..."})]}):f?t.jsx("div",{className:"r4m-error-state",children:t.jsxs("p",{children:["Error loading maintenance records: ",f]})}):t.jsx(Nt,{data:I,columns:V,actions:Y,onRowClick:K,loading:d,tableTitle:"Maintenance Records",showSearch:!0,showFilters:!0,filterableColumns:ee,emptyStateMessage:y?`No maintenance records found matching "${y}". Try different search terms or clear the search to see all records.`:"No maintenance records found. Create your first maintenance record using the Add button."})}),a&&G.canCreate&&t.jsx("button",{className:"r4m-add-maintenance-button",onClick:()=>{z("Opening maintenance creation form..."),n()},title:"Add new maintenance record",children:t.jsx("svg",{className:"r4m-plus-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})})}),x&&t.jsx(h8,{isOpen:x,onClose:B,equipmentId:e,maintenanceId:A,initialBatchNumber:P,onTransactionAdded:H}),t.jsx(Xd,{isOpen:D,onClose:Z,transaction:U}),w&&E&&t.jsx(f8,{isOpen:w,onClose:me,equipmentId:e,onMaintenanceAdded:de,editingMaintenance:E})]})}),np={getById:e=>ye.get(Ks.BY_ID(e)),getByBatchNumber:e=>ye.get(Ks.BY_BATCH(e)),create:e=>ye.post(Ks.CREATE,e),accept:(e,n)=>ye.post(Ks.ACCEPT(e),n),reject:(e,n)=>ye.post(Ks.REJECT(e),n),update:(e,n)=>ye.put(Ks.UPDATE(e),n),getTransactionsForWarehouse:e=>ye.get(Ks.BY_WAREHOUSE(e)),getTransactionsForEquipment:e=>ye.get(Ks.BY_EQUIPMENT(e))},J3={resolveDiscrepancy:e=>ye.post(Tm.RESOLVE_DISCREPANCY,e),getResolutionHistory:e=>ye.get(Tm.RESOLUTION_HISTORY(e)),getDiscrepancies:e=>ye.get(Tm.DISCREPANCIES(e)),getResolved:e=>ye.get(Tm.RESOLVED(e))},Moe=({isOpen:e,onClose:n,consumableHistory:r,itemDetails:a})=>{if(!e||!r)return null;const s=f=>f?new Date(f).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",o=f=>{switch(f){case"ACCEPTED":return"consumable-history-status-badge accepted";case"PENDING":return"consumable-history-status-badge pending";case"REJECTED":return"consumable-history-status-badge rejected";case"PARTIALLY_ACCEPTED":return"consumable-history-status-badge partially-accepted";case"DELIVERING":return"consumable-history-status-badge delivering";case"COMPLETED":return"consumable-history-status-badge completed";default:return"consumable-history-status-badge regular"}},l=f=>{switch(f){case"ACCEPTED":return"Accepted";case"PENDING":return"Pending";case"REJECTED":return"Rejected";case"PARTIALLY_ACCEPTED":return"Partially Accepted";case"DELIVERING":return"Delivering";default:return f||"Unknown"}},u=f=>{switch(f){case"WAREHOUSE":return"Warehouse";case"EQUIPMENT":return"Equipment";case"MERCHANT":return"Merchant";default:return f||"Unknown"}},d=f=>f&&(f.toLowerCase().includes("quantity mismatch")&&f.toLowerCase().includes("sender claimed")&&f.toLowerCase().includes("receiver claimed")?"Quantity mismatch":f),h=(f,p)=>p?f.receiverType==="EQUIPMENT"&&f.sentFirst===f.receiverId?p.quantity:p.receivedQuantity!==void 0?p.receivedQuantity:p.quantity:0;return t.jsx("div",{className:"consumables-history-modal-backdrop",children:t.jsxs("div",{className:"consumables-history-modal",children:[t.jsxs("div",{className:"consumables-history-modal-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsxs("div",{className:"item-info",children:[t.jsx("h2",{className:"item-name",children:a==null?void 0:a.itemTypeName}),t.jsx("span",{className:"item-category",children:a==null?void 0:a.itemTypeCategory}),t.jsx("span",{className:"history-description",children:"Transaction History - How This Consumable Came to Inventory"})]}),t.jsxs("div",{className:"summary-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-value",children:a==null?void 0:a.quantity}),t.jsx("span",{className:"stat-label",children:"Available"})]}),t.jsx("div",{className:"stat-divider"}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-value",children:r.length}),t.jsx("span",{className:"stat-label",children:"Transactions"})]})]})]}),t.jsx("button",{className:"close-modal-button",onClick:n,children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsx("div",{className:"consumables-history-modal-body",children:r.length>0?t.jsx("div",{className:"history-timeline",children:r.map((f,p)=>{let y=null;return f.items&&f.items.length>0&&(y=f.items.find(b=>{var x;return b.itemTypeId===((x=a==null?void 0:a.itemType)==null?void 0:x.id)}),y||(y=f.items.find(b=>b.itemTypeName===(a==null?void 0:a.itemTypeName))),y||(y=f.items[0])),t.jsxs("div",{className:"history-entry",children:[t.jsxs("div",{className:"history-entry-header",children:[t.jsxs("div",{className:"consumable-history-entry-type",children:[t.jsx("span",{className:o((y==null?void 0:y.status)||f.status),children:l((y==null?void 0:y.status)||f.status)}),f.batchNumber&&t.jsxs("span",{className:"consumable-history-batch-number",children:["Batch #",f.batchNumber]})]}),t.jsx("div",{className:"consumable-history-entry-date",children:s(f.completedAt||f.transactionDate)})]}),t.jsxs("div",{className:"consumable-history-entry-body",children:[y&&t.jsx("div",{className:"consumable-history-quantity-contribution",children:t.jsxs("div",{className:"consumable-history-contribution-header",children:[t.jsx("span",{className:"consumable-history-contribution-label",children:"Received:"}),t.jsxs("div",{className:"consumable-history-quantity-info",children:[t.jsx("span",{className:"quantity-value",children:h(f,y)}),t.jsx("span",{className:"quantity-unit",children:y.itemUnit||"units"})]})]})}),t.jsxs("div",{className:"consumable-history-transaction-flow",children:[t.jsxs("div",{className:"consumable-history-flow-info",children:[t.jsx("span",{className:"flow-label",children:"From:"}),t.jsx("span",{className:"flow-value",children:f.senderName||u(f.senderType)})]}),t.jsx("div",{className:"consumable-history-flow-arrow",children:""}),t.jsxs("div",{className:"consumable-history-flow-info",children:[t.jsx("span",{className:"flow-label",children:"To:"}),t.jsx("span",{className:"flow-value",children:f.receiverName||u(f.receiverType)})]})]}),f.addedBy&&t.jsxs("div",{className:"consumable-history-transaction-user",children:[t.jsx("span",{className:"user-label",children:"Added by:"}),t.jsx("span",{className:"user-value",children:f.addedBy})]}),f.acceptanceComment&&t.jsxs("div",{className:"consumable-history-entry-comment",children:[t.jsx("span",{className:"comment-label",children:"Note:"}),t.jsx("span",{className:"comment-value",children:f.acceptanceComment})]}),((y==null?void 0:y.rejectionReason)||f.rejectionReason)&&t.jsxs("div",{className:"consumable-history-entry-comment rejection",children:[t.jsx("span",{className:"comment-label",children:y!=null&&y.rejectionReason?"Item Rejection Reason:":"Transaction Rejection Reason:"}),t.jsx("span",{className:"comment-value",children:d((y==null?void 0:y.rejectionReason)||f.rejectionReason)})]})]})]},f.id||p)})}):t.jsxs("div",{className:"no-history",children:[t.jsx("div",{className:"empty-icon",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:t.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("h3",{children:"No Transaction History Found"}),t.jsx("p",{children:"No transactions found that contributed to this consumable being in inventory. This shows the transaction-based history of how this consumable came to exist in the equipment's inventory."})]})})]})})},Xn=({type:e="success",text:n,duration:r=3e3,isVisible:a=!1,onClose:s})=>{const[o,l]=g.useState(!1),[u,d]=g.useState("hidden"),h=165,f=535;return g.useEffect(()=>{if(a){l(!0),setTimeout(()=>{d("slide-in")},h);const p=setTimeout(()=>{d("slide-out");const y=setTimeout(()=>{l(!1),s&&s()},f);return()=>clearTimeout(y)},r);return()=>clearTimeout(p)}else{d("slide-out");const p=setTimeout(()=>{l(!1)},f);return()=>clearTimeout(p)}},[a,r]),o?t.jsxs("div",{className:`snackbar ${e}-snackbar ${u}`,children:[e==="success"?t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),t.jsx("path",{d:"M22 4L12 14.01l-3-3"})]}):t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),t.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),t.jsx("span",{children:n}),t.jsx("style",{jsx:!0,children:`
                .snackbar {
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%) translateY(-100px);
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    border-radius: 8px;
                    padding: 16px;
                    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
                    z-index: 1100;
                    opacity: 0;
                    transition: transform 0.535s ease, opacity 0.535s ease; /* Match this to the animationDuration value */
                }

                .snackbar.slide-in {
                    transform: translateX(-50%) translateY(0);
                    opacity: 1;
                }

                .snackbar.slide-out {
                    transform: translateX(-50%) translateY(-100px);
                    opacity: 0;
                }

                .snackbar svg {
                    width: 20px;
                    height: 20px;
                }

                .success-snackbar {
                    background-color: #ecfdf5; /* Light green background */
                    border-left: 4px solid #4ade80;
                }

                .success-snackbar svg {
                    color: #16a34a;
                }

                .success-snackbar span {
                    color: #065f46; /* Darker green text */
                }

                .error-snackbar {
                    background-color: #fef2f2; /* Light red background */
                    border-left: 4px solid #f87171;
                }

                .error-snackbar svg {
                    color: #dc2626;
                }

                .error-snackbar span {
                    color: #991b1b; /* Darker red text */
                }

                .snackbar span {
                    font-size: 14px;
                    font-weight: 500;
                }
            `})]}):null},_oe=g.forwardRef(({equipmentId:e,onAddClick:n},r)=>{const[a,s]=g.useState([]),[o,l]=g.useState(!0),[u,d]=g.useState(null),[h,f]=g.useState(""),[p,y]=g.useState("current"),[b,x]=g.useState(!1),[j,w]=g.useState(null),[T,A]=g.useState([]),[O,P]=g.useState(!1),[S,E]=g.useState(null),[k,D]=g.useState([]),[_,U]=g.useState(!1),[R,$]=g.useState({resolutionType:"",notes:"",transactionId:"",correctedQuantity:""}),{showInfo:L}=cn(),z=Xt(),W=Es(z),[M,F]=g.useState(!1),[G,J]=g.useState(""),[I,q]=g.useState("success"),B=(pe,je="success")=>{J(pe),q(je),F(!0)},H=()=>{F(!1)},K=async pe=>{if(!pe.transactionId){B("No transaction associated with this item","warning");return}try{const je=await np.getById(pe.transactionId);E(je.data),P(!0)}catch(je){console.error("Failed to fetch transaction details:",je),B("Failed to fetch transaction details","error")}},ie=async()=>{if(e)try{const pe=await J3.getResolutionHistory(e);D(pe.data)}catch(pe){console.error("Failed to fetch resolution history:",pe)}},ae=pe=>{w(pe),$({resolutionType:"",notes:"",transactionId:pe.transactionId||"",correctedQuantity:""}),U(!0)},me=pe=>{const{name:je,value:qe}=pe.target;$({...R,[je]:qe})},de=async pe=>{if(pe.preventDefault(),!!j)try{const je=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,qe={consumableId:j.id,resolutionType:R.resolutionType,notes:R.notes,transactionId:R.transactionId,resolvedBy:(je==null?void 0:je.username)||"system",...R.resolutionType==="COUNTING_ERROR"&&R.correctedQuantity&&{correctedQuantity:parseInt(R.correctedQuantity)}};await J3.resolveDiscrepancy(qe),fe(),ie(),re(),U(!1),B("Discrepancy resolved successfully","success")}catch(je){console.error("Failed to resolve consumable:",je),B("Failed to resolve discrepancy","error")}},fe=async()=>{try{l(!0);let pe;p==="resolutionHistory"?pe=await ht.getEquipmentConsumablesByCategory(e,"resolved"):p==="overReceived"?pe=await ht.getEquipmentConsumablesByCategory(e,"surplus"):pe=await ht.getEquipmentConsumablesByCategory(e,"current"),s(pe.data),console.log(`Consumables data for ${p}:`,pe.data),l(!1)}catch(pe){console.error("Error fetching consumables inventory:",pe),d(pe.message),l(!1)}},X=async pe=>{try{console.log(" Fetching consumable history for ID:",pe);const je=localStorage.getItem("token"),qe=await fetch(`http://localhost:8080/api/v1/equipment/consumables/${pe}/history`,{headers:{Authorization:`Bearer ${je}`}});if(qe.ok){const ke=await qe.json();console.log(" Fetched consumable history:",ke),A(ke)}else console.error("Failed to fetch consumable history, status:",qe.status),B("Failed to fetch consumable history","error")}catch(je){console.error("Failed to fetch consumable history:",je),B("Failed to fetch consumable history","error")}},Z=async pe=>{w(pe),await X(pe.id),x(!0)};g.useImperativeHandle(r,()=>({fetchConsumables:fe,refreshLogs:fe})),g.useEffect(()=>{e&&(fe(),re(),p==="resolutionHistory"&&ie())},[e,p]);const V=a.filter(pe=>{var qe,ke;return!h||(((qe=pe.itemTypeName)==null?void 0:qe.toLowerCase())||"").includes(h.toLowerCase())||(((ke=pe.itemTypeCategory)==null?void 0:ke.toLowerCase())||"").includes(h.toLowerCase())}),Y=pe=>{y(pe)},[ee,ce]=g.useState(0),re=async()=>{try{const pe=await ht.getEquipmentConsumablesByCategory(e,"surplus");ce(pe.data.length)}catch(pe){console.error("Error fetching overreceived count:",pe)}},te=pe=>{switch(pe){case"ACKNOWLEDGE_LOSS":return"Acknowledge Loss";case"FOUND_ITEMS":return"Items Found";case"REPORT_THEFT":return"Report Theft";case"ACCEPT_SURPLUS":return"Accept Surplus";case"COUNTING_ERROR":return"Counting Error";case"RETURN_TO_SENDER":return"Return to Sender";default:return pe}},he=pe=>{if(!pe)return"N/A";const je=new Date(pe);return je.toLocaleDateString()+" "+je.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},se=[{header:"Item Name",accessor:"itemTypeName"},{header:"Category",accessor:"itemTypeCategory"},{header:"Quantity",accessor:"quantity",render:(pe,je)=>t.jsx("span",{className:`quantity-value ${p==="overReceived"?"over-received":je<=5?"low-stock":""}`,children:je})},{header:"Unit",accessor:"unit"},{header:"Last Updated",accessor:"lastUpdated",render:(pe,je)=>je?new Date(je).toLocaleDateString():"N/A"},...p==="current"?[{header:"History",accessor:"history",render:pe=>t.jsx("button",{className:"history-button",title:"View History",onClick:()=>Z(pe),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}]:[],...p==="overReceived"?[{header:"Transaction",accessor:"transaction",render:pe=>t.jsx("button",{className:"transaction-view-button",title:"View Transaction",onClick:()=>K(pe),children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}]:[],...p==="overReceived"&&W.canEdit?[{header:"Actions",accessor:"actions",render:pe=>t.jsxs("button",{className:"resolve-button",title:"Resolve Surplus",onClick:()=>ae(pe),children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),"Resolve"]})}]:[]],oe=[{accessor:"consumable.itemType.itemCategory.name",header:"CATEGORY",width:"210px",render:pe=>{var je,qe,ke;return t.jsx("span",{className:"category-tag",children:((ke=(qe=(je=pe.consumable)==null?void 0:je.itemType)==null?void 0:qe.itemCategory)==null?void 0:ke.name)||"No Category"})}},{accessor:"consumable.itemType.name",header:"ITEM",width:"210px",render:pe=>{var je,qe;return((qe=(je=pe.consumable)==null?void 0:je.itemType)==null?void 0:qe.name)||"N/A"}},{accessor:"originalQuantity",header:"QUANTITY",width:"210px"},{accessor:"consumable.transaction.batchNumber",header:"BATCH #",width:"210px",render:pe=>{var je,qe;return t.jsx("span",{className:"batch-number",children:((qe=(je=pe.consumable)==null?void 0:je.transaction)==null?void 0:qe.batchNumber)||"N/A"})}},{accessor:"resolutionType",header:"RESOLUTION",width:"180px",render:pe=>{var je;return t.jsxs("div",{className:"resolution-type-cell",children:[t.jsx("span",{className:`resolution-badge ${(je=pe.resolutionType)==null?void 0:je.toLowerCase().replace("_","-")}`,children:te(pe.resolutionType)}),pe.resolutionType==="COUNTING_ERROR"&&pe.correctedQuantity&&t.jsxs("div",{className:"corrected-quantity-info",children:["Corrected: ",pe.correctedQuantity]}),!pe.fullyResolved&&t.jsx("div",{className:"unresolved-indicator",children:"Still Unresolved"})]})}},{accessor:"resolvedBy",header:"RESOLVED BY",width:"210px",render:pe=>pe.resolvedBy||"System"},{accessor:"resolvedAt",header:"RESOLVED AT",width:"250px",render:pe=>t.jsx("span",{className:"date-cell",children:he(pe.resolvedAt)})}],xe=[{header:"Item Name",accessor:"itemTypeName"},{header:"Category",accessor:"itemTypeCategory"},{header:"Quantity",accessor:"quantity"},{header:"Unit",accessor:"unit"},{header:"Batch Number",accessor:"batchNumber"},{header:"Last Updated",accessor:"lastUpdated"}];return t.jsxs("div",{className:"consumables-inventory",children:[t.jsxs("div",{className:"inventory-tabs",children:[t.jsxs("button",{className:`inventory-tab ${p==="current"?"active":""}`,onClick:()=>Y("current"),children:["Current Inventory",t.jsx("span",{className:"inventory-tab-count",children:a.filter(pe=>(!pe.status||pe.status==="REGULAR"||pe.status==="IN_WAREHOUSE"||pe.status==="CONSUMED")&&!pe.resolved).length})]}),t.jsxs("button",{className:`inventory-tab ${p==="overReceived"?"active":""}`,onClick:()=>Y("overReceived"),children:["Surplus Items",ee>0&&t.jsx("span",{className:"tab-badge",children:ee})]}),t.jsxs("button",{className:`inventory-tab ${p==="resolutionHistory"?"active":""}`,onClick:()=>Y("resolutionHistory"),children:["Resolution History",t.jsx("span",{className:"inventory-tab-count",children:a.filter(pe=>pe.resolved).length})]})]}),p==="overReceived"&&t.jsxs("div",{className:"resolution-info-card",children:[t.jsx("div",{className:"resolution-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),t.jsxs("div",{className:"resolution-info-content",children:[t.jsx("h3",{children:"Inventory Surplus"}),t.jsx("p",{children:"Items in this section represent surpluses (more received than expected). These items need to be reconciled and properly added to your inventory."})]})]}),p==="resolutionHistory"&&t.jsxs("div",{className:"resolution-info-card",children:[t.jsx("div",{className:"resolution-icon",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{className:"resolution-info-content",children:[t.jsx("h3",{children:"Resolution History"}),t.jsx("p",{children:"This section shows the complete history of all resolved consumable discrepancies. Each entry includes details about the original issue, the resolution action taken, and who resolved it."})]})]}),t.jsx("div",{className:"inventory-content",children:o?t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading consumables inventory..."})]}):u?t.jsx("div",{className:"error-state",children:t.jsxs("p",{children:["Error loading consumables: ",u]})}):p==="resolutionHistory"?t.jsx(Nt,{data:k,columns:oe,loading:o,tableTitle:"Resolution History",showSearch:!0,showFilters:!0,filterableColumns:[{accessor:"consumable.itemType.name",header:"Item"},{accessor:"consumable.itemType.itemCategory.name",header:"Category"},{accessor:"resolutionType",header:"Resolution Type"},{accessor:"resolvedBy",header:"Resolved By"}],itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,emptyMessage:"No resolution history found",className:"resolution-history-table"}):t.jsx(Nt,{data:V,columns:se,loading:o,tableTitle:`${p==="current"?"Current Inventory":"Surplus Items"}`,showSearch:!0,showFilters:!0,filterableColumns:xe,itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:5,emptyMessage:"No consumables found"})}),W.canCreate&&t.jsx("button",{className:"add-button2",onClick:n,children:t.jsx("svg",{className:"plus-icon2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})})}),t.jsx(Moe,{isOpen:b,onClose:()=>x(!1),consumableHistory:T,itemDetails:j}),t.jsx(Xd,{isOpen:O,onClose:()=>P(!1),transaction:S}),_&&j&&t.jsx("div",{className:"resolution-modal-backdrop",children:t.jsxs("div",{className:"resolution-modal",children:[t.jsxs("div",{className:"resolution-modal-header",children:[t.jsx("h2",{children:"Resolve Consumable Discrepancy"}),t.jsx("button",{className:"close-modal-button",onClick:()=>U(!1),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("div",{className:"resolution-modal-body",children:[t.jsxs("div",{className:"resolution-item-details",children:[t.jsxs("div",{className:"resolution-detail",children:[t.jsx("span",{className:"resolution-label",children:"Item:"}),t.jsx("span",{className:"resolution-value",children:j.itemTypeName})]}),t.jsxs("div",{className:"resolution-detail",children:[t.jsx("span",{className:"resolution-label",children:"Quantity:"}),t.jsxs("span",{className:"resolution-value",children:[j.quantity," ",j.unit||""]})]}),t.jsxs("div",{className:"resolution-detail",children:[t.jsx("span",{className:"resolution-label",children:"Status:"}),t.jsx("span",{className:"resolution-value",children:j.status==="OVERRECEIVED"?"Surplus":j.status})]}),t.jsxs("div",{className:"resolution-detail",children:[t.jsx("span",{className:"resolution-label",children:"Batch Number:"}),t.jsx("span",{className:"resolution-value",children:j.batchNumber||"N/A"})]})]}),t.jsxs("form",{onSubmit:de,className:"resolution-form",children:[t.jsxs("div",{className:"resolution-form-group",children:[t.jsx("label",{htmlFor:"resolutionType",children:"Resolution Type"}),t.jsxs("select",{id:"resolutionType",name:"resolutionType",value:R.resolutionType,onChange:me,required:!0,children:[t.jsx("option",{value:"",children:"Select Resolution Type"}),j.status==="MISSING"?t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"ACKNOWLEDGE_LOSS",children:"Acknowledge Loss"}),t.jsx("option",{value:"FOUND_ITEMS",children:"Items Found"}),t.jsx("option",{value:"REPORT_THEFT",children:"Report Theft"})]}):t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"ACCEPT_SURPLUS",children:"Accept Surplus"}),t.jsx("option",{value:"COUNTING_ERROR",children:"Counting Error"})]})]})]}),t.jsxs("div",{className:"resolution-form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Resolution Notes"}),t.jsx("textarea",{id:"notes",name:"notes",value:R.notes,onChange:me,placeholder:"Provide details about this resolution",rows:4,required:!0})]}),R.resolutionType==="COUNTING_ERROR"&&t.jsxs("div",{className:"resolution-form-group",children:[t.jsx("label",{htmlFor:"correctedQuantity",children:"Corrected Quantity*"}),t.jsx("input",{type:"number",id:"correctedQuantity",name:"correctedQuantity",value:R.correctedQuantity,onChange:me,placeholder:"Enter the actual quantity received",min:"0",required:!0}),t.jsx("small",{className:"help-text",children:"Enter the actual quantity you received for this item"})]}),t.jsx("div",{className:"resolution-confirmation",children:t.jsxs("p",{className:"resolution-confirmation-text",children:[R.resolutionType==="ACKNOWLEDGE_LOSS"&&"You are confirming that these items are lost and will be removed from inventory.",R.resolutionType==="FOUND_ITEMS"&&"You are confirming items were found and will be returned to regular inventory.",R.resolutionType==="REPORT_THEFT"&&"You are reporting theft. This will be logged and items will be written off.",R.resolutionType==="ACCEPT_SURPLUS"&&"You are accepting the surplus items. They will be marked as resolved.",R.resolutionType==="COUNTING_ERROR"&&"You are correcting the received quantity. The system will validate against the original transaction."]})}),t.jsxs("div",{className:"resolution-modal-footer",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>U(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"resolve-submit-button",disabled:!R.resolutionType||!R.notes||R.resolutionType==="COUNTING_ERROR"&&!R.correctedQuantity,children:"Resolve Discrepancy"})]})]})]})]})}),t.jsx(Xn,{isVisible:M,message:G,type:I,onClose:H})]})}),Ioe=g.forwardRef(({equipmentId:e},n)=>{var w,T,A,O,P;const[r,a]=g.useState(!0),[s,o]=g.useState(null),[l,u]=g.useState({consumablesOverTime:[],workHoursOverTime:[],maintenanceHistory:[],maintenanceAnalytics:null,sarkyAnalytics:null,consumableAnalytics:null,summaryStats:{totalWorkHours:0,totalConsumables:0,maintenanceEvents:0,averageWorkHours:0,totalWorkDays:0,workTypesUsed:0,uniqueDrivers:0,maintenanceCompletionRate:0,overdueMaintenanceEvents:0,meanTimeBetweenMaintenance:0}}),d=async()=>{var S,E,k,D,_,U,R;if(e)try{a(!0);const[$,L,z,W,M]=await Promise.allSettled([ht.getEquipmentConsumables(e),Ar.getByEquipment(e),ht.getSarkyAnalyticsForEquipment(e),cs.getAnalytics(e),ht.getConsumableAnalytics(e)]);let F=[];$.status==="fulfilled"&&((S=$.value)!=null&&S.data)&&(F=h($.value.data));let G=null;z.status==="fulfilled"&&((E=z.value)!=null&&E.data)&&(G=z.value.data);let J=null;W.status==="fulfilled"&&((k=W.value)!=null&&k.data)&&(J=W.value.data,console.log("Maintenance Analytics Data:",J));let I=null;M.status==="fulfilled"&&((D=M.value)!=null&&D.data)&&(I=M.value.data,console.log("Consumable Analytics Data:",I));let q=[];if(((_=G==null?void 0:G.monthlyWorkHours)==null?void 0:_.length)>0?(q=p(G),console.log("Using sarky analytics data for work hours chart:",q)):L.status==="fulfilled"&&((U=L.value)!=null&&U.data)&&(q=f(L.value.data),console.log("Using legacy sarky data for work hours chart:",q)),q.length===0&&(G==null?void 0:G.totalWorkHours)>0&&L.status==="fulfilled"&&((R=L.value)!=null&&R.data)){console.log("Creating fallback monthly data from raw sarky entries");const K=L.value.data;q=f(K),console.log("Fallback monthly data created:",q)}let B=[];J!=null&&J.monthlyBreakdown&&(B=J.monthlyBreakdown),console.log("Dashboard Data Summary:",{sarkyAnalytics:G?"Available":"Not Available",maintenanceAnalytics:J?"Available":"Not Available",workHoursDataPoints:q.length,totalWorkHours:(G==null?void 0:G.totalWorkHours)||0,totalMaintenanceEvents:(J==null?void 0:J.totalMaintenanceEvents)||0,maintenanceCompletionRate:(J==null?void 0:J.completionRate)||0,monthlyDataSample:q.slice(0,3),fullSarkyAnalytics:G,fullMaintenanceAnalytics:J});const H=y(F,q,B,G,J);u({consumablesOverTime:F,workHoursOverTime:q,maintenanceHistory:B,maintenanceAnalytics:J,sarkyAnalytics:G,consumableAnalytics:I,summaryStats:H})}catch($){console.error("Error fetching dashboard data:",$),o("Failed to load dashboard data")}finally{a(!1)}},h=S=>{if(!Array.isArray(S))return[];const E={};return S.forEach(k=>{if(k.transactionDate){const D=new Date(k.transactionDate),_=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}`;E[_]||(E[_]={month:_,totalQuantity:0,itemCount:0}),E[_].totalQuantity+=k.quantity||0,E[_].itemCount+=1}}),Object.values(E).sort((k,D)=>k.month.localeCompare(D.month)).slice(-12)},f=S=>{if(!Array.isArray(S))return[];const E={};return S.forEach(k=>{if(k.date){const D=new Date(k.date),_=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}`;E[_]||(E[_]={month:_,totalHours:0,workDays:0,entries:0,daysWorked:new Set}),E[_].totalHours+=k.workedHours||0,E[_].entries+=1,E[_].daysWorked.add(k.date)}}),Object.values(E).map(k=>({month:k.month,totalHours:k.totalHours,workDays:k.daysWorked.size,averageHoursPerDay:k.daysWorked.size>0?k.totalHours/k.daysWorked.size:0,entriesPerDay:k.daysWorked.size>0?k.entries/k.daysWorked.size:0,utilizationRate:Math.min(k.totalHours/(k.daysWorked.size*8)*100,100)})).sort((k,D)=>k.month.localeCompare(D.month)).slice(-12)},p=S=>{var E;return(E=S==null?void 0:S.monthlyWorkHours)!=null&&E.length?S.monthlyWorkHours.map(k=>({month:k.month,totalHours:k.totalHours,workDays:k.workDays,averageHoursPerDay:k.averageHoursPerDay,entriesPerDay:k.entriesPerDay||1,utilizationRate:Math.min(k.totalHours/(k.workDays*8)*100,100)})):[]},y=(S,E,k,D,_)=>{var q,B;const U=E.reduce((H,K)=>H+K.totalHours,0),R=S.reduce((H,K)=>H+K.totalQuantity,0),$=(_==null?void 0:_.totalMaintenanceEvents)||0,L=E.filter(H=>H.totalHours>0).length,z=L>0?U/L:0,W=(D==null?void 0:D.totalWorkDays)||0,M=((q=D==null?void 0:D.workTypeBreakdown)==null?void 0:q.length)||0,F=((B=D==null?void 0:D.driverBreakdown)==null?void 0:B.length)||0,G=(_==null?void 0:_.completionRate)||0,J=(_==null?void 0:_.overdueEvents)||0,I=(_==null?void 0:_.meanTimeBetweenEvents)||0;return{totalWorkHours:(D==null?void 0:D.totalWorkHours)||Math.round(U),totalConsumables:Math.round(R),maintenanceEvents:$,averageWorkHours:(D==null?void 0:D.averageHoursPerDay)||Math.round(z*10)/10,totalWorkDays:W,workTypesUsed:M,uniqueDrivers:F,maintenanceCompletionRate:Math.round(G*10)/10,overdueMaintenanceEvents:J,meanTimeBetweenMaintenance:Math.round(I*10)/10}},b=S=>{const[E,k]=S.split("-");return new Date(E,k-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})},x=["#4880ff","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"],j=({cx:S,cy:E,midAngle:k,innerRadius:D,outerRadius:_,percent:U,index:R})=>{if(U<.05)return null;const $=Math.PI/180,L=D+(_-D)*.5,z=S+L*Math.cos(-k*$),W=E+L*Math.sin(-k*$);return t.jsx("text",{x:z,y:W,fill:"white",textAnchor:z>S?"start":"end",dominantBaseline:"central",fontSize:"12",fontWeight:"bold",children:`${(U*100).toFixed(0)}%`})};return g.useImperativeHandle(n,()=>({refreshDashboard:d})),g.useEffect(()=>{d()},[e]),r?t.jsxs("div",{className:"equipment-dashboard-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading dashboard data..."})]}):s?t.jsxs("div",{className:"equipment-dashboard-error",children:[t.jsxs("p",{children:["Error: ",s]}),t.jsx("button",{onClick:d,children:"Retry"})]}):t.jsxs("div",{className:"equipment-dashboard",children:[t.jsxs("div",{className:"dashboard-stats",children:[t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-work-hours",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12,6 12,12 16,14"})]})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Total Work Hours"}),t.jsx("p",{className:"eq-dashboard-stat-value",children:l.summaryStats.totalWorkHours}),t.jsx("span",{className:"eq-dashboard-stat-label",children:l.summaryStats.totalWorkDays>0&&`${l.summaryStats.totalWorkDays} work days`})]})]}),t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-average-hours",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M9 11H1v3h8v3l5-4-5-4v2z"}),t.jsx("path",{d:"M22 12h-6"})]})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Average Hours/Day"}),t.jsx("p",{className:"eq-dashboard-stat-value",children:l.summaryStats.averageWorkHours}),t.jsx("span",{className:"eq-dashboard-stat-label",children:"Per work day"})]})]}),t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-work-types",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7z"}),t.jsx("path",{d:"M17 17H7v-3l-4 4 4 4v-3h12v-6h-2v4z"})]})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Work Types Used"}),t.jsx("p",{className:"eq-dashboard-stat-value",children:l.summaryStats.workTypesUsed}),t.jsx("span",{className:"eq-dashboard-stat-label",children:"Different types"})]})]}),t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-drivers",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Unique Drivers"}),t.jsx("p",{className:"eq-dashboard-stat-value",children:l.summaryStats.uniqueDrivers}),t.jsx("span",{className:"eq-dashboard-stat-label",children:"Total operators"})]})]}),t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-consumables",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Consumables Used"}),t.jsx("p",{className:"eq-dashboard-stat-value",children:l.summaryStats.totalConsumables}),t.jsx("span",{className:"eq-dashboard-stat-label",children:"Total quantity"})]})]}),t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-maintenance",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Maintenance Events"}),t.jsx("p",{className:"eq-dashboard-stat-value",children:l.summaryStats.maintenanceEvents}),t.jsx("span",{className:"eq-dashboard-stat-label",children:"Total recorded"})]})]}),t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-completion-rate",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),t.jsx("path",{d:"M22 4L12 14.01l-3-3"})]})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Completion Rate"}),t.jsxs("p",{className:"eq-dashboard-stat-value",children:[l.summaryStats.maintenanceCompletionRate,"%"]}),t.jsx("span",{className:"eq-dashboard-stat-label",children:"Maintenance completed"})]})]}),t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-overdue",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12,6 12,12 16,14"}),t.jsx("path",{d:"M17 3h4v4M21 7l-4-4M7 17l-4 4M3 21h4v-4"})]})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Overdue Maintenance"}),t.jsx("p",{className:"eq-dashboard-stat-value",style:{color:l.summaryStats.overdueMaintenanceEvents>0?"#f44336":"#10b981"},children:l.summaryStats.overdueMaintenanceEvents}),t.jsx("span",{className:"eq-dashboard-stat-label",children:"Scheduled past due"})]})]}),t.jsxs("div",{className:"eq-dashboard-stat-card",children:[t.jsx("div",{className:"eq-dashboard-stat-icon eq-dashboard-frequency",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),t.jsxs("div",{className:"eq-dashboard-stat-content",children:[t.jsx("h3",{children:"Avg. Time Between"}),t.jsx("p",{className:"eq-dashboard-stat-value",children:l.summaryStats.meanTimeBetweenMaintenance}),t.jsx("span",{className:"eq-dashboard-stat-label",children:"Days between maintenance"})]})]})]}),t.jsxs("div",{className:"dashboard-charts",children:[t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Consumables Usage Over Time"}),t.jsx("div",{className:"chart-container",children:t.jsx(yn,{width:"100%",height:300,children:t.jsxs(ei,{data:l.consumablesOverTime,children:[t.jsx(dr,{strokeDasharray:"3 3"}),t.jsx(Mn,{dataKey:"month",tickFormatter:b}),t.jsx(gn,{}),t.jsx(Pt,{labelFormatter:b,formatter:S=>[`${S} items`,"Total Consumables"]}),t.jsx(sn,{dataKey:"totalQuantity",fill:"#10b981",name:"Total Consumables"})]})})})]}),t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Maintenance History & Status Breakdown"}),t.jsxs("div",{className:"chart-container",children:[t.jsx(yn,{width:"100%",height:300,children:t.jsxs(ei,{data:l.maintenanceHistory,children:[t.jsx(dr,{strokeDasharray:"3 3"}),t.jsx(Mn,{dataKey:"month",tickFormatter:b}),t.jsx(gn,{}),t.jsx(Pt,{labelFormatter:b,formatter:(S,E)=>E==="totalEvents"?[`${S} events`,"Total Events"]:E==="completedEvents"?[`${S} events`,"Completed"]:E==="inProgressEvents"?[`${S} events`,"In Progress"]:E==="scheduledEvents"?[`${S} events`,"Scheduled"]:E==="cancelledEvents"?[`${S} events`,"Cancelled"]:[`${S} events`,E]}),t.jsx(sn,{dataKey:"completedEvents",stackId:"a",fill:"#10b981",name:"Completed"}),t.jsx(sn,{dataKey:"inProgressEvents",stackId:"a",fill:"#f59e0b",name:"In Progress"}),t.jsx(sn,{dataKey:"scheduledEvents",stackId:"a",fill:"#3b82f6",name:"Scheduled"}),t.jsx(sn,{dataKey:"cancelledEvents",stackId:"a",fill:"#ef4444",name:"Cancelled"})]})}),t.jsxs("div",{className:"chart-legend",children:[t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:"#10b981"}}),t.jsx("span",{className:"legend-label",children:"Completed"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:"#f59e0b"}}),t.jsx("span",{className:"legend-label",children:"In Progress"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:"#3b82f6"}}),t.jsx("span",{className:"legend-label",children:"Scheduled"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:"#ef4444"}}),t.jsx("span",{className:"legend-label",children:"Cancelled"})]})]})]})]}),((w=l.maintenanceAnalytics)==null?void 0:w.maintenanceTypeBreakdown)&&Object.keys(l.maintenanceAnalytics.maintenanceTypeBreakdown).length>0&&t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Maintenance Type Distribution"}),t.jsxs("div",{className:"chart-container",children:[t.jsx(yn,{width:"100%",height:300,children:t.jsxs(zi,{children:[t.jsx(sr,{data:Object.entries(l.maintenanceAnalytics.maintenanceTypeBreakdown).map(([S,E])=>({name:S,value:E,percentage:Math.round(E/l.maintenanceAnalytics.totalMaintenanceEvents*100)})),cx:"50%",cy:"50%",labelLine:!1,label:j,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",children:Object.entries(l.maintenanceAnalytics.maintenanceTypeBreakdown).map((S,E)=>t.jsx(Pa,{fill:x[E%x.length]},`cell-${E}`))}),t.jsx(Pt,{formatter:(S,E,k)=>[`${S} events (${k.payload.percentage}%)`,k.payload.name]})]})}),t.jsx("div",{className:"chart-legend",children:Object.entries(l.maintenanceAnalytics.maintenanceTypeBreakdown).map(([S,E],k)=>t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:x[k%x.length]}}),t.jsxs("span",{className:"legend-label",children:[S," (",E," events)"]})]},S))})]})]}),((T=l.maintenanceAnalytics)==null?void 0:T.technicianPerformance)&&Object.keys(l.maintenanceAnalytics.technicianPerformance).length>0&&t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Technician Performance"}),t.jsxs("div",{className:"chart-container",children:[t.jsx(yn,{width:"100%",height:300,children:t.jsxs(ei,{data:Object.entries(l.maintenanceAnalytics.technicianPerformance).map(([S,E])=>({technician:S.length>15?S.substring(0,15)+"...":S,fullName:S,totalJobs:E.totalJobs,completedJobs:E.completedJobs,completionRate:Math.round(E.completionRate*10)/10})),children:[t.jsx(dr,{strokeDasharray:"3 3"}),t.jsx(Mn,{dataKey:"technician",angle:-45,textAnchor:"end",height:80}),t.jsx(gn,{yAxisId:"jobs",orientation:"left"}),t.jsx(gn,{yAxisId:"rate",orientation:"right"}),t.jsx(Pt,{formatter:(S,E,k)=>E==="totalJobs"?[`${S} jobs`,"Total Jobs"]:E==="completedJobs"?[`${S} jobs`,"Completed Jobs"]:E==="completionRate"?[`${S}%`,"Completion Rate"]:[`${S}`,E],labelFormatter:(S,E)=>{var k,D;return((D=(k=E==null?void 0:E[0])==null?void 0:k.payload)==null?void 0:D.fullName)||S}}),t.jsx(sn,{yAxisId:"jobs",dataKey:"totalJobs",fill:"#6b7280",name:"Total Jobs"}),t.jsx(sn,{yAxisId:"jobs",dataKey:"completedJobs",fill:"#10b981",name:"Completed Jobs"})]})}),t.jsxs("div",{className:"chart-legend",children:[t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:"#6b7280"}}),t.jsx("span",{className:"legend-label",children:"Total Jobs"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:"#10b981"}}),t.jsx("span",{className:"legend-label",children:"Completed Jobs"})]})]})]})]}),l.consumableAnalytics&&t.jsxs(t.Fragment,{children:[l.consumableAnalytics.topConsumables&&Object.keys(l.consumableAnalytics.topConsumables).length>0&&t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Most Used Consumables"}),t.jsx("div",{className:"chart-container",children:t.jsx(yn,{width:"100%",height:300,children:t.jsxs(ei,{data:Object.entries(l.consumableAnalytics.topConsumables).map(([S,E])=>({itemName:S.length>20?S.substring(0,20)+"...":S,fullName:S,quantity:E})),margin:{top:20,right:30,left:20,bottom:80},children:[t.jsx(dr,{strokeDasharray:"3 3"}),t.jsx(Mn,{dataKey:"itemName",angle:-45,textAnchor:"end",height:80}),t.jsx(gn,{}),t.jsx(Pt,{formatter:(S,E,k)=>[`${S} units`,"Total Used"],labelFormatter:(S,E)=>{var k,D;return((D=(k=E==null?void 0:E[0])==null?void 0:k.payload)==null?void 0:D.fullName)||S}}),t.jsx(sn,{dataKey:"quantity",fill:"#10b981",name:"Total Used"})]})})})]}),l.consumableAnalytics.categoryBreakdown&&Object.keys(l.consumableAnalytics.categoryBreakdown).length>0&&t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Consumables by Category"}),t.jsxs("div",{className:"chart-container",children:[t.jsx(yn,{width:"100%",height:300,children:t.jsxs(zi,{children:[t.jsx(sr,{data:Object.entries(l.consumableAnalytics.categoryBreakdown).map(([S,E])=>({name:S,value:E.totalQuantity,items:E.totalItems,avgQuantity:Math.round(E.avgQuantity*100)/100})),cx:"50%",cy:"50%",labelLine:!1,label:j,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",children:Object.entries(l.consumableAnalytics.categoryBreakdown).map((S,E)=>t.jsx(Pa,{fill:x[E%x.length]},`cell-${E}`))}),t.jsx(Pt,{formatter:(S,E,k)=>[`${S} units (${k.payload.items} items)`,k.payload.name]})]})}),t.jsx("div",{className:"chart-legend",children:Object.entries(l.consumableAnalytics.categoryBreakdown).map(([S,E],k)=>t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:x[k%x.length]}}),t.jsxs("span",{className:"legend-label",children:[S," (",E.totalQuantity," units)"]})]},S))})]})]}),l.consumableAnalytics.monthlyTrends&&Object.keys(l.consumableAnalytics.monthlyTrends).length>0&&t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Monthly Consumption Trends"}),t.jsx("div",{className:"chart-container",children:t.jsx(yn,{width:"100%",height:300,children:t.jsxs(I2,{data:Object.entries(l.consumableAnalytics.monthlyTrends).map(([S,E])=>({month:S,totalQuantity:E.totalQuantity,totalItems:E.totalItems,uniqueTypes:E.uniqueTypes})).sort((S,E)=>S.month.localeCompare(E.month)),children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorQuantity",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),t.jsx(dr,{strokeDasharray:"3 3"}),t.jsx(Mn,{dataKey:"month",tickFormatter:b}),t.jsx(gn,{}),t.jsx(Pt,{labelFormatter:b,formatter:(S,E)=>E==="totalQuantity"?[`${S} units`,"Total Consumed"]:E==="totalItems"?[`${S} items`,"Total Items"]:E==="uniqueTypes"?[`${S} types`,"Unique Types"]:[`${S}`,E]}),t.jsx(pa,{type:"monotone",dataKey:"totalQuantity",stroke:"#10b981",fillOpacity:1,fill:"url(#colorQuantity)",name:"Total Consumed"})]})})})]})]}),l.sarkyAnalytics&&t.jsxs(t.Fragment,{children:[((A=l.sarkyAnalytics.workTypeBreakdown)==null?void 0:A.length)>0&&t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Work Type Distribution"}),t.jsxs("div",{className:"chart-container",children:[t.jsx(yn,{width:"100%",height:300,children:t.jsxs(zi,{children:[t.jsx(sr,{data:l.sarkyAnalytics.workTypeBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:j,outerRadius:80,fill:"#8884d8",dataKey:"totalHours",nameKey:"workTypeName",children:l.sarkyAnalytics.workTypeBreakdown.map((S,E)=>t.jsx(Pa,{fill:x[E%x.length]},`cell-${E}`))}),t.jsx(Pt,{formatter:(S,E,k)=>[`${S} hours (${k.payload.percentage}%)`,k.payload.workTypeName]})]})}),t.jsx("div",{className:"chart-legend",children:l.sarkyAnalytics.workTypeBreakdown.map((S,E)=>t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:x[E%x.length]}}),t.jsxs("span",{className:"legend-label",children:[S.workTypeName," (",S.totalHours,"h)"]})]},S.workTypeName))})]})]}),((O=l.sarkyAnalytics.driverBreakdown)==null?void 0:O.length)>0&&t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Driver Performance Distribution"}),t.jsxs("div",{className:"chart-container",children:[t.jsx(yn,{width:"100%",height:300,children:t.jsxs(zi,{children:[t.jsx(sr,{data:l.sarkyAnalytics.driverBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:j,outerRadius:80,fill:"#8884d8",dataKey:"totalHours",nameKey:"driverName",children:l.sarkyAnalytics.driverBreakdown.map((S,E)=>t.jsx(Pa,{fill:x[E%x.length]},`cell-${E}`))}),t.jsx(Pt,{formatter:(S,E,k)=>[`${S} hours (${k.payload.percentage}%)`,k.payload.driverName]})]})}),t.jsx("div",{className:"chart-legend",children:l.sarkyAnalytics.driverBreakdown.map((S,E)=>t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:x[E%x.length]}}),t.jsxs("span",{className:"legend-label",children:[S.driverName," (",S.totalHours,"h)"]})]},S.driverName))})]})]}),((P=l.sarkyAnalytics.monthlyWorkHours)==null?void 0:P.length)>0&&t.jsxs("div",{className:"chart-card",children:[t.jsx("h3",{children:"Detailed Monthly Work Analysis"}),t.jsxs("div",{className:"chart-container",children:[t.jsx(yn,{width:"100%",height:300,children:t.jsxs(ei,{data:l.sarkyAnalytics.monthlyWorkHours,children:[t.jsx(dr,{strokeDasharray:"3 3"}),t.jsx(Mn,{dataKey:"month",tickFormatter:b}),t.jsx(gn,{yAxisId:"hours",orientation:"left"}),t.jsx(gn,{yAxisId:"days",orientation:"right"}),t.jsx(Pt,{labelFormatter:b,formatter:(S,E)=>E==="totalHours"?[`${S} hours`,"Total Hours"]:E==="workDays"?[`${S} days`,"Work Days"]:E==="averageHoursPerDay"?[`${S} hours/day`,"Average Hours/Day"]:[`${S}`,E]}),t.jsx(sn,{yAxisId:"hours",dataKey:"totalHours",fill:"#4880ff",name:"Total Hours"}),t.jsx(sn,{yAxisId:"days",dataKey:"workDays",fill:"#10b981",name:"Work Days"})]})}),t.jsxs("div",{className:"chart-legend",children:[t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:"#4880ff"}}),t.jsx("span",{className:"legend-label",children:"Total Hours (Left Axis)"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("span",{className:"legend-color",style:{backgroundColor:"#10b981"}}),t.jsx("span",{className:"legend-label",children:"Work Days (Right Axis)"})]})]})]})]})]})]})]})});var Dm={exports:{}},Qs={},Pm={exports:{}},Vr={},Mm={exports:{}},Z3;function p8(){return Z3||(Z3=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",a="contents",s=/^(input|select|textarea|button|object|iframe)$/;function o(p,y){return y.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function l(p){var y=p.offsetWidth<=0&&p.offsetHeight<=0;if(y&&!p.innerHTML)return!0;try{var b=window.getComputedStyle(p),x=b.getPropertyValue("display");return y?x!==a&&o(p,b):x===r}catch{return console.warn("Failed to inspect element style"),!1}}function u(p){for(var y=p,b=p.getRootNode&&p.getRootNode();y&&y!==document.body;){if(b&&y===b&&(y=b.host.parentNode),l(y))return!1;y=y.parentNode}return!0}function d(p,y){var b=p.nodeName.toLowerCase(),x=s.test(b)&&!p.disabled||b==="a"&&p.href||y;return x&&u(p)}function h(p){var y=p.getAttribute("tabindex");y===null&&(y=void 0);var b=isNaN(y);return(b||y>=0)&&d(p,!b)}function f(p){var y=[].slice.call(p.querySelectorAll("*"),0).reduce(function(b,x){return b.concat(x.shadowRoot?f(x.shadowRoot):[x])},[]);return y.filter(h)}e.exports=n.default}(Mm,Mm.exports)),Mm.exports}var eM;function Roe(){if(eM)return Vr;eM=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.resetState=l,Vr.log=u,Vr.handleBlur=d,Vr.handleFocus=h,Vr.markForFocusLater=f,Vr.returnFocus=p,Vr.popWithoutFocus=y,Vr.setupScopedFocus=b,Vr.teardownScopedFocus=x;var e=p8(),n=r(e);function r(j){return j&&j.__esModule?j:{default:j}}var a=[],s=null,o=!1;function l(){a=[]}function u(){}function d(){o=!0}function h(){if(o){if(o=!1,!s)return;setTimeout(function(){if(!s.contains(document.activeElement)){var j=(0,n.default)(s)[0]||s;j.focus()}},0)}}function f(){a.push(document.activeElement)}function p(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,w=null;try{a.length!==0&&(w=a.pop(),w.focus({preventScroll:j}));return}catch{console.warn(["You tried to return focus to",w,"but it is not in the DOM anymore"].join(" "))}}function y(){a.length>0&&a.pop()}function b(j){s=j,window.addEventListener?(window.addEventListener("blur",d,!1),document.addEventListener("focus",h,!0)):(window.attachEvent("onBlur",d),document.attachEvent("onFocus",h))}function x(){s=null,window.addEventListener?(window.removeEventListener("blur",d),document.removeEventListener("focus",h)):(window.detachEvent("onBlur",d),document.detachEvent("onFocus",h))}return Vr}var _m={exports:{}},tM;function qoe(){return tM||(tM=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var r=p8(),a=s(r);function s(u){return u&&u.__esModule?u:{default:u}}function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return u.activeElement.shadowRoot?o(u.activeElement.shadowRoot):u.activeElement}function l(u,d){var h=(0,a.default)(u);if(!h.length){d.preventDefault();return}var f=void 0,p=d.shiftKey,y=h[0],b=h[h.length-1],x=o();if(u===x){if(!p)return;f=b}if(b===x&&!p&&(f=y),y===x&&p&&(f=b),f){d.preventDefault(),f.focus();return}var j=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=j!=null&&j[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var T=h.indexOf(x);if(T>-1&&(T+=p?-1:1),f=h[T],typeof f>"u"){d.preventDefault(),f=p?b:y,f.focus();return}d.preventDefault(),f.focus()}}e.exports=n.default}(_m,_m.exports)),_m.exports}var ia={},Sj,nM;function Loe(){if(nM)return Sj;nM=1;var e=function(){};return Sj=e,Sj}var Oa={},Ej={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var rM;function $oe(){return rM||(rM=1,function(e){(function(){var n=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:n,canUseWorkers:typeof Worker<"u",canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen};e.exports?e.exports=r:window.ExecutionEnvironment=r})()}(Ej)),Ej.exports}var aM;function W2(){if(aM)return Oa;aM=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.canUseDOM=Oa.SafeNodeList=Oa.SafeHTMLCollection=void 0;var e=$oe(),n=r(e);function r(o){return o&&o.__esModule?o:{default:o}}var a=n.default,s=a.canUseDOM?window.HTMLElement:{};return Oa.SafeHTMLCollection=a.canUseDOM?window.HTMLCollection:{},Oa.SafeNodeList=a.canUseDOM?window.NodeList:{},Oa.canUseDOM=a.canUseDOM,Oa.default=s,Oa}var sM;function v8(){if(sM)return ia;sM=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.resetState=o,ia.log=l,ia.assertNodeList=u,ia.setElement=d,ia.validateElement=h,ia.hide=f,ia.show=p,ia.documentNotReadyOrSSRTesting=y;var e=Loe(),n=a(e),r=W2();function a(b){return b&&b.__esModule?b:{default:b}}var s=null;function o(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):s.length!=null?s.forEach(function(b){return b.removeAttribute("aria-hidden")}):document.querySelectorAll(s).forEach(function(b){return b.removeAttribute("aria-hidden")})),s=null}function l(){}function u(b,x){if(!b||!b.length)throw new Error("react-modal: No elements were found for selector "+x+".")}function d(b){var x=b;if(typeof x=="string"&&r.canUseDOM){var j=document.querySelectorAll(x);u(j,x),x=j}return s=x||s,s}function h(b){var x=b||s;return x?Array.isArray(x)||x instanceof HTMLCollection||x instanceof NodeList?x:[x]:((0,n.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function f(b){var x=!0,j=!1,w=void 0;try{for(var T=h(b)[Symbol.iterator](),A;!(x=(A=T.next()).done);x=!0){var O=A.value;O.setAttribute("aria-hidden","true")}}catch(P){j=!0,w=P}finally{try{!x&&T.return&&T.return()}finally{if(j)throw w}}}function p(b){var x=!0,j=!1,w=void 0;try{for(var T=h(b)[Symbol.iterator](),A;!(x=(A=T.next()).done);x=!0){var O=A.value;O.removeAttribute("aria-hidden")}}catch(P){j=!0,w=P}finally{try{!x&&T.return&&T.return()}finally{if(j)throw w}}}function y(){s=null}return ia}var _i={},iM;function Boe(){if(iM)return _i;iM=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.resetState=a,_i.log=s;var e={},n={};function r(h,f){h.classList.remove(f)}function a(){var h=document.getElementsByTagName("html")[0];for(var f in e)r(h,e[f]);var p=document.body;for(var y in n)r(p,n[y]);e={},n={}}function s(){}var o=function(f,p){return f[p]||(f[p]=0),f[p]+=1,p},l=function(f,p){return f[p]&&(f[p]-=1),p},u=function(f,p,y){y.forEach(function(b){o(p,b),f.add(b)})},d=function(f,p,y){y.forEach(function(b){l(p,b),p[b]===0&&f.remove(b)})};return _i.add=function(f,p){return u(f.classList,f.nodeName.toLowerCase()=="html"?e:n,p.split(" "))},_i.remove=function(f,p){return d(f.classList,f.nodeName.toLowerCase()=="html"?e:n,p.split(" "))},_i}var ml={},oM;function y8(){if(oM)return ml;oM=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.log=a,ml.resetState=s;function e(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var n=function o(){var l=this;e(this,o),this.register=function(u){l.openInstances.indexOf(u)===-1&&(l.openInstances.push(u),l.emit("register"))},this.deregister=function(u){var d=l.openInstances.indexOf(u);d!==-1&&(l.openInstances.splice(d,1),l.emit("deregister"))},this.subscribe=function(u){l.subscribers.push(u)},this.emit=function(u){l.subscribers.forEach(function(d){return d(u,l.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},r=new n;function a(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach(function(o){return console.log(o)}),console.log("end portalOpenInstances ----------")}function s(){r=new n}return ml.default=r,ml}var Cu={},lM;function Uoe(){if(lM)return Cu;lM=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.resetState=l,Cu.log=u;var e=y8(),n=r(e);function r(f){return f&&f.__esModule?f:{default:f}}var a=void 0,s=void 0,o=[];function l(){for(var f=[a,s],p=0;p<f.length;p++){var y=f[p];y&&y.parentNode&&y.parentNode.removeChild(y)}a=s=null,o=[]}function u(){console.log("bodyTrap ----------"),console.log(o.length);for(var f=[a,s],p=0;p<f.length;p++){var y=f[p],b=y||{};console.log(b.nodeName,b.className,b.id)}console.log("edn bodyTrap ----------")}function d(){o.length!==0&&o[o.length-1].focusContent()}function h(f,p){!a&&!s&&(a=document.createElement("div"),a.setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",d),s=a.cloneNode(),s.addEventListener("focus",d)),o=p,o.length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}return n.default.subscribe(h),Cu}var cM;function Foe(){return cM||(cM=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(z){for(var W=1;W<arguments.length;W++){var M=arguments[W];for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&(z[F]=M[F])}return z},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},s=function(){function z(W,M){for(var F=0;F<M.length;F++){var G=M[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(W,G.key,G)}}return function(W,M,F){return M&&z(W.prototype,M),F&&z(W,F),W}}(),o=Rd(),l=w2(),u=S(l),d=Roe(),h=P(d),f=qoe(),p=S(f),y=v8(),b=P(y),x=Boe(),j=P(x),w=W2(),T=S(w),A=y8(),O=S(A);Uoe();function P(z){if(z&&z.__esModule)return z;var W={};if(z!=null)for(var M in z)Object.prototype.hasOwnProperty.call(z,M)&&(W[M]=z[M]);return W.default=z,W}function S(z){return z&&z.__esModule?z:{default:z}}function E(z,W){if(!(z instanceof W))throw new TypeError("Cannot call a class as a function")}function k(z,W){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:z}function D(z,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);z.prototype=Object.create(W&&W.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(z,W):z.__proto__=W)}var _={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(W){return W.code==="Tab"||W.keyCode===9},R=function(W){return W.code==="Escape"||W.keyCode===27},$=0,L=function(z){D(W,z);function W(M){E(this,W);var F=k(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,M));return F.setOverlayRef=function(G){F.overlay=G,F.props.overlayRef&&F.props.overlayRef(G)},F.setContentRef=function(G){F.content=G,F.props.contentRef&&F.props.contentRef(G)},F.afterClose=function(){var G=F.props,J=G.appElement,I=G.ariaHideApp,q=G.htmlOpenClassName,B=G.bodyOpenClassName,H=G.parentSelector,K=H&&H().ownerDocument||document;B&&j.remove(K.body,B),q&&j.remove(K.getElementsByTagName("html")[0],q),I&&$>0&&($-=1,$===0&&b.show(J)),F.props.shouldFocusAfterRender&&(F.props.shouldReturnFocusAfterClose?(h.returnFocus(F.props.preventScroll),h.teardownScopedFocus()):h.popWithoutFocus()),F.props.onAfterClose&&F.props.onAfterClose(),O.default.deregister(F)},F.open=function(){F.beforeOpen(),F.state.afterOpen&&F.state.beforeClose?(clearTimeout(F.closeTimer),F.setState({beforeClose:!1})):(F.props.shouldFocusAfterRender&&(h.setupScopedFocus(F.node),h.markForFocusLater()),F.setState({isOpen:!0},function(){F.openAnimationFrame=requestAnimationFrame(function(){F.setState({afterOpen:!0}),F.props.isOpen&&F.props.onAfterOpen&&F.props.onAfterOpen({overlayEl:F.overlay,contentEl:F.content})})}))},F.close=function(){F.props.closeTimeoutMS>0?F.closeWithTimeout():F.closeWithoutTimeout()},F.focusContent=function(){return F.content&&!F.contentHasFocus()&&F.content.focus({preventScroll:!0})},F.closeWithTimeout=function(){var G=Date.now()+F.props.closeTimeoutMS;F.setState({beforeClose:!0,closesAt:G},function(){F.closeTimer=setTimeout(F.closeWithoutTimeout,F.state.closesAt-Date.now())})},F.closeWithoutTimeout=function(){F.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},F.afterClose)},F.handleKeyDown=function(G){U(G)&&(0,p.default)(F.content,G),F.props.shouldCloseOnEsc&&R(G)&&(G.stopPropagation(),F.requestClose(G))},F.handleOverlayOnClick=function(G){F.shouldClose===null&&(F.shouldClose=!0),F.shouldClose&&F.props.shouldCloseOnOverlayClick&&(F.ownerHandlesClose()?F.requestClose(G):F.focusContent()),F.shouldClose=null},F.handleContentOnMouseUp=function(){F.shouldClose=!1},F.handleOverlayOnMouseDown=function(G){!F.props.shouldCloseOnOverlayClick&&G.target==F.overlay&&G.preventDefault()},F.handleContentOnClick=function(){F.shouldClose=!1},F.handleContentOnMouseDown=function(){F.shouldClose=!1},F.requestClose=function(G){return F.ownerHandlesClose()&&F.props.onRequestClose(G)},F.ownerHandlesClose=function(){return F.props.onRequestClose},F.shouldBeClosed=function(){return!F.state.isOpen&&!F.state.beforeClose},F.contentHasFocus=function(){return document.activeElement===F.content||F.content.contains(document.activeElement)},F.buildClassName=function(G,J){var I=(typeof J>"u"?"undefined":a(J))==="object"?J:{base:_[G],afterOpen:_[G]+"--after-open",beforeClose:_[G]+"--before-close"},q=I.base;return F.state.afterOpen&&(q=q+" "+I.afterOpen),F.state.beforeClose&&(q=q+" "+I.beforeClose),typeof J=="string"&&J?q+" "+J:q},F.attributesFromObject=function(G,J){return Object.keys(J).reduce(function(I,q){return I[G+"-"+q]=J[q],I},{})},F.state={afterOpen:!1,beforeClose:!1},F.shouldClose=null,F.moveFromContentToOverlay=null,F}return s(W,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(F,G){this.props.isOpen&&!F.isOpen?this.open():!this.props.isOpen&&F.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!G.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var F=this.props,G=F.appElement,J=F.ariaHideApp,I=F.htmlOpenClassName,q=F.bodyOpenClassName,B=F.parentSelector,H=B&&B().ownerDocument||document;q&&j.add(H.body,q),I&&j.add(H.getElementsByTagName("html")[0],I),J&&($+=1,b.hide(G)),O.default.register(this)}},{key:"render",value:function(){var F=this.props,G=F.id,J=F.className,I=F.overlayClassName,q=F.defaultStyles,B=F.children,H=J?{}:q.content,K=I?{}:q.overlay;if(this.shouldBeClosed())return null;var ie={ref:this.setOverlayRef,className:this.buildClassName("overlay",I),style:r({},K,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ae=r({id:G,ref:this.setContentRef,style:r({},H,this.props.style.content),className:this.buildClassName("content",J),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),me=this.props.contentElement(ae,B);return this.props.overlayElement(ie,me)}}]),W}(o.Component);L.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},L.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),parentSelector:u.default.func,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.oneOfType([u.default.instanceOf(T.default),u.default.instanceOf(w.SafeHTMLCollection),u.default.instanceOf(w.SafeNodeList),u.default.arrayOf(u.default.instanceOf(T.default))]),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func,testId:u.default.string},n.default=L,e.exports=n.default}(Pm,Pm.exports)),Pm.exports}function g8(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function x8(e){function n(r){var a=this.constructor.getDerivedStateFromProps(e,r);return a??null}this.setState(n.bind(this))}function b8(e,n){try{var r=this.props,a=this.state;this.props=e,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}g8.__suppressDeprecationWarning=!0;x8.__suppressDeprecationWarning=!0;b8.__suppressDeprecationWarning=!0;function Hoe(e){var n=e.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function")return e;var r=null,a=null,s=null;if(typeof n.componentWillMount=="function"?r="componentWillMount":typeof n.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof n.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof n.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof n.componentWillUpdate=="function"?s="componentWillUpdate":typeof n.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||a!==null||s!==null){var o=e.displayName||e.name,l=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(n.componentWillMount=g8,n.componentWillReceiveProps=x8),typeof n.getSnapshotBeforeUpdate=="function"){if(typeof n.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=b8;var u=n.componentDidUpdate;n.componentDidUpdate=function(h,f,p){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;u.call(this,h,f,y)}}return e}const zoe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Hoe},Symbol.toStringTag,{value:"Module"})),Woe=P5(zoe);var uM;function Voe(){if(uM)return Qs;uM=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.bodyOpenClassName=Qs.portalClassName=void 0;var e=Object.assign||function(R){for(var $=1;$<arguments.length;$++){var L=arguments[$];for(var z in L)Object.prototype.hasOwnProperty.call(L,z)&&(R[z]=L[z])}return R},n=function(){function R($,L){for(var z=0;z<L.length;z++){var W=L[z];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty($,W.key,W)}}return function($,L,z){return L&&R($.prototype,L),z&&R($,z),$}}(),r=Rd(),a=w(r),s=mM(),o=w(s),l=w2(),u=w(l),d=Foe(),h=w(d),f=v8(),p=j(f),y=W2(),b=w(y),x=Woe;function j(R){if(R&&R.__esModule)return R;var $={};if(R!=null)for(var L in R)Object.prototype.hasOwnProperty.call(R,L)&&($[L]=R[L]);return $.default=R,$}function w(R){return R&&R.__esModule?R:{default:R}}function T(R,$){if(!(R instanceof $))throw new TypeError("Cannot call a class as a function")}function A(R,$){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:R}function O(R,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);R.prototype=Object.create($&&$.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(R,$):R.__proto__=$)}var P=Qs.portalClassName="ReactModalPortal",S=Qs.bodyOpenClassName="ReactModal__Body--open",E=y.canUseDOM&&o.default.createPortal!==void 0,k=function($){return document.createElement($)},D=function(){return E?o.default.createPortal:o.default.unstable_renderSubtreeIntoContainer};function _(R){return R()}var U=function(R){O($,R);function $(){var L,z,W,M;T(this,$);for(var F=arguments.length,G=Array(F),J=0;J<F;J++)G[J]=arguments[J];return M=(z=(W=A(this,(L=$.__proto__||Object.getPrototypeOf($)).call.apply(L,[this].concat(G))),W),W.removePortal=function(){!E&&o.default.unmountComponentAtNode(W.node);var I=_(W.props.parentSelector);I&&I.contains(W.node)?I.removeChild(W.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},W.portalRef=function(I){W.portal=I},W.renderPortal=function(I){var q=D(),B=q(W,a.default.createElement(h.default,e({defaultStyles:$.defaultStyles},I)),W.node);W.portalRef(B)},z),A(W,M)}return n($,[{key:"componentDidMount",value:function(){if(y.canUseDOM){E||(this.node=k("div")),this.node.className=this.props.portalClassName;var z=_(this.props.parentSelector);z.appendChild(this.node),!E&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(z){var W=_(z.parentSelector),M=_(this.props.parentSelector);return{prevParent:W,nextParent:M}}},{key:"componentDidUpdate",value:function(z,W,M){if(y.canUseDOM){var F=this.props,G=F.isOpen,J=F.portalClassName;z.portalClassName!==J&&(this.node.className=J);var I=M.prevParent,q=M.nextParent;q!==I&&(I.removeChild(this.node),q.appendChild(this.node)),!(!z.isOpen&&!G)&&!E&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!y.canUseDOM||!this.node||!this.portal)){var z=this.portal.state,W=Date.now(),M=z.isOpen&&this.props.closeTimeoutMS&&(z.closesAt||W+this.props.closeTimeoutMS);M?(z.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,M-W)):this.removePortal()}}},{key:"render",value:function(){if(!y.canUseDOM||!E)return null;!this.node&&E&&(this.node=k("div"));var z=D();return z(a.default.createElement(h.default,e({ref:this.portalRef,defaultStyles:$.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(z){p.setElement(z)}}]),$}(r.Component);return U.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(b.default),u.default.instanceOf(y.SafeHTMLCollection),u.default.instanceOf(y.SafeNodeList),u.default.arrayOf(u.default.instanceOf(b.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},U.defaultProps={isOpen:!1,portalClassName:P,bodyOpenClassName:S,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function($,L){return a.default.createElement("div",$,L)},contentElement:function($,L){return a.default.createElement("div",$,L)}},U.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,x.polyfill)(U),Qs.default=U,Qs}var dM;function Yoe(){return dM||(dM=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=Voe(),a=s(r);function s(o){return o&&o.__esModule?o:{default:o}}n.default=a.default,e.exports=n.default}(Dm,Dm.exports)),Dm.exports}var Goe=Yoe();const Koe=kt(Goe),Qoe=({isOpen:e,onClose:n,equipmentId:r,equipmentData:a,onTransactionAdded:s})=>{const{showSuccess:o,showError:l}=cn(),u=B=>{const H=new Date(B),K=H.getFullYear(),ie=String(H.getMonth()+1).padStart(2,"0"),ae=String(H.getDate()).padStart(2,"0"),me=String(H.getHours()).padStart(2,"0"),de=String(H.getMinutes()).padStart(2,"0");return`${K}-${ie}-${ae}T${me}:${de}`},[d,h]=g.useState({transactionDate:u(new Date),items:[{itemType:{id:""},quantity:"1"}],senderType:"WAREHOUSE",senderId:"",receiverType:"EQUIPMENT",receiverId:r,batchNumber:""}),[f,p]=g.useState(!1),[y,b]=g.useState([]),[x,j]=g.useState(""),[w,T]=g.useState([]),[A,O]=g.useState([]),[P,S]=g.useState([]),[E,k]=g.useState([]),[D,_]=g.useState(!1),[U,R]=g.useState(null),$=B=>{const{name:H,value:K}=B.target;h({...d,[H]:K}),H==="batchNumber"&&(R(null),K&&G(K))},L=(B,H,K)=>{const ie=[...d.items];H==="itemTypeId"?ie[B]={...ie[B],itemType:{id:K}}:ie[B]={...ie[B],[H]:K},h({...d,items:ie})},z=()=>{h({...d,items:[...d.items,{itemType:{id:""},quantity:"1"}]})},W=B=>{if(d.items.length<=1)return;const H=d.items.filter((K,ie)=>ie!==B);h({...d,items:H})},M=B=>{const H=d.items.filter((K,ie)=>ie!==B&&!!K.itemType.id).map(K=>K.itemType.id);return P.filter(K=>!H.includes(K.id))},F=B=>M(B).map(K=>t.jsxs("option",{value:K.id,children:[K.name," ",K.measuringUnit?`(${K.measuringUnit})`:""]},K.id)),G=async(B=null)=>{var K,ie;const H=B||d.batchNumber;if(!H){l("Please enter a batch number to verify");return}_(!0);try{const ae=await np.getByBatchNumber(H);if(ae.data&&ae.data.id){let me=ae.data.status;R(me==="PENDING"?{found:!0,transaction:ae.data,message:"Transaction found! It will be linked to this consumable record."}:{found:!0,error:!0,transaction:ae.data,message:`Transaction found but it's already ${me}. Only PENDING transactions can be linked.`})}}catch(ae){console.error("Error verifying batch number:",ae),ae.response&&ae.response.status===404?R({found:!1,message:"No transaction found with this batch number. You can proceed with creating a new transaction."}):R({found:!1,error:!0,message:"Error verifying batch number: "+(((ie=(K=ae.response)==null?void 0:K.data)==null?void 0:ie.message)||ae.message)})}finally{_(!1)}},J=async B=>{var H,K;B.preventDefault(),p(!0);try{if(U&&U.found){l("Cannot add transaction: This batch number is already in use."),p(!1);return}for(const de of d.items)if(!de.itemType.id||!de.quantity){alert("Please complete all item fields"),p(!1);return}const ie=d.items.map(de=>({itemTypeId:de.itemType.id,quantity:parseInt(de.quantity)}));let ae="";if(d.transactionDate){const de=new Date(d.transactionDate).toISOString().split(".")[0];ae=`&transactionDate=${encodeURIComponent(de)}`}const me=await ht.receiveTransaction(r,d.senderId,"WAREHOUSE",parseInt(d.batchNumber),"CONSUMABLE",ie,d.transactionDate);console.log("Transaction created:",me.data),s&&s(),n(),o("Transaction Request Sent Successfully")}catch(ie){l("Error submitting form: "+(((K=(H=ie.response)==null?void 0:H.data)==null?void 0:K.message)||ie.message)),console.error("Error:",ie)}finally{p(!1)}},I=async()=>{try{const B=await zt.getAll();b(B.data)}catch(B){console.error("Error fetching sites:",B)}},q=async B=>{try{const H=await zt.getSiteWarehouses(B);T(H.data)}catch(H){console.error("Error fetching warehouses for site:",H)}};return g.useEffect(()=>{x&&(q(x),h(B=>({...B,senderId:""})))},[x]),g.useEffect(()=>{d.senderId&&(h(B=>{const H=B.items.map(K=>({...K,itemType:{id:""},quantity:"1"}));return{...B,items:H}}),S([]),m8.getAll().then(B=>{O(B.data),S(B.data)}).catch(B=>console.error("Error fetching item types:",B)))},[d.senderId]),g.useEffect(()=>{var B;e&&(h({transactionDate:u(new Date),items:[{itemType:{id:""},quantity:"1"}],senderType:"WAREHOUSE",senderId:"",receiverType:"EQUIPMENT",receiverId:r,batchNumber:""}),(B=a==null?void 0:a.site)!=null&&B.id&&(j(a.site.id),q(a.site.id)),I())},[e,r,a]),e?t.jsx("div",{className:"add-consumables-modal-backdrop",children:t.jsxs("div",{className:"add-consumables-modal",children:[t.jsxs("div",{className:"add-consumables-modal-header",children:[t.jsx("h2",{children:"Add Consumables Transaction"}),t.jsx("button",{className:"add-consumables-close-modal",onClick:n,children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("form",{className:"add-consumables-form-transaction",onSubmit:J,children:[t.jsxs("div",{className:"add-consumables-form-group add-consumables-full-width",children:[t.jsx("label",{htmlFor:"transactionDate",children:"Transaction Date"}),t.jsx("input",{type:"datetime-local",id:"transactionDate",name:"transactionDate",value:d.transactionDate,onChange:$,required:!0})]}),t.jsxs("div",{className:"add-consumables-form-group add-consumables-full-width",children:[t.jsx("label",{htmlFor:"batchNumber",children:"Batch Number"}),t.jsx("div",{className:"add-consumables-batch-input-group",children:t.jsx("input",{type:"number",id:"batchNumber",name:"batchNumber",value:d.batchNumber,onChange:$,min:"1",placeholder:"Enter batch number",required:!0})}),U&&t.jsxs("div",{className:`add-consumables-batch-verification-result ${U.found&&!U.error?"add-consumables-success":"add-consumables-warning"}`,children:[t.jsx("div",{className:"add-consumables-verification-icon",children:U.found&&!U.error?t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),t.jsx("path",{d:"M22 4L12 14.01l-3-3"})]}):t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 8v4M12 16h.01"})]})}),t.jsx("span",{children:U.message})]})]}),t.jsxs("div",{className:"add-consumables-form-row",children:[t.jsxs("div",{className:"add-consumables-form-group",children:[t.jsx("label",{htmlFor:"site",children:"Source Site"}),t.jsxs("select",{id:"site",value:x,onChange:B=>j(B.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Site"}),y.map(B=>t.jsx("option",{value:B.id,children:B.name},B.id))]})]}),t.jsxs("div",{className:"add-consumables-form-group",children:[t.jsx("label",{children:"Source Warehouse"}),t.jsxs("select",{value:d.senderId,onChange:B=>h({...d,senderId:B.target.value}),required:!0,disabled:!x,children:[t.jsx("option",{value:"",children:"Select Warehouse"}),w.map(B=>t.jsx("option",{value:B.id,children:B.name},B.id))]})]})]}),t.jsxs("div",{className:"add-consumables-form-group add-consumables-full-width",children:[t.jsx("label",{children:"Destination (This Equipment)"}),t.jsx("input",{type:"text",value:(a==null?void 0:a.name)||"This Equipment",disabled:!0,className:"add-consumables-disabled-input"})]}),t.jsxs("div",{className:"add-consumables-form-group add-consumables-full-width",children:[t.jsxs("div",{className:"add-consumables-items-section-header",children:[t.jsx("label",{children:"Requested Items"}),t.jsx("button",{type:"button",className:"add-consumables-add-item-button",onClick:z,disabled:!d.senderId,children:"Add Another Item"})]}),d.items.map((B,H)=>t.jsxs("div",{className:"add-consumables-transaction-item-container",children:[t.jsxs("div",{className:"add-consumables-transaction-item-header",children:[t.jsxs("span",{children:["Item ",H+1]}),d.items.length>1&&t.jsxs("button",{type:"button",className:"add-consumables-remove-item-button",onClick:()=>W(H),children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Remove"]})]}),t.jsxs("div",{className:"add-consumables-form-row",children:[t.jsxs("div",{className:"add-consumables-form-group",children:[t.jsx("label",{children:"Item Type"}),t.jsxs("select",{value:B.itemType.id,onChange:K=>L(H,"itemTypeId",K.target.value),required:!0,disabled:!d.senderId,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Item Type"}),F(H)]})]}),t.jsxs("div",{className:"add-consumables-form-group",children:[t.jsx("label",{children:"Quantity"}),t.jsx("input",{type:"number",value:B.quantity,onChange:K=>L(H,"quantity",K.target.value),min:"1",required:!0,disabled:!B.itemType.id})]})]})]},H))]}),t.jsx("div",{className:"add-consumables-modal-footer",children:t.jsx("button",{type:"submit",className:"add-consumables-submit-button",disabled:f,children:f?"Processing...":"Request Consumables"})})]})]})}):null},Xoe=g.forwardRef(({entityId:e,entityType:n="EQUIPMENT",onAcceptTransaction:r,onRejectTransaction:a,onUpdateTransaction:s},o)=>{const[l,u]=g.useState("all"),[d,h]=g.useState([]),[f,p]=g.useState(!0),[y,b]=g.useState(null),[x,j]=g.useState(!1),[w,T]=g.useState(null),[A,O]=g.useState({}),[P,S]=g.useState({}),[E,k]=g.useState(""),[D,_]=g.useState("CONSUMABLE"),[U,R]=g.useState(!1),[$,L]=g.useState(""),{showError:z,showSuccess:W}=cn(),M=(X,Z)=>{const V=Math.max(0,parseInt(Z)||0);O(Y=>({...Y,[X]:V}))},F=(X,Z)=>{S(V=>({...V,[X]:Z})),Z&&O(V=>({...V,[X]:0}))};g.useImperativeHandle(o,()=>({refreshTransactions:G,refreshLogs:G}));const G=async()=>{try{p(!0),b(null);let X;if(n==="EQUIPMENT"?X=await ht.getEquipmentTransactions(e):X=await np.getTransactionsForWarehouse(e),!X.data||!Array.isArray(X.data)){h([]),p(!1);return}const Z=X.data.map(V=>({...V,id:V.id,date:V.transactionDate,completedAt:V.completedAt,sender:V.senderName,receiver:V.receiverName,batchNumber:V.batchNumber,createdAt:V.createdAt,addedBy:V.addedBy,approvedBy:V.approvedBy,status:V.status,rejectionReason:V.rejectionReason,acceptanceComment:V.acceptanceComment,purpose:V.purpose||"GENERAL",senderId:V.senderId,receiverId:V.receiverId,sentFirst:V.sentFirst,items:(V.items||[]).map(Y=>({id:Y.id,itemType:Y.itemTypeName||"Unknown Item",category:Y.itemCategory||"N/A",quantity:Y.quantity,receivedQuantity:Y.receivedQuantity}))}));h(Z),p(!1)}catch(X){console.error("Error fetching transactions:",X),b(X.message||"Failed to fetch transactions"),p(!1)}};g.useEffect(()=>{e&&G()},[e,n]);const J=[{accessor:"sender",header:"Sender"},{accessor:"receiver",header:"Receiver"},{accessor:"status",header:"Status"},{accessor:"purpose",header:"Purpose"},{accessor:"addedBy",header:"Added By"}],I=X=>{const Z=String(e);switch(X){case"incoming":return d.filter(V=>{const Y=String(V.receiverId)===Z,ee=V.status==="PENDING",ce=!V.sentFirst||String(V.sentFirst)!==Z;return Y&&ee&&ce});case"pending":return d.filter(V=>{const Y=V.status==="PENDING",ee=V.sentFirst&&String(V.sentFirst)===Z;return Y&&ee});case"validated":return d.filter(V=>{const Y=String(V.senderId)===Z||String(V.receiverId)===Z,ee=V.status==="ACCEPTED"||V.status==="REJECTED";return Y&&ee});case"all":default:return d.filter(V=>String(V.senderId)===Z||String(V.receiverId)===Z)}},B={incoming:I("incoming").length,pending:I("pending").length,validated:I("validated").length,all:I("all").length},H=I(l),K=()=>{const X=[{header:"Batch #",accessor:"batchNumber",width:"100px"},{header:"Items",accessor:"items",render:Z=>{var V,Y;return t.jsxs("div",{className:"items-count",children:[((V=Z.items)==null?void 0:V.length)||0," item",((Y=Z.items)==null?void 0:Y.length)!==1?"s":""]})},width:"80px"},{header:"Sender",accessor:"sender",width:"150px"},{header:"Receiver",accessor:"receiver",width:"150px"},{header:"Purpose",accessor:"purpose",render:Z=>{var V;return t.jsx("span",{className:`purpose-tag ${((V=Z.purpose)==null?void 0:V.toLowerCase())||"general"}`,children:Z.purpose||"GENERAL"})},width:"120px"},{header:"Request Date",accessor:"date",render:Z=>Z.date?new Date(Z.date).toLocaleDateString("en-GB"):"N/A",width:"120px"},{header:"Created At",accessor:"createdAt",render:Z=>Z.createdAt?new Date(Z.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",width:"140px"},{header:"Status",accessor:"status",render:Z=>{var V;return t.jsx("span",{className:`status-badge ${((V=Z.status)==null?void 0:V.toLowerCase())||"unknown"}`,children:Z.status||"UNKNOWN"})},width:"100px"}];return l==="validated"&&(X.splice(-1,0,{header:"Completed At",accessor:"completedAt",render:Z=>Z.completedAt?new Date(Z.completedAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",width:"140px"}),X.splice(-1,0,{header:"Approved By",accessor:"approvedBy",width:"120px"})),X},ie=()=>{const X=[];return l==="incoming"?X.push({label:"Accept",icon:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),onClick:de,className:"accept-action"},{label:"Reject",icon:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),onClick:a,className:"reject-action"}):l==="pending"&&X.push({label:"Update",icon:t.jsxs("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:s||(()=>alert("Update functionality not implemented")),className:"update-action"}),X},ae=()=>{switch(l){case"incoming":return"Incoming Transactions";case"pending":return"Pending Transactions";case"validated":return"Validated Transactions";case"all":return"All Transactions";default:return"Transactions"}},me=()=>{switch(l){case"incoming":return"Transactions waiting for your approval";case"pending":return"Transactions you initiated and are waiting to be processed";case"validated":return"Completed transactions (accepted/rejected)";case"all":return`All ${n.toLowerCase()} transactions`;default:return""}},de=X=>{T(X),k(""),_("CONSUMABLE"),R(!1),L("");const Z={},V={};X.items.forEach(Y=>{Z[Y.id]=0,V[Y.id]=!1}),O(Z),S(V),j(!0)},fe=async()=>{var X,Z;R(!0),L("");try{for(const V in A)if(!P[V]&&(A[V]===void 0||A[V]<0))throw new Error("Please specify valid received quantities for all items or mark them as not received");n==="EQUIPMENT"?await ht.acceptEquipmentTransaction(e,w.id,{receivedQuantities:A,comment:E,purpose:D,itemsNotReceived:P}):await np.accept(w.id,{username:"current_user",acceptanceComment:E,receivedItems:Object.entries(A).map(([V,Y])=>({transactionItemId:V,receivedQuantity:Y}))}),await G(),j(!1),W("Transaction accepted successfully")}catch(V){console.error("Error accepting transaction:",V);const Y=((Z=(X=V.response)==null?void 0:X.data)==null?void 0:Z.message)||V.message||"Failed to accept transaction";L(Y),z(Y)}finally{R(!1)}};return f?t.jsx("div",{className:"unified-transactions-view",children:t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("div",{children:"Loading transactions..."})]})}):y?t.jsx("div",{className:"unified-transactions-view",children:t.jsxs("div",{className:"error-state",children:[t.jsxs("div",{children:["Error loading transactions: ",y]}),t.jsx("button",{onClick:G,children:"Retry"})]})}):t.jsxs("div",{className:"unified-transactions-view",children:[t.jsxs("div",{className:"transaction-tabs",children:[t.jsxs("button",{className:`tab-button ${l==="all"?"active":""}`,onClick:()=>u("all"),children:["All Transactions",t.jsx("span",{className:"tab-count",children:B.all})]}),t.jsxs("button",{className:`tab-button ${l==="incoming"?"active":""}`,onClick:()=>u("incoming"),children:["Incoming",t.jsx("span",{className:"tab-count",children:B.incoming})]}),t.jsxs("button",{className:`tab-button ${l==="pending"?"active":""}`,onClick:()=>u("pending"),children:["Pending",t.jsx("span",{className:"tab-count",children:B.pending})]}),t.jsxs("button",{className:`tab-button ${l==="validated"?"active":""}`,onClick:()=>u("validated"),children:["Validated",t.jsx("span",{className:"tab-count",children:B.validated})]})]}),t.jsxs("div",{className:"transaction-content",children:[t.jsx(Nt,{data:H,columns:K(),loading:f,tableTitle:ae(),showSearch:!0,showFilters:!0,filterableColumns:J,actions:ie(),actionsColumnWidth:"140px",defaultItemsPerPage:25,itemsPerPageOptions:[10,25,50,100],className:"transactions-table"}),me()&&t.jsx("div",{className:"tab-description",children:me()})]}),x&&w&&t.jsx("div",{className:"modal-backdrop",children:t.jsxs("div",{className:"flat-modal",children:[t.jsxs("div",{className:"flat-modal-header",children:[t.jsx("h2",{children:"Accept Transaction"}),t.jsx("button",{className:"close-modal-btn",onClick:()=>j(!1),disabled:U,children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("div",{className:"flat-modal-content",children:[t.jsxs("div",{className:"transaction-info-section",children:[t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Batch Number"}),t.jsx("div",{className:"info-value",children:w.batchNumber})]}),t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Transaction Date"}),t.jsx("div",{className:"info-value",children:w.date?new Date(w.date).toLocaleDateString("en-GB"):"N/A"})]})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Sender"}),t.jsx("div",{className:"info-value",children:w.sender})]}),t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Receiver"}),t.jsx("div",{className:"info-value",children:w.receiver})]})]})]}),t.jsxs("div",{className:"purpose-section",children:[t.jsx("label",{children:"Transaction Purpose:"}),t.jsxs("select",{value:D,onChange:X=>_(X.target.value),disabled:U,children:[t.jsx("option",{value:"CONSUMABLE",children:"Consumable"}),t.jsx("option",{value:"MAINTENANCE",children:"Maintenance"})]})]}),t.jsxs("div",{className:"items-section",children:[t.jsx("h3",{children:"Items"}),w.items.map((X,Z)=>t.jsxs("div",{className:"item-container",children:[t.jsx("div",{className:"item-details",children:t.jsxs("div",{className:"item-name-block",children:[t.jsx("span",{className:"item-number",children:Z+1}),t.jsxs("div",{className:"item-name-wrapper",children:[t.jsx("div",{className:"item-name",children:X.itemType}),t.jsx("div",{className:"item-category",children:X.category})]})]})}),t.jsxs("div",{className:"quantity-section",children:[t.jsxs("div",{className:"quantity-label",children:["Received Quantity ",!P[X.id]&&t.jsx("span",{className:"required-mark",children:"*"})]}),t.jsx("div",{className:"quantity-controls",children:t.jsxs("div",{className:"received-input",children:[t.jsx("label",{children:"Received:"}),t.jsx("input",{type:"number",min:"0",max:X.quantity,value:A[X.id]||0,onChange:V=>M(X.id,V.target.value),disabled:U||P[X.id]})]})}),t.jsx("div",{className:"item-not-received-section",children:t.jsxs("label",{className:"item-not-received-checkbox",children:[t.jsx("input",{type:"checkbox",checked:P[X.id]||!1,onChange:V=>F(X.id,V.target.checked),disabled:U}),t.jsx("span",{className:"checkbox-label",children:"Item not received/sent"})]})})]})]},X.id))]}),t.jsxs("div",{className:"comments-section",children:[t.jsxs("div",{className:"comments-label",children:["Comments ",t.jsx("span",{className:"optional-text",children:"(optional)"})]}),t.jsx("textarea",{value:E,onChange:X=>k(X.target.value),placeholder:"Enter any additional comments about this transaction...",disabled:U})]}),$&&t.jsxs("div",{className:"error-message",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:$})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"accept-button",onClick:fe,disabled:U,children:U?"Processing...":t.jsxs(t.Fragment,{children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 13l4 4L19 7"})}),"Accept Transaction"]})})})]})})]})});Koe.setAppElement("#root");const Joe=()=>{const e=ya(),n=Tt(),{showSuccess:r,showError:a}=cn(),s=Xt(),o=Es(s),[l,u]=g.useState("dashboard"),[d,h]=g.useState({fullModelName:"",site:{name:""},mainDriver:{firstName:"",lastName:""}}),[f,p]=g.useState(!0),[y,b]=g.useState(null),[x,j]=g.useState(null),[w,T]=g.useState(null),[A,O]=g.useState(!1),[P,S]=g.useState(!1),[E,k]=g.useState(!1),[D,_]=g.useState(!1),U=g.useRef(null),R=g.useRef(null);g.useRef(null);const $=g.useRef(null),L=g.useRef(null),z=g.useRef();g.useEffect(()=>{const K=async()=>{var ae,me;try{const de=await ht.getEquipmentById(e.EquipmentID);h(de.data),console.log("=== EQUIPMENT DATA FETCHED ==="),console.log("Equipment response:",de.data),console.log("Main Driver ID:",(ae=de.data)==null?void 0:ae.mainDriverId),console.log("Main Driver Name:",(me=de.data)==null?void 0:me.mainDriverName),console.log("==============================="),p(!1)}catch(de){console.error("Error fetching equipment data:",de),b(de.message),p(!1)}},ie=async()=>{try{const ae=await ht.getEquipmentMainPhoto(e.EquipmentID);j(ae.data)}catch(ae){console.error("Error fetching equipment photo:",ae)}};K(),ie()},[e.EquipmentID]);const W=K=>{T(K),_(!0)},M=()=>{R.current&&R.current.refreshData(),U.current&&U.current.refreshDashboard()},F=()=>{U.current&&U.current.refreshDashboard()},G=()=>{L.current&&L.current.refreshLogs(),R.current&&R.current.refreshData(),$.current&&$.current.refreshLogs(),U.current&&U.current.refreshDashboard(),z.current&&z.current.refreshTransactions()},J=()=>{k(!0)},I=K=>{alert(`Accept transaction ${K.id} - Feature to be implemented`),console.log("Accepting transaction:",K)},q=K=>{alert(`Reject transaction ${K.id} - Feature to be implemented`),console.log("Rejecting transaction:",K)},B=K=>{console.log("Updating transaction:",K),alert(`Update transaction ${K.id} - Feature to be implemented`)},H=()=>{n(`../info/${e.EquipmentID}`)};return f?t.jsx("div",{className:"loading-spinner",children:"Loading..."}):y?t.jsxs("div",{className:"error-message",children:["Error: ",y]}):t.jsxs("div",{className:"equipment-details-container",children:[t.jsxs("div",{className:"equipment-card-header",children:[t.jsx("div",{className:"left-side",children:t.jsx("img",{src:x||(d==null?void 0:d.imageUrl),alt:"Equipment",className:"equipment-image",onError:K=>{K.target.src=x}})}),t.jsxs("div",{className:"center-content",children:[t.jsx("div",{className:"label",children:"EQUIPMENT NAME"}),t.jsx("div",{className:"value",children:(d==null?void 0:d.name)||"Equipment"}),t.jsxs("div",{className:"driver-info-section",children:[t.jsx("div",{className:"driver-config",children:t.jsx("span",{className:`driver-status ${d!=null&&d.drivable?"drivable":"non-drivable"}`,children:d!=null&&d.drivable?" Driver Assignable":" No Driver Required"})}),(d==null?void 0:d.drivable)&&t.jsxs("div",{className:"driver-assignments",children:[t.jsxs("div",{className:"driver-item",children:[t.jsx("span",{className:"driver-label",children:"Main Driver:"}),t.jsx("span",{className:"driver-name",children:(d==null?void 0:d.mainDriverName)||"Not Assigned"})]}),(d==null?void 0:d.subDriverName)&&t.jsxs("div",{className:"driver-item",children:[t.jsx("span",{className:"driver-label",children:"Sub Driver:"}),t.jsx("span",{className:"driver-name",children:d.subDriverName})]})]})]})]}),t.jsxs("div",{className:"right-side",children:[t.jsx("button",{className:"info-button-eq",onClick:H,children:t.jsx(qi,{})}),o.canDelete&&t.jsx("button",{className:"delete-button-eq",title:"Delete Equipment",children:t.jsx(koe,{})})]})]}),t.jsxs("div",{className:"new-tabs-container",children:[t.jsxs("div",{className:"new-tabs-header",children:[t.jsxs("button",{className:`new-tab-button ${l==="dashboard"?"active":""}`,onClick:()=>u("dashboard"),children:[t.jsx(f9,{})," Dashboard"]}),t.jsxs("button",{className:`new-tab-button ${l==="consumables"?"active":""}`,onClick:()=>u("consumables"),children:[t.jsx(B7,{})," Consumables"]}),t.jsxs("button",{className:`new-tab-button ${l==="sarky"?"active":""}`,onClick:()=>u("sarky"),children:[t.jsx(KM,{})," Sarky Management"]}),t.jsxs("button",{className:`new-tab-button ${l==="maintenance"?"active":""}`,onClick:()=>u("maintenance"),children:[t.jsx(g9,{})," In-Site Maintenance"]}),o.canEdit&&t.jsxs("button",{className:`new-tab-button ${l==="transactions"?"active":""}`,onClick:()=>u("transactions"),children:[t.jsx(Km,{})," All Transactions"]})]}),t.jsxs("div",{className:"tab-content",children:[l==="dashboard"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("div",{className:"panel-header",children:t.jsx("h2",{className:"panel-title",children:"Equipment Dashboard"})}),t.jsx("div",{className:"tab-content-container",children:t.jsx(Ioe,{ref:U,equipmentId:e.EquipmentID})})]}),l==="consumables"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("div",{className:"panel-header",children:t.jsx("h2",{className:"panel-title",children:"Consumables Inventory"})}),t.jsx("div",{className:"tab-content-container",children:t.jsx(_oe,{ref:L,equipmentId:e.EquipmentID,onAddClick:()=>o.canCreate&&O(!0)})})]}),l==="sarky"&&t.jsxs("div",{className:"tab-panel",children:[t.jsxs("div",{className:"panel-header",children:[t.jsx("h2",{className:"panel-title",children:"Sarky Management"}),t.jsxs("div",{className:"panel-actions",children:[t.jsxs("button",{className:"help-button",onClick:()=>{alert(`Sarky Management Help:
 Select month and year to view sarky records
 Click "Generate Monthly Sarky" to create entries for the entire month
 Fill in Work Type, Hours, and Driver for each day using inline editing
 Click "Save" for individual entries or "Save All" for bulk saving
 Green entries are completed, blue entries are drafts
 Range entries (orange) are read-only and part of multi-day ranges`)},title:"Help & Instructions",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M9,9a3,3,0,0,1,5.5-1.5"}),t.jsx("path",{d:"M12,17.02v.01"})]}),"Help"]}),t.jsxs("button",{className:"export-button",onClick:async()=>{try{const K=new Date().getMonth(),ie=new Date().getFullYear(),ae=await Ar.getByEquipment(e.EquipmentID),me=await Ar.getRangeByEquipment(e.EquipmentID);let de=[];ae.data&&ae.data.forEach(Y=>{var ce;const ee=new Date(Y.date);ee.getMonth()===K&&ee.getFullYear()===ie&&de.push({date:Y.date,type:"Single Day",workType:((ce=Y.workType)==null?void 0:ce.name)||"Unknown",hours:Y.workedHours,driver:Y.driverName,status:"Completed"})}),me.data&&me.data.forEach(Y=>{Y.workEntries&&Y.workEntries.forEach(ee=>{var re;const ce=new Date(ee.date);ce.getMonth()===K&&ce.getFullYear()===ie&&de.push({date:ee.date,type:"Range Entry",workType:((re=ee.workType)==null?void 0:re.name)||"Unknown",hours:ee.workedHours,driver:ee.driverName,status:Y.status||"Completed"})})});const fe=[["Date","Type","Work Type","Hours","Driver","Status"],...de.map(Y=>[Y.date,Y.type,Y.workType,Y.hours,Y.driver,Y.status])].map(Y=>Y.join(",")).join(`
`),X=new Blob([fe],{type:"text/csv"}),Z=window.URL.createObjectURL(X),V=document.createElement("a");V.href=Z,V.download=`sarky-data-${(d==null?void 0:d.name)||"equipment"}-${ie}-${K+1}.csv`,V.click(),window.URL.revokeObjectURL(Z),r("Sarky data exported successfully")}catch(K){console.error("Error exporting sarky data:",K),a("Failed to export sarky data")}},title:"Export current month's data",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7,10 12,15 17,10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export"]})]})]}),t.jsx("div",{className:"tab-content-container",children:t.jsx(Ooe,{ref:R,equipmentId:e.EquipmentID,onSarkyAdded:M,equipmentData:d,onDataChange:F})})]}),l==="maintenance"&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("div",{className:"panel-header",children:t.jsx("h2",{className:"panel-title",children:"In-Site Maintenance History"})}),t.jsx("div",{className:"tab-content-container",children:t.jsx(Poe,{ref:$,equipmentId:e.EquipmentID,onAddMaintenanceClick:J,onAddTransactionClick:W,showAddButton:!1})}),o.canCreate&&t.jsx("button",{className:"add-button-warehouse",onClick:J,children:t.jsx("svg",{className:"plus-icon-warehouse",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})})})]}),l==="transactions"&&o.canEdit&&t.jsxs("div",{className:"tab-panel",children:[t.jsx("div",{className:"panel-header",children:t.jsx("h2",{className:"panel-title",children:"Equipment Transactions"})}),t.jsx("div",{className:"tab-content-container",children:t.jsx(Xoe,{ref:z,entityId:e.EquipmentID,entityType:"EQUIPMENT",onAcceptTransaction:I,onRejectTransaction:q,onUpdateTransaction:B})})]})]})]}),o.canCreate&&t.jsx(Qoe,{isOpen:A,onClose:()=>O(!1),equipmentId:e.EquipmentID,equipmentData:d,onTransactionAdded:G}),E&&o.canCreate&&t.jsx(f8,{isOpen:E,onClose:()=>k(!1),equipmentId:e.EquipmentID,onMaintenanceAdded:G}),D&&o.canCreate&&t.jsx(h8,{isOpen:D,onClose:()=>_(!1),equipmentId:e.EquipmentID,maintenanceId:w,onTransactionAdded:G})]})},Zoe=()=>{const{entityType:e,entityId:n}=ya();Tt();const{showSnackbar:r}=cn(),[a,s]=g.useState([]),[o,l]=g.useState(!1),[u,d]=g.useState(""),[h,f]=g.useState(!1),[p,y]=g.useState(!1),[b,x]=g.useState(null),[j,w]=g.useState(""),[T,A]=g.useState("all"),[O,P]=g.useState("grid"),[S,E]=g.useState("date"),[k,D]=g.useState({name:"",type:"",file:null}),_=g.useMemo(()=>{switch(e==null?void 0:e.toLowerCase()){case"equipment":return[{value:"SHIPPING_INVOICE",label:"Shipping Invoice",icon:ft,color:"#4f46e5"},{value:"SHIPPING_RECEIPT",label:"Shipping Receipt",icon:ft,color:"#059669"},{value:"BILL_OF_LADING",label:"Bill of Lading",icon:ft,color:"#dc2626"},{value:"CUSTOMS_DECLARATION",label:"Customs Declaration",icon:ft,color:"#ea580c"},{value:"CUSTOMS_INVOICE",label:"Customs Invoice",icon:ft,color:"#7c2d12"},{value:"CUSTOMS_CLEARANCE",label:"Customs Clearance",icon:Pr,color:"#059669"},{value:"TAX_CERTIFICATE",label:"Tax Certificate",icon:ft,color:"#7c3aed"},{value:"TAX_INVOICE",label:"Tax Invoice",icon:ft,color:"#be123c"},{value:"TAX_RECEIPT",label:"Tax Receipt",icon:ft,color:"#0369a1"},{value:"PURCHASE_INVOICE",label:"Purchase Invoice",icon:ft,color:"#0891b2"},{value:"WARRANTY",label:"Warranty Document",icon:ft,color:"#16a34a"},{value:"MANUAL",label:"User Manual",icon:sa,color:"#9333ea"},{value:"MAINTENANCE_RECORD",label:"Maintenance Record",icon:ft,color:"#c2410c"},{value:"INSURANCE",label:"Insurance Document",icon:ft,color:"#0d9488"},{value:"OTHER",label:"Other",icon:sa,color:"#6b7280"}];case"site":return[{value:"LEASE_AGREEMENT",label:"Lease Agreement",icon:ft,color:"#4f46e5"},{value:"PROPERTY_DEED",label:"Property Deed",icon:ft,color:"#dc2626"},{value:"BUILDING_PERMIT",label:"Building Permit",icon:ft,color:"#059669"},{value:"SAFETY_CERTIFICATE",label:"Safety Certificate",icon:ft,color:"#ea580c"},{value:"INSURANCE",label:"Insurance Document",icon:ft,color:"#0d9488"},{value:"UTILITY_BILL",label:"Utility Bill",icon:ft,color:"#7c2d12"},{value:"TAX_ASSESSMENT",label:"Tax Assessment",icon:ft,color:"#7c3aed"},{value:"OTHER",label:"Other",icon:sa,color:"#6b7280"}];case"warehouse":return[{value:"LEASE_AGREEMENT",label:"Lease Agreement",icon:ft,color:"#4f46e5"},{value:"INVENTORY_REPORT",label:"Inventory Report",icon:ft,color:"#059669"},{value:"SAFETY_CERTIFICATE",label:"Safety Certificate",icon:ft,color:"#ea580c"},{value:"INSURANCE",label:"Insurance Document",icon:ft,color:"#0d9488"},{value:"FIRE_SAFETY",label:"Fire Safety Certificate",icon:ft,color:"#dc2626"},{value:"OTHER",label:"Other",icon:sa,color:"#6b7280"}];case"employee":return[{value:"CONTRACT",label:"Employment Contract",icon:ft,color:"#4f46e5"},{value:"ID_COPY",label:"ID Copy",icon:A3,color:"#059669"},{value:"RESUME",label:"Resume/CV",icon:ft,color:"#dc2626"},{value:"CERTIFICATE",label:"Certificate",icon:ft,color:"#ea580c"},{value:"LICENSE",label:"License",icon:ft,color:"#0d9488"},{value:"MEDICAL_RECORD",label:"Medical Record",icon:ft,color:"#7c2d12"},{value:"PERFORMANCE_REVIEW",label:"Performance Review",icon:ft,color:"#7c3aed"},{value:"OTHER",label:"Other",icon:sa,color:"#6b7280"}];default:return[{value:"DOCUMENT",label:"Document",icon:sa,color:"#4f46e5"},{value:"CONTRACT",label:"Contract",icon:ft,color:"#dc2626"},{value:"INVOICE",label:"Invoice",icon:ft,color:"#059669"},{value:"RECEIPT",label:"Receipt",icon:ft,color:"#ea580c"},{value:"CERTIFICATE",label:"Certificate",icon:ft,color:"#0d9488"},{value:"REPORT",label:"Report",icon:ft,color:"#7c2d12"},{value:"OTHER",label:"Other",icon:sa,color:"#6b7280"}]}},[e]);g.useEffect(()=>{e&&n&&U()},[e,n]);const U=async()=>{l(!0);try{const B=await zu.getByEntity(e,n);s(B.data),B.data.length>0?d(B.data[0].entityName):d(`${e.charAt(0).toUpperCase()+e.slice(1)} Documents`)}catch(B){console.error("Error loading documents:",B),r("Failed to load documents","error"),d(`${e.charAt(0).toUpperCase()+e.slice(1)} Documents`)}finally{l(!1)}},R=(B,H)=>{if(!B)return sa;const K=B.toLowerCase(),ie=_.find(ae=>ae.value===H);return ie?ie.icon:K.includes(".pdf")||K.includes(".doc")||K.includes(".docx")||K.includes(".xls")||K.includes(".xlsx")||K.includes(".csv")?ft:K.includes(".jpg")||K.includes(".jpeg")||K.includes(".png")||K.includes(".gif")?A3:sa},$=B=>_.find(H=>H.value===B)||{value:B,label:B,icon:sa,color:"#6b7280"},L=async B=>{if(B.preventDefault(),!k.file||!k.name||!k.type){r("Please fill in all fields and select a file","warning");return}l(!0);try{await zu.create(e,n,k),r("Document uploaded successfully","success"),f(!1),D({name:"",type:"",file:null}),U()}catch(H){console.error("Error uploading document:",H),r("Failed to upload document","error")}finally{l(!1)}},z=async B=>{if(B.preventDefault(),!b||!b.name||!b.type){r("Please fill in all fields","warning");return}l(!0);try{r("Edit functionality will be implemented soon","info"),y(!1),x(null)}catch(H){console.error("Error updating document:",H),r("Failed to update document","error")}finally{l(!1)}},W=async B=>{if(window.confirm("Are you sure you want to delete this document? This action cannot be undone.")){l(!0);try{await zu.delete(B),r("Document deleted successfully","success"),U()}catch(H){console.error("Error deleting document:",H),r("Failed to delete document","error")}finally{l(!1)}}},M=B=>{const H=B.target.files[0];H&&D(K=>({...K,file:H,name:K.name||H.name.split(".")[0]}))},F=B=>B?B<1024?B+" B":B<1024*1024?(B/1024).toFixed(1)+" KB":(B/(1024*1024)).toFixed(1)+" MB":"Unknown",G=B=>B?new Date(B).toLocaleDateString():"Unknown",J=B=>{B.url?window.open(B.url,"_blank"):r("Document URL not available","warning")},I=g.useMemo(()=>{let B=a.filter(H=>{const K=!j||H.name.toLowerCase().includes(j.toLowerCase())||H.type.toLowerCase().includes(j.toLowerCase()),ie=T==="all"||H.type===T;return K&&ie});return B.sort((H,K)=>{switch(S){case"name":return H.name.localeCompare(K.name);case"type":return H.type.localeCompare(K.type);case"size":return(K.size||0)-(H.size||0);case"date":default:return new Date(K.dateUploaded)-new Date(H.dateUploaded)}}),B},[a,j,T,S]),q=()=>{const B=a.map(H=>H.type);return[...new Set(B)]};return t.jsxs("div",{className:"rockops-documents-page",children:[t.jsxs("div",{className:"rockops-documents-header",children:[t.jsx("div",{className:"rockops-documents-header-left",children:t.jsxs("div",{className:"rockops-documents-header-info",children:[t.jsxs("h1",{className:"rockops-documents-title",children:[t.jsx(C3,{size:24}),"Related Documents"]}),t.jsxs("p",{className:"rockops-documents-subtitle",children:[u,"  ",a.length," document",a.length!==1?"s":""]})]})}),t.jsx("div",{className:"rockops-documents-header-actions",children:t.jsxs("button",{className:"rockops-btn rockops-btn--primary",onClick:()=>f(!0),disabled:o,children:[t.jsx(M6,{size:16}),"Upload Document"]})})]}),t.jsxs("div",{className:"rockops-documents-controls",children:[t.jsxs("div",{className:"rockops-documents-filters",children:[t.jsxs("div",{className:"rockops-documents-search",children:[t.jsx(ec,{size:16}),t.jsx("input",{type:"text",placeholder:"Search documents...",value:j,onChange:B=>w(B.target.value)})]}),t.jsxs("div",{className:"rockops-documents-filter-group",children:[t.jsx(q2,{size:16}),t.jsxs("select",{value:T,onChange:B=>A(B.target.value),children:[t.jsx("option",{value:"all",children:"All Types"}),q().map(B=>{const H=$(B);return t.jsx("option",{value:B,children:H.label},B)})]})]}),t.jsx("div",{className:"rockops-documents-sort-group",children:t.jsxs("select",{value:S,onChange:B=>E(B.target.value),children:[t.jsx("option",{value:"date",children:"Sort by Date"}),t.jsx("option",{value:"name",children:"Sort by Name"}),t.jsx("option",{value:"type",children:"Sort by Type"}),t.jsx("option",{value:"size",children:"Sort by Size"})]})})]}),t.jsxs("div",{className:"rockops-documents-view-controls",children:[t.jsx("button",{className:`rockops-documents-view-btn ${O==="grid"?"active":""}`,onClick:()=>P("grid"),title:"Grid view",children:t.jsx(eae,{size:16})}),t.jsx("button",{className:`rockops-documents-view-btn ${O==="list"?"active":""}`,onClick:()=>P("list"),title:"List view",children:t.jsx(nae,{size:16})})]})]}),t.jsx("div",{className:"rockops-documents-container",children:o&&a.length===0?t.jsxs("div",{className:"rockops-documents-loading",children:[t.jsx("div",{className:"rockops-documents-loading-spinner"}),t.jsx("p",{children:"Loading documents..."})]}):I.length===0?t.jsx("div",{className:"rockops-documents-empty",children:a.length===0?t.jsxs(t.Fragment,{children:[t.jsx(C3,{size:64,className:"rockops-documents-empty-icon"}),t.jsx("h3",{children:"No documents found"}),t.jsx("p",{children:"Upload your first document to get started"}),t.jsxs("button",{className:"rockops-btn rockops-btn--primary",onClick:()=>f(!0),children:[t.jsx(pj,{size:16}),"Upload Document"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(ec,{size:64,className:"rockops-documents-empty-icon"}),t.jsx("h3",{children:"No matching documents"}),t.jsx("p",{children:"Try adjusting your search criteria"}),t.jsx("button",{className:"rockops-btn rockops-btn--outline",onClick:()=>{w(""),A("all")},children:"Clear Filters"})]})}):t.jsx("div",{className:`rockops-documents-grid ${O==="list"?"list-view":"grid-view"}`,children:I.map(B=>{const H=$(B.type),K=R(B.url,B.type);return t.jsxs("div",{className:"rockops-documents-card",children:[t.jsx("div",{className:"rockops-documents-card-icon",style:{color:H.color},children:t.jsx(K,{size:O==="list"?24:32})}),t.jsxs("div",{className:"rockops-documents-card-content",children:[t.jsxs("div",{className:"rockops-documents-card-header",children:[t.jsx("h3",{className:"rockops-documents-card-title",children:B.name}),t.jsxs("div",{className:"rockops-documents-card-actions",children:[t.jsx("button",{className:"rockops-documents-action-btn view",onClick:()=>J(B),title:"View/Download",children:t.jsx(R2,{size:16})}),t.jsx("button",{className:"rockops-documents-action-btn edit",onClick:()=>{x(B),y(!0)},title:"Edit",children:t.jsx(lN,{size:16})}),t.jsx("button",{className:"rockops-documents-action-btn delete",onClick:()=>W(B.id),title:"Delete",children:t.jsx(yae,{size:16})})]})]}),t.jsxs("div",{className:"rockops-documents-card-meta",children:[t.jsx("span",{className:"rockops-documents-card-type",style:{color:H.color},children:H.label}),t.jsxs("div",{className:"rockops-documents-card-info",children:[t.jsx("span",{className:"rockops-documents-card-size",children:F(B.size)}),t.jsxs("span",{className:"rockops-documents-card-date",children:[t.jsx(da,{size:12}),G(B.dateUploaded)]}),B.uploadedBy&&t.jsxs("span",{className:"rockops-documents-card-user",children:[t.jsx(L2,{size:12}),B.uploadedBy]})]})]})]})]},B.id)})})}),h&&t.jsx("div",{className:"rockops-documents-modal-overlay",children:t.jsxs("div",{className:"rockops-documents-modal",children:[t.jsxs("div",{className:"rockops-documents-modal-header",children:[t.jsxs("h2",{children:[t.jsx(pj,{size:20}),"Upload New Document"]}),t.jsx("button",{className:"rockops-documents-modal-close",onClick:()=>{f(!1),D({name:"",type:"",file:null})},children:t.jsx(cN,{size:20})})]}),t.jsxs("form",{onSubmit:L,className:"rockops-documents-modal-form",children:[t.jsxs("div",{className:"rockops-documents-form-group",children:[t.jsx("label",{htmlFor:"documentName",children:"Document Name *"}),t.jsx("input",{type:"text",id:"documentName",value:k.name,onChange:B=>D(H=>({...H,name:B.target.value})),placeholder:"Enter document name",required:!0})]}),t.jsxs("div",{className:"rockops-documents-form-group",children:[t.jsx("label",{htmlFor:"documentType",children:"Document Type *"}),t.jsxs("select",{id:"documentType",value:k.type,onChange:B=>D(H=>({...H,type:B.target.value})),required:!0,children:[t.jsx("option",{value:"",children:"Select document type"}),_.map(B=>t.jsx("option",{value:B.value,children:B.label},B.value))]})]}),t.jsxs("div",{className:"rockops-documents-form-group",children:[t.jsx("label",{htmlFor:"documentFile",children:"Select File *"}),t.jsxs("div",{className:"rockops-documents-file-input",children:[t.jsx("input",{type:"file",id:"documentFile",onChange:M,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.xlsx,.xls,.csv",required:!0}),t.jsxs("div",{className:"rockops-documents-file-input-label",children:[t.jsx(pj,{size:20}),t.jsx("span",{children:"Choose file or drag and drop"})]})]}),k.file&&t.jsxs("div",{className:"rockops-documents-file-preview",children:[t.jsx(sa,{size:16}),t.jsx("span",{className:"file-name",children:k.file.name}),t.jsxs("span",{className:"file-size",children:["(",F(k.file.size),")"]})]})]}),t.jsxs("div",{className:"rockops-documents-modal-actions",children:[t.jsx("button",{type:"button",className:"rockops-btn rockops-btn--outline",onClick:()=>{f(!1),D({name:"",type:"",file:null})},children:"Cancel"}),t.jsx("button",{type:"submit",className:"rockops-btn rockops-btn--primary",disabled:o,children:o?"Uploading...":"Upload Document"})]})]})]})}),p&&b&&t.jsx("div",{className:"rockops-documents-modal-overlay",children:t.jsxs("div",{className:"rockops-documents-modal",children:[t.jsxs("div",{className:"rockops-documents-modal-header",children:[t.jsxs("h2",{children:[t.jsx(lN,{size:20}),"Edit Document"]}),t.jsx("button",{className:"rockops-documents-modal-close",onClick:()=>{y(!1),x(null)},children:t.jsx(cN,{size:20})})]}),t.jsxs("form",{onSubmit:z,className:"rockops-documents-modal-form",children:[t.jsxs("div",{className:"rockops-documents-form-group",children:[t.jsx("label",{htmlFor:"editDocumentName",children:"Document Name *"}),t.jsx("input",{type:"text",id:"editDocumentName",value:b.name,onChange:B=>x(H=>({...H,name:B.target.value})),placeholder:"Enter document name",required:!0})]}),t.jsxs("div",{className:"rockops-documents-form-group",children:[t.jsx("label",{htmlFor:"editDocumentType",children:"Document Type *"}),t.jsx("select",{id:"editDocumentType",value:b.type,onChange:B=>x(H=>({...H,type:B.target.value})),required:!0,children:_.map(B=>t.jsx("option",{value:B.value,children:B.label},B.value))})]}),t.jsxs("div",{className:"rockops-documents-modal-actions",children:[t.jsx("button",{type:"button",className:"rockops-btn rockops-btn--outline",onClick:()=>{y(!1),x(null)},children:"Cancel"}),t.jsx("button",{type:"submit",className:"rockops-btn rockops-btn--primary",disabled:o,children:o?"Updating...":"Update Document"})]})]})]})})]})},Id="/assets/warehouse1-D4ZNxnYx.jpg",ele=()=>{const[e,n]=g.useState([]),[r,a]=g.useState(!0),[s,o]=g.useState(null),{currentUser:l}=Xt(),u=Tt(),[d,h]=g.useState(!1),[f,p]=g.useState(!1),[y,b]=g.useState([]),[x,j]=g.useState([]),[w,T]=g.useState([]),[A,O]=g.useState({id:"",name:"",siteId:"",managerId:"",workerIds:[],photo:null}),[P,S]=g.useState(null),[E,k]=g.useState(null),[D,_]=g.useState(""),[U,R]=g.useState({});g.useEffect(()=>{$()},[]),g.useEffect(()=>{(d||f)&&(z(),W(),M())},[d,f]),g.useEffect(()=>{var H,K,ie;if(E){const ae=(H=E.employees)==null?void 0:H.find(X=>{var Z,V;return((V=(Z=X.jobPosition)==null?void 0:Z.positionName)==null?void 0:V.toLowerCase())==="warehouse manager"}),me=(ae==null?void 0:ae.id)||"",fe=(((K=E.employees)==null?void 0:K.filter(X=>{var Z,V;return((V=(Z=X.jobPosition)==null?void 0:Z.positionName)==null?void 0:V.toLowerCase())==="warehouse worker"}))||[]).map(X=>X.id)||[];O({id:E.id,name:E.name||"",siteId:((ie=E.site)==null?void 0:ie.id)||"",managerId:me,workerIds:fe,photo:null}),E.photoUrl?S(E.photoUrl):S(null)}},[E]);const $=async()=>{try{a(!0);const H=localStorage.getItem("token"),K=await fetch("http://localhost:8080/api/v1/warehouses",{method:"GET",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(!K.ok)throw new Error(`HTTP error! Status: ${K.status}`);const ie=await K.json();n(ie),console.log("warehouse:",JSON.stringify(ie,null,2)),o(null)}catch(H){console.error("Error fetching warehouses:",H),o("Failed to load warehouses. Please try again later.")}finally{a(!1)}},L=async H=>{try{const K=localStorage.getItem("token"),ie=await fetch(`http://localhost:8080/api/v1/items/warehouse/${H}`,{method:"GET",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(!ie.ok)throw new Error("Failed to fetch items");const de=(await ie.json()).filter(fe=>fe.itemStatus==="IN_WAREHOUSE").reduce((fe,X)=>fe+X.quantity,0);R(fe=>({...fe,[H]:de}))}catch(K){o(K.message),console.error("Error fetching items:",K)}finally{a(!1)}};g.useEffect(()=>{e.length>0&&e.forEach(H=>{H.id in U||L(H.id)})},[e,U]);const z=async()=>{try{const H=localStorage.getItem("token"),K=await fetch("http://localhost:8080/api/v1/site",{headers:{Authorization:`Bearer ${H}`}});if(!K.ok)throw new Error("Failed to fetch sites");const ie=await K.json();b(ie)}catch(H){console.error("Error fetching sites:",H)}},W=async()=>{try{const H=localStorage.getItem("token"),K=await fetch("http://localhost:8080/api/v1/employees/warehouse-managers",{headers:{Authorization:`Bearer ${H}`}});if(!K.ok)throw new Error("Failed to fetch managers");const ie=await K.json();j(ie)}catch(H){console.error("Error fetching managers:",H)}},M=async()=>{try{const H=localStorage.getItem("token"),K=await fetch("http://localhost:8080/api/v1/employees/warehouse-workers",{headers:{Authorization:`Bearer ${H}`}});if(!K.ok)throw new Error("Failed to fetch workers");const ie=await K.json();T(ie)}catch(H){console.error("Error fetching workers:",H)}},F=H=>{const K=H.target.files[0];K&&(O({...A,photo:K}),S(URL.createObjectURL(K)))},G=H=>{const{name:K,value:ie}=H.target;O({...A,[K]:ie})},J=H=>{const K=H.target.value;K&&_(K)},I=()=>{D&&!A.workerIds.includes(D)&&(O({...A,workerIds:[...A.workerIds,D]}),_(""))},q=H=>{O({...A,workerIds:A.workerIds.filter(K=>K!==H)})},B=H=>{const K=w.find(ie=>ie.id===H);return K?`${K.firstName} ${K.lastName}`:"Unknown Worker"};return r?t.jsx(pc,{}):s?t.jsx("div",{className:"warehouse-list-error",children:s}):t.jsxs("div",{className:"warehouse-list-container",children:[t.jsx("div",{className:"departments-header",children:t.jsx("h1",{className:"warehouse-list-title",children:"Warehouses"})}),t.jsx("div",{className:"warehouse-list-grid",children:e.length>0?e.map(H=>{var ae,me,de;const K=(ae=H.employees)==null?void 0:ae.find(fe=>{var X,Z;return((Z=(X=fe.jobPosition)==null?void 0:X.positionName)==null?void 0:Z.toLowerCase())==="warehouse manager"}),ie=((me=H.employees)==null?void 0:me.filter(fe=>{var X,Z;return((Z=(X=fe.jobPosition)==null?void 0:X.positionName)==null?void 0:Z.toLowerCase())==="warehouse worker"}))||[];return t.jsxs("div",{className:"warehouse-list-card",onClick:()=>u(`/warehouses/${H.id}`),style:{cursor:"pointer"},children:[t.jsx("div",{className:"warehouse-list-card-image",children:t.jsx("img",{src:H.photoUrl?H.photoUrl:Id,alt:"Warehouse"})}),t.jsxs("div",{className:"warehouse-list-card-content",children:[t.jsx("h2",{className:"warehouse-list-card-name",children:H.name||"Unnamed Warehouse"}),t.jsxs("div",{className:"warehouse-list-card-stats",children:[t.jsxs("div",{className:"warehouse-list-stat-item",children:[t.jsx("p",{className:"warehouse-list-stat-label",children:"Site:"}),t.jsx("p",{className:"warehouse-list-stat-value",children:((de=H.site)==null?void 0:de.name)||"Not Assigned"})]}),t.jsxs("div",{className:"warehouse-list-stat-item",children:[t.jsx("p",{className:"warehouse-list-stat-label",children:"Total Items:"}),t.jsx("p",{className:"warehouse-list-stat-value",children:U[H.id]||"0"})]}),t.jsxs("div",{className:"warehouse-list-stat-item warehouse-list-full-width",children:[t.jsx("p",{className:"warehouse-list-stat-label",children:"Warehouse Manager:"}),t.jsx("p",{className:"warehouse-list-stat-value",children:K?K.firstName+" "+K.lastName:"Not Assigned"})]}),t.jsxs("div",{className:"warehouse-list-stat-item warehouse-list-full-width",children:[t.jsx("p",{className:"warehouse-list-stat-label",children:"Warehouse Workers:"}),t.jsx("p",{className:"warehouse-list-stat-value",children:ie.length>0?ie.map(fe=>`${fe.firstName} ${fe.lastName}`).join(", "):"Not Assigned"})]})]}),t.jsx("div",{className:"warehouse-list-card-actions",children:t.jsx("button",{onClick:fe=>{fe.stopPropagation(),u(`/warehouses/warehouse-details/${H.id}`)},className:"warehouse-list-view-button",children:"View Details"})})]})]},H.id)}):t.jsxs("div",{className:"warehouse-list-empty-message",children:[t.jsx("div",{className:"warehouse-list-empty-icon",children:t.jsx(t_,{size:50})}),t.jsx("p",{children:"No warehouses found. "})]})}),d&&t.jsx("div",{className:"warehouse-modal-overlay",children:t.jsxs("div",{className:"warehouse-modal-content",children:[t.jsxs("div",{className:"warehouse-modal-header",children:[t.jsx("h2",{children:"Add New Warehouse"}),t.jsx("button",{className:"warehouse-modal-close-button",onClick:handleCloseModals,children:""})]}),t.jsx("div",{className:"warehouse-modal-body",children:t.jsx("div",{className:"warehouse-form-container",children:t.jsxs("div",{className:"warehouse-form-card",children:[t.jsxs("div",{className:"warehouse-form-profile-section",children:[t.jsxs("label",{htmlFor:"warehouseImageUpload",className:"warehouse-form-image-label",children:[P?t.jsx("img",{src:P,alt:"Warehouse",className:"warehouse-form-image"}):t.jsx("div",{className:"warehouse-form-image-placeholder"}),t.jsx("span",{className:"warehouse-form-upload-text",children:"Upload Photo"})]}),t.jsx("input",{type:"file",id:"warehouseImageUpload",name:"photo",accept:"image/*",onChange:F,style:{display:"none"}})]}),t.jsx("div",{className:"warehouse-form-fields-section",children:t.jsxs("form",{onSubmit:handleAddWarehouse,children:[t.jsxs("div",{className:"warehouse-form-grid",children:[t.jsxs("div",{className:"warehouse-form-group",children:[t.jsx("label",{className:"warehouse-form-label",children:"Warehouse Name"}),t.jsx("input",{type:"text",name:"name",value:A.name,onChange:G,required:!0,className:"warehouse-form-input",placeholder:"Enter warehouse name"})]}),t.jsxs("div",{className:"warehouse-form-group",children:[t.jsx("label",{className:"warehouse-form-label",children:"Site"}),t.jsxs("select",{name:"siteId",value:A.siteId,onChange:G,required:!0,className:"warehouse-form-select",children:[t.jsx("option",{value:"",children:"Select a Site"}),y.map(H=>t.jsx("option",{value:H.id,children:H.name},H.id))]})]}),t.jsxs("div",{className:"warehouse-form-group",children:[t.jsx("label",{className:"warehouse-form-label",children:"Warehouse Manager"}),t.jsxs("select",{name:"managerId",value:A.managerId,onChange:G,className:"warehouse-form-select",children:[t.jsx("option",{value:"",children:"Select a Manager"}),x.map(H=>t.jsxs("option",{value:H.id,children:[H.firstName," ",H.lastName]},H.id))]})]}),t.jsxs("div",{className:"warehouse-form-group",children:[t.jsx("label",{className:"warehouse-form-label",children:"Warehouse Workers"}),t.jsxs("div",{className:"warehouse-form-worker-selector",children:[t.jsxs("div",{className:"warehouse-form-worker-input-group",children:[t.jsxs("select",{value:D,onChange:J,className:"warehouse-form-select",children:[t.jsx("option",{value:"",children:"Select a Worker"}),w.filter(H=>!A.workerIds.includes(H.id)).map(H=>t.jsxs("option",{value:H.id,children:[H.firstName," ",H.lastName]},H.id))]}),t.jsx("button",{type:"button",onClick:I,disabled:!D,className:"warehouse-form-worker-add-button",children:"Add"})]}),t.jsx("div",{className:"warehouse-form-selected-workers",children:A.workerIds.length>0?A.workerIds.map(H=>t.jsxs("div",{className:"warehouse-form-selected-worker",children:[t.jsx("span",{children:B(H)}),t.jsx("button",{type:"button",onClick:()=>q(H),className:"warehouse-form-worker-remove-button",children:t.jsx(Zi,{})})]},H)):t.jsx("p",{className:"warehouse-form-no-workers",children:"No workers selected"})})]})]})]}),t.jsxs("div",{className:"warehouse-form-button-group",children:[t.jsx("button",{type:"submit",className:"warehouse-form-add-button",children:"Add Warehouse"}),t.jsx("button",{type:"button",className:"warehouse-form-cancel-button",onClick:handleCloseModals,children:"Cancel"})]})]})})]})})})]})}),f&&t.jsx("div",{className:"warehouse-modal-overlay",children:t.jsxs("div",{className:"warehouse-modal-content",children:[t.jsxs("div",{className:"warehouse-modal-header",children:[t.jsx("h2",{children:"Edit Warehouse"}),t.jsx("button",{className:"warehouse-modal-close-button",onClick:handleCloseModals,children:""})]}),t.jsx("div",{className:"warehouse-modal-body",children:t.jsx("div",{className:"warehouse-form-container",children:t.jsxs("div",{className:"warehouse-form-card",children:[t.jsxs("div",{className:"warehouse-form-profile-section",children:[t.jsxs("label",{htmlFor:"warehouseEditImageUpload",className:"warehouse-form-image-label",children:[P?t.jsx("img",{src:P,alt:"Warehouse",className:"warehouse-form-image"}):t.jsx("div",{className:"warehouse-form-image-placeholder"}),t.jsx("span",{className:"warehouse-form-upload-text",children:"Upload Photo"})]}),t.jsx("input",{type:"file",id:"warehouseEditImageUpload",name:"photo",accept:"image/*",onChange:F,style:{display:"none"}})]}),t.jsx("div",{className:"warehouse-form-fields-section",children:t.jsxs("form",{onSubmit:handleUpdateWarehouse,children:[t.jsxs("div",{className:"warehouse-form-grid",children:[t.jsxs("div",{className:"warehouse-form-group",children:[t.jsx("label",{className:"warehouse-form-label",children:"Warehouse Name"}),t.jsx("input",{type:"text",name:"name",value:A.name,onChange:G,required:!0,className:"warehouse-form-input",placeholder:"Enter warehouse name"})]}),t.jsxs("div",{className:"warehouse-form-group",children:[t.jsx("label",{className:"warehouse-form-label",children:"Site"}),t.jsxs("select",{name:"siteId",value:A.siteId,onChange:G,required:!0,className:"warehouse-form-select",children:[t.jsx("option",{value:"",children:"Select a Site"}),y.map(H=>t.jsx("option",{value:H.id,children:H.name},H.id))]})]}),t.jsxs("div",{className:"warehouse-form-group",children:[t.jsx("label",{className:"warehouse-form-label",children:"Warehouse Manager"}),t.jsxs("select",{name:"managerId",value:A.managerId,onChange:G,className:"warehouse-form-select",children:[t.jsx("option",{value:"",children:"Select a Manager"}),x.map(H=>t.jsxs("option",{value:H.id,children:[H.firstName," ",H.lastName]},H.id))]})]}),t.jsxs("div",{className:"warehouse-form-group",children:[t.jsx("label",{className:"warehouse-form-label",children:"Warehouse Workers"}),t.jsxs("div",{className:"warehouse-form-worker-selector",children:[t.jsxs("div",{className:"warehouse-form-worker-input-group",children:[t.jsxs("select",{value:D,onChange:J,className:"warehouse-form-select",children:[t.jsx("option",{value:"",children:"Select a Worker"}),w.filter(H=>!A.workerIds.includes(H.id)).map(H=>t.jsxs("option",{value:H.id,children:[H.firstName," ",H.lastName]},H.id))]}),t.jsx("button",{type:"button",onClick:I,disabled:!D,className:"warehouse-form-worker-add-button",children:"Add"})]}),t.jsxs("div",{className:"warehouse-form-selected-workers",children:[A.workerIds.length>0&&t.jsx("div",{className:"warehouse-form-workers-header",children:t.jsx("p",{children:"Current assigned workers:"})}),A.workerIds.length>0?A.workerIds.map(H=>t.jsxs("div",{className:"warehouse-form-selected-worker",children:[t.jsx("span",{children:B(H)}),t.jsx("button",{type:"button",onClick:()=>q(H),className:"warehouse-form-worker-remove-button",children:t.jsx(Zi,{})})]},H)):t.jsx("p",{className:"warehouse-form-no-workers",children:"No workers selected"})]})]})]})]}),t.jsxs("div",{className:"warehouse-form-button-group",children:[t.jsx("button",{type:"submit",className:"warehouse-form-add-button",children:"Update Warehouse"}),t.jsx("button",{type:"button",className:"warehouse-form-cancel-button",onClick:handleCloseModals,children:"Cancel"})]})]})})]})})})]})})]})},hM=({warehouseId:e,onAddButtonClick:n})=>{var Jr,Jn,ja,Mr,di,Re,_e;const[r,a]=g.useState([]),[s,o]=g.useState([]),[l,u]=g.useState(!1),[d,h]=g.useState(!1),[f,p]=g.useState(!1),[y,b]=g.useState(!1),[x,j]=g.useState(!1),[w,T]=g.useState(!1),[A,O]=g.useState(null),[P,S]=g.useState([]),[E,k]=g.useState(!1),[D,_]=g.useState({itemCategoryId:"",itemTypeId:"",initialQuantity:"",createdAt:new Date().toISOString().split("T")[0]}),[U,R]=g.useState(!1),[$,L]=g.useState([]),[z,W]=g.useState({resolutionType:"",notes:"",transactionId:""}),[M,F]=g.useState({itemType:{id:""},quantity:"",status:"AVAILABLE",comment:""}),[G,J]=g.useState([]),[I,q]=g.useState(!1),[B,H]=g.useState(""),[K,ie]=g.useState("success"),[ae,me]=g.useState("inWarehouse"),[de,fe]=g.useState({site:{},name:"",id:"",employees:[]}),X=(ve,Ee="success")=>{H(ve),ie(Ee),q(!0)},Z=()=>{q(!1)},V=ve=>{var Ee;return(Ee=ve.itemType)!=null&&Ee.minQuantity?ve.quantity<ve.itemType.minQuantity:!1};g.useEffect(()=>{n&&n(pe)},[n]);const Y=ve=>{const Ee={};return ve.forEach($e=>{var jt;const We=(jt=$e.itemType)==null?void 0:jt.id;We&&(Ee[We]?(Ee[We].quantity+=$e.quantity,Ee[We].individualItems.push($e)):Ee[We]={...$e,quantity:$e.quantity,individualItems:[$e],id:`aggregated_${We}`,isAggregated:!0})}),Object.values(Ee)},ee=async ve=>{try{const Ee=localStorage.getItem("token"),$e=await fetch(`http://localhost:8080/api/v1/warehouses/${ve}`,{headers:{Authorization:`Bearer ${Ee}`}});if($e.ok)return(await $e.json()).name}catch(Ee){console.error("Error fetching warehouse name:",Ee)}return"Unknown Warehouse"},ce=async()=>{if(!e){console.error("Warehouse ID is not available");return}u(!0);try{const ve=localStorage.getItem("token"),Ee=await fetch(`http://localhost:8080/api/v1/items/warehouse/${e}`,{headers:{Authorization:`Bearer ${ve}`}});if(Ee.ok){const $e=await Ee.json();a($e)}else console.error("Failed to fetch items, status:",Ee.status)}catch(ve){console.error("Failed to fetch items:",ve)}finally{u(!1)}},re=async()=>{if(!e){console.error("Warehouse ID is not available");return}h(!0);try{const ve=localStorage.getItem("token"),Ee=await fetch(`http://localhost:8080/api/v1/items/resolution-history/warehouse/${e}`,{headers:{Authorization:`Bearer ${ve}`}});if(Ee.ok){const $e=await Ee.json();o($e)}else console.error("Failed to fetch resolution history, status:",Ee.status)}catch(ve){console.error("Failed to fetch resolution history:",ve)}finally{h(!1)}},te=async()=>{try{const ve=localStorage.getItem("token"),Ee=await fetch("http://localhost:8080/api/v1/itemTypes",{headers:{Authorization:`Bearer ${ve}`}});if(Ee.ok){const $e=await Ee.json();J($e)}else console.error("Failed to fetch item types, status:",Ee.status)}catch(ve){console.error("Failed to fetch item types:",ve)}},he=async()=>{try{const ve=localStorage.getItem("token"),Ee=await fetch("http://localhost:8080/api/v1/itemCategories/children",{headers:{Authorization:`Bearer ${ve}`}});if(Ee.ok){const $e=await Ee.json();L($e)}else console.error("Failed to fetch item categories, status:",Ee.status)}catch(ve){console.error("Failed to fetch item categories:",ve)}},se=async()=>{try{const ve=localStorage.getItem("token"),Ee=await fetch(`http://localhost:8080/api/v1/warehouses/${e}`,{headers:{Authorization:`Bearer ${ve}`}});if(!Ee.ok){const We=await Ee.text();throw console.error("Error response:",We),new Error(`HTTP error! Status: ${Ee.status}`)}const $e=await Ee.json();fe({site:$e.site||{},name:$e.name||"",id:$e.id||"",employees:$e.employees||[]})}catch(ve){console.error("Error fetching warehouse details:",ve)}};g.useEffect(()=>{ce(),te(),he(),se()},[e]),g.useEffect(()=>{ae==="resolvedHistory"&&re()},[ae,e]);const oe=async ve=>{try{const Ee=localStorage.getItem("token"),$e=await fetch(`http://localhost:8080/api/v1/items/${ve}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ee}`}});if($e.ok)a(We=>We.filter(jt=>jt.id!==ve)),X("Item deleted successfully","success");else{const We=await $e.text();console.error("Failed to delete item:",$e.status,We),X("Failed to delete item","error")}}catch(Ee){console.error("Delete error:",Ee),X("Error deleting item","error")}},xe=ve=>{O(ve),W({resolutionType:"",notes:"",transactionId:ve.relatedTransactionId||""}),b(!0)},pe=()=>{_({itemCategoryId:"",itemTypeId:"",initialQuantity:"",createdAt:new Date().toISOString().split("T")[0]}),T(!0)},je=ve=>{const{name:Ee,value:$e}=ve.target;_(Ee==="itemCategoryId"?{...D,itemCategoryId:$e,itemTypeId:""}:{...D,[Ee]:$e})},qe=()=>D.itemCategoryId?G.filter(ve=>{var Ee;return((Ee=ve.itemCategory)==null?void 0:Ee.id)===D.itemCategoryId}):G,ke=async ve=>{if(ve.preventDefault(),!D.itemTypeId||!D.initialQuantity||!D.createdAt){X("Please fill in all fields","error");return}if(parseInt(D.initialQuantity)<=0){X("Quantity must be greater than 0","error");return}let Ee="system";const $e=localStorage.getItem("userInfo");if($e)try{const We=JSON.parse($e);We.username&&(Ee=We.username)}catch(We){console.error("Error parsing user info:",We)}R(!0);try{const We=localStorage.getItem("token"),jt=await fetch("http://localhost:8080/api/v1/items",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${We}`},body:JSON.stringify({itemTypeId:D.itemTypeId,warehouseId:e,initialQuantity:parseInt(D.initialQuantity),username:Ee,createdAt:D.createdAt})});if(jt.ok)ce(),T(!1),X("Item added successfully","success");else{const tn=await jt.text();console.error("Failed to add item:",jt.status,tn),X("Failed to add item","error")}}catch(We){console.error("Error adding item:",We),X("Error adding item","error")}finally{R(!1)}},Oe=async ve=>{O(ve),j(!0),k(!0);try{const Ee=localStorage.getItem("token"),$e=await fetch(`http://localhost:8080/api/v1/items/transaction-details/${e}/${ve.itemType.id}`,{headers:{Authorization:`Bearer ${Ee}`}});if($e.ok){const We=await $e.json(),tn=(await Promise.all(We.map(async un=>{var Zr;if((Zr=un.transactionItem)!=null&&Zr.transaction){const _r=un.transactionItem.transaction;let yo="Unknown",Jd="Unknown";return _r.senderType==="WAREHOUSE"&&_r.senderId&&(yo=await ee(_r.senderId)),_r.receiverType==="WAREHOUSE"&&_r.receiverId&&(Jd=await ee(_r.receiverId)),{...un,senderWarehouseName:yo,receiverWarehouseName:Jd}}return un}))).sort((un,Zr)=>{const _r=new Date(un.createdAt||0),yo=new Date(Zr.createdAt||0);return _r-yo});S(tn)}else console.error("Failed to fetch transaction details:",$e.status),X("Failed to load transaction details","error")}catch(Ee){console.error("Error fetching transaction details:",Ee),X("Error loading transaction details","error")}finally{k(!1)}},Be=async ve=>{if(ve.preventDefault(),!!A)try{const Ee=localStorage.getItem("token"),$e={itemId:A.id,resolutionType:z.resolutionType,notes:z.notes,transactionId:z.transactionId,resolvedBy:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")).username:"system"},We=await fetch("http://localhost:8080/api/v1/items/resolve-discrepancy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee}`},body:JSON.stringify($e)});if(We.ok)ce(),b(!1),X("Discrepancy resolved successfully","success");else{const jt=await We.text();console.error("Failed to resolve item:",We.status,jt),X("Failed to resolve discrepancy","error")}}catch(Ee){console.error("Failed to resolve item:",Ee),X("Error resolving discrepancy","error")}},Ke=ve=>{const{name:Ee,value:$e}=ve.target;W({...z,[Ee]:$e})},bt=()=>{let ve=r.filter(Ee=>ae==="inWarehouse"?Ee.itemStatus==="IN_WAREHOUSE"&&!Ee.resolved:ae==="missingItems"?Ee.itemStatus==="MISSING"&&!Ee.resolved:ae==="excessItems"?Ee.itemStatus==="OVERRECEIVED"&&!Ee.resolved:ae==="resolvedHistory"?Ee.resolved:!0);return ae==="inWarehouse"?Y(ve):ve},Se=ve=>{switch(ve){case"IN_WAREHOUSE":return"In Warehouse";case"DELIVERING":return"Delivering";case"PENDING":return"Pending";case"MISSING":return"Missing Items";case"OVERRECEIVED":return"Excess Items";default:return ve}},Le=ve=>{switch(ve){case"ACKNOWLEDGE_LOSS":return"Acknowledge Loss";case"FOUND_ITEMS":return"Items Found";case"ACCEPT_SURPLUS":return"Accept Surplus";case"COUNTING_ERROR":return"Counting Error";default:return ve}},Fe=ve=>{const Ee=new Date(ve);return Ee.toLocaleDateString()+" "+Ee.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},ze=[{accessor:"itemType.itemCategory.name",header:"CATEGORY",width:"255px",render:ve=>{var Ee,$e;return t.jsx("span",{className:"category-tag",children:(($e=(Ee=ve.itemType)==null?void 0:Ee.itemCategory)==null?void 0:$e.name)||"No Category"})}},{accessor:"itemType.name",header:"ITEM",width:"250px"},{accessor:"quantity",header:"QUANTITY",width:"250px",render:ve=>{if(ae==="inWarehouse"&&ve.isAggregated){const Ee=V(ve);return t.jsxs("div",{className:"quantity-cell",children:[t.jsx("div",{className:"quantity-main",children:t.jsx("span",{className:`total-quantity ${Ee?"low-stock":""}`,children:ve.quantity})}),ve.individualItems&&ve.individualItems.length>1&&t.jsx("span",{className:"quantity-breakdown",title:`From ${ve.individualItems.length} transactions`,children:` (${ve.individualItems.length} entries)`})]})}return ve.quantity||0}},{accessor:"itemType.measuringUnit",header:"UNIT",width:"230px",render:ve=>{var Ee;return((Ee=ve.itemType)==null?void 0:Ee.measuringUnit)||"N/A"}}],Xe=[{accessor:"itemType.itemCategory.name",header:"CATEGORY",width:"200px",render:ve=>{var Ee,$e;return t.jsx("span",{className:"category-tag",children:(($e=(Ee=ve.itemType)==null?void 0:Ee.itemCategory)==null?void 0:$e.name)||"No Category"})}},{accessor:"itemType.name",header:"ITEM",width:"210px"},{accessor:"quantity",header:"QUANTITY",width:"210px"},{accessor:"itemType.measuringUnit",header:"UNIT",width:"210px",render:ve=>{var Ee;return((Ee=ve.itemType)==null?void 0:Ee.measuringUnit)||"N/A"}},{accessor:"transaction.batchNumber",header:"BATCH #",width:"200px",render:ve=>{var Ee;return t.jsx("span",{className:"batch-number",children:((Ee=ve.transaction)==null?void 0:Ee.batchNumber)||ve.batchNumber||"N/A"})}}],pt=[{accessor:"item.itemType.itemCategory.name",header:"CATEGORY",width:"210px",render:ve=>{var Ee,$e,We;return t.jsx("span",{className:"category-tag",children:((We=($e=(Ee=ve.item)==null?void 0:Ee.itemType)==null?void 0:$e.itemCategory)==null?void 0:We.name)||"No Category"})}},{accessor:"item.itemType.name",header:"ITEM",width:"210px"},{accessor:"originalQuantity",header:"QUANTITY",width:"210px"},{accessor:"item.transaction.batchNumber",header:"BATCH #",width:"210px",render:ve=>{var Ee,$e,We;return t.jsx("span",{className:"batch-number",children:(($e=(Ee=ve.item)==null?void 0:Ee.transaction)==null?void 0:$e.batchNumber)||((We=ve.item)==null?void 0:We.batchNumber)||"N/A"})}},{accessor:"resolutionType",header:"RESOLUTION",width:"180px",render:ve=>{var Ee;return t.jsx("span",{className:`resolution-badge ${(Ee=ve.resolutionType)==null?void 0:Ee.toLowerCase().replace("_","-")}`,children:Le(ve.resolutionType)})}},{accessor:"resolvedBy",header:"RESOLVED BY",width:"210px",render:ve=>ve.resolvedBy||"System"},{accessor:"resolvedAt",header:"RESOLVED AT",width:"250px",render:ve=>t.jsx("span",{className:"date-cell",children:Fe(ve.resolvedAt)})}],en=()=>{if(ae==="resolvedHistory")return[];const ve=[];return ae==="inWarehouse"?(ve.push({label:"View Details",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),onClick:Ee=>Oe(Ee),className:"view",isDisabled:Ee=>!Ee.isAggregated}),ve.push({label:"Delete",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}),t.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:Ee=>oe(Ee.id),className:"delete"})):((ae==="missingItems"||ae==="excessItems")&&ve.push({label:"Resolve",icon:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),onClick:Ee=>xe(Ee),className:"resolve"}),ve.push({label:"Delete",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}),t.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:Ee=>oe(Ee.id),className:"delete"})),ve},Bt=bt(),qn=ae==="inWarehouse"?Bt.filter(ve=>V(ve)):[];return t.jsxs("div",{className:"warehouse-view4",children:[t.jsx("div",{className:"header-container4",children:t.jsx("div",{className:"left-section4",children:t.jsx("div",{className:"item-count4",children:ae==="resolvedHistory"?`${s.length} resolutions`:ae==="inWarehouse"?`${Bt.length} item types (${r.filter(ve=>ve.itemStatus==="IN_WAREHOUSE"&&!ve.resolved).length} total items)`:`${r.length} items`})})}),t.jsxs("div",{className:"inventory-tabs",children:[t.jsx("button",{className:`inventory-tab ${ae==="inWarehouse"?"active":""}`,onClick:()=>me("inWarehouse"),children:"In Warehouse"}),t.jsxs("button",{className:`inventory-tab ${ae==="missingItems"?"active":""}`,onClick:()=>me("missingItems"),children:["Missing Items",r.filter(ve=>ve.itemStatus==="MISSING"&&!ve.resolved).length>0&&t.jsx("span",{className:"tab-badge",children:r.filter(ve=>ve.itemStatus==="MISSING"&&!ve.resolved).length})]}),t.jsxs("button",{className:`inventory-tab ${ae==="excessItems"?"active":""}`,onClick:()=>me("excessItems"),children:["Excess Items",r.filter(ve=>ve.itemStatus==="OVERRECEIVED"&&!ve.resolved).length>0&&t.jsx("span",{className:"tab-badge",children:r.filter(ve=>ve.itemStatus==="OVERRECEIVED"&&!ve.resolved).length})]}),t.jsx("button",{className:`inventory-tab ${ae==="resolvedHistory"?"active":""}`,onClick:()=>me("resolvedHistory"),children:"Resolution History"})]}),ae==="inWarehouse"&&qn.length>0&&t.jsxs("div",{className:"low-stock-warning-banner",children:[t.jsx("div",{className:"warning-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),t.jsxs("div",{className:"warning-content",children:[t.jsx("h3",{className:"warning-title",children:"Low Stock Alert"}),t.jsxs("p",{className:"warning-message",children:[qn.length," item",qn.length>1?"s are":" is"," below minimum quantity threshold:"]}),t.jsxs("div",{className:"low-stock-items-list",children:[qn.slice(0,3).map((ve,Ee)=>{var $e,We;return t.jsxs("span",{className:"low-stock-item",children:[($e=ve.itemType)==null?void 0:$e.name," (",ve.quantity,"/",(We=ve.itemType)==null?void 0:We.minQuantity,")"]},Ee)}),qn.length>3&&t.jsxs("span",{className:"low-stock-more",children:["+",qn.length-3," more"]})]})]}),t.jsx("div",{className:"warning-actions",children:t.jsx("button",{className:"restock-button",onClick:pe,title:"Add items to restock",children:"Restock Items"})})]}),(ae==="missingItems"||ae==="excessItems")&&t.jsxs("div",{className:"resolution-info-card",children:[t.jsx("div",{className:"resolution-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),t.jsxs("div",{className:"resolution-info-content",children:[t.jsx("h3",{children:"Inventory Discrepancy Resolution"}),t.jsx("p",{children:ae==="missingItems"?'Items marked as "Missing" represent inventory shortages identified during transactions. These items were expected to be received but were not found. Review and resolve these discrepancies to maintain accurate inventory records.':'Items marked as "Excess" represent inventory surpluses identified during transactions. These are items that were received beyond expected quantities. Review and resolve these discrepancies to determine appropriate action.'})]})]}),ae==="resolvedHistory"&&t.jsxs("div",{className:"resolution-info-card",children:[t.jsx("div",{className:"resolution-icon",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{className:"resolution-info-content",children:[t.jsx("h3",{children:"Resolution History"}),t.jsx("p",{children:"This tab shows the complete history of all resolved inventory discrepancies. Each entry includes details about the original issue, the resolution action taken, and who resolved it."})]})]}),ae==="resolvedHistory"?t.jsx(Nt,{data:s,columns:pt,loading:d,tableTitle:"",defaultItemsPerPage:10,itemsPerPageOptions:[5,10,15,20],showSearch:!0,showFilters:!0,filterableColumns:[{accessor:"item.itemType.name",header:"Item"},{accessor:"item.itemType.itemCategory.name",header:"Category"},{accessor:"resolutionType",header:"Resolution Type"},{accessor:"resolvedBy",header:"Resolved By"}],actions:en(),className:"resolution-history-table"}):ae==="inWarehouse"?t.jsx(Nt,{data:Bt,columns:ze,loading:l,tableTitle:"",defaultItemsPerPage:10,itemsPerPageOptions:[5,10,15,20],showSearch:!0,showFilters:!0,filterableColumns:[{accessor:"itemType.name",header:"Item"},{accessor:"itemType.itemCategory.name",header:"Category"},{accessor:"itemType.measuringUnit",header:"Unit"}],actions:en(),className:"inventory-items-table"}):t.jsx(Nt,{data:Bt,columns:Xe,loading:l,tableTitle:"",defaultItemsPerPage:10,itemsPerPageOptions:[5,10,15,20],showSearch:!0,showFilters:!0,filterableColumns:[{accessor:"itemType.name",header:"Item"},{accessor:"itemType.itemCategory.name",header:"Category"},{accessor:"transaction.batchNumber",header:"Batch Number"}],actions:en(),className:"discrepancy-items-table"}),y&&A&&t.jsx("div",{className:"resolution-modal-backdrop",children:t.jsxs("div",{className:"resolution-modal",children:[t.jsxs("div",{className:"resolution-modal-header",children:[t.jsx("h2",{children:"Resolve Inventory Discrepancy"}),t.jsx("button",{className:"close-modal-button",onClick:()=>b(!1),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("div",{className:"resolution-modal-body",children:[t.jsxs("div",{className:"resolution-item-details",children:[t.jsxs("div",{className:"resolution-detail",children:[t.jsx("span",{className:"resolution-label",children:"Item:"}),t.jsx("span",{className:"resolution-value",children:(Jr=A.itemType)==null?void 0:Jr.name})]}),t.jsxs("div",{className:"resolution-detail",children:[t.jsx("span",{className:"resolution-label",children:"Quantity:"}),t.jsxs("span",{className:"resolution-value",children:[A.quantity," ",((Jn=A.itemType)==null?void 0:Jn.measuringUnit)||""]})]}),t.jsxs("div",{className:"resolution-detail",children:[t.jsx("span",{className:"resolution-label",children:"Status:"}),t.jsx("span",{className:"resolution-value",children:Se(A.itemStatus)})]}),t.jsxs("div",{className:"resolution-detail",children:[t.jsx("span",{className:"resolution-label",children:"Batch Number:"}),t.jsx("span",{className:"resolution-value",children:((ja=A.transaction)==null?void 0:ja.batchNumber)||A.batchNumber||"N/A"})]})]}),t.jsxs("form",{onSubmit:Be,className:"resolution-form",children:[t.jsxs("div",{className:"resolution-form-group",children:[t.jsx("label",{htmlFor:"resolutionType",children:"Resolution Type"}),t.jsxs("select",{id:"resolutionType",name:"resolutionType",value:z.resolutionType,onChange:Ke,required:!0,children:[t.jsx("option",{value:"",children:"Select Resolution Type"}),A.itemStatus==="MISSING"?t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"ACKNOWLEDGE_LOSS",children:"Acknowledge Loss"}),t.jsx("option",{value:"FOUND_ITEMS",children:"Items Found"})]}):t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"ACCEPT_SURPLUS",children:"Accept Surplus"}),t.jsx("option",{value:"COUNTING_ERROR",children:"Counting Error"})]})]})]}),t.jsxs("div",{className:"resolution-form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Resolution Notes"}),t.jsx("textarea",{id:"notes",name:"notes",value:z.notes,onChange:Ke,placeholder:"Provide details about this resolution",rows:4})]}),t.jsx("div",{className:"resolution-confirmation",children:t.jsxs("p",{className:"resolution-confirmation-text",children:[z.resolutionType==="ACKNOWLEDGE_LOSS"&&"You are confirming that these items are lost and will be not be added to the inventory.",z.resolutionType==="FOUND_ITEMS"&&"You are confirming items were found and will be returned to regular inventory.",z.resolutionType==="ACCEPT_SURPLUS"&&"You are accepting the surplus items that are already in your regular inventory.",z.resolutionType==="COUNTING_ERROR"&&"You are confirming this was a counting error. The excess quantity will be deducted from the original transaction inventory."]})}),t.jsxs("div",{className:"resolution-modal-footer",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>b(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"resolve-submit-button2",disabled:!z.resolutionType,children:"Resolve Discrepancy"})]})]})]})]})}),x&&A&&t.jsx("div",{className:"resolution-modal-backdrop",children:t.jsxs("div",{className:"transaction-details-modal",children:[t.jsxs("div",{className:"transaction-modal-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsxs("div",{className:"item-info",children:[t.jsx("h2",{className:"item-name",children:(Mr=A.itemType)==null?void 0:Mr.name}),t.jsx("span",{className:"item-category",children:(Re=(di=A.itemType)==null?void 0:di.itemCategory)==null?void 0:Re.name})]}),t.jsxs("div",{className:"summary-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-value",children:A.quantity}),t.jsx("span",{className:"stat-label",children:(_e=A.itemType)==null?void 0:_e.measuringUnit})]}),t.jsx("div",{className:"stat-divider"}),t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:"stat-value",children:P.length}),t.jsx("span",{className:"stat-label",children:"Entries"})]})]})]}),t.jsx("button",{className:"close-modal-button",onClick:()=>j(!1),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsx("div",{className:"transaction-details-modal-body",children:E?t.jsxs("div",{className:"transaction-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading transaction details..."})]}):t.jsx("div",{className:"transaction-details-list",children:P.length>0?t.jsx("div",{className:"transaction-items",children:P.map((ve,Ee)=>{var $e,We,jt;return t.jsx("div",{className:"transaction-detail-card",children:($e=ve.transactionItem)!=null&&$e.transaction?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"transaction-card-header",children:[t.jsxs("div",{className:"transaction-batch",children:[t.jsx("span",{className:"batch-label",children:"Batch #"}),t.jsx("span",{className:"batch-number",children:ve.batchNumber||ve.transactionItem.transaction.batchNumber||"N/A"})]}),t.jsx("div",{className:"transaction-date",children:ve.createdAt?Fe(ve.createdAt):"N/A"})]}),t.jsxs("div",{className:"transaction-card-body",children:[t.jsxs("div",{className:"quantity-info",children:[t.jsx("span",{className:"quantity-value",children:ve.quantity}),t.jsx("span",{className:"quantity-unit",children:(We=ve.itemType)==null?void 0:We.measuringUnit})]}),t.jsxs("div",{className:"transaction-flow",children:[t.jsxs("div",{className:"flow-info",children:[t.jsx("span",{className:"flow-label",children:"From:"}),t.jsx("span",{className:"flow-value",children:ve.senderWarehouseName||"Unknown Warehouse"})]}),t.jsx("div",{className:"flow-arrow",children:""}),t.jsxs("div",{className:"flow-info",children:[t.jsx("span",{className:"flow-label",children:"To:"}),t.jsx("span",{className:"flow-value",children:ve.receiverWarehouseName||de.name||"This Warehouse"})]})]}),ve.transactionItem.transaction.addedBy&&t.jsxs("div",{className:"transaction-user",children:[t.jsx("span",{className:"user-label",children:"Added by:"}),t.jsx("span",{className:"user-value",children:ve.transactionItem.transaction.addedBy})]}),ve.transactionItem.transaction.acceptanceComment&&t.jsxs("div",{className:"transaction-comment",children:[t.jsx("span",{className:"comment-label",children:"Note:"}),t.jsx("span",{className:"comment-value",children:ve.transactionItem.transaction.acceptanceComment})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"transaction-card-header manual-entry",children:[t.jsx("div",{className:"manual-entry-badge",children:t.jsx("span",{className:"manual-label",children:"Manual Entry"})}),t.jsx("div",{className:"entry-date",children:ve.createdAt?Fe(ve.createdAt):"Date unknown"})]}),t.jsxs("div",{className:"transaction-card-body",children:[t.jsxs("div",{className:"quantity-info",children:[t.jsx("span",{className:"quantity-value",children:ve.quantity}),t.jsx("span",{className:"quantity-unit",children:(jt=ve.itemType)==null?void 0:jt.measuringUnit})]}),t.jsxs("div",{className:"manual-entry-info",children:[t.jsx("div",{className:"manual-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.jsxs("div",{className:"manual-text",children:[t.jsx("p",{className:"manual-title",children:"This item was manually added"}),t.jsx("p",{className:"manual-description",children:"No transaction record available - item was directly added to inventory"})]})]}),ve.addedBy&&t.jsxs("div",{className:"transaction-user",children:[t.jsx("span",{className:"user-label",children:"Added by:"}),t.jsx("span",{className:"user-value",children:ve.createdBy})]}),ve.comment&&t.jsxs("div",{className:"transaction-comment",children:[t.jsx("span",{className:"comment-label",children:"Note:"}),t.jsx("span",{className:"comment-value",children:ve.comment})]})]})]})},ve.id)})}):t.jsxs("div",{className:"no-transactions",children:[t.jsx("div",{className:"empty-icon",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:t.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("h3",{children:"No Transaction History"}),t.jsx("p",{children:"No transaction details found for this item."})]})})})]})}),w&&t.jsx("div",{className:"resolution-modal-backdrop",children:t.jsxs("div",{className:"add-item-modal",children:[t.jsxs("div",{className:"resolution-modal-header",children:[t.jsx("h2",{children:"Add New Item"}),t.jsx("button",{className:"close-modal-button",onClick:()=>T(!1),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsx("div",{className:"add-item-modal-body",children:t.jsxs("form",{onSubmit:ke,className:"add-item-form",children:[t.jsxs("div",{className:"add-item-form-group",children:[t.jsx("label",{htmlFor:"itemCategoryId",children:"Item Category"}),t.jsxs("select",{id:"itemCategoryId",name:"itemCategoryId",value:D.itemCategoryId,onChange:je,children:[t.jsx("option",{value:"",children:"All Categories"}),$.map(ve=>t.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]}),t.jsxs("div",{className:"add-item-form-group",children:[t.jsx("label",{htmlFor:"itemTypeId",children:"Item Type"}),t.jsxs("select",{id:"itemTypeId",name:"itemTypeId",value:D.itemTypeId,onChange:je,required:!0,children:[t.jsx("option",{value:"",children:"Select Item Type"}),qe().map(ve=>t.jsx("option",{value:ve.id,children:ve.name},ve.id))]}),qe().length===0&&D.itemCategoryId&&t.jsx("span",{className:"form-error-text",children:"No item types found for the selected category"})]}),t.jsxs("div",{className:"add-item-form-group",children:[t.jsx("label",{htmlFor:"initialQuantity",children:"Quantity"}),t.jsx("input",{type:"number",id:"initialQuantity",name:"initialQuantity",value:D.initialQuantity,onChange:je,placeholder:"Enter quantity",min:"1",required:!0})]}),t.jsxs("div",{className:"add-item-form-group",children:[t.jsx("label",{htmlFor:"createdAt",children:"Date"}),t.jsx("input",{type:"date",id:"createdAt",name:"createdAt",value:D.createdAt,onChange:je,required:!0})]}),t.jsxs("div",{className:"add-item-info",children:[t.jsx("div",{className:"info-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),t.jsxs("div",{className:"info-text",children:[t.jsx("p",{className:"info-title",children:"Adding Items to Inventory"}),t.jsx("p",{className:"info-description",children:"If an item of this type already exists in the warehouse, the quantities will be merged. Otherwise, a new inventory entry will be created."})]})]}),t.jsxs("div",{className:"add-item-modal-footer",children:[t.jsx("button",{type:"button",className:"cancel-button",onClick:()=>T(!1),disabled:U,children:"Cancel"}),t.jsx("button",{type:"submit",className:"add-item-submit-button",disabled:!D.itemTypeId||!D.initialQuantity||!D.createdAt||U,children:U?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"button-spinner"}),"Adding..."]}):"Add Item"})]})]})})]})}),t.jsx(Xn,{type:K,text:B,isVisible:I,onClose:Z,duration:3e3})]})},tle=({warehouseId:e,onAddButtonClick:n})=>{const[r,a]=g.useState([]),[s,o]=g.useState(!1),[l,u]=g.useState(!1),[d,h]=g.useState(null),f=g.useRef(null),[p,y]=g.useState({name:"",itemCategory:"",minQuantity:0,measuringUnit:"",serialNumber:"",status:"AVAILABLE",comment:""}),[b,x]=g.useState([]),[j,w]=g.useState(!1),[T,A]=g.useState(""),[O,P]=g.useState("success"),[S,E]=g.useState(""),k=(M=null)=>{M?(h(M),y({name:M.name,itemCategory:M.itemCategory?M.itemCategory.id:"",minQuantity:M.minQuantity,measuringUnit:M.measuringUnit,serialNumber:M.serialNumber,status:M.status,comment:M.comment})):(h(null),y({name:"",itemCategory:"",minQuantity:0,measuringUnit:"",serialNumber:"",status:"AVAILABLE",comment:""})),u(!0)};g.useEffect(()=>{n&&n(k)},[n]),g.useEffect(()=>{(async()=>{o(!0),console.log("Fetching item types...");try{const F=localStorage.getItem("token"),G=await fetch("http://localhost:8080/api/v1/itemTypes",{headers:{Authorization:`Bearer ${F}`}});if(console.log("Response Status:",G.status),!G.ok)throw new Error("Failed to fetch data");const J=await G.json();console.log("Data fetched:",J),a(J)}catch(F){console.error("Error fetching data:",F)}o(!1)})()},[]),g.useEffect(()=>{try{const M=localStorage.getItem("userInfo");if(M){const F=JSON.parse(M);console.log("userrrrifnooo"+F),E(F.role),console.log("roleee"+F.role)}}catch(M){console.error("Error parsing user info:",M)}},[]),g.useEffect(()=>{(async()=>{try{const F=localStorage.getItem("token"),G=await fetch("http://localhost:8080/api/v1/itemCategories/children",{headers:{Authorization:`Bearer ${F}`}});if(!G.ok)throw new Error("Failed to fetch categories");const J=await G.json();console.log("Categories fetched:",J),x(J)}catch(F){console.error("Error fetching categories:",F)}})()},[]),g.useEffect(()=>{const M=F=>{f.current&&!f.current.contains(F.target)&&u(!1)};return l&&document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[l]);const D=(M,F="success")=>{A(M),P(F),w(!0)},_=[{header:"ITEM CATEGORY",accessor:"itemCategory.name",sortable:!0,width:"250px",minWidth:"150px",render:M=>t.jsx("span",{className:"category-tag",children:M.itemCategory?M.itemCategory.name:"No Category"})},{header:"ITEM TYPE",accessor:"name",sortable:!0,width:"220px",minWidth:"150px"},{header:"MIN QUANTITY",accessor:"minQuantity",sortable:!0,width:"220px",minWidth:"120px",align:"left"},{header:"UNIT",accessor:"measuringUnit",sortable:!0,width:"210px",minWidth:"100px",align:"left"},{header:"SERIAL NUMBER",accessor:"serialNumber",sortable:!0,width:"230px",minWidth:"130px"}],U=[{header:"ITEM CATEGORY",accessor:"itemCategory.name",filterType:"select"},{header:"ITEM TYPE",accessor:"name",filterType:"text"},{header:"MIN QUANTITY",accessor:"minQuantity",filterType:"number"},{header:"UNIT",accessor:"measuringUnit",filterType:"select"},{header:"SERIAL NUMBER",accessor:"serialNumber",filterType:"text"}],R=[{label:"Edit",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]}),className:"edit",onClick:M=>k(M)},{label:"Delete",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}),t.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),className:"delete",onClick:M=>z(M.id)}],$=M=>{const{name:F,value:G}=M.target;y(F==="minQuantity"?J=>({...J,[F]:parseInt(G,10)||0}):J=>({...J,[F]:G}))},L=async M=>{if(M.preventDefault(),!p.name||!p.itemCategory||!p.minQuantity||!p.measuringUnit||!p.serialNumber){D("Please fill in all the required fields.","error");return}const F={name:p.name,itemCategory:p.itemCategory,minQuantity:parseInt(p.minQuantity),measuringUnit:p.measuringUnit,serialNumber:p.serialNumber,status:p.status,comment:p.comment||""};if(console.log("Submitting payload:",F),d)W(d.id,F);else try{const G=localStorage.getItem("token"),J=await fetch("http://localhost:8080/api/v1/itemTypes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify(F)});if(!J.ok)throw new Error(`Failed to add item type: ${J.status}`);const I=await J.json();a(q=>[...q,I]),D("Item type successfully added!","success"),u(!1),y({name:"",itemCategory:"",minQuantity:0,measuringUnit:"",serialNumber:"",status:"AVAILABLE",comment:""})}catch(G){console.error("Error adding item type:",G),D(`Failed to add item type: ${G.message}`,"error")}},z=async M=>{try{const F=localStorage.getItem("token"),G=await fetch(`http://localhost:8080/api/v1/itemTypes/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`}});if(!G.ok)throw new Error(`Failed to delete item type: ${G.status}`);a(J=>J.filter(I=>I.id!==M)),D("Item type successfully deleted!","success")}catch(F){console.error("Error deleting item type:",F),D(`Failed to delete item type: ${F.message}`,"error")}},W=async(M,F)=>{try{F.comment||(F.comment="No comment"),console.log("Updating item with data:",F);const G=localStorage.getItem("token"),J=await fetch(`http://localhost:8080/api/v1/itemTypes/${M}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify(F)});if(!J.ok)throw new Error(`Failed to update item type: ${J.status}`);const I=await J.json();a(q=>q.map(B=>B.id===M?{...B,...I}:B)),D("Item type successfully updated!","success"),u(!1),y({name:"",itemCategory:"",minQuantity:0,measuringUnit:"",serialNumber:"",status:"AVAILABLE",comment:""})}catch(G){console.error("Error updating item type:",G),D(`Failed to update item type: ${G.message}`,"error")}};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"header-container",children:t.jsx("div",{className:"left-section",children:t.jsxs("div",{className:"item-count",children:[r.length," items"]})})}),t.jsx(Nt,{data:r,columns:_,loading:s,emptyMessage:"No item types found. Try adjusting your search or add a new item type",actions:R,className:"item-types-table",showSearch:!0,showFilters:!0,filterableColumns:U,itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,actionsColumnWidth:"160px"}),l&&t.jsx("div",{className:"modal-backdrop",children:t.jsxs("div",{className:"modal",ref:f,children:[t.jsxs("div",{className:"modal-header0",children:[t.jsx("h2",{children:d?"Edit Item Type":"Add New Item Type"}),t.jsx("button",{className:"close-modal",onClick:()=>u(!1),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("div",{className:"category-info-card-modal",children:[t.jsx("div",{className:"category-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),t.jsxs("div",{className:"category-info-content",children:[t.jsx("h3",{children:"Categories Available"}),t.jsx("p",{children:"Only child categories are shown in the dropdown below. If you need to create a new category, please go to the Categories section first and ensure you create a child category."})]})]}),t.jsxs("form",{className:"form2",onSubmit:L,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"name",children:"Item Name"}),t.jsx("input",{type:"text",id:"name",name:"name",value:p.name,onChange:$,placeholder:"Enter item name",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"itemCategory",children:"Category"}),t.jsxs("select",{id:"itemCategory",name:"itemCategory",value:p.itemCategory,onChange:$,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select category"}),b&&b.length>0?b.map(M=>t.jsx("option",{value:M.id,children:M.name},M.id)):t.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"minQuantity",children:"Minimum Quantity"}),t.jsx("input",{type:"number",id:"minQuantity",name:"minQuantity",value:p.minQuantity,onChange:$,min:"0",placeholder:"Enter minimum quantity"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"measuringUnit",children:"Unit"}),t.jsx("input",{type:"text",id:"measuringUnit",name:"measuringUnit",value:p.measuringUnit,onChange:$,placeholder:"e.g. pieces, kg, litres",required:!0})]})]}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"serialNumber",children:"Serial Number"}),t.jsx("input",{type:"text",id:"serialNumber",name:"serialNumber",value:p.serialNumber,onChange:$,placeholder:"Enter serial number "})]})}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"comment",children:"Comment"}),t.jsx("textarea",{id:"comment",name:"comment",value:p.comment,onChange:$,placeholder:"Enter comment (optional)"})]})}),t.jsx("div",{className:"modal-footer0",children:t.jsx("button",{type:"submit",className:"submit-button",children:d?"Update Item":"Add Item"})})]})]})}),t.jsx(Xn,{type:O,text:T,isVisible:j,onClose:()=>w(!1),duration:3e3})]})},nle=({onEdit:e,onDelete:n})=>{const[r,a]=g.useState([]),[s,o]=g.useState(!1),[l,u]=g.useState(null);g.useEffect(()=>{(async()=>{o(!0),u(null);try{const y=localStorage.getItem("token");if(!y)throw new Error("No authentication token found");const b=await fetch("http://localhost:8080/api/v1/itemCategories/parents",{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!b.ok){const j=await b.text();throw console.error("Error response:",j),new Error(`Failed to fetch parent categories: ${b.status} ${j}`)}const x=await b.json();a(Array.isArray(x)?x:[])}catch(y){console.error("Error fetching parent categories:",y),u(y.message),a([])}finally{o(!1)}})()},[]);const d=[{header:"CATEGORY",accessor:"name",sortable:!0,width:"300px",minWidth:"200px"},{header:"DESCRIPTION",accessor:"description",sortable:!0,width:"400px",minWidth:"250px",render:p=>p.description||"No description"}],h=[{header:"CATEGORY",accessor:"name",filterType:"text"},{header:"DESCRIPTION",accessor:"description",filterType:"text"}],f=[{label:"Edit",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]}),className:"edit",onClick:p=>e(p)},{label:"Delete",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}),t.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),className:"delete",onClick:p=>n(p.id)}];return l?t.jsxs("div",{className:"category-table-container",children:[t.jsxs("div",{className:"table-header-container",children:[t.jsx("div",{className:"left-section2",children:t.jsx("div",{className:"item-count2",children:"0 categories"})}),t.jsx("div",{className:"section-description",children:"(A high-level classification used to group related item categories together)"})]}),t.jsxs("div",{className:"error-container",children:[t.jsxs("p",{children:["Error: ",l]}),t.jsx("p",{children:"Please try again later or contact support."})]})]}):t.jsxs("div",{className:"category-table-container",children:[t.jsxs("div",{className:"table-header-container",children:[t.jsxs("div",{className:"left-section2",children:[t.jsx("h2",{className:"table-section-title",children:"Parent Categories"}),t.jsxs("div",{className:"item-count2",children:[r.length," categories"]})]}),t.jsx("div",{className:"section-description",children:"(A high-level classification used to group related item categories together)"})]}),t.jsx(Nt,{data:r,columns:d,loading:s,emptyMessage:"No parent categories found",actions:f,className:"parent-categories-table",showSearch:!0,showFilters:!0,filterableColumns:h,itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,actionsColumnWidth:"120px"})]})},rle=({onEdit:e,onDelete:n})=>{const[r,a]=g.useState([]),[s,o]=g.useState(!1),[l,u]=g.useState(null);g.useEffect(()=>{(async()=>{o(!0),u(null);try{const y=localStorage.getItem("token");if(!y)throw new Error("No authentication token found");const b=await fetch("http://localhost:8080/api/v1/itemCategories/children",{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!b.ok){const j=await b.text();throw console.error("Error response:",j),new Error(`Failed to fetch child categories: ${b.status} ${j}`)}const x=await b.json();a(Array.isArray(x)?x:[])}catch(y){console.error("Error fetching child categories:",y),u(y.message),a([])}finally{o(!1)}})()},[]);const d=[{header:"CATEGORY",accessor:"name",sortable:!0,width:"200px",minWidth:"150px"},{header:"PARENT CATEGORY",accessor:"parentCategory.name",sortable:!0,width:"200px",minWidth:"150px",render:p=>p.parentCategory?p.parentCategory.name:"None"},{header:"DESCRIPTION",accessor:"description",sortable:!0,width:"300px",minWidth:"200px",render:p=>p.description||"No description"}],h=[{header:"CATEGORY",accessor:"name",filterType:"text"},{header:"PARENT CATEGORY",accessor:"parentCategory.name",filterType:"select"},{header:"DESCRIPTION",accessor:"description",filterType:"text"}],f=[{label:"Edit",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]}),className:"edit",onClick:p=>e(p)},{label:"Delete",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}),t.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),className:"delete",onClick:p=>n(p.id)}];return l?t.jsxs("div",{className:"category-table-container",children:[t.jsxs("div",{className:"table-header-container",children:[t.jsx("div",{className:"left-section2",children:t.jsx("div",{className:"item-count2",children:"0 categories"})}),t.jsx("div",{className:"section-description",children:"(A more specific category that falls under a parent category, used to better organize and manage items)"})]}),t.jsxs("div",{className:"error-container",children:[t.jsxs("p",{children:["Error: ",l]}),t.jsx("p",{children:"Please try again later or contact support."})]})]}):t.jsxs("div",{className:"category-table-container",children:[t.jsxs("div",{className:"table-header-container",children:[t.jsxs("div",{className:"left-section2",children:[t.jsx("h2",{className:"table-section-title",children:"Child Categories"}),t.jsxs("div",{className:"item-count2",children:[r.length," categories"]})]}),t.jsx("div",{className:"section-description",children:"(A more specific category that falls under a parent category, used to better organize and manage items)"})]}),t.jsx(Nt,{data:r,columns:d,loading:s,emptyMessage:"No child categories found",actions:f,className:"child-categories-table",showSearch:!0,showFilters:!0,filterableColumns:h,itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,actionsColumnWidth:"120px"})]})},ale=({warehouseId:e,onAddButtonClick:n})=>{const[r,a]=g.useState([]),[s,o]=g.useState(!1),[l,u]=g.useState(null),[d,h]=g.useState(!1),f=g.useRef(null),[p,y]=g.useState(0),[b,x]=g.useState("parent"),[j,w]=g.useState("create"),[T,A]=g.useState(""),[O,P]=g.useState(""),[S,E]=g.useState(null),[k,D]=g.useState(null),[_,U]=g.useState([]),[R,$]=g.useState(""),[L,z]=g.useState(!1),[W,M]=g.useState(""),[F,G]=g.useState("success"),J=(me,de="success")=>{M(me),G(de),z(!0)},I=()=>{z(!1)},q=me=>{me?(w("update"),E(me),A(me.name),P(me.description),D(me.parentCategory?me.parentCategory.id:null)):(w("create"),A(""),P(""),E(null),D(null)),h(!0)};g.useEffect(()=>{n&&n(q)},[n]);const B=async()=>{try{o(!0),u(null);const me=localStorage.getItem("token");if(!me)throw new Error("No authentication token found");const de=await fetch("http://localhost:8080/api/v1/itemCategories",{headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json"}});if(!de.ok){const X=await de.text();throw console.error("API error response:",X),new Error(`HTTP error! status: ${de.status} - ${X}`)}const fe=await de.json();a(Array.isArray(fe)?fe:[])}catch(me){console.error("Error fetching categories:",me),u(me.message),a([])}finally{o(!1)}};g.useEffect(()=>{try{B()}catch(me){console.error("Error in useEffect:",me),u(me.message)}},[]),g.useEffect(()=>{try{const me=localStorage.getItem("userInfo");if(me){const de=JSON.parse(me);$(de.role)}}catch(me){console.error("Error parsing user info:",me)}},[]),g.useEffect(()=>{if(!r.length)return;const me=r.filter(de=>{const fe=r.some(Z=>Z.parentCategory&&Z.parentCategory.id===de.id),X=!de.parentCategory;return fe||X});U(me)},[r]),g.useEffect(()=>{const me=de=>{f.current&&!f.current.contains(de.target)&&h(!1)};return d&&document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[d]);const H=me=>{const{name:de,value:fe}=me.target;de==="name"?A(fe):de==="description"&&P(fe)},K=me=>{const de=me.target.value;D(de==="none"?null:de)},ie=async me=>{if(me.preventDefault(),!T||!O){J("Please provide both name and description.","error");return}try{const de=localStorage.getItem("token"),fe={name:T,description:O};k&&(fe.parentCategoryId=k),console.log("Sending request body:",JSON.stringify(fe,null,2));let X;if(j==="create")X=await fetch("http://localhost:8080/api/v1/itemCategories",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify(fe)});else if(j==="update"&&S)X=await fetch(`http://localhost:8080/api/v1/itemCategories/${S.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify(fe)});else{J("Invalid action or missing category selection.","error");return}if(!X.ok){const V=await X.text();throw console.error("Server response:",V),new Error(`Request failed with status: ${X.status}`)}const Z=await X.json();a(j==="create"?V=>[...V,Z]:V=>V.map(Y=>Y.id===Z.id?Z:Y)),h(!1),A(""),P(""),E(null),D(null),y(V=>V+1),J(`Category successfully ${j==="update"?"updated":"added"}!`,"success"),B()}catch(de){console.error("Error saving category:",de),J(`Failed to save category: ${de.message}`,"error")}},ae=async me=>{try{const de=localStorage.getItem("token"),fe=await fetch(`http://localhost:8080/api/v1/itemCategories/${me}`,{method:"DELETE",headers:{Authorization:`Bearer ${de}`}});if(!fe.ok)throw new Error(`Failed to delete item category: ${fe.status}`);a(X=>X.filter(Z=>Z.id!==me)),y(X=>X+1),J("Category successfully deleted!","success"),B()}catch(de){console.error("Error deleting item category:",de),J(`Failed to delete category: ${de.message}`,"error")}};return s?t.jsx("div",{style:{padding:"40px",textAlign:"center"},children:t.jsx("p",{children:"Loading categories..."})}):l?t.jsxs("div",{className:"error-container",children:[t.jsxs("p",{children:["Error loading categories: ",l]}),t.jsx("button",{onClick:B,className:"retry-button",children:"Retry"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"categories-tabs-container",children:t.jsxs("div",{className:"categories-tabs",children:[t.jsx("button",{className:`categories-tab ${b==="parent"?"active":""}`,onClick:()=>x("parent"),children:"Parent Categories"}),t.jsx("button",{className:`categories-tab ${b==="child"?"active":""}`,onClick:()=>x("child"),children:"Child Categories"})]})}),b==="parent"&&t.jsxs("div",{className:"category-info-card",children:[t.jsx("div",{className:"category-icon",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),t.jsxs("div",{className:"category-info-content",children:[t.jsx("h3",{children:"Item Types Can Only Be Assigned to Child Categories"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Important:"})," To create or assign item types, you must use child categories only. Child categories require a parent category to be created first. This two-level hierarchy ensures proper organization: Parent  Child  Item Types."]})]})]}),b==="child"&&t.jsxs("div",{className:"category-info-card",children:[t.jsx("div",{className:"category-icon",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{className:"category-info-content",children:[t.jsx("h3",{children:"Item Types Can Only Be Assigned to Child Categories"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Important:"})," To create or assign item types, you must use child categories only. Child categories require a parent category to be created first. This two-level hierarchy ensures proper organization: Parent  Child  Item Types."]})]})]}),b==="parent"&&t.jsx(nle,{onEdit:q,onDelete:ae},`parent-${p}`),b==="child"&&t.jsx(rle,{onEdit:q,onDelete:ae},`child-${p}`),d&&t.jsx("div",{className:"modal-backdrop2",children:t.jsxs("div",{className:"modal2",ref:f,children:[t.jsxs("div",{className:"modal-header2",children:[t.jsx("h2",{children:j==="update"?"Edit Item Category":"Add Item Category"}),t.jsx("button",{className:"close-modal",onClick:()=>h(!1),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsx("div",{className:"modal-content-category",children:t.jsxs("form",{onSubmit:ie,children:[t.jsxs("div",{className:"form-row2",children:[t.jsxs("div",{className:"form-group2",children:[t.jsx("label",{htmlFor:"newCategoryName",children:"Category Name"}),t.jsx("input",{type:"text",id:"newCategoryName",name:"name",value:T,onChange:H,required:!0})]}),t.jsxs("div",{className:"form-group2",children:[t.jsx("label",{htmlFor:"newCategoryDescription",children:"Description"}),t.jsx("textarea",{id:"newCategoryDescription",name:"description",value:O,onChange:H,required:!0})]})]}),t.jsx("div",{className:"form-row2",children:t.jsxs("div",{className:"form-group2",children:[t.jsx("label",{htmlFor:"parentCategory",children:"Parent Category (Optional)"}),t.jsxs("select",{id:"parentCategory",value:k||"none",onChange:K,children:[t.jsx("option",{value:"none",children:"None (Root Category)"}),_.filter(me=>!S||me.id!==S.id).map(me=>t.jsx("option",{value:me.id,children:me.name},me.id))]}),t.jsx("small",{className:"form-text text-muted",children:"Only categories that are already parents or don't have assigned parent categories are available as parent categories."})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"submit",className:"submit-button2",children:j==="update"?"Update Category":"Add Category"})})]})})]})}),t.jsx(Xn,{type:F,text:W,isVisible:L,onClose:I,duration:3e3})]})},sle=({transaction:e,isOpen:n,onClose:r,onUpdate:a,warehouseId:s})=>{const[o,l]=g.useState(e||{}),[u,d]=g.useState(""),[h,f]=g.useState([]),[p,y]=g.useState([]),[b,x]=g.useState(""),[j,w]=g.useState(""),[T,A]=g.useState([]),[O,P]=g.useState([]),[S,E]=g.useState(["WAREHOUSE","EQUIPMENT"]),[k,D]=g.useState({}),[_,U]=g.useState(!1),[R,$]=g.useState(""),[L,z]=g.useState({isVisible:!1,type:"success",text:""}),W=(re,te)=>{z({isVisible:!0,type:re,text:te})},M=()=>{z(re=>({...re,isVisible:!1}))};g.useEffect(()=>{if(e&&n){console.log(" FULL TRANSACTION OBJECT:",JSON.stringify(e,null,2)),console.log(" DEBUG - Incoming transaction:",e),console.log(" DEBUG - Transaction items:",e.items),e.items&&e.items.length>0&&e.items.forEach((te,he)=>{console.log(` DEBUG - Item ${he}:`,te),console.log("  - Item Type ID:",te.itemTypeId),console.log("  - Item Type Name:",te.itemTypeName),console.log("  - Quantity:",te.quantity)});const re=(e.items||[]).map(te=>({itemType:{id:te.itemTypeId||"",name:te.itemTypeName||"",measuringUnit:""},quantity:te.quantity||1}));console.log(" DEBUG - Formatted items for form:",re),l({...e,senderType:e.senderType||"",senderId:e.senderId||"",receiverType:e.receiverType||"",receiverId:e.receiverId||"",items:re,transactionDate:F(e.transactionDate),batchNumber:e.batchNumber||""}),e.senderId===s?(d("sender"),e.receiver&&e.receiver.site&&(w(e.receiver.site.id),q(e.receiver.site.id,e.receiverType).then(te=>{P(te)}))):e.receiverId===s&&(d("receiver"),e.sender&&e.sender.site&&(x(e.sender.site.id),q(e.sender.site.id,e.senderType).then(te=>{A(te)}))),G(),I()}},[e,n,s]),g.useEffect(()=>{b&&u==="receiver"&&q(b,o.senderType).then(re=>{A(re)})},[b,o.senderType,u]),g.useEffect(()=>{j&&u==="sender"&&q(j,o.receiverType).then(re=>{P(re)})},[j,o.receiverType,u]),g.useEffect(()=>{n&&J()},[n,s]),g.useEffect(()=>{if(h.length>0&&o.items&&o.items.length>0){console.log(" DEBUG - Enriching items with warehouse data"),console.log("Available warehouse items:",h);const re=o.items.map(te=>{var oe;const he=(oe=te.itemType)==null?void 0:oe.id;if(!he)return te;const se=h.find(xe=>{var pe;return((pe=xe.itemType)==null?void 0:pe.id)===he});return se?{...te,itemType:{id:he,name:se.itemType.name,measuringUnit:se.itemType.measuringUnit||""}}:te});console.log(" DEBUG - Enriched items:",re),l(te=>({...te,items:re}))}},[h]);const F=re=>re?new Date(re).toISOString().slice(0,16):"",G=async()=>{try{const re=localStorage.getItem("token"),te=await fetch(`http://localhost:8080/api/v1/warehouses/${s}`,{headers:{Authorization:`Bearer ${re}`}});if(te.ok){const he=await te.json();D(he)}}catch(re){console.error("Failed to fetch warehouse data:",re)}},J=async()=>{try{const re=localStorage.getItem("token"),te=await fetch(`http://localhost:8080/api/v1/items/warehouse/${s}`,{headers:{Authorization:`Bearer ${re}`}});if(te.ok){const he=await te.json();f(he)}}catch(re){console.error("Failed to fetch warehouse items:",re)}},I=async()=>{try{const re=localStorage.getItem("token"),te=await fetch("http://localhost:8080/api/v1/site",{headers:{Authorization:`Bearer ${re}`}});if(te.ok){const he=await te.json();y(he)}}catch(re){console.error("Failed to fetch sites:",re)}},q=async(re,te)=>{if(!re||!te)return[];try{const he=localStorage.getItem("token");let se;te==="WAREHOUSE"?se=`http://localhost:8080/api/v1/warehouses/site/${re}`:te==="EQUIPMENT"?se=`http://localhost:8080/equipment/site/${re}`:se=`http://localhost:8080/api/v1/${te.toLowerCase()}s/site/${re}`;const oe=await fetch(se,{headers:{Authorization:`Bearer ${he}`}});if(oe.ok){let xe=await oe.json();return te==="WAREHOUSE"&&(xe=xe.filter(pe=>pe.id!==s)),xe}return[]}catch(he){return console.error(`Failed to fetch ${te} entities:`,he),[]}},B=re=>{const{name:te,value:he}=re.target;l(se=>({...se,[te]:he}))},H=re=>{const te=re.target.value;d(te),te==="sender"?(w(""),l(he=>({...he,receiverType:"",receiverId:""}))):(x(""),l(he=>({...he,senderType:"",senderId:""})))},K=re=>{const te=re.target.value;x(te),A([]),l(he=>({...he,senderType:"",senderId:""}))},ie=re=>{const te=re.target.value;w(te),P([]),l(he=>({...he,receiverType:"",receiverId:""}))},ae=re=>{const te=re.target.value;l(he=>({...he,senderType:te,senderId:""})),b&&q(b,te).then(he=>{A(he)})},me=re=>{const te=re.target.value;l(he=>({...he,receiverType:te,receiverId:""})),j&&q(j,te).then(he=>{P(he)})},de=(re,te,he)=>{var oe,xe;const se=[...o.items];if(te==="itemTypeId"){const pe=((oe=h.find(je=>je.itemType.id===he))==null?void 0:oe.itemType)||{id:he};se[re]={...se[re],itemType:pe}}else if(te==="quantity"){if(u==="sender"&&he&&((xe=se[re].itemType)!=null&&xe.id)){const pe=h.filter(je=>je.itemStatus==="IN_WAREHOUSE"&&je.itemType.id===se[re].itemType.id);if(pe.length>0){const qe=Y(pe).find(ke=>ke.itemType.id===se[re].itemType.id);if(qe){const ke=qe.quantity;if(parseInt(he)>ke){W("error",`Not enough quantity available for ${qe.itemType.name}. Only ${ke} items in stock.`);return}}}}se[re]={...se[re],[te]:he}}else se[re]={...se[re],[te]:he};l(pe=>({...pe,items:se}))},fe=()=>{l(re=>({...re,items:[...re.items,{itemType:{id:""},quantity:1}]}))},X=re=>{const te=[...o.items];te.splice(re,1),l(he=>({...he,items:te}))},Z=async re=>{try{const te=localStorage.getItem("token"),he=localStorage.getItem("username")||"system",se=re.items.map(je=>({itemTypeId:je.itemType.id,quantity:parseInt(je.quantity)})),oe={senderType:re.senderType,senderId:re.senderId,receiverType:re.receiverType,receiverId:re.receiverId,items:se,transactionDate:re.transactionDate,batchNumber:parseInt(re.batchNumber),username:he};console.log("Sending update payload:",oe);const xe=await fetch(`http://localhost:8080/api/v1/transactions/${re.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify(oe)});if(!xe.ok){let je=`Server error: ${xe.status}`;try{const qe=await xe.text();console.log("Server error response:",qe),je=qe||je}catch{console.log("Could not parse error response")}throw new Error(je)}const pe=await xe.text();if(console.log("Server response:",pe),!pe)throw new Error("Empty response from server");return JSON.parse(pe)}catch(te){throw console.error("API Error:",te),te}},V=async re=>{var se;re.preventDefault(),U(!0),$("");for(const oe of o.items){if(!((se=oe.itemType)!=null&&se.id)||!oe.quantity){W("error","Please complete all item fields"),U(!1);return}if(u==="sender"){const xe=h.filter(Oe=>Oe.itemStatus==="IN_WAREHOUSE"&&Oe.itemType.id===oe.itemType.id);if(xe.length===0){W("error","Item not found in the warehouse inventory or not available (IN_WAREHOUSE status)"),U(!1);return}const je=Y(xe).find(Oe=>Oe.itemType.id===oe.itemType.id);if(!je){W("error","Item not found in the warehouse inventory"),U(!1);return}const qe=je.quantity,ke=je.itemType.name;if(qe<parseInt(oe.quantity)){W("error",`Not enough quantity available for ${ke}. Only ${qe} items in stock.`),U(!1);return}}}let te="system";const he=localStorage.getItem("userInfo");if(he)try{const oe=JSON.parse(he);oe.username&&(te=oe.username)}catch(oe){console.error("Error parsing user info:",oe)}try{const oe={...o,id:e.id,status:o.status||e.status,senderId:u==="sender"?s:o.senderId,senderType:u==="sender"?"WAREHOUSE":o.senderType,receiverId:u==="receiver"?s:o.receiverId,receiverType:u==="receiver"?"WAREHOUSE":o.receiverType,username:te},xe=await Z(oe);a&&(console.log(" Calling parent refresh"),a()),r()}catch(oe){W("error",oe.message||"Failed to update transaction. Please try again."),$(oe.message||"Failed to update transaction")}finally{U(!1)}};if(!n)return null;const Y=re=>{const te={};return re.forEach(he=>{var oe;const se=(oe=he.itemType)==null?void 0:oe.id;se&&(te[se]?(te[se].quantity+=he.quantity,te[se].individualItems.push(he)):te[se]={...he,quantity:he.quantity,individualItems:[he],id:`aggregated_${se}`,isAggregated:!0})}),Object.values(te)},ee=re=>{const te=o.items.filter((he,se)=>se!==re&&!!he.itemType.id).map(he=>he.itemType.id);if(u==="receiver"){const he=[],se=new Set;return h.forEach(oe=>{const xe=oe.itemType.id;!se.has(xe)&&!te.includes(xe)&&(se.add(xe),he.push(oe))}),he}else return Y(h.filter(se=>se.itemStatus==="IN_WAREHOUSE")).filter(se=>!te.includes(se.itemType.id))},ce=re=>{const te=ee(re);return u==="receiver"?te.map(he=>t.jsx("option",{value:he.itemType.id,children:he.itemType.name},he.itemType.id)):te.map(he=>t.jsxs("option",{value:he.itemType.id,children:[he.itemType.name," (",he.quantity," available)"]},he.itemType.id))};return t.jsxs("div",{className:"modal-backdrop3",children:[t.jsx(Xn,{type:L.type,text:L.text,isVisible:L.isVisible,onClose:M,duration:4e3}),t.jsxs("div",{className:"modal3",children:[t.jsxs("div",{className:"modal-header3",children:[t.jsx("h2",{children:"Update Transaction"}),t.jsx("button",{className:"close-modal3",onClick:r,children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("form",{className:"form-transaction",onSubmit:V,children:[t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{children:"Warehouse Role"}),t.jsxs("div",{className:"radio-group",children:[t.jsxs("label",{className:"radio-label",children:[t.jsx("input",{type:"radio",name:"warehouseRole",value:"sender",checked:u==="sender",onChange:H}),"Sender"]}),t.jsxs("label",{className:"radio-label",children:[t.jsx("input",{type:"radio",name:"warehouseRole",value:"receiver",checked:u==="receiver",onChange:H}),"Receiver"]})]})]}),t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{htmlFor:"transactionDate",children:"Transaction Date"}),t.jsx("input",{type:"datetime-local",id:"transactionDate",name:"transactionDate",value:o.transactionDate,onChange:B,required:!0})]}),t.jsxs("div",{className:"form-group3 full-width",children:[t.jsxs("div",{className:"items-section-header",children:[t.jsx("label",{children:"Transaction Items"}),t.jsx("button",{type:"button",className:"add-item-button",onClick:fe,children:"Add Another Item"})]}),o.items.map((re,te)=>{var he,se,oe,xe;return t.jsxs("div",{className:"transaction-item-container",children:[t.jsxs("div",{className:"transaction-item-header",children:[t.jsxs("span",{children:["Item ",te+1]}),o.items.length>1&&t.jsxs("button",{type:"button",className:"remove-item-button",onClick:()=>X(te),children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Remove"]})]}),t.jsxs("div",{className:"form-row3",children:[t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{children:"Item Type"}),t.jsxs("select",{value:((he=re.itemType)==null?void 0:he.id)||"",onChange:pe=>de(te,"itemTypeId",pe.target.value),required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Item Type"}),((se=re.itemType)==null?void 0:se.id)&&((oe=re.itemType)==null?void 0:oe.name)&&!ee(te).find(pe=>pe.itemType.id===re.itemType.id)&&t.jsxs("option",{value:re.itemType.id,children:[re.itemType.name," (current)"]}),ce(te)]})]}),t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{children:"Quantity"}),t.jsxs("div",{className:"ro-quantity-unit-container",children:[t.jsx("input",{type:"text",inputMode:"numeric",value:re.quantity,onChange:pe=>{let je=pe.target.value.replace(/[^0-9]/g,"");de(te,"quantity",je)},onBlur:pe=>{let je=pe.target.value.replace(/[^0-9]/g,"");(je===""||parseInt(je)<1)&&de(te,"quantity","1")},required:!0,className:"ro-quantity-input"}),((xe=re.itemType)==null?void 0:xe.id)&&t.jsx("span",{className:"ro-unit-label",children:(()=>{var qe;let pe="";const je=h.find(ke=>ke.itemType.id===re.itemType.id);return pe=((qe=je==null?void 0:je.itemType)==null?void 0:qe.measuringUnit)||"",pe})()})]})]})]})]},te)})]}),t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{htmlFor:"batchNumber",children:"Batch Number"}),t.jsx("input",{type:"number",id:"batchNumber",name:"batchNumber",value:o.batchNumber,onChange:B,min:"1",placeholder:"Enter batch number",required:!0})]}),u==="sender"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-row3",children:[t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{children:"Source (Fixed)"}),t.jsx("input",{type:"text",value:k.name,disabled:!0,className:"disabled-input"})]}),t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{htmlFor:"receiverSite",children:"Destination Site"}),t.jsxs("select",{id:"receiverSite",value:j,onChange:ie,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Site"}),p.map(re=>t.jsx("option",{value:re.id,children:re.name},re.id))]})]})]}),j&&t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{htmlFor:"receiverType",children:"Destination Type"}),t.jsxs("select",{id:"receiverType",name:"receiverType",value:o.receiverType,onChange:me,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Type"}),S.map(re=>t.jsx("option",{value:re,children:re.charAt(0).toUpperCase()+re.slice(1).toLowerCase()},re))]})]}),j&&o.receiverType&&t.jsxs("div",{className:"form-group3 full-width",children:[t.jsxs("label",{htmlFor:"receiverId",children:["Select ",o.receiverType.charAt(0).toUpperCase()+o.receiverType.slice(1).toLowerCase()]}),t.jsxs("select",{id:"receiverId",name:"receiverId",value:o.receiverId,onChange:re=>l({...o,receiverId:re.target.value}),required:!0,children:[t.jsxs("option",{value:"",disabled:!0,children:["Select ",o.receiverType.charAt(0).toUpperCase()+o.receiverType.slice(1).toLowerCase()]}),O.length>0?O.map(re=>{let te,he;return o.receiverType==="EQUIPMENT"?(te=re.equipment?re.equipment.fullModelName:"No model name available",he=re.equipment?re.equipment.id:re.id):(te=re.name,he=re.id),t.jsx("option",{value:he,children:te},he)}):t.jsxs("option",{value:"",disabled:!0,children:["No ",o.receiverType.toLowerCase(),"s available at this site"]})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-row3",children:[t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{htmlFor:"senderSite",children:"Source Site"}),t.jsxs("select",{id:"senderSite",value:b,onChange:K,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Site"}),p.map(re=>t.jsx("option",{value:re.id,children:re.name},re.id))]})]}),t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{children:"Destination (Fixed)"}),t.jsx("input",{type:"text",value:k.name,disabled:!0,className:"disabled-input"})]})]}),b&&t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{htmlFor:"senderType",children:"Source Type"}),t.jsxs("select",{id:"senderType",name:"senderType",value:o.senderType,onChange:ae,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Type"}),S.map(re=>t.jsx("option",{value:re,children:re.charAt(0).toUpperCase()+re.slice(1).toLowerCase()},re))]})]}),b&&o.senderType&&t.jsxs("div",{className:"form-group3 full-width",children:[t.jsxs("label",{htmlFor:"senderId",children:["Select ",o.senderType.charAt(0).toUpperCase()+o.senderType.slice(1).toLowerCase()]}),t.jsxs("select",{id:"senderId",name:"senderId",value:o.senderId,onChange:re=>l({...o,senderId:re.target.value}),required:!0,children:[t.jsxs("option",{value:"",disabled:!0,children:["Select ",o.senderType.charAt(0).toUpperCase()+o.senderType.slice(1).toLowerCase()]}),T.length>0?T.map(re=>{let te,he;return o.senderType==="EQUIPMENT"?(te=re.equipment?re.equipment.fullModelName:"No model name available",he=re.equipment?re.equipment.id:re.id):(te=re.name,he=re.id),t.jsx("option",{value:he,children:te},he)}):t.jsxs("option",{value:"",disabled:!0,children:["No ",o.senderType.toLowerCase(),"s available at this site"]})]})]})]}),t.jsxs("div",{className:"modal-footer3",children:[t.jsx("button",{type:"button",className:"cancel-button3",onClick:r,children:"Cancel"}),t.jsx("button",{type:"submit",className:"submit-button3",disabled:_,children:_?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-small"}),"Updating..."]}):"Update Transaction"})]})]})]})]})},ile=({warehouseId:e,refreshTrigger:n})=>{const[r,a]=g.useState(!1),[s,o]=g.useState([]),[l,u]=g.useState(!1),[d,h]=g.useState(!1),[f,p]=g.useState(null),[y,b]=g.useState(null),[x,j]=g.useState({isOpen:!1,message:"",type:"success"}),w=(L,z="success")=>{j({isOpen:!0,message:L,type:z})},T=()=>{j({...x,isOpen:!1})};g.useEffect(()=>{A()},[e,n]);const A=async()=>{if(!e){console.error("Warehouse ID is not available");return}a(!0);try{const L=localStorage.getItem("token"),z=await fetch(`http://localhost:8080/api/v1/transactions/warehouse/${e}`,{headers:{Authorization:`Bearer ${L}`}});if(z.ok){const W=await z.json(),M=await Promise.all(W.filter(F=>F.status==="PENDING"&&(F.receiverId===e||F.senderId===e)&&F.sentFirst===e).map(async F=>{const G=await O(F.senderType,F.senderId),J=await O(F.receiverType,F.receiverId);return{...F,sender:G,receiver:J}}));o(M)}else console.error("Failed to fetch transactions, status:",z.status),w("Failed to fetch pending transactions","error")}catch(L){console.error("Failed to fetch transactions:",L),w("Error fetching pending transactions","error")}finally{a(!1)}},O=async(L,z)=>{if(!L||!z)return null;try{const W=localStorage.getItem("token");let M;L==="WAREHOUSE"?M=`http://localhost:8080/api/v1/warehouses/${z}`:L==="SITE"?M=`http://localhost:8080/api/v1/sites/${z}`:L==="EQUIPMENT"?M=`http://localhost:8080/api/equipment/${z}`:M=`http://localhost:8080/api/v1/${L.toLowerCase()}s/${z}`;const F=await fetch(M,{headers:{Authorization:`Bearer ${W}`}});return F.ok?await F.json():(console.error(`Failed to fetch ${L} details, status:`,F.status),null)}catch(W){return console.error(`Failed to fetch ${L} details:`,W),null}},P=L=>{p(L),u(!0)},S=L=>{b(L),h(!0)},E=async()=>{console.log(" Refreshing transactions after update"),await A(),w("Transaction successfully updated","success")},k=()=>{u(!1),p(null)},D=()=>{h(!1),b(null)},_=L=>L?new Date(L).toLocaleDateString("en-GB"):"N/A",U=[{header:"SENDER",accessor:"sender",sortable:!0,width:"200px",minWidth:"150px",render:L=>{var z;return L.sender&&(L.sender.name||L.sender.fullModelName||((z=L.sender.equipment)==null?void 0:z.fullModelName))||"N/A"}},{header:"RECEIVER",accessor:"receiver",sortable:!0,width:"200px",minWidth:"150px",render:L=>{var z;return L.receiver&&(L.receiver.name||L.receiver.fullModelName||((z=L.receiver.equipment)==null?void 0:z.fullModelName))||"N/A"}},{header:"BATCH NUMBER",accessor:"batchNumber",sortable:!0,width:"200px",minWidth:"120px",render:L=>L.batchNumber||"N/A"},{header:"TRANSACTION DATE",accessor:"transactionDate",sortable:!0,width:"200px",minWidth:"150px",render:L=>_(L.transactionDate)}],R=[{header:"ITEMS",accessor:"items",filterType:"number"},{header:"SENDER",accessor:"sender",filterType:"text"},{header:"RECEIVER",accessor:"receiver",filterType:"text"},{header:"BATCH NUMBER",accessor:"batchNumber",filterType:"number"},{header:"TRANSACTION DATE",accessor:"transactionDate",filterType:"text"},{header:"CREATED AT",accessor:"createdAt",filterType:"text"},{header:"CREATED BY",accessor:"addedBy",filterType:"text"}],$=[{label:"View",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),className:"view",onClick:L=>S(L)},{label:"Edit",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]}),className:"edit",onClick:L=>P(L)}];return t.jsxs("div",{className:"transaction-table-section",children:[t.jsx("div",{className:"table-header-section",children:t.jsxs("div",{className:"left-section3",children:[t.jsx("h2",{className:"transaction-section-title",children:"Pending Transactions"}),t.jsxs("div",{className:"item-count3",children:[s.length," pending transactions"]})]})}),t.jsx("div",{className:"section-description",children:"(Transactions you've initiated that are waiting for approval)"}),t.jsx(Nt,{data:s,columns:U,loading:r,emptyMessage:"You haven't created any transactions that are waiting for approval",actions:$,className:"pending-transactions-table",showSearch:!0,showFilters:!0,filterableColumns:R,itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,actionsColumnWidth:"150px"}),d&&y&&t.jsx(Xd,{transaction:y,isOpen:d,onClose:D,hideItemQuantities:!1}),l&&f&&t.jsx(sle,{transaction:f,isOpen:l,onClose:k,onUpdate:E,warehouseId:e}),t.jsx(Ss,{show:x.isOpen,message:x.message,type:x.type,onClose:T,duration:3e3})]})},ole=({warehouseId:e})=>{var R,$;const[n,r]=g.useState(!1),[a,s]=g.useState([]),[o,l]=g.useState(null),[u,d]=g.useState(!1),[h,f]=g.useState(null),[p,y]=g.useState({isOpen:!1,message:"",type:"success"}),b=(L,z="success")=>{y({isOpen:!0,message:L,type:z})},x=()=>{y({...p,isOpen:!1})};g.useEffect(()=>{j()},[e]);const j=async()=>{if(e){r(!0);try{const L=localStorage.getItem("token"),z=await fetch(`http://localhost:8080/api/v1/transactions/warehouse/${e}`,{headers:{Authorization:`Bearer ${L}`}});if(z.ok){const W=await z.json(),M=await Promise.all(W.filter(F=>(F.status==="ACCEPTED"||F.status==="REJECTED"||F.status==="RESOLVING"||F.status==="RESOLVED")&&(F.senderId===e||F.receiverId===e)).map(async F=>{const G=await T(F.senderType,F.senderId),J=await T(F.receiverType,F.receiverId),I=w(F.senderType,G),q=w(F.receiverType,J);return{...F,sender:I,receiver:q}}));s(M)}else b("Failed to fetch validated transactions","error")}catch(L){console.error("Error fetching validated transactions:",L),b("Error fetching validated transactions","error")}finally{r(!1)}}},w=(L,z)=>{var W,M,F,G,J;if(!z)return null;switch(L){case"EQUIPMENT":return{id:((W=z.equipment)==null?void 0:W.id)||z.id,name:z.name||((M=z.equipment)==null?void 0:M.fullModelName)||`${((F=z.equipment)==null?void 0:F.brand)||""} ${((G=z.equipment)==null?void 0:G.type)||""} ${((J=z.equipment)==null?void 0:J.serialNumber)||""}`.trim(),type:"EQUIPMENT"};case"WAREHOUSE":return{id:z.id,name:z.name,type:"WAREHOUSE"};case"SITE":return{id:z.id,name:z.name,type:"SITE"};default:return{id:z.id,name:z.name||"Unknown",type:L}}},T=async(L,z)=>{if(!L||!z)return null;try{const W=localStorage.getItem("token");let M;L==="WAREHOUSE"?M=`http://localhost:8080/api/v1/warehouses/${z}`:L==="SITE"?M=`http://localhost:8080/api/v1/sites/${z}`:L==="EQUIPMENT"?M=`http://localhost:8080/api/equipment/${z}`:M=`http://localhost:8080/api/${L.toLowerCase()}/${z}`;const F=await fetch(M,{headers:{Authorization:`Bearer ${W}`}});return F.ok?await F.json():null}catch{return null}},A=L=>{f(L),d(!0)},O=()=>{d(!1),f(null)},P=()=>{l(null)},S=L=>{L.target.classList.contains("modal-backdrop")&&P()},E=L=>L?new Date(L).toLocaleDateString("en-GB"):"N/A",k=(L,z)=>{var W;return L&&(L.name||((W=L.equipment)==null?void 0:W.fullModelName))||"N/A"},D=[{header:"SENDER",accessor:"sender",sortable:!0,width:"200px",minWidth:"150px",render:L=>k(L.sender,L.senderType)},{header:"RECEIVER",accessor:"receiver",sortable:!0,width:"200px",minWidth:"150px",render:L=>k(L.receiver,L.receiverType)},{header:"BATCH NUMBER",accessor:"batchNumber",sortable:!0,width:"200px",minWidth:"120px",render:L=>L.batchNumber||"N/A"},{header:"TRANSACTION DATE",accessor:"transactionDate",sortable:!0,width:"200px",minWidth:"150px",render:L=>E(L.transactionDate)},{header:"STATUS",accessor:"status",sortable:!0,width:"200px",minWidth:"120px",render:L=>t.jsx("div",{className:"status-container",children:t.jsx("span",{className:`status-badge3 ${L.status.toLowerCase()}`,children:L.status})})}],_=[{header:"SENDER",accessor:"sender",filterType:"text"},{header:"RECEIVER",accessor:"receiver",filterType:"text"},{header:"BATCH NUMBER",accessor:"batchNumber",filterType:"number"},{header:"TRANSACTION DATE",accessor:"transactionDate",filterType:"text"},{header:"STATUS",accessor:"status",filterType:"select"}],U=[{label:"View",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),className:"view",onClick:L=>A(L)}];return t.jsxs("div",{className:"transaction-table-section",children:[t.jsx("div",{className:"table-header-section",children:t.jsxs("div",{className:"left-section3",children:[t.jsx("h2",{className:"transaction-section-title",children:"Validated Transactions"}),t.jsxs("div",{className:"item-count3",children:[a.length," validated transactions"]})]})}),t.jsx("div",{className:"section-description",children:"(Completed transactions - accepted or rejected)"}),t.jsx(Nt,{data:a,columns:D,loading:n,emptyMessage:"There are no accepted or rejected transactions for this warehouse",actions:U,className:"validated-transactions-table",showSearch:!0,showFilters:!0,filterableColumns:_,itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,actionsColumnWidth:"150px"}),u&&h&&t.jsx(Xd,{transaction:h,isOpen:u,onClose:O,hideItemQuantities:!0}),o&&t.jsx("div",{className:"modal-backdrop",onClick:S,children:t.jsxs("div",{className:"comment-modal",children:[t.jsxs("div",{className:"comment-modal-header",children:[t.jsx("h3",{children:o.title}),t.jsx("button",{className:"close-modal-btn",onClick:P,children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("div",{className:"comment-modal-content",children:[t.jsxs("div",{className:"transaction-summary",children:[t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"Transaction:"}),t.jsxs("span",{className:"value",children:["Batch #",o.transaction.batchNumber]})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"From:"}),t.jsx("span",{className:"value",children:((R=o.transaction.sender)==null?void 0:R.name)||"N/A"})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"To:"}),t.jsx("span",{className:"value",children:(($=o.transaction.receiver)==null?void 0:$.name)||"N/A"})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"Date:"}),t.jsx("span",{className:"value",children:o.transaction.transactionDate?new Date(o.transaction.transactionDate).toLocaleDateString("en-GB"):"N/A"})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"label",children:"Status:"}),t.jsx("span",{className:`value status-${o.transaction.status.toLowerCase()}`,children:o.transaction.status})]})]}),t.jsxs("div",{className:"comment-content",children:[t.jsxs("h4",{children:[o.title,":"]}),t.jsx("p",{children:o.content||"No comments provided."})]})]})]})}),t.jsx(Ss,{isOpen:p.isOpen,message:p.message,type:p.type,onClose:x,duration:3e3,position:"bottom-right"})]})},lle=({warehouseId:e})=>{var he;const[n,r]=g.useState(!1),[a,s]=g.useState([]),[o,l]=g.useState(!1),[u,d]=g.useState(!1),[h,f]=g.useState(!1),[p,y]=g.useState(null),[b,x]=g.useState(null),[j,w]=g.useState({}),[T,A]=g.useState({}),[O,P]=g.useState(""),[S,E]=g.useState(""),[k,D]=g.useState(""),[_,U]=g.useState(""),[R,$]=g.useState(!1),[L,z]=g.useState(!1),[W,M]=g.useState(""),[F,G]=g.useState("success"),J=(se,oe="success")=>{M(se),G(oe),z(!0)},I=()=>{z(!1)},q=se=>(se==null?void 0:se.itemTypeName)||(se==null?void 0:se.name)||(se==null?void 0:se.itemName)||`Item ${(se==null?void 0:se.id)||"Unknown"}`,B=se=>{var oe;return(se==null?void 0:se.measuringUnit)||((oe=se==null?void 0:se.itemType)==null?void 0:oe.measuringUnit)||null},H=se=>{var oe,xe;return(se==null?void 0:se.itemCategory)||(se==null?void 0:se.category)||((xe=(oe=se==null?void 0:se.itemType)==null?void 0:oe.itemCategory)==null?void 0:xe.name)||""};g.useEffect(()=>{K()},[e]);const K=async()=>{if(!e){console.error("Warehouse ID is not available");return}r(!0);try{const se=localStorage.getItem("token"),oe=await fetch(`http://localhost:8080/api/v1/transactions/warehouse/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`}});if(oe.ok){const xe=await oe.json(),pe=await Promise.all(xe.filter(je=>je.status==="PENDING"&&(je.receiverId===e||je.senderId===e)&&je.sentFirst!==e).map(async je=>{const qe=await ae(je.senderType,je.senderId),ke=await ae(je.receiverType,je.receiverId),Oe=ie(je.senderType,qe),Be=ie(je.receiverType,ke);return{...je,sender:Oe,receiver:Be}}));s(pe)}else console.error("Failed to fetch transactions, status:",oe.status)}catch(se){console.error("Failed to fetch transactions:",se)}finally{r(!1)}},ie=(se,oe)=>{var xe,pe,je,qe,ke;if(!oe)return null;switch(se){case"EQUIPMENT":return{id:((xe=oe.equipment)==null?void 0:xe.id)||oe.id,name:oe.name||((pe=oe.equipment)==null?void 0:pe.fullModelName)||`${((je=oe.equipment)==null?void 0:je.brand)||""} ${((qe=oe.equipment)==null?void 0:qe.type)||""} ${((ke=oe.equipment)==null?void 0:ke.serialNumber)||""}`.trim(),type:"EQUIPMENT"};case"WAREHOUSE":return{id:oe.id,name:oe.name,type:"WAREHOUSE"};case"SITE":return{id:oe.id,name:oe.name,type:"SITE"};default:return{id:oe.id,name:oe.name||"Unknown",type:se}}},ae=async(se,oe)=>{if(!se||!oe)return null;try{const xe=localStorage.getItem("token");let pe="";se==="WAREHOUSE"?pe=`http://localhost:8080/api/v1/warehouses/${oe}`:se==="SITE"?pe=`http://localhost:8080/api/v1/site/${oe}`:se==="EQUIPMENT"?pe=`http://localhost:8080/api/equipment/${oe}`:pe=`http://localhost:8080/${se.toLowerCase()}/${oe}`;const je=await fetch(pe,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`}});return je.ok?await je.json():(console.error(`Failed to fetch ${se} details, status:`,je.status),null)}catch(xe){return console.error(`Failed to fetch ${se} details:`,xe),null}},me=se=>{if(y(se),E(""),D(""),se.items&&se.items.length>0){const oe={},xe={};se.items.forEach((pe,je)=>{oe[je]="",xe[je]=!1}),w(oe),A(xe)}l(!0)},de=se=>{x(se),f(!0)},fe=()=>{f(!1),x(null)},X=(se,oe)=>{w(xe=>({...xe,[se]:oe}))},Z=(se,oe)=>{A(xe=>({...xe,[se]:oe})),oe&&w(xe=>({...xe,[se]:""}))},V=async se=>{if(se.preventDefault(),$(!0),D(""),p.items.some((xe,pe)=>{const je=j[pe];return T[pe]?!1:isNaN(je)||je===""||parseInt(je)<0})){D("Please enter valid quantities for all items or mark them as not received"),$(!1);return}try{const xe=localStorage.getItem("token");let pe="system";const je=localStorage.getItem("userInfo");if(je)try{const Oe=JSON.parse(je);Oe.username&&(pe=Oe.username)}catch(Oe){console.error("Error parsing user info:",Oe)}const qe=p.items.map((Oe,Be)=>({transactionItemId:Oe.id,receivedQuantity:T[Be]?0:parseInt(j[Be]),itemNotReceived:T[Be]||!1})),ke=await fetch(`http://localhost:8080/api/v1/transactions/${p.id}/accept`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`},body:JSON.stringify({receivedItems:qe,username:pe,acceptanceComment:S})});if(ke.ok)K(),l(!1),J("Transaction Accepted Successfully","success");else{let Oe="Failed to accept transaction",Be="Failed to accept transaction";try{const Ke=await ke.text();if(console.log("Error response:",Ke),console.log("Response status:",ke.status),Ke&&Ke.trim())if(console.log("Checking if includes 'No available items':",Ke.includes("No available items in warehouse for:")),Ke.includes("No available items in warehouse for:")){const bt=Ke.match(/No available items in warehouse for:\s*([^\s,]+)/);console.log("Regex match result:",bt);const Se=bt?bt[1]:"this item";console.log("Extracted item name:",Se),Oe=`Insufficient inventory for ${Se}`,Be=`You don't have enough ${Se} in your warehouse`}else Ke.includes("IllegalArgumentException")?(Oe=Ke.replace("java.lang.IllegalArgumentException: ",""),Be=Oe):(Oe=Ke,Be=Ke);else ke.status===500?(Oe="Server error occurred",Be="Please check if you have sufficient inventory"):ke.status===400?(Oe="Invalid request",Be="Invalid request - please check your input"):(Oe=`Server error (${ke.status})`,Be=`Server error (${ke.status})`)}catch(Ke){console.error("Error parsing error response:",Ke),ke.status===500&&(Oe="Server error occurred",Be="Please check if you have sufficient inventory")}D(Oe),J(Be,"error"),console.error("Failed to accept transaction:",Oe)}}catch(xe){D("Network error. Please try again."),J("Network error. Please try again.","error"),console.error("Error accepting transaction:",xe)}finally{$(!1)}},Y=(se,oe)=>se&&se.name||"N/A",ee=se=>se?new Date(se).toLocaleDateString("en-GB"):"N/A",ce=[{header:"SENDER",accessor:"sender",sortable:!0,width:"200px",minWidth:"150px",render:se=>Y(se.sender,se.senderType)},{header:"RECEIVER",accessor:"receiver",sortable:!0,width:"200px",minWidth:"150px",render:se=>Y(se.receiver,se.receiverType)},{header:"BATCH NUMBER",accessor:"batchNumber",sortable:!0,width:"200px",minWidth:"120px",render:se=>se.batchNumber||"N/A"},{header:"TRANSACTION DATE",accessor:"transactionDate",sortable:!0,width:"200px",minWidth:"150px",render:se=>ee(se.transactionDate)}],re=[{header:"SENDER",accessor:"sender",filterType:"text"},{header:"RECEIVER",accessor:"receiver",filterType:"text"},{header:"BATCH NUMBER",accessor:"batchNumber",filterType:"number"},{header:"TRANSACTION DATE",accessor:"transactionDate",filterType:"text"}],te=[{label:"View",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),className:"view",onClick:se=>de(se)},{label:"Accept",icon:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 13l4 4L19 7"})}),className:"approve",onClick:se=>me(se)}];return t.jsxs("div",{className:"transaction-table-section",children:[t.jsx("div",{className:"table-header-section",children:t.jsxs("div",{className:"left-section3",children:[t.jsx("h2",{className:"transaction-section-title",children:"Incoming Transactions"}),t.jsxs("div",{className:"item-count3",children:[a.length," incoming transactions"]})]})}),t.jsx("div",{className:"section-description",children:"(Transactions waiting for your approval)"}),t.jsx(Nt,{data:a,columns:ce,loading:n,emptyMessage:"There are no transactions waiting for your approval",actions:te,className:"incoming-transactions-table",showSearch:!0,showFilters:!0,filterableColumns:re,itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,actionsColumnWidth:"200px"}),h&&b&&t.jsx(Xd,{transaction:b,isOpen:h,onClose:fe,hideItemQuantities:!0}),o&&p&&t.jsx("div",{className:"modal-backdrop",children:t.jsxs("div",{className:"flat-modal",children:[t.jsxs("div",{className:"flat-modal-header",children:[t.jsx("h2",{children:"Accept Transaction"}),t.jsx("button",{className:"close-modal-btn",onClick:()=>l(!1),disabled:R,children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("div",{className:"flat-modal-content",children:[t.jsxs("div",{className:"transaction-info-section",children:[t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Batch Number"}),t.jsx("div",{className:"info-value",children:p.batchNumber||"N/A"})]}),t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Transaction Date"}),t.jsx("div",{className:"info-value",children:p.transactionDate?new Date(p.transactionDate).toLocaleDateString("en-GB"):"N/A"})]})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Sender"}),t.jsx("div",{className:"info-value",children:Y(p.sender,p.senderType)})]}),t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Receiver"}),t.jsx("div",{className:"info-value",children:Y(p.receiver,p.receiverType)})]})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Created At"}),t.jsx("div",{className:"info-value",children:p.createdAt?new Date(p.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"})]}),t.jsxs("div",{className:"info-col",children:[t.jsx("div",{className:"info-label",children:"Added By"}),t.jsx("div",{className:"info-value",children:p.addedBy||"N/A"})]})]})]}),t.jsxs("div",{className:"items-section",children:[t.jsx("h3",{children:"Transaction Items"}),p.items&&p.items.length>0?p.items.map((se,oe)=>t.jsxs("div",{className:"item-container",children:[t.jsx("div",{className:"item-details",children:t.jsxs("div",{className:"item-name-block",children:[t.jsxs("span",{className:"item-number",children:[oe+1,"."]}),t.jsxs("div",{className:"item-name-wrapper",children:[t.jsxs("div",{className:"item-name",children:[q(se),B(se)&&t.jsxs("span",{className:"item-unit",children:[" (",B(se),")"]})]}),t.jsx("div",{className:"item-category",children:H(se)})]})]})}),t.jsxs("div",{className:"quantity-section",children:[t.jsxs("div",{className:"quantity-label",children:["Sent/Received Quantity ",!T[oe]&&t.jsx("span",{className:"required-mark",children:"*"}),B(se)&&t.jsxs("span",{className:"quantity-unit",children:[" (",B(se),")"]})]}),t.jsxs("div",{className:`quantity-controls ${T[oe]?"disabled":""}`,children:[t.jsx("button",{type:"button",className:"decrement-btn",onClick:()=>{const xe=parseInt(j[oe])||0;X(oe,Math.max(0,xe-1))},disabled:R||T[oe]||(parseInt(j[oe])||0)<=0,children:""}),t.jsx("input",{type:"text",value:T[oe]?"":j[oe]||"",onChange:xe=>X(oe,xe.target.value),placeholder:T[oe]?"Not sent/received":"Enter quantity",required:!T[oe],disabled:R||T[oe]}),t.jsx("button",{type:"button",className:"increment-btn",onClick:()=>{const xe=parseInt(j[oe])||0;X(oe,xe+1)},disabled:R||T[oe],children:"+"})]}),t.jsx("div",{className:"item-not-received-section",children:t.jsxs("label",{className:"item-not-received-checkbox",children:[t.jsx("input",{type:"checkbox",checked:T[oe]||!1,onChange:xe=>Z(oe,xe.target.checked),disabled:R}),t.jsx("span",{className:"checkbox-label",children:"Item not sent/received"})]})})]})]},oe)):t.jsx("div",{className:"no-items-message",children:"No items found in this transaction"})]}),t.jsxs("div",{className:"comments-section",children:[t.jsxs("div",{className:"comments-label",children:["Comments ",t.jsx("span",{className:"optional-text",children:"(optional)"})]}),t.jsx("textarea",{value:S,onChange:se=>E(se.target.value),placeholder:"Enter any additional comments about this transaction...",disabled:R})]}),k&&t.jsxs("div",{className:"error-message",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t.jsx("span",{children:k})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"accept-button",onClick:V,disabled:R||((he=p.items)==null?void 0:he.some((se,oe)=>T[oe]?!1:j[oe]===void 0||j[oe]===""||parseInt(j[oe])<0)),children:R?"Processing...":t.jsxs(t.Fragment,{children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 13l4 4L19 7"})}),"Accept Transaction"]})})})]})}),t.jsx(Xn,{type:F,text:W,isVisible:L,onClose:I,duration:3e3})]})},cle=({warehouseId:e,onAddButtonClick:n})=>{const[r,a]=g.useState(!1),[s,o]=g.useState(""),[l,u]=g.useState([]),[d,h]=g.useState([]),[f,p]=g.useState(!1),[y,b]=g.useState([]),[x,j]=g.useState([]),[w,T]=g.useState([]),[A,O]=g.useState([]),[P,S]=g.useState({name:"",id:""}),[E,k]=g.useState("pending"),[D,_]=g.useState(0),[U,R]=g.useState({isVisible:!1,type:"success",text:""}),[$,L]=g.useState("sender"),[z,W]=g.useState([]),[M,F]=g.useState(""),[G,J]=g.useState(""),[I,q]=g.useState({transactionDate:"",items:[{itemType:{id:""},quantity:"1"}],senderType:"WAREHOUSE",senderId:e,receiverType:"",receiverId:"",batchNumber:""}),B=["WAREHOUSE","EQUIPMENT"],[H,K]=g.useState(""),ie=[{id:"pending",label:"Pending Transactions",component:ile},{id:"incoming",label:"Incoming Transactions",component:lle},{id:"validated",label:"Validated Transactions",component:ole}],ae=(Se,Le)=>{R({isVisible:!0,type:Se,text:Le})},me=()=>{R(Se=>({...Se,isVisible:!1}))},de=()=>{_(Se=>Se+1)};g.useEffect(()=>{Y(),Z(),V(),X(),fe()},[e]),g.useEffect(()=>{if(l.length>0){const Se=l.filter(Le=>Le.status==="PENDING"&&Le.receiverId===e);h(Se)}},[l,e]),g.useEffect(()=>{try{const Se=localStorage.getItem("userInfo");if(Se){const Le=JSON.parse(Se);console.log("userrrrifnooo"+Le),K(Le.role),console.log("roleee"+Le.role)}}catch(Se){console.error("Error parsing user info:",Se)}},[]),g.useEffect(()=>{(async()=>{if(I.senderType&&M&&$==="receiver"){let Le=await ce(I.senderType,M);I.senderType==="WAREHOUSE"&&(Le=Le.filter(Fe=>Fe.id!==e)),T(Le)}else T([])})()},[I.senderType,M,e,$]),g.useEffect(()=>{n&&n(()=>p(!0))},[n]),g.useEffect(()=>{(async()=>{if(I.receiverType&&G&&$==="sender"){let Le=await ce(I.receiverType,G);I.receiverType==="WAREHOUSE"&&(Le=Le.filter(Fe=>Fe.id!==e)),O(Le)}else O([])})()},[I.receiverType,G,e,$]),g.useEffect(()=>{f&&(L("sender"),q({transactionDate:"",items:[{itemType:{id:""},quantity:"1"}],senderType:"WAREHOUSE",senderId:e,receiverType:"",receiverId:"",batchNumber:""}),F(""),J(""))},[f,e]),g.useEffect(()=>{$==="sender"?(q(Se=>({...Se,senderType:"WAREHOUSE",senderId:e,receiverType:"",receiverId:""})),F(""),J("")):$==="receiver"&&(q(Se=>({...Se,senderType:"",senderId:"",receiverType:"WAREHOUSE",receiverId:e})),F(""),J(""))},[$,e]);const fe=async()=>{try{const Se=localStorage.getItem("token"),Le=await fetch("http://localhost:8080/api/v1/site",{headers:{Authorization:`Bearer ${Se}`}});if(Le.ok){const Fe=await Le.json();W(Fe)}else console.error("Failed to fetch sites, status:",Le.status)}catch(Se){console.error("Failed to fetch sites:",Se)}},X=async()=>{try{const Se=localStorage.getItem("token"),Le=await fetch(`http://localhost:8080/api/v1/warehouses/${e}`,{headers:{Authorization:`Bearer ${Se}`}});if(!Le.ok)throw new Error(`HTTP error! Status: ${Le.status}`);const Fe=await Le.json();S({name:Fe.name||"",id:Fe.id||""})}catch(Se){console.error("Error fetching warehouse details:",Se)}},Z=async()=>{try{const Se=localStorage.getItem("token"),Le=await fetch(`http://localhost:8080/api/v1/items/warehouse/${e}`,{headers:{Authorization:`Bearer ${Se}`}});if(Le.ok){const Fe=await Le.json();b(Fe)}}catch(Se){console.error("Failed to fetch item types:",Se)}},V=async()=>{try{const Se=localStorage.getItem("token"),Le=await fetch("http://localhost:8080/api/v1/itemTypes",{headers:{Authorization:`Bearer ${Se}`}});if(Le.ok){const Fe=await Le.json();j(Fe)}}catch(Se){console.error("Failed to fetch all item types:",Se)}},Y=async()=>{if(!e){console.error("Warehouse ID is not available");return}a(!0);try{const Se=localStorage.getItem("token"),Le=await fetch(`http://localhost:8080/api/v1/transactions/warehouse/${e}`,{headers:{Authorization:`Bearer ${Se}`}});if(Le.ok){const Fe=await Le.json(),ze=await Promise.all(Fe.map(async Xe=>{const pt=await ee(Xe.senderType),en=await ee(Xe.receiverType);return{...Xe,sender:pt.find(Bt=>Bt.id===Xe.senderId),receiver:en.find(Bt=>Bt.id===Xe.receiverId)}}));u(ze)}else console.error("Failed to fetch transactions, status:",Le.status)}catch(Se){console.error("Failed to fetch transactions:",Se)}finally{a(!1)}},ee=async Se=>{if(!Se)return[];try{const Le=localStorage.getItem("token");let Fe;Se==="WAREHOUSE"?Fe="http://localhost:8080/api/v1/warehouses":Se==="SITE"?Fe="http://localhost:8080/api/v1/sites":Se==="EQUIPMENT"?Fe="http://localhost:8080/api/equipment":Fe=`http://localhost:8080/api/v1/${Se.toLowerCase()}s`;const ze=await fetch(Fe,{headers:{Authorization:`Bearer ${Le}`}});return ze.ok?await ze.json():(console.error(`Failed to fetch ${Se}, status:`,ze.status),[])}catch(Le){return console.error(`Failed to fetch ${Se}:`,Le),[]}},ce=async(Se,Le)=>{if(!Se||!Le)return[];try{const Fe=localStorage.getItem("token");let ze;if(Se==="WAREHOUSE")ze=`http://localhost:8080/api/v1/warehouses/site/${Le}`;else if(Se==="EQUIPMENT")ze=`http://localhost:8080/api/v1/site/${Le}/equipment`;else if(Se==="MERCHANT")ze=`http://localhost:8080/api/v1/merchants/site/${Le}`;else return console.error(`Unsupported entity type: ${Se}`),[];const Xe=await fetch(ze,{headers:{Authorization:`Bearer ${Fe}`}});if(Xe.ok){const pt=await Xe.json();return console.log(`${Se} for site ${Le}:`,pt),pt}else return console.error(`Failed to fetch ${Se} for site ${Le}, status:`,Xe.status),[]}catch(Fe){return console.error(`Failed to fetch ${Se} for site ${Le}:`,Fe),[]}},re=Se=>{const{name:Le,value:Fe}=Se.target;q({...I,[Le]:Fe})},te=(Se,Le,Fe)=>{const ze=[...I.items];if(Le==="itemTypeId")ze[Se]={...ze[Se],itemType:{id:Fe}};else if(Le==="quantity"){if($==="sender"&&Fe&&ze[Se].itemType.id){const Xe=y.filter(pt=>pt.itemStatus==="IN_WAREHOUSE"&&pt.itemType.id===ze[Se].itemType.id);if(Xe.length>0){const en=Ke(Xe).find(Bt=>Bt.itemType.id===ze[Se].itemType.id);if(en){const Bt=en.quantity;if(parseInt(Fe)>Bt){ae("error",`Not enough quantity available for ${en.itemType.name}. Only ${Bt} items in stock.`);return}}}}ze[Se]={...ze[Se],[Le]:Fe}}else ze[Se]={...ze[Se],[Le]:Fe};q({...I,items:ze})},he=()=>{q({...I,items:[...I.items,{itemType:{id:""},quantity:"1"}]})},se=Se=>{if(I.items.length<=1)return;const Le=I.items.filter((Fe,ze)=>ze!==Se);q({...I,items:Le})},oe=Se=>{q({...I,senderType:Se.target.value,senderId:""})},xe=Se=>{q({...I,receiverType:Se.target.value,receiverId:""})},pe=Se=>{F(Se.target.value),q({...I,senderType:"",senderId:""})},je=Se=>{J(Se.target.value),q({...I,receiverType:"",receiverId:""})},qe=Se=>{L(Se.target.value)},ke=Se=>{const Le=I.items.filter((Fe,ze)=>ze!==Se&&!!Fe.itemType.id).map(Fe=>Fe.itemType.id);return $==="receiver"?x.filter(Fe=>!Le.includes(Fe.id)):Ke(y.filter(ze=>ze.itemStatus==="IN_WAREHOUSE")).filter(ze=>!Le.includes(ze.itemType.id))},Oe=Se=>{const Le=ke(Se);return $==="receiver"?Le.map(Fe=>t.jsx("option",{value:Fe.id,children:Fe.name},Fe.id)):Le.map(Fe=>t.jsxs("option",{value:Fe.itemType.id,children:[Fe.itemType.name," ",Fe.itemType.measuringUnit?`(${Fe.itemType.measuringUnit})`:""," (",Fe.quantity," available)"]},Fe.itemType.id))},Be=async Se=>{Se.preventDefault();for(const Xe of I.items){if(!Xe.itemType.id||!Xe.quantity){ae("error","Please complete all item fields");return}if($==="sender"){const pt=y.filter(Jn=>Jn.itemStatus==="IN_WAREHOUSE"&&Jn.itemType.id===Xe.itemType.id);if(pt.length===0){ae("error","Item not found in the warehouse inventory or not available (IN_WAREHOUSE status)");return}const Bt=Ke(pt).find(Jn=>Jn.itemType.id===Xe.itemType.id);if(!Bt){ae("error","Item not found in the warehouse inventory");return}const qn=Bt.quantity,Jr=Bt.itemType.name;if(qn<parseInt(Xe.quantity)){ae("error",`Not enough quantity available for ${Jr}. Only ${qn} items in stock.`);return}}}let Le="system";const Fe=localStorage.getItem("userInfo");if(Fe)try{const Xe=JSON.parse(Fe);Xe.username&&(Le=Xe.username)}catch(Xe){console.error("Error parsing user info:",Xe)}const ze={transactionDate:I.transactionDate,senderType:I.senderType,senderId:I.senderId.toString(),receiverType:I.receiverType,receiverId:I.receiverId.toString(),username:Le,batchNumber:parseInt(I.batchNumber),sentFirst:e,items:I.items.map(Xe=>({itemTypeId:Xe.itemType.id,quantity:parseInt(Xe.quantity)}))};console.log("Creating transaction:",JSON.stringify(ze));try{const Xe=localStorage.getItem("token"),pt=await fetch("http://localhost:8080/api/v1/transactions/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Xe}`},body:JSON.stringify(ze)});if(pt.ok)Y(),de(),p(!1),ae("success","Transaction created successfully!");else{const en=await pt.text();console.error("Failed to create transaction:",pt.status,en),ae("error","Failed to create transaction. Please try again.")}}catch(Xe){console.error("Error creating transaction:",Xe),ae("error","Failed to create transaction. Please check your connection.")}},Ke=Se=>{const Le={};return Se.forEach(Fe=>{var Xe;const ze=(Xe=Fe.itemType)==null?void 0:Xe.id;ze&&(Le[ze]?(Le[ze].quantity+=Fe.quantity,Le[ze].individualItems.push(Fe)):Le[ze]={...Fe,quantity:Fe.quantity,individualItems:[Fe],id:`aggregated_${ze}`,isAggregated:!0})}),Object.values(Le)},bt=()=>{const Se=ie.find(Fe=>Fe.id===E);if(!Se)return null;const Le=Se.component;return t.jsx(Le,{warehouseId:e,refreshTrigger:D})};return t.jsxs("div",{className:"warehouse-view3",children:[t.jsx(Xn,{type:U.type,text:U.text,isVisible:U.isVisible,onClose:me,duration:4e3}),t.jsxs("div",{className:"header-container3",children:[t.jsx("div",{className:"left-section3"}),t.jsx("div",{className:"right-section3"})]}),t.jsxs("div",{className:"transaction-tabs-container",children:[t.jsx("div",{className:"transaction-tabs",children:ie.map(Se=>t.jsx("button",{className:`transaction-tab ${E===Se.id?"active":""}`,onClick:()=>k(Se.id),children:Se.label},Se.id))}),t.jsx("div",{className:"transaction-tab-content",children:bt()})]}),f&&t.jsx("div",{className:"modal-backdrop3",children:t.jsxs("div",{className:"modal3",children:[t.jsxs("div",{className:"modal-header3",children:[t.jsx("h2",{children:"Create New Transaction"}),t.jsx("button",{className:"close-modal3",onClick:()=>p(!1),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("form",{className:"form-transaction",onSubmit:Be,children:[t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{children:"Warehouse Role"}),t.jsxs("div",{className:"radio-group",children:[t.jsxs("label",{className:"radio-label",children:[t.jsx("input",{type:"radio",name:"warehouseRole",value:"sender",checked:$==="sender",onChange:qe}),"Sender"]}),t.jsxs("label",{className:"radio-label",children:[t.jsx("input",{type:"radio",name:"warehouseRole",value:"receiver",checked:$==="receiver",onChange:qe}),"Receiver"]})]})]}),t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{htmlFor:"transactionDate",children:"Transaction Date"}),t.jsx("input",{type:"datetime-local",id:"transactionDate",name:"transactionDate",value:I.transactionDate,onChange:re,required:!0})]}),t.jsxs("div",{className:"form-group3 full-width",children:[t.jsxs("div",{className:"items-section-header",children:[t.jsx("label",{children:"Transaction Items"}),t.jsx("button",{type:"button",className:"add-item-button",onClick:he,children:"Add Another Item"})]}),I.items.map((Se,Le)=>t.jsxs("div",{className:"transaction-item-container",children:[t.jsxs("div",{className:"transaction-item-header",children:[t.jsxs("span",{children:["Item ",Le+1]}),I.items.length>1&&t.jsxs("button",{type:"button",className:"remove-item-button",onClick:()=>se(Le),children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Remove"]})]}),t.jsxs("div",{className:"form-row3",children:[t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{children:"Item Type"}),t.jsxs("select",{value:Se.itemType.id,onChange:Fe=>te(Le,"itemTypeId",Fe.target.value),required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Item Type"}),Oe(Le)]})]}),t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{children:"Quantity"}),t.jsxs("div",{className:"ro-quantity-unit-container",children:[t.jsx("input",{type:"text",inputMode:"numeric",value:Se.quantity,onChange:Fe=>{let ze=Fe.target.value.replace(/[^0-9]/g,"");te(Le,"quantity",ze)},onBlur:Fe=>{let ze=Fe.target.value.replace(/[^0-9]/g,"");(ze===""||parseInt(ze)<1)&&te(Le,"quantity","1")},required:!0,className:"ro-quantity-input"}),Se.itemType.id&&t.jsx("span",{className:"ro-unit-label",children:(()=>{var ze;let Fe="";if($==="receiver"){const Xe=x.find(pt=>pt.id===Se.itemType.id);Fe=(Xe==null?void 0:Xe.measuringUnit)||""}else{const Xe=y.find(pt=>pt.itemType.id===Se.itemType.id);Fe=((ze=Xe==null?void 0:Xe.itemType)==null?void 0:ze.measuringUnit)||""}return Fe})()})]})]})]})]},Le))]}),t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{htmlFor:"batchNumber",children:"Batch Number"}),t.jsx("input",{type:"number",id:"batchNumber",name:"batchNumber",value:I.batchNumber,onChange:re,min:"1",placeholder:"Enter batch number",required:!0})]}),$==="sender"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-row3",children:[t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{children:"Source (Fixed)"}),t.jsx("input",{type:"text",value:P.name,disabled:!0,className:"disabled-input"})]}),t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{htmlFor:"receiverSite",children:"Destination Site"}),t.jsxs("select",{id:"receiverSite",value:G,onChange:je,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Site"}),z.map(Se=>t.jsx("option",{value:Se.id,children:Se.name},Se.id))]})]})]}),G&&t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{htmlFor:"receiverType",children:"Destination Type"}),t.jsxs("select",{id:"receiverType",name:"receiverType",value:I.receiverType,onChange:xe,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Type"}),B.map(Se=>t.jsx("option",{value:Se,children:Se.charAt(0).toUpperCase()+Se.slice(1).toLowerCase()},Se))]})]}),G&&I.receiverType&&t.jsxs("div",{className:"form-group3 full-width",children:[t.jsxs("label",{htmlFor:"receiverId",children:["Select ",I.receiverType.charAt(0).toUpperCase()+I.receiverType.slice(1).toLowerCase()]}),t.jsxs("select",{id:"receiverId",name:"receiverId",value:I.receiverId,onChange:Se=>q({...I,receiverId:Se.target.value}),required:!0,children:[t.jsxs("option",{value:"",disabled:!0,children:["Select ",I.receiverType.charAt(0).toUpperCase()+I.receiverType.slice(1).toLowerCase()]}),A.length>0?A.map(Se=>{let Le,Fe;return I.receiverType==="EQUIPMENT"?(Le=Se?Se.fullModelName:"No model name available",Fe=Se.id):(Le=Se.name,Fe=Se.id),t.jsx("option",{value:Fe,children:Le},Fe)}):t.jsxs("option",{value:"",disabled:!0,children:["No ",I.receiverType.toLowerCase(),"s available at this site"]})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-row3",children:[t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{htmlFor:"senderSite",children:"Source Site"}),t.jsxs("select",{id:"senderSite",value:M,onChange:pe,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Site"}),z.map(Se=>t.jsx("option",{value:Se.id,children:Se.name},Se.id))]})]}),t.jsxs("div",{className:"form-group3",children:[t.jsx("label",{children:"Destination (Fixed)"}),t.jsx("input",{type:"text",value:P.name,disabled:!0,className:"disabled-input"})]})]}),M&&t.jsxs("div",{className:"form-group3 full-width",children:[t.jsx("label",{htmlFor:"senderType",children:"Source Type"}),t.jsxs("select",{id:"senderType",name:"senderType",value:I.senderType,onChange:oe,required:!0,children:[t.jsx("option",{value:"",disabled:!0,children:"Select Type"}),B.map(Se=>t.jsx("option",{value:Se,children:Se.charAt(0).toUpperCase()+Se.slice(1).toLowerCase()},Se))]})]}),M&&I.senderType&&t.jsxs("div",{className:"form-group3 full-width",children:[t.jsxs("label",{htmlFor:"senderId",children:["Select ",I.senderType.charAt(0).toUpperCase()+I.senderType.slice(1).toLowerCase()]}),t.jsxs("select",{id:"senderId",name:"senderId",value:I.senderId,onChange:Se=>q({...I,senderId:Se.target.value}),required:!0,children:[t.jsxs("option",{value:"",disabled:!0,children:["Select ",I.senderType.charAt(0).toUpperCase()+I.senderType.slice(1).toLowerCase()]}),w.length>0?w.map(Se=>{let Le,Fe;return I.senderType==="EQUIPMENT"?(Le=Se.equipment?Se.equipment.fullModelName:"No model name available",Fe=Se.equipment?Se.equipment.id:Se.id):(Le=Se.name,Fe=Se.id),t.jsx("option",{value:Fe,children:Le},Fe)}):t.jsxs("option",{value:"",disabled:!0,children:["No ",I.senderType.toLowerCase(),"s available at this site"]})]})]})]}),t.jsx("div",{className:"modal-footer3",children:t.jsx("button",{type:"submit",className:"submit-button3",children:"Create Transaction"})})]})]})})]})},ule=({warehouseId:e})=>{const n=Tt(),[r,a]=g.useState([]),[s,o]=g.useState([]),[l,u]=g.useState(!1),[d,h]=g.useState(!1),[f,p]=g.useState(""),[y,b]=g.useState(!1),[x,j]=g.useState(!1),[w,T]=g.useState(null),[A,O]=g.useState({title:"",description:"",items:[{itemTypeId:"",quantity:"",comment:""}],deadline:""}),[P,S]=g.useState([]),[E,k]=g.useState([]),[D,_]=g.useState(!1),[U,R]=g.useState(""),[$,L]=g.useState("success"),z=[{id:"title",header:"TITLE",accessor:"title",width:"200px",minWidth:"150px",sortable:!0,filterable:!0,render:(V,Y)=>Y||"N/A"},{id:"deadline",header:"DEADLINE",accessor:"deadline",width:"140px",minWidth:"120px",sortable:!0,filterable:!0,filterType:"text",render:(V,Y)=>Y?new Date(Y).toLocaleDateString():"N/A"},{id:"createdAt",header:"CREATED AT",accessor:"createdAt",width:"140px",minWidth:"120px",sortable:!0,filterable:!0,filterType:"text",render:(V,Y)=>Y?new Date(Y).toLocaleDateString():"N/A"},{id:"createdBy",header:"CREATED BY",accessor:"createdBy",width:"150px",minWidth:"120px",sortable:!0,filterable:!0,filterType:"text",render:(V,Y)=>Y||"N/A"}],W=[{id:"title",header:"TITLE",accessor:"title",width:"200px",minWidth:"150px",sortable:!0,filterable:!0,render:(V,Y)=>Y||"N/A"},{id:"deadline",header:"DEADLINE",accessor:"deadline",width:"200px",minWidth:"120px",sortable:!0,filterable:!0,filterType:"text",render:(V,Y)=>Y?new Date(Y).toLocaleDateString():"N/A"},{id:"createdAt",header:"CREATED AT",accessor:"createdAt",width:"200px",minWidth:"120px",sortable:!0,filterable:!0,filterType:"text",render:(V,Y)=>Y?new Date(Y).toLocaleDateString():"N/A"},{id:"createdBy",header:"CREATED BY",accessor:"createdBy",width:"200px",minWidth:"120px",sortable:!0,filterable:!0,filterType:"text",render:(V,Y)=>Y||"N/A"},{id:"approvedBy",header:"APPROVED BY",accessor:"approvedBy",width:"200px",minWidth:"120px",sortable:!0,filterable:!0,filterType:"text",render:(V,Y)=>Y||V.validatedBy||"N/A"},{id:"approvedAt",header:"APPROVED AT",accessor:"approvedAt",width:"200px",minWidth:"120px",sortable:!0,filterable:!0,filterType:"text",render:(V,Y)=>{const ee=Y||V.validatedDate||V.approvedDate;return ee?new Date(ee).toLocaleDateString():"N/A"}}],M=[{label:"Edit Request",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:V=>B(V),className:"request-edit-button"},{label:"Delete Request",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("polyline",{points:"3,6 5,6 21,6"}),t.jsx("path",{d:"M19,6v14a2,2 0,0,1-2,2H7a2,2 0,0,1-2-2V6m3,0V4a2,2 0,0,1,2-2h4a2,2 0,0,1,2,2v2"}),t.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:V=>H(V),className:"request-delete-button"}],F=[{header:"Title",accessor:"title",filterType:"text"},{header:"Created By",accessor:"createdBy",filterType:"select"}],G=[{header:"Title",accessor:"title",filterType:"text"},{header:"Created By",accessor:"createdBy",filterType:"select"},{header:"Approved By",accessor:"approvedBy",filterType:"select"}];g.useEffect(()=>{try{const V=localStorage.getItem("userInfo");if(V){const Y=JSON.parse(V);p(Y.role)}}catch(V){console.error("Error parsing user info:",V)}},[]),g.useEffect(()=>{e&&(I(),q(),J())},[e]);const J=async()=>{try{const V=localStorage.getItem("token"),Y=await fetch("http://localhost:8080/api/v1/itemTypes",{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(!Y.ok)throw new Error("Failed to load item types");const ee=await Y.json();S(ee)}catch(V){console.error("Error fetching item types:",V)}},I=async()=>{u(!0);try{const V=localStorage.getItem("token"),Y=await fetch(`http://localhost:8080/api/v1/requestOrders/warehouse?warehouseId=${e}&status=PENDING`,{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(!Y.ok)throw new Error(`HTTP error! Status: ${Y.status}`);const ee=await Y.json();a(ee)}catch(V){console.error("Error fetching pending orders:",V),a([])}finally{u(!1)}},q=async()=>{h(!0);try{const V=localStorage.getItem("token"),Y=await fetch(`http://localhost:8080/api/v1/requestOrders/warehouse?warehouseId=${e}&status=APPROVED`,{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(!Y.ok)throw new Error(`HTTP error! Status: ${Y.status}`);const ee=await Y.json();o(ee)}catch(V){console.error("Error fetching validated orders:",V),o([])}finally{h(!1)}},B=async V=>{try{const Y=localStorage.getItem("token"),ee=await fetch(`http://localhost:8080/api/v1/requestOrders/${V.id}`,{method:"GET",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(!ee.ok)throw new Error("Failed to fetch request details");const ce=await ee.json();j(!0),T(V.id);const re=ce.deadline?new Date(ce.deadline).toISOString().slice(0,16):"",te=ce.requestItems&&ce.requestItems.length>0?ce.requestItems.map(he=>{var se;return{id:he.id,itemTypeId:((se=he.itemType)==null?void 0:se.id)||he.itemTypeId,quantity:he.quantity,comment:he.comment||""}}):[{itemTypeId:"",quantity:"",comment:""}];O({title:ce.title||"",description:ce.description||"",deadline:re,items:te}),b(!0)}catch(Y){console.error("Error fetching request details:",Y),R("Failed to load request details. Please try again."),_(!0),L("error")}},H=async V=>{if(window.confirm("Are you sure you want to delete this request?"))try{console.log("Delete request:",V),I(),R("Delete functionality to be implemented"),_(!0),L("info")}catch(Y){console.error("Error deleting request:",Y),R("Failed to delete request. Please try again."),_(!0),L("error")}},K=V=>{n(`/procurement/request-orders/${V.id}`)},ie=()=>{b(!0)},ae=()=>{b(!1),j(!1),T(null),O({title:"",description:"",items:[{itemTypeId:"",quantity:"",comment:""}],deadline:""})},me=V=>{const{name:Y,value:ee}=V.target;O(ce=>({...ce,[Y]:ee}))},de=(V,Y,ee)=>{O(ce=>{const re=[...ce.items];return re[V]={...re[V],[Y]:ee},{...ce,items:re}})},fe=()=>{O(V=>({...V,items:[...V.items,{itemTypeId:"",quantity:"",comment:""}]}))},X=V=>{A.items.length<=1||O(Y=>{const ee=[...Y.items];return ee.splice(V,1),{...Y,items:ee}})},Z=async V=>{V.preventDefault();let Y="system";const ee=localStorage.getItem("userInfo");if(ee)try{const re=JSON.parse(ee);re.username&&(Y=re.username)}catch(re){console.error("Error parsing user info:",re)}const ce={title:A.title,description:A.description,createdBy:Y,status:"PENDING",partyType:"WAREHOUSE",requesterId:e,deadline:A.deadline,items:A.items.map(re=>({...re.id&&{id:re.id},itemTypeId:re.itemTypeId,quantity:re.quantity,comment:re.comment||""}))};try{const re=localStorage.getItem("token");let te;if(x&&w?te=await fetch(`http://localhost:8080/api/v1/requestOrders/${w}`,{method:"PUT",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"},body:JSON.stringify(ce)}):te=await fetch("http://localhost:8080/api/v1/requestOrders",{method:"POST",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"},body:JSON.stringify(ce)}),!te.ok)throw new Error(x?"Failed to update request order":"Failed to create request order");ae(),I(),R(x?"Request Order updated successfully!":"Request Order created successfully!"),_(!0),L("success")}catch(re){console.error("Error saving request order:",re),R(`Error: ${re.message}`),_(!0),L("error")}};return t.jsxs("div",{className:"warehouse-request-orders-container",children:[t.jsxs("div",{className:"request-orders-section",children:[t.jsx("h2",{className:"request-section-title",children:"Pending Requests"}),t.jsx("p",{className:"request-section-description",children:"( Orders awaiting approval or rejection )"}),t.jsx("div",{className:"request-orders-table-card",children:t.jsx(Nt,{data:r,columns:z,actions:M,onRowClick:K,loading:l,emptyMessage:"No pending request orders found",className:"request-orders-table",itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,showSearch:!0,showFilters:!0,filterableColumns:F,actionsColumnWidth:"120px"})})]}),t.jsxs("div",{className:"request-orders-section",children:[t.jsx("h2",{className:"request-section-title",children:"Validated Requests"}),t.jsx("p",{className:"request-section-description",children:"( Orders that have been processed and approved )"}),t.jsx("div",{className:"request-orders-table-card",children:t.jsx(Nt,{data:s,columns:W,onRowClick:K,loading:d,emptyMessage:"No validated request orders found",className:"request-orders-table",itemsPerPageOptions:[5,10,15,20],defaultItemsPerPage:10,showSearch:!0,showFilters:!0,filterableColumns:G})})]}),f==="WAREHOUSE_MANAGER"&&t.jsx("button",{className:"request-orders-add-button",title:"Create New Request",onClick:ie,children:t.jsx("svg",{className:"request-orders-plus-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})})}),y&&t.jsx("div",{className:"warehouse-request-modal-backdrop",children:t.jsxs("div",{className:"warehouse-request-modal",children:[t.jsxs("div",{className:"warehouse-request-modal-header",children:[t.jsx("h2",{children:x?"Edit Request":"Create New Request"}),t.jsx("button",{className:"warehouse-request-close-modal",onClick:ae,children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsx("div",{className:"warehouse-request-modal-content",children:t.jsxs("form",{className:"warehouse-request-form",onSubmit:Z,children:[t.jsxs("div",{className:"warehouse-request-form-section",children:[t.jsxs("div",{className:"warehouse-request-form-field warehouse-request-full-width",children:[t.jsx("label",{htmlFor:"title",children:"Title"}),t.jsx("input",{type:"text",id:"title",name:"title",value:A.title||"",onChange:me,required:!0,placeholder:"Enter request title"})]}),t.jsxs("div",{className:"warehouse-request-form-field",children:[t.jsx("label",{htmlFor:"employeeRequestedBy",children:"Requested By (Employee)"}),t.jsxs("select",{id:"employeeRequestedBy",name:"employeeRequestedBy",value:A.employeeRequestedBy||"",onChange:me,children:[t.jsx("option",{value:"",children:"Select Employee"}),E.map(V=>t.jsx("option",{value:V.id,children:V.name},V.id))]})]}),t.jsxs("div",{className:"warehouse-request-form-field",children:[t.jsx("label",{htmlFor:"deadline",children:"Deadline"}),t.jsx("input",{type:"datetime-local",id:"deadline",name:"deadline",value:A.deadline||"",onChange:me,required:!0})]}),t.jsxs("div",{className:"warehouse-request-form-field warehouse-request-full-width",children:[t.jsx("label",{htmlFor:"description",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",value:A.description||"",onChange:me,placeholder:"Enter request description",rows:4,required:!0})]})]}),t.jsxs("div",{className:"warehouse-request-form-section",children:[t.jsxs("div",{className:"warehouse-request-section-header",children:[t.jsx("h3",{children:"Request Items"}),t.jsxs("button",{type:"button",className:"warehouse-request-add-item-button",onClick:fe,children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Another Item"]})]}),A.items.map((V,Y)=>{var ee;return t.jsxs("div",{className:"warehouse-request-item-card",children:[t.jsxs("div",{className:"warehouse-request-item-header",children:[t.jsxs("span",{children:["Item ",Y+1]}),A.items.length>1&&t.jsxs("button",{type:"button",className:"warehouse-request-remove-button",onClick:()=>X(Y),children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Remove"]})]}),t.jsxs("div",{className:"warehouse-request-item-fields",children:[t.jsxs("div",{className:"warehouse-request-form-field",children:[t.jsx("label",{children:"Item Type"}),t.jsxs("select",{value:V.itemTypeId||"",onChange:ce=>de(Y,"itemTypeId",ce.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Item Type"}),P.filter(ce=>ce.id===V.itemTypeId||!A.items.some(re=>re!==V&&re.itemTypeId===ce.id)).map(ce=>t.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),t.jsxs("div",{className:"warehouse-request-form-field",children:[t.jsx("label",{children:"Quantity"}),t.jsxs("div",{className:"warehouse-request-quantity-unit-container",children:[t.jsx("input",{type:"number",value:V.quantity||"",onChange:ce=>de(Y,"quantity",ce.target.value),min:"0.01",step:"0.01",required:!0,className:"warehouse-request-quantity-input"}),V.itemTypeId&&t.jsx("span",{className:"warehouse-request-unit-label",children:((ee=P.find(ce=>ce.id===V.itemTypeId))==null?void 0:ee.measuringUnit)||""})]})]})]}),t.jsxs("div",{className:"warehouse-request-form-field warehouse-request-full-width",children:[t.jsx("label",{children:"Comment (Optional)"}),t.jsx("input",{type:"text",value:V.comment||"",onChange:ce=>de(Y,"comment",ce.target.value),placeholder:"Add any additional details about this item"})]})]},Y)})]}),t.jsxs("div",{className:"warehouse-request-modal-footer",children:[t.jsx("button",{type:"button",className:"warehouse-request-cancel-button",onClick:ae,children:"Cancel"}),t.jsx("button",{type:"submit",className:"warehouse-request-submit-button",disabled:!A.title||A.items.length===0,children:x?"Update Request":"Submit Request"})]})]})})]})}),t.jsx(Xn,{type:$,text:U,isVisible:D,onClose:()=>_(!1),duration:3e3})]})};class fl extends le.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by boundary:",n,r)}render(){var n;return this.state.hasError?t.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[t.jsx("h3",{children:"Something went wrong loading this section."}),t.jsxs("p",{children:["Error: ",(n=this.state.error)==null?void 0:n.message]}),t.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Again"})]}):this.props.children}}const dle=()=>{const{id:e}=ya(),n=Tt(),[r,a]=g.useState(null),[s,o]=g.useState("items"),[l,u]=g.useState(""),[d,h]=g.useState({});g.useEffect(()=>{(async()=>{try{const E=localStorage.getItem("token"),k=JSON.parse(localStorage.getItem("userInfo"));k&&k.role&&u(k.role);const D=await fetch(`http://localhost:8080/api/v1/warehouses/${e}`,{method:"GET",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!D.ok)throw new Error(`HTTP error! Status: ${D.status}`);const _=await D.json();a(_),console.log("warehouse:",JSON.stringify(_,null,2))}catch(E){console.error("Error fetching warehouse details:",E)}})()},[e]);const f=g.useCallback((S,E)=>{h(k=>({...k,[S]:E}))},[]),p=g.useCallback(S=>{f("items",S)},[]),y=g.useCallback(S=>{f("categories",S)},[]),b=g.useCallback(S=>{f("types",S)},[]),x=g.useCallback(S=>{f("transactions",S)},[]),j=g.useCallback(S=>{f("requestOrders",S)},[]);if(!r)return t.jsx("div",{children:"Loading..."});const w=()=>{switch(s){case"items":return"Inventory Management";case"categories":return"Item Categories";case"types":return"Item Types";case"transactions":return"Transactions";case"requestOrders":return"Request Orders";default:return"Inventory Management"}},T=()=>{switch(s){case"items":return"Add Item";case"categories":return"Add Category";case"types":return"Add Item Type";case"transactions":return"Add Transaction";case"requestOrders":return"Add Request Order";default:return"Add Item"}},A=()=>{d[s]?d[s]():console.log(`Add functionality not yet connected for ${s}`)},O=()=>{switch(s){case"items":return t.jsx(fl,{children:t.jsx(hM,{warehouseId:e,onAddButtonClick:p})});case"categories":return t.jsx(fl,{children:t.jsx(ale,{warehouseId:e,onAddButtonClick:y})});case"types":return t.jsx(fl,{children:t.jsx(tle,{warehouseId:e,onAddButtonClick:b})});case"transactions":return t.jsx(fl,{children:t.jsx(cle,{warehouseId:e,onAddButtonClick:x})});case"requestOrders":return t.jsx(fl,{children:t.jsx(ule,{warehouseId:e,onAddButtonClick:j})});default:return t.jsx(fl,{children:t.jsx(hM,{warehouseId:e,onAddButtonClick:p})})}},P=S=>{S.stopPropagation(),n(`/warehouses/warehouse-details/${e}`)};return t.jsx(g.Fragment,{children:t.jsxs("div",{className:"WarehouseDetailsContainer",children:[t.jsxs("div",{className:"warehouse-card",children:[t.jsx("div",{className:"left-side",children:t.jsx("img",{className:"warehouse-image",src:(r==null?void 0:r.photoUrl)||Id,alt:"Warehouse",onError:S=>{S.target.src=Id}})}),t.jsxs("div",{className:"center-content",children:[t.jsx("div",{className:"label",children:"WAREHOUSE NAME"}),t.jsx("div",{className:"value",children:r.name})]}),t.jsx("div",{className:"right-side",children:t.jsx("button",{className:"info-button",onClick:P,children:t.jsx(qi,{})})})]}),t.jsxs("div",{className:"new-tabs-container",children:[t.jsxs("div",{className:"new-tabs-header",children:[t.jsx("button",{className:`new-tab-button ${s==="items"?"active":""}`,onClick:()=>o("items"),children:"Inventory"}),t.jsx("button",{className:`new-tab-button ${s==="categories"?"active":""}`,onClick:()=>o("categories"),children:"Categories"}),t.jsx("button",{className:`new-tab-button ${s==="types"?"active":""}`,onClick:()=>o("types"),children:"Item Types"}),l==="WAREHOUSE_MANAGER"&&t.jsx("button",{className:`new-tab-button ${s==="transactions"?"active":""}`,onClick:()=>o("transactions"),children:"Transactions"}),l==="WAREHOUSE_MANAGER"&&t.jsx("button",{className:`new-tab-button ${s==="requestOrders"?"active":""}`,onClick:()=>o("requestOrders"),children:"Request Orders"})]}),t.jsxs("div",{className:"unified-tab-content-container",children:[t.jsxs("div",{className:"tab-content-header",children:[t.jsx("h2",{className:"tab-title",children:w()}),t.jsx("div",{className:"tab-header-line"})]}),t.jsx("div",{className:"tab-content-body",children:O()}),l==="WAREHOUSE_MANAGER"&&t.jsx("div",{className:"tab-content-footer",children:t.jsx("button",{className:"add-entity-button",onClick:A,title:T(),children:t.jsx("svg",{className:"add-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})})})})]})]})]})})},hle=()=>{var p,y,b,x;const{id:e}=ya(),[n,r]=g.useState(null),[a,s]=g.useState(!0),[o,l]=g.useState(null);g.useEffect(()=>{(async()=>{try{const w=await fetch(`http://localhost:8080/api/v1/warehouses/${e}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!w.ok)throw new Error("Failed to fetch warehouse data");const T=await w.json();console.log(JSON.stringify(T,null,2)),r(T)}catch(w){l(w.message)}finally{s(!1)}})()},[e]);const u=()=>{const j=document.getElementById("print-section"),w=document.body.innerHTML;document.body.innerHTML=j.innerHTML,window.print(),document.body.innerHTML=w,window.location.reload()},d=({label:j,value:w})=>t.jsxs("div",{className:"field-item",children:[t.jsx("div",{className:"field-label",children:j}),t.jsx("div",{className:"field-value",children:w||"Not available"})]});if(a)return t.jsx("div",{className:"warehouse-info-page",children:t.jsx("div",{className:"loading-message",children:"Loading warehouse details..."})});if(o)return t.jsx("div",{className:"warehouse-info-page",children:t.jsxs("div",{className:"error-message",children:["Error: ",o]})});const h=(p=n.employees)==null?void 0:p.find(j=>j.position==="Warehouse Manager"),f=((y=n.employees)==null?void 0:y.filter(j=>j.position==="Warehouse Worker"))||[];return t.jsx("div",{className:"warehouse-info-page",children:t.jsxs("div",{id:"print-section",className:"warehouse-info-container",children:[t.jsxs("div",{className:"info-header",children:[t.jsx("h1",{children:"Warehouse Information"}),t.jsxs("div",{className:"header-actions",children:[t.jsx(Yu,{to:`../RelatedDocuments/${e}`,children:t.jsx(d8,{})}),t.jsx("button",{onClick:u,children:t.jsx(c8,{})})]})]}),t.jsx("div",{className:"warehouse-image",children:t.jsx("img",{src:(n==null?void 0:n.photoUrl)||Id,alt:"Warehouse",onError:j=>{j.target.src=Id}})}),t.jsx("div",{className:"info-content",children:t.jsxs("div",{className:"info-sections",children:[t.jsxs("div",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:"Warehouse Details"}),t.jsxs("div",{className:"field-list",children:[t.jsx(d,{label:"Warehouse ID",value:n.id}),t.jsx(d,{label:"Warehouse Name",value:n.name}),t.jsx(d,{label:"Capacity",value:n.capacity})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:"Site Information"}),t.jsxs("div",{className:"field-list",children:[t.jsx(d,{label:"Site Name",value:(b=n.site)==null?void 0:b.name}),t.jsx(d,{label:"Site Address",value:(x=n.site)==null?void 0:x.physicalAddress})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h2",{className:"section-title",children:"Management"}),t.jsxs("div",{className:"field-list",children:[t.jsx(d,{label:"Warehouse Manager",value:h?h.name:"Not Assigned"}),f.length>0?t.jsx(d,{label:"Workers Count",value:`${f.length} worker${f.length>1?"s":""}`}):t.jsx(d,{label:"Workers",value:"No workers assigned"})]})]})]})})]})})},mle=()=>{const{id:e}=ya();Tt();const[n,r]=g.useState(null),[a,s]=g.useState(!0),[o,l]=g.useState(null);g.useEffect(()=>{(async()=>{s(!0);try{const h=localStorage.getItem("token"),f=await fetch(`http://localhost:8080/api/v1/merchants/${e}`,{headers:{Authorization:`Bearer ${h}`}});if(!f.ok)throw new Error(`Failed to fetch merchant details: ${f.status}`);const p=await f.json();r(p)}catch(h){console.error("Error fetching merchant details:",h),l(h.message)}finally{s(!1)}})()},[e]);const u=d=>d?new Date(d).toLocaleDateString():"-";return a?t.jsx("div",{className:"merchant-detail-container",children:t.jsxs("div",{className:"merchant-detail-loading",children:[t.jsx("div",{className:"merchant-detail-spinner"}),t.jsx("p",{children:"Loading merchant details..."})]})}):o||!n?t.jsx("div",{className:"merchant-detail-container",children:t.jsxs("div",{className:"merchant-detail-error",children:[t.jsx("h2",{children:"Error Loading Merchant"}),t.jsx("p",{children:o||"Merchant not found"})]})}):t.jsxs("div",{className:"merchant-detail-container",children:[t.jsxs("div",{className:"merchant-detail-header",children:[t.jsx("h1",{children:n.name}),t.jsx("div",{className:"merchant-type-badge",children:n.merchantType})]}),t.jsxs("div",{className:"merchant-detail-content",children:[t.jsxs("div",{className:"merchant-detail-section",children:[t.jsx("h2",{children:"Contact Information"}),t.jsxs("div",{className:"merchant-detail-grid",children:[t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Contact Person"}),t.jsx("p",{children:n.contactPersonName||"-"})]}),t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Email"}),t.jsx("p",{children:n.contactEmail||"-"})]}),t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Primary Phone"}),t.jsx("p",{children:n.contactPhone||"-"})]}),t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Secondary Phone"}),t.jsx("p",{children:n.contactSecondPhone||"-"})]}),t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Address"}),t.jsx("p",{children:n.address||"-"})]})]})]}),t.jsxs("div",{className:"merchant-detail-section",children:[t.jsx("h2",{children:"Business Information"}),t.jsxs("div",{className:"merchant-detail-grid",children:[t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Tax ID"}),t.jsx("p",{children:n.taxIdentificationNumber||"-"})]}),t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Preferred Payment Method"}),t.jsx("p",{children:n.preferredPaymentMethod||"-"})]}),t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Site"}),t.jsx("p",{children:n.site?n.site.name:"None"})]})]})]}),t.jsxs("div",{className:"merchant-detail-section",children:[t.jsx("h2",{children:"Performance Metrics"}),t.jsxs("div",{className:"merchant-detail-grid",children:[t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Reliability Score"}),t.jsx("div",{className:"reliability-score",children:n.reliabilityScore?t.jsxs("div",{className:"score-display",children:[t.jsx("div",{className:"score-fill",style:{width:`${n.reliabilityScore/5*100}%`}}),t.jsx("span",{children:n.reliabilityScore.toFixed(1)})]}):t.jsx("p",{children:"Not Rated"})})]}),t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Average Delivery Time"}),t.jsx("p",{children:n.averageDeliveryTime?`${n.averageDeliveryTime} days`:"-"})]}),t.jsxs("div",{className:"merchant-detail-item",children:[t.jsx("label",{children:"Last Order Date"}),t.jsx("p",{children:u(n.lastOrderDate)})]})]})]}),t.jsxs("div",{className:"merchant-detail-section",children:[t.jsx("h2",{children:"Item Categories"}),t.jsx("div",{className:"merchant-categories",children:n.itemCategories&&n.itemCategories.length>0?t.jsx("div",{className:"category-tags",children:n.itemCategories.map((d,h)=>t.jsx("div",{className:"category-tag",children:d.name},h))}):t.jsx("p",{children:"No categories specified"})})]}),t.jsxs("div",{className:"merchant-detail-section",children:[t.jsx("h2",{children:"Notes"}),t.jsx("div",{className:"merchant-notes",children:n.notes?t.jsx("p",{children:n.notes}):t.jsx("p",{children:"No notes available"})})]})]})]})},fle=({offers:e,activeOffer:n,setActiveOffer:r,handleOfferStatusChange:a})=>{const[s,o]=g.useState(!1),[l,u]=g.useState(""),[d,h]=g.useState("success"),f=async p=>{try{await a(p.id,"INPROGRESS"),u(`Offer "${p.title}" is in progress`),h("success"),o(!0)}catch{u("Failed to start working on offer. Please try again."),h("error"),o(!0)}};return t.jsxs("div",{className:"procurement-main-content",children:[t.jsxs("div",{className:"procurement-list-section",children:[t.jsx("div",{className:"procurement-list-header",children:t.jsx("h3",{children:"Unstarted Offers"})}),e.length===0?t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(o8,{size:48,className:"empty-icon"}),t.jsx("p",{children:"No unstarted offers found."})]}):t.jsx("div",{className:"procurement-items-list",children:e.map(p=>t.jsxs("div",{className:`procurement-item-card ${(n==null?void 0:n.id)===p.id?"selected":""}`,onClick:()=>r(p),children:[t.jsxs("div",{className:"procurement-item-header",children:[t.jsx("h4",{children:p.title}),t.jsx("span",{className:`procurement-status-badge status-${p.status.toLowerCase()}`,children:p.status})]}),t.jsx("div",{className:"procurement-item-footer",children:t.jsxs("span",{className:"procurement-item-date",children:[t.jsx(_n,{})," ",new Date(p.createdAt).toLocaleDateString()]})})]},p.id))})]}),t.jsx("div",{className:"procurement-details-section",children:n?t.jsxs("div",{className:"procurement-details-content",children:[t.jsxs("div",{className:"procurement-details-header",children:[t.jsxs("div",{children:[t.jsx("h3",{children:n.title}),t.jsxs("div",{className:"procurement-header-meta",children:[t.jsx("span",{className:`procurement-status-badge status-${n.status.toLowerCase()}`,children:n.status}),t.jsxs("span",{className:"procurement-meta-item",children:[t.jsx(_n,{})," Created: ",new Date(n.createdAt).toLocaleDateString()]})]})]}),t.jsx("div",{className:"procurement-details-actions",children:t.jsx("button",{className:"procurement-button start-working",onClick:()=>f(n),children:"Start Working"})})]}),n.requestOrder?t.jsxs("div",{className:"procurement-unstarted-offers-info",children:[t.jsxs("div",{className:"procurement-request-summary-card",children:[t.jsx("h4",{children:"Request Order Details"}),t.jsxs("div",{className:"procurement-request-details-grid",children:[t.jsxs("div",{className:"request-detail-item",children:[t.jsx("div",{className:"request-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-detail-content",children:[t.jsx("span",{className:"request-detail-label",children:"Requester"}),t.jsx("span",{className:"request-detail-value",children:n.requestOrder.requesterName||"Unknown"})]})]}),t.jsxs("div",{className:"request-detail-item",children:[t.jsx("div",{className:"request-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-detail-content",children:[t.jsx("span",{className:"request-detail-label",children:"Request Date"}),t.jsx("span",{className:"request-detail-value",children:new Date(n.requestOrder.createdAt).toLocaleDateString()})]})]}),n.requestOrder.description&&t.jsxs("div",{className:"request-detail-item",children:[t.jsx("div",{className:"request-detail-icon",children:t.jsx(Qn,{size:18})}),t.jsxs("div",{className:"request-detail-content",children:[t.jsx("span",{className:"request-detail-label",children:"Description"}),t.jsx("p",{className:"request-detail-value description-text",children:n.requestOrder.description})]})]}),t.jsxs("div",{className:"request-detail-item",children:[t.jsx("div",{className:"request-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-detail-content",children:[t.jsx("span",{className:"request-detail-label",children:"Deadline"}),t.jsx("span",{className:"request-detail-value",children:new Date(n.requestOrder.deadline).toLocaleDateString()})]})]}),n.requestOrder.priority&&t.jsxs("div",{className:"request-detail-item",children:[t.jsx("div",{className:"request-detail-icon",children:t.jsx(vo,{size:18})}),t.jsxs("div",{className:"request-detail-content",children:[t.jsx("span",{className:"request-detail-label",children:"Priority"}),t.jsx("span",{className:`request-detail-value request-priority ${n.requestOrder.priority.toLowerCase()}`,children:n.requestOrder.priority})]})]})]})]}),n.requestOrder.requestItems&&n.requestOrder.requestItems.length>0&&t.jsxs("div",{className:"procurement-unstarted-offers-items-preview",children:[t.jsx("h4",{children:"Items That Will Need Procurement"}),t.jsx("div",{className:"procurement-unstarted-offers-items-grid",children:n.requestOrder.requestItems.map(p=>{var y;return t.jsxs("div",{className:"procurement-unstarted-offers-item-preview-card",children:[t.jsxs("div",{className:"procurement-unstarted-offers-item-preview-header",children:[t.jsx("div",{className:"procurement-unstarted-offers-item-icon-container",children:t.jsx(La,{className:"procurement-unstarted-offers-item-icon",size:20})}),t.jsxs("div",{className:"procurement-unstarted-offers-item-title-container",children:[t.jsx("div",{className:"procurement-unstarted-offers-item-name",children:((y=p.itemType)==null?void 0:y.name)||"Unknown"}),t.jsx("div",{className:"procurement-unstarted-offers-item-category",children:p.itemType.category||"Item"})]}),t.jsxs("div",{className:"procurement-unstarted-offers-item-badge",children:[p.quantity," ",p.itemType.measuringUnit||"units"]})]}),p.comment&&t.jsxs("div",{className:"procurement-unstarted-offers-item-notes",children:[t.jsx("div",{className:"procurement-unstarted-offers-item-notes-label",children:"Notes:"}),t.jsx("div",{className:"procurement-unstarted-offers-item-notes-content",children:p.comment})]})]},p.id)})})]})]}):t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading request order details..."})]})]}):t.jsx("div",{className:"procurement-empty-state-container",children:t.jsxs("div",{className:"procurement-empty-state",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#CBD5E1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"}),t.jsx("path",{d:"M18 14v4"}),t.jsx("path",{d:"M15 18h6"})]}),t.jsx("h3",{children:"No Offers Selected"}),e.length>0?t.jsx("p",{children:"Select an offer from the list to view details"}):t.jsx("p",{children:"Offers are created when a request order is accepted"})]})})}),t.jsx(Xn,{type:d,text:l,isVisible:s,onClose:()=>o(!1),duration:3e3})]})},ple=({offers:e,activeOffer:n,setActiveOffer:r,handleOfferStatusChange:a,fetchWithAuth:s,API_URL:o,setError:l,setSuccess:u})=>{var q,B,H,K,ie,ae,me,de,fe,X,Z,V;const[d,h]=g.useState([]),[f,p]=g.useState(null),[y,b]=g.useState(!1),[x,j]=g.useState(!1),[w,T]=g.useState(null),[A,O]=g.useState({show:!1,type:"success",message:""}),[P,S]=g.useState({requestOrderItemId:"",merchantId:"",quantity:1,unitPrice:0,totalPrice:0,currency:"EGP",estimatedDeliveryDays:7,deliveryNotes:"",comment:""}),[E,k]=g.useState({merchantId:"",requestOrderItemId:"",quantity:1,unitPrice:0,totalPrice:0,currency:"EGP",estimatedDeliveryDays:7,deliveryNotes:"",comment:""});g.useEffect(()=>{(async()=>{try{const ee=await s(`${o}/merchants`);h(ee)}catch(ee){console.error("Error fetching merchants:",ee),J("error","Failed to load merchants. Please try again.")}})()},[o,s,l]);const D=Y=>{a(Y.id,"SUBMITTED"),J("success","Offer submitted successfully")},_=Y=>{if(!Y||!Y.requestOrder||!Y.offerItems)return!1;const ee=Y.requestOrder.requestItems||[];return ee.length===0?!1:ee.every(ce=>(Y.offerItems||[]).filter(he=>he.requestOrderItemId===ce.id||he.requestOrderItem&&he.requestOrderItem.id===ce.id).reduce((he,se)=>he+(se.quantity||0),0)>=ce.quantity)},U=Y=>!n||!n.offerItems?!1:n.offerItems.some(ee=>{var ce;return((ce=ee.requestOrderItem)==null?void 0:ce.id)===Y||ee.requestOrderItemId===Y}),R=Y=>!n||!n.offerItems?[]:n.offerItems.filter(ee=>{var ce;return((ce=ee.requestOrderItem)==null?void 0:ce.id)===Y||ee.requestOrderItemId===Y}),$=()=>!n||!n.offerItems||n.offerItems.length===0?"USD":n.offerItems[0].currency||"USD",L=async()=>{if(!(!n||!f))try{const Y=P.quantity*P.unitPrice,ee={...P,requestOrderItemId:f.id,totalPrice:Y},ce=await s(`${o}/offers/${n.id}/items`,{method:"POST",body:JSON.stringify([ee])}),re={...n,offerItems:[...n.offerItems||[],...ce]};r(re),J("success","Procurement solution added successfully!"),S({requestOrderItemId:"",merchantId:"",quantity:1,unitPrice:0,totalPrice:0,currency:"USD",estimatedDeliveryDays:7,deliveryNotes:"",comment:""}),p(null),b(!1),setTimeout(()=>u(null),3e3)}catch(Y){console.error("Error adding offer item:",Y),J("error","Failed to add procurement solution. Please try again."),setTimeout(()=>l(null),3e3)}},z=(Y,ee)=>{var ce;p(ee),T(Y),k({merchantId:((ce=Y.merchant)==null?void 0:ce.id)||Y.merchantId,requestOrderItemId:ee.id,quantity:Y.quantity,unitPrice:parseFloat(Y.unitPrice),totalPrice:parseFloat(Y.totalPrice),currency:Y.currency||"USD",estimatedDeliveryDays:Y.estimatedDeliveryDays,deliveryNotes:Y.deliveryNotes||"",comment:Y.comment||""}),j(!0)},W=async()=>{if(!(!n||!w||!f))try{const Y=E.quantity*E.unitPrice,ee={...E,totalPrice:Y},ce=await s(`${o}/offers/items/${w.id}`,{method:"PUT",body:JSON.stringify(ee)}),re=n.offerItems.map(he=>he.id===w.id?ce:he),te={...n,offerItems:re};r(te),J("success","Procurement solution updated successfully!"),k({merchantId:"",requestOrderItemId:"",quantity:1,unitPrice:0,totalPrice:0,currency:"USD",estimatedDeliveryDays:7,deliveryNotes:"",comment:""}),T(null),p(null),j(!1),setTimeout(()=>u(null),3e3)}catch(Y){console.error("Error updating offer item:",Y),J("error","Failed to update procurement solution. Please try again."),setTimeout(()=>l(null),3e3)}},M=Y=>{p(Y);const ce=R(Y.id).reduce((re,te)=>re+(te.quantity||0),0);S({...P,requestOrderItemId:Y.id,quantity:Math.max(1,Y.quantity-ce),currency:$()}),b(!0)},F=Y=>{if(!Y||!Y.offerItems||Y.offerItems.length===0)return{};const ee={};return Y.offerItems.forEach(ce=>{const re=ce.currency||"EGP",te=ce.totalPrice?parseFloat(ce.totalPrice):0;ee[re]||(ee[re]=0),ee[re]+=te}),ee},G=async Y=>{if(n&&window.confirm("Are you sure you want to remove this procurement solution?"))try{await s(`${o}/offers/items/${Y}`,{method:"DELETE"});const ee=n.offerItems.filter(re=>re.id!==Y),ce={...n,offerItems:ee};r(ce),J("success","Procurement solution removed successfully!"),setTimeout(()=>u(null),3e3)}catch(ee){console.error("Error removing offer item:",ee),J("error","Failed to remove procurement solution. Please try again."),setTimeout(()=>l(null),3e3)}},J=(Y,ee)=>{O({show:!0,type:Y,message:ee})},I=()=>{O(Y=>({...Y,show:!1}))};return t.jsxs("div",{className:"procurement-main-content",children:[t.jsxs("div",{className:"procurement-list-section",children:[t.jsx("div",{className:"procurement-list-header",children:t.jsx("h3",{children:"In Progress Offers"})}),e.length===0?t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(_d,{size:48,className:"empty-icon"}),t.jsx("p",{children:"No offers in progress. Start working on an unstarted offer first."})]}):t.jsx("div",{className:"procurement-items-list",children:e.map(Y=>t.jsxs("div",{className:`procurement-item-card ${(n==null?void 0:n.id)===Y.id?"selected":""}`,onClick:()=>r(Y),children:[t.jsxs("div",{className:"procurement-item-header",children:[t.jsx("h4",{children:Y.title}),t.jsx("span",{className:`procurement-status-badge status-${Y.status.toLowerCase()}`,children:Y.status})]}),t.jsx("div",{className:"procurement-item-footer",children:t.jsxs("span",{className:"procurement-item-date",children:[t.jsx(_n,{})," ",new Date(Y.createdAt).toLocaleDateString()]})}),t.jsx("div",{className:"procurement-item-footer",children:t.jsx("span",{className:"procurement-item-completion",children:_(Y)?t.jsxs("span",{className:"completion-complete",children:[t.jsx(xn,{})," Complete"]}):t.jsxs("span",{className:"completion-incomplete",children:[t.jsx(yN,{})," Incomplete"]})})})]},Y.id))})]}),t.jsx("div",{className:"procurement-details-section",children:n?t.jsxs("div",{className:"procurement-details-content",children:[t.jsxs("div",{className:"procurement-details-header",children:[t.jsxs("div",{children:[t.jsx("h3",{children:n.title}),t.jsxs("div",{className:"procurement-header-meta",children:[t.jsx("span",{className:`procurement-status-badge status-${n.status.toLowerCase()}`,children:n.status}),t.jsxs("span",{className:"procurement-meta-item",children:[t.jsx(_n,{})," Created: ",new Date(n.createdAt).toLocaleDateString()]})]})]}),t.jsx("div",{className:"procurement-details-actions",children:t.jsxs("button",{className:"procurement-button start-working",onClick:()=>D(n),disabled:!_(n),children:[t.jsx(F2,{})," ",_(n)?"Submit Offer":"Complete All Items to Submit"]})})]}),n.requestOrder?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"procurement-request-order-info-card",children:[t.jsx("h4",{children:"Request Order Information"}),t.jsxs("div",{className:"procurement-request-order-details-grid",children:[t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Requester"}),t.jsx("span",{className:"request-order-detail-value",children:n.requestOrder.requesterName||"Unknown"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Request Date"}),t.jsx("span",{className:"request-order-detail-value",children:new Date(n.requestOrder.createdAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Deadline"}),t.jsx("span",{className:"request-order-detail-value",children:new Date(n.requestOrder.deadline).toLocaleDateString()})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Created By"}),t.jsx("span",{className:"request-order-detail-value",children:n.requestOrder.createdBy||"Unknown"})]})]}),n.requestOrder.priority&&t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vo,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Priority"}),t.jsx("span",{className:`request-order-detail-value request-priority ${n.requestOrder.priority.toLowerCase()}`,children:n.requestOrder.priority})]})]}),n.requestOrder.description&&t.jsxs("div",{className:"request-order-detail-item description-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(Qn,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Description"}),t.jsx("p",{className:"request-order-detail-value description-text",children:n.requestOrder.description})]})]})]})]}),t.jsxs("div",{className:"procurement-request-summary-card",children:[t.jsx("h4",{children:"Request Order Items"}),t.jsx("p",{className:"procurement-section-description",children:"Complete all items below to submit this procurement offer."}),t.jsx("div",{className:"procurement-overall-progress",children:t.jsxs("div",{className:"procurement-progress-stats",children:[t.jsxs("div",{className:"procurement-progress-stat",children:[t.jsx("div",{className:"procurement-progress-stat-label",children:"Total Items"}),t.jsx("div",{className:"procurement-progress-stat-value",children:((B=(q=n.requestOrder)==null?void 0:q.requestItems)==null?void 0:B.length)||0})]}),t.jsxs("div",{className:"procurement-progress-stat",children:[t.jsx("div",{className:"procurement-progress-stat-label",children:"Items Covered"}),t.jsxs("div",{className:`procurement-progress-stat-value ${_(n)?"fulfilled":"unfulfilled"}`,children:[((K=(H=n.requestOrder)==null?void 0:H.requestItems)==null?void 0:K.filter(Y=>U(Y.id)).length)||0," / ",((ae=(ie=n.requestOrder)==null?void 0:ie.requestItems)==null?void 0:ae.length)||0]})]}),t.jsxs("div",{className:"procurement-progress-stat",children:[t.jsx("div",{className:"procurement-progress-stat-label",children:"Total Value"}),t.jsx("div",{className:"procurement-progress-stat-value currency-totals",children:Object.entries(F(n)).map(([Y,ee],ce)=>t.jsxs("div",{className:"currency-total-item",children:[Y," ",ee.toFixed(2),ce<Object.entries(F(n)).length-1&&t.jsx("span",{className:"currency-separator",children:"|"})]},Y))})]})]})})]}),t.jsx("div",{className:"procurement-request-items-section",children:(de=(me=n.requestOrder)==null?void 0:me.requestItems)==null?void 0:de.map(Y=>{var he;const ee=R(Y.id),ce=ee.reduce((se,oe)=>se+(oe.quantity||0),0),re=Math.min(100,ce/Y.quantity*100),te=ce>=Y.quantity;return t.jsxs("div",{className:"procurement-request-item-card",children:[t.jsxs("div",{className:"procurement-request-item-header",children:[t.jsxs("div",{className:"item-icon-name",children:[t.jsx("div",{className:"item-icon-container",children:t.jsx(La,{size:20})}),t.jsx("h5",{children:((he=Y.itemType)==null?void 0:he.name)||"Item"})]}),te?t.jsxs("span",{className:"procurement-status-badge status-complete",children:[t.jsx(xn,{size:14})," Complete"]}):t.jsxs("span",{className:"procurement-status-badge status-needed",children:[t.jsx(yN,{size:14})," Needs ",Y.quantity-ce," more ",Y.itemType.measuringUnit]})]}),t.jsx("div",{className:"procurement-request-item-details",children:t.jsxs("div",{className:"procurement-request-item-info",children:[t.jsxs("div",{className:"item-detail",children:[t.jsx("span",{className:"detail-label",children:"Required:"}),t.jsxs("span",{className:"detail-value",children:[Y.quantity," ",Y.itemType.measuringUnit]})]}),Y.comment&&t.jsxs("div",{className:"item-detail full-width",children:[t.jsx("span",{className:"detail-label",children:"Notes:"}),t.jsx("span",{className:"detail-value",children:Y.comment})]})]})}),t.jsxs("div",{className:"procurement-progress-container",children:[t.jsx("div",{className:"procurement-progress-bar",children:t.jsx("div",{className:`procurement-progress-fill ${te?"complete":""}`,style:{width:`${re}%`}})}),t.jsxs("div",{className:"procurement-progress-details",children:[t.jsxs("span",{children:["Progress: ",Math.round(re),"%"]}),t.jsxs("span",{children:[ce," of ",Y.quantity," ",Y.itemType.measuringUnit]})]})]}),ee.length>0&&t.jsxs("div",{className:"procurement-existing-offer-items",children:[t.jsx("h6",{children:"Current Procurement Solutions"}),t.jsxs("table",{className:"procurement-offer-entries-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Merchant"}),t.jsx("th",{children:"Quantity"}),t.jsx("th",{children:"Unit Price"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Delivery"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:ee.map((se,oe)=>{var xe;return t.jsxs("tr",{children:[t.jsx("td",{children:((xe=se.merchant)==null?void 0:xe.name)||"Unknown"}),t.jsxs("td",{children:[se.quantity," ",Y.itemType.measuringUnit]}),t.jsxs("td",{children:[se.currency||"USD"," ",parseFloat(se.unitPrice).toFixed(2)]}),t.jsxs("td",{children:[se.currency||"USD"," ",parseFloat(se.totalPrice).toFixed(2)]}),t.jsxs("td",{children:[se.estimatedDeliveryDays," days"]}),t.jsx("td",{children:t.jsxs("div",{className:"procurement-action-buttons",children:[t.jsx("button",{className:"procurement-action-button edit",onClick:pe=>{pe.stopPropagation(),z(se,Y)},title:"Edit this solution",children:t.jsx(_d,{size:16})}),t.jsx("button",{className:"procurement-action-button delete",onClick:pe=>{pe.stopPropagation(),G(se.id)},title:"Remove this solution",children:t.jsx(H2,{size:16})})]})})]},se.id||oe)})})]})]}),t.jsx("div",{className:"procurement-request-item-actions",children:t.jsxs("button",{className:"procurement-button primary-outline",onClick:se=>{se.stopPropagation(),M(Y)},children:[t.jsx(Cie,{})," ",ee.length>0?"Add Another Solution":"Add Procurement Solution"]})})]},Y.id)})})]}):t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading request order details..."})]})]}):t.jsx("div",{className:"procurement-empty-state-container",children:t.jsxs("div",{className:"procurement-empty-state",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#CBD5E1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"}),t.jsx("path",{d:"M18 14v4"}),t.jsx("path",{d:"M15 18h6"})]}),t.jsx("h3",{children:"No In Progress Offers Selected"}),e.length>0?t.jsx("p",{children:"Select an offer from the list to view details"}):t.jsx("p",{children:"Start working on unstarted offers first"})]})})}),y&&f&&t.jsx("div",{className:"procurement-modal-overlay",children:t.jsxs("div",{className:"procurement-modal-container",children:[t.jsxs("div",{className:"procurement-modal-header",children:[t.jsxs("h4",{children:["Add Procurement Solution for: ",((fe=f.itemType)==null?void 0:fe.name)||"Item"]}),t.jsx("button",{className:"procurement-modal-close-button",onClick:()=>b(!1),children:t.jsx(si,{})})]}),t.jsxs("div",{className:"procurement-modal-body",children:[t.jsxs("div",{className:"procurement-form-group",children:[t.jsx("label",{children:"Merchant"}),t.jsxs("select",{className:"procurement-form-select",value:P.merchantId,onChange:Y=>S({...P,merchantId:Y.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select a merchant"}),d.map(Y=>t.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),t.jsxs("div",{className:"procurement-form-group",children:[t.jsx("label",{children:"Currency"}),t.jsxs("select",{className:"procurement-form-select",value:P.currency,onChange:Y=>S({...P,currency:Y.target.value}),required:!0,children:[t.jsx("option",{value:"EGP",children:"EGP (Egyptian Pound)"}),t.jsx("option",{value:"USD",children:"USD (US Dollar)"}),t.jsx("option",{value:"EUR",children:"EUR (Euro)"}),t.jsx("option",{value:"GBP",children:"GBP (British Pound)"}),t.jsx("option",{value:"JPY",children:"JPY (Japanese Yen)"}),t.jsx("option",{value:"CAD",children:"CAD (Canadian Dollar)"}),t.jsx("option",{value:"AUD",children:"AUD (Australian Dollar)"}),t.jsx("option",{value:"CHF",children:"CHF (Swiss Franc)"}),t.jsx("option",{value:"CNY",children:"CNY (Chinese Yuan)"}),t.jsx("option",{value:"INR",children:"INR (Indian Rupee)"}),t.jsx("option",{value:"SGD",children:"SGD (Singapore Dollar)"})]})]}),t.jsxs("div",{className:"procurement-form-row",children:[t.jsxs("div",{className:"procurement-form-group half",children:[t.jsxs("label",{children:["Quantity (",(X=f.itemType)==null?void 0:X.measuringUnit,")"]}),t.jsx("div",{className:"procurement-form-input-with-icon",children:t.jsx("input",{type:"number",className:"procurement-form-input",min:"1",value:P.quantity,onChange:Y=>{const ee=parseInt(Y.target.value)||0;S({...P,quantity:ee,totalPrice:ee*P.unitPrice})}})})]}),t.jsxs("div",{className:"procurement-form-group half",children:[t.jsx("label",{children:"Unit Price"}),t.jsx("div",{className:"procurement-form-input-with-icon",children:t.jsx("input",{type:"number",className:"procurement-form-input",step:"0.01",min:"0",value:P.unitPrice,onChange:Y=>{const ee=parseFloat(Y.target.value)||0;S({...P,unitPrice:ee,totalPrice:P.quantity*ee})}})})]})]}),t.jsxs("div",{className:"procurement-form-row",children:[t.jsxs("div",{className:"procurement-form-group half",children:[t.jsx("label",{children:"Total Price"}),t.jsxs("div",{className:"procurement-form-input-with-icon",children:[t.jsx("input",{type:"text",className:"procurement-form-input procurement-form-input-readonly with-currency-suffix",value:(P.quantity*P.unitPrice).toFixed(2),readOnly:!0}),t.jsx("div",{className:"currency-prefix",children:P.currency})]})]}),t.jsxs("div",{className:"procurement-form-group half",children:[t.jsx("label",{children:"Est. Delivery (days)"}),t.jsx("div",{className:"procurement-form-input-with-icon",children:t.jsx("input",{type:"number",className:"procurement-form-input",min:"1",value:P.estimatedDeliveryDays,onChange:Y=>S({...P,estimatedDeliveryDays:parseInt(Y.target.value)||7})})})]})]}),t.jsxs("div",{className:"procurement-form-group",children:[t.jsx("label",{children:"Delivery Notes"}),t.jsx("textarea",{className:"procurement-form-textarea",value:P.deliveryNotes,onChange:Y=>S({...P,deliveryNotes:Y.target.value}),placeholder:"Any special delivery instructions",rows:2})]})]}),t.jsxs("div",{className:"procurement-modal-footer",children:[t.jsx("button",{className:"procurement-button secondary",onClick:()=>b(!1),children:"Cancel"}),t.jsx("button",{className:"procurement-button start-working",onClick:L,disabled:!P.merchantId||P.quantity<1||P.unitPrice<=0,children:"Add to Offer"})]})]})}),x&&w&&f&&t.jsx("div",{className:"procurement-modal-overlay",children:t.jsxs("div",{className:"procurement-modal-container",children:[t.jsxs("div",{className:"procurement-modal-header",children:[t.jsxs("h4",{children:["Edit Procurement Solution for: ",((Z=f.itemType)==null?void 0:Z.name)||"Item"]}),t.jsx("button",{className:"procurement-modal-close-button",onClick:()=>j(!1),children:t.jsx(si,{})})]}),t.jsxs("div",{className:"procurement-modal-body",children:[t.jsxs("div",{className:"procurement-form-group",children:[t.jsx("label",{children:"Merchant"}),t.jsxs("select",{className:"procurement-form-select",value:E.merchantId,onChange:Y=>k({...E,merchantId:Y.target.value}),required:!0,children:[t.jsx("option",{value:"",children:"Select a merchant"}),d.map(Y=>t.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),t.jsxs("div",{className:"procurement-form-group",children:[t.jsx("label",{children:"Currency"}),t.jsxs("select",{className:"procurement-form-select",value:E.currency,onChange:Y=>k({...E,currency:Y.target.value}),required:!0,children:[t.jsx("option",{value:"EGP",children:"EGP (Egyptian Pound)"}),t.jsx("option",{value:"USD",children:"USD (US Dollar)"}),t.jsx("option",{value:"EUR",children:"EUR (Euro)"}),t.jsx("option",{value:"GBP",children:"GBP (British Pound)"}),t.jsx("option",{value:"JPY",children:"JPY (Japanese Yen)"}),t.jsx("option",{value:"CAD",children:"CAD (Canadian Dollar)"}),t.jsx("option",{value:"AUD",children:"AUD (Australian Dollar)"}),t.jsx("option",{value:"CHF",children:"CHF (Swiss Franc)"}),t.jsx("option",{value:"CNY",children:"CNY (Chinese Yuan)"}),t.jsx("option",{value:"INR",children:"INR (Indian Rupee)"}),t.jsx("option",{value:"SGD",children:"SGD (Singapore Dollar)"})]})]}),t.jsxs("div",{className:"procurement-form-row",children:[t.jsxs("div",{className:"procurement-form-group half",children:[t.jsxs("label",{children:["Quantity (",(V=f.itemType)==null?void 0:V.measuringUnit,")"]}),t.jsx("div",{className:"procurement-form-input-with-icon",children:t.jsx("input",{type:"number",className:"procurement-form-input",min:"1",value:E.quantity,onChange:Y=>{const ee=parseInt(Y.target.value)||0;k({...E,quantity:ee,totalPrice:ee*E.unitPrice})}})})]}),t.jsxs("div",{className:"procurement-form-group half",children:[t.jsx("label",{children:"Unit Price"}),t.jsx("div",{className:"procurement-form-input-with-icon",children:t.jsx("input",{type:"number",className:"procurement-form-input",step:"0.01",min:"0",value:E.unitPrice,onChange:Y=>{const ee=parseFloat(Y.target.value)||0;k({...E,unitPrice:ee,totalPrice:E.quantity*ee})}})})]})]}),t.jsxs("div",{className:"procurement-form-row",children:[t.jsxs("div",{className:"procurement-form-group half",children:[t.jsx("label",{children:"Total Price"}),t.jsxs("div",{className:"procurement-form-input-with-icon",children:[t.jsx("input",{type:"text",className:"procurement-form-input procurement-form-input-readonly with-currency-suffix",value:(E.quantity*E.unitPrice).toFixed(2),readOnly:!0}),t.jsx("div",{className:"currency-prefix",children:E.currency})]})]}),t.jsxs("div",{className:"procurement-form-group half",children:[t.jsx("label",{children:"Est. Delivery (days)"}),t.jsx("div",{className:"procurement-form-input-with-icon",children:t.jsx("input",{type:"number",className:"procurement-form-input",min:"1",value:E.estimatedDeliveryDays,onChange:Y=>k({...E,estimatedDeliveryDays:parseInt(Y.target.value)||7})})})]})]}),t.jsxs("div",{className:"procurement-form-group",children:[t.jsx("label",{children:"Delivery Notes"}),t.jsx("textarea",{className:"procurement-form-textarea",value:E.deliveryNotes,onChange:Y=>k({...E,deliveryNotes:Y.target.value}),placeholder:"Any special delivery instructions",rows:2})]}),t.jsxs("div",{className:"procurement-form-group",children:[t.jsx("label",{children:"Comments"}),t.jsx("textarea",{className:"procurement-form-textarea",value:E.comment,onChange:Y=>k({...E,comment:Y.target.value}),placeholder:"Additional comments about this item",rows:2})]})]}),t.jsxs("div",{className:"procurement-modal-footer",children:[t.jsx("button",{className:"procurement-button secondary",onClick:()=>j(!1),children:"Cancel"}),t.jsx("button",{className:"procurement-button start-working",onClick:W,disabled:!E.merchantId||E.quantity<1||E.unitPrice<=0,children:"Save Changes"})]})]})}),t.jsx(Xn,{type:A.type,text:A.message,isVisible:A.show,onClose:I,duration:3e3})]})},vle=({offers:e,setOffers:n,activeOffer:r,setActiveOffer:a,onApproveOffer:s,onDeclineOffer:o,managerRoles:l=["MANAGER","ADMIN","PROCUREMENT_MANAGER","PROCUREMENT"]})=>{var S,E,k,D;const[u,d]=le.useState(null),[h,f]=le.useState(!1),[p,y]=le.useState(""),[b,x]=le.useState("success"),j=(_,U="success")=>{y(_),x(U),f(!0)},w=()=>{f(!1)};le.useEffect(()=>{try{const _=localStorage.getItem("userInfo");if(_){const U=JSON.parse(_);d(U.role)}}catch(_){console.error("Error getting user role from localStorage:",_)}},[]);const T=_=>!_||!_.offerItems?0:_.offerItems.reduce((U,R)=>{const $=R.totalPrice?parseFloat(R.totalPrice):0;return U+$},0),A=_=>!r||!r.offerItems?[]:r.offerItems.filter(U=>{var R;return((R=U.requestOrderItem)==null?void 0:R.id)===_||U.requestOrderItemId===_}),O=async(_,U)=>{if(_.stopPropagation(),window.confirm(`Are you sure you want to approve this offer: ${U.title}?`))try{const R=await fetch(`http://localhost:8080/api/v1/offers/${U.id}/status?status=MANAGERACCEPTED`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(R.ok){const $=await fetch(`http://localhost:8080/api/v1/offers/${U.id}/finance-status?financeStatus=PENDING_FINANCE_REVIEW`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if($.ok){const L=e.filter(z=>z.id!==U.id);n(L),r&&r.id===U.id&&a(null),s&&s(U.id),j("Offer has been approved and sent to finance for review!","success")}else{const L=await $.json();j(`Error updating finance status: ${L.message||"Failed to update finance status"}`,"error")}}else{const $=await R.json();j(`Error: ${$.message||"Failed to approve offer"}`,"error")}}catch(R){console.error("Error approving offer:",R),j("Error: Could not connect to the server","error")}},P=async(_,U)=>{_.stopPropagation();const R=window.prompt("Please provide a reason for rejecting this offer:","");if(R!==null){if(R.trim()===""){j("Please provide a rejection reason.","error");return}if(window.confirm(`Are you sure you want to decline this offer: ${U.title}?`))try{const $=await fetch(`http://localhost:8080/api/v1/offers/${U.id}/status?status=MANAGERREJECTED&rejectionReason=${encodeURIComponent(R)}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if($.ok){const L=e.filter(z=>z.id!==U.id);n(L),r&&r.id===U.id&&a(null),o&&o(U.id),j("Offer has been declined successfully!","success")}else{const L=await $.json();j(`Error: ${L.message||"Failed to decline offer"}`,"error")}}catch($){console.error("Error declining offer:",$),j("Error: Could not connect to the server","error")}}};return t.jsxs("div",{className:"procurement-main-content",children:[t.jsxs("div",{className:"procurement-list-section",children:[t.jsx("div",{className:"procurement-list-header",children:t.jsx("h3",{children:"Submitted Offers"})}),e.length===0?t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(F2,{size:48,className:"empty-icon"}),t.jsx("p",{children:"No submitted offers yet. Complete an offer and submit it."})]}):t.jsx("div",{className:"procurement-items-list",children:e.map(_=>t.jsxs("div",{className:`procurement-item-card ${(r==null?void 0:r.id)===_.id?"selected":""}`,onClick:()=>a(_),children:[t.jsxs("div",{className:"procurement-item-header",children:[t.jsx("h4",{children:_.title}),t.jsx("span",{className:`procurement-status-badge status-${_.status.toLowerCase()}`,children:_.status})]}),t.jsx("div",{className:"procurement-item-footer",children:t.jsxs("span",{className:"procurement-item-date",children:[t.jsx(_n,{})," ",new Date(_.createdAt).toLocaleDateString()]})})]},_.id))})]}),t.jsx("div",{className:"procurement-details-section",children:r?t.jsxs("div",{className:"procurement-details-content",children:[t.jsxs("div",{className:"procurement-details-header",children:[t.jsx("div",{className:"procurement-header-content",children:t.jsxs("div",{className:"procurement-title-section",children:[t.jsx("h2",{className:"procurement-main-title",children:r.title}),t.jsxs("div",{className:"procurement-header-meta",children:[t.jsx("span",{className:`procurement-status-badge status-${r.status.toLowerCase()}`,children:r.status}),t.jsxs("span",{className:"procurement-meta-item",children:[t.jsx(_n,{})," Created: ",new Date(r.createdAt).toLocaleDateString()]})]})]})}),t.jsx("div",{className:"procurement-header-actions",children:r.status==="SUBMITTED"&&u&&l.includes(u)&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"procurement-button primary approve-button",onClick:_=>O(_,r),title:"Approve Offer",children:[t.jsx(Qd,{}),t.jsx("span",{children:"Approve"})]}),t.jsxs("button",{className:"procurement-button secondary decline-button",onClick:_=>P(_,r),title:"Decline Offer",children:[t.jsx(si,{}),t.jsx("span",{children:"Decline"})]})]})})]}),t.jsxs("div",{className:"procurement-request-order-info-card",children:[t.jsx("h4",{children:"Request Order Information"}),t.jsxs("div",{className:"procurement-request-order-details-grid",children:[t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Requester"}),t.jsx("span",{className:"request-order-detail-value",children:r.requestOrder.requesterName||"Unknown"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Request Date"}),t.jsx("span",{className:"request-order-detail-value",children:new Date(r.requestOrder.createdAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Deadline"}),t.jsx("span",{className:"request-order-detail-value",children:new Date(r.requestOrder.deadline).toLocaleDateString()})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Created By"}),t.jsx("span",{className:"request-order-detail-value",children:r.requestOrder.createdBy||"Unknown"})]})]}),r.requestOrder.priority&&t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vo,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Priority"}),t.jsx("span",{className:`request-order-detail-value request-priority ${r.requestOrder.priority.toLowerCase()}`,children:r.requestOrder.priority})]})]}),r.requestOrder.description&&t.jsxs("div",{className:"request-order-detail-item description-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(Qn,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Description"}),t.jsx("p",{className:"request-order-detail-value description-text",children:r.requestOrder.description})]})]})]})]}),r.requestOrder?t.jsxs("div",{className:"procurement-submitted-info",children:[t.jsxs("div",{className:"procurement-request-summary-card",children:[t.jsx("h4",{children:"Submitted Offer Details"}),t.jsx("p",{className:"procurement-section-description",children:"This offer has been submitted to the manager for review."}),t.jsxs("div",{className:"procurement-timeline",children:[t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(xn,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:"Offer Submitted"}),t.jsx("p",{className:"timeline-date",children:new Date(r.updatedAt||r.createdAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:`procurement-timeline-item ${r.status==="ACCEPTED"?"active":r.status==="REJECTED"?"rejected":""}`,children:[t.jsx("div",{className:"timeline-icon",children:r.status==="ACCEPTED"?t.jsx(xn,{size:18}):r.status==="REJECTED"?t.jsx(si,{size:18}):t.jsx(_n,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:r.status==="ACCEPTED"?"Offer Accepted":r.status==="REJECTED"?"Offer Rejected":"Awaiting Response From Manager"}),(r.status==="ACCEPTED"||r.status==="REJECTED")&&t.jsx("p",{className:"timeline-date",children:new Date(r.updatedAt).toLocaleDateString()}),r.status==="REJECTED"&&r.rejectionReason&&t.jsx("div",{className:"rejection-reason",children:t.jsxs("p",{children:[t.jsx("strong",{children:"Reason:"})," ",r.rejectionReason]})})]})]})]})]}),t.jsxs("div",{className:"procurement-submitted-details",children:[t.jsx("h4",{children:"Procurement Solutions"}),t.jsx("div",{className:"procurement-submitted-items",children:(E=(S=r.requestOrder)==null?void 0:S.requestItems)==null?void 0:E.map(_=>{var R;const U=A(_.id);return t.jsxs("div",{className:"procurement-submitted-item-card",children:[t.jsxs("div",{className:"submitted-item-header",children:[t.jsxs("div",{className:"item-icon-name",children:[t.jsx("div",{className:"item-icon-container",children:t.jsx(La,{size:20})}),t.jsx("h5",{children:((R=_.itemType)==null?void 0:R.name)||"Item"})]}),t.jsxs("div",{className:"submitted-item-quantity",children:[_.quantity," ",_.itemType.measuringUnit]})]}),U.length>0&&t.jsx("div",{className:"submitted-offer-solutions",children:t.jsxs("table",{className:"procurement-offer-entries-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Merchant"}),t.jsx("th",{children:"Quantity"}),t.jsx("th",{children:"Unit Price"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Est. Delivery"})]})}),t.jsx("tbody",{children:U.map(($,L)=>{var z;return t.jsxs("tr",{children:[t.jsx("td",{children:((z=$.merchant)==null?void 0:z.name)||"Unknown"}),t.jsxs("td",{children:[$.quantity," ",_.itemType.measuringUnit]}),t.jsxs("td",{children:["$",parseFloat($.unitPrice).toFixed(2)]}),t.jsxs("td",{children:["$",parseFloat($.totalPrice).toFixed(2)]}),t.jsxs("td",{children:[$.estimatedDeliveryDays," days"]})]},$.id||L)})})]})})]},_.id)})})]}),t.jsxs("div",{className:"procurement-submitted-summary",children:[t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Items:"}),t.jsx("span",{children:((D=(k=r.requestOrder)==null?void 0:k.requestItems)==null?void 0:D.length)||0})]}),t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Value:"}),t.jsxs("span",{className:"submitted-total-value",children:["$",T(r).toFixed(2)]})]})]})]}):t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading request order details..."})]})]}):t.jsx("div",{className:"procurement-empty-state-container",children:t.jsxs("div",{className:"procurement-empty-state",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#CBD5E1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"}),t.jsx("path",{d:"M18 14v4"}),t.jsx("path",{d:"M15 18h6"})]}),t.jsx("h3",{children:"No Submitted Offers Selected"}),e.length>0?t.jsx("p",{children:"Select an offer from the list to view details"}):t.jsx("p",{children:"Complete offers in progress to see them here"})]})})}),t.jsx(Xn,{type:b,text:p,isVisible:h,onClose:w,duration:3e3})]})},yle=({offers:e,activeOffer:n,setActiveOffer:r,getTotalPrice:a,onRetryOffer:s})=>{var j,w,T,A,O,P,S,E,k,D;const[o,l]=g.useState(""),[u,d]=g.useState(""),[h,f]=g.useState(!1),p="http://localhost:8080/api/v1",y=async(_,U={})=>{const $={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`,...U.headers||{}},L=await fetch(_,{...U,headers:$});if(!L.ok){const z=await L.json().catch(()=>({}));throw new Error(z.message||"An error occurred")}return L.json()},b=_=>!n||!n.offerItems?[]:n.offerItems.filter(U=>{var R;return((R=U.requestOrderItem)==null?void 0:R.id)===_||U.requestOrderItemId===_}),x=async _=>{try{f(!0),l(""),d("");const U=await y(`${p}/offers/${_.id}/retry`,{method:"POST"});U&&U.id&&(l("New offer created successfully."),s&&s(U))}catch(U){console.error("Error retrying offer:",U),U.message&&U.message.includes("A retry for this offer is already in progress. Please complete or delete the existing retry before creating a new one.")?(d("A retry for this offer is already in progress. Please complete the existing retry first."),setTimeout(()=>d(null),3e3)):(console.log("messsss:"+U.message),d("Failed to create new offer. Please try again."),setTimeout(()=>d(null),3e3))}finally{f(!1),setTimeout(()=>l(null),3e3)}};return t.jsxs("div",{className:"procurement-main-content",children:[o&&t.jsxs("div",{className:"procurement-notification procurement-notification-success",children:[t.jsx(xn,{})," ",o]}),u&&t.jsxs("div",{className:"procurement-notification procurement-notification-error",children:[t.jsx(si,{})," ",u]}),t.jsxs("div",{className:"procurement-list-section",children:[t.jsx("div",{className:"procurement-list-header",children:t.jsx("h3",{children:"Validated Offers"})}),e.length===0?t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(Qd,{size:48,className:"empty-icon"}),t.jsx("p",{children:"No validated offers yet. Offers will appear here once they are accepted or rejected."})]}):t.jsx("div",{className:"procurement-items-list",children:e.map(_=>t.jsxs("div",{className:`procurement-item-card ${(n==null?void 0:n.id)===_.id?"selected":""} ${_.status==="MANAGERACCEPTED"?"card-accepted":"card-rejected"}`,onClick:()=>r(_),children:[t.jsx("div",{className:"procurement-item-header",children:t.jsx("h4",{children:_.title})}),t.jsx("div",{className:"procurement-item-footer",children:t.jsxs("span",{className:"procurement-item-date",children:[t.jsx(_n,{})," ",new Date(_.createdAt).toLocaleDateString()]})})]},_.id))})]}),t.jsx("div",{className:"procurement-details-section",children:n?t.jsxs("div",{className:"procurement-details-content",children:[t.jsxs("div",{className:"procurement-details-header",children:[t.jsx("div",{className:"procurement-header-content",children:t.jsxs("div",{className:"procurement-title-section",children:[t.jsx("h2",{className:"procurement-main-title",children:n.title}),t.jsxs("div",{className:"procurement-header-meta",children:[t.jsx("span",{className:`procurement-status-badge status-${n.status.toLowerCase()}`,children:n.status.replace("MANAGER","MANAGER ")}),t.jsxs("span",{className:"procurement-meta-item",children:[t.jsx(_n,{})," Created: ",new Date(n.createdAt).toLocaleDateString()]})]})]})}),t.jsx("div",{className:"procurement-header-actions",children:n.status==="MANAGERREJECTED"&&t.jsx("button",{className:"procurement-button primary",onClick:()=>x(n),disabled:h,children:h?t.jsx("div",{className:"button-spinner"}):t.jsx(V3,{size:16})})})]}),t.jsxs("div",{className:"procurement-request-order-info-card",children:[t.jsx("h4",{children:"Request Order Information"}),t.jsxs("div",{className:"procurement-request-order-details-grid",children:[t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Requester"}),t.jsx("span",{className:"request-order-detail-value",children:((j=n.requestOrder)==null?void 0:j.requesterName)||"Unknown"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Request Date"}),t.jsx("span",{className:"request-order-detail-value",children:(w=n.requestOrder)!=null&&w.createdAt?new Date(n.requestOrder.createdAt).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Deadline"}),t.jsx("span",{className:"request-order-detail-value",children:(T=n.requestOrder)!=null&&T.deadline?new Date(n.requestOrder.deadline).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Created By"}),t.jsx("span",{className:"request-order-detail-value",children:((A=n.requestOrder)==null?void 0:A.createdBy)||"Unknown"})]})]}),((O=n.requestOrder)==null?void 0:O.priority)&&t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vo,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Priority"}),t.jsx("span",{className:`request-order-detail-value request-priority ${n.requestOrder.priority.toLowerCase()}`,children:n.requestOrder.priority})]})]}),((P=n.requestOrder)==null?void 0:P.description)&&t.jsxs("div",{className:"request-order-detail-item description-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(Qn,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Description"}),t.jsx("p",{className:"request-order-detail-value description-text",children:n.requestOrder.description})]})]})]})]}),n.requestOrder?t.jsxs("div",{className:"procurement-submitted-info",children:[t.jsxs("div",{className:"procurement-request-summary-card",children:[t.jsx("h4",{children:"Validated Offer Details"}),t.jsx("p",{className:"procurement-section-description",children:n.status==="MANAGERACCEPTED"?"This offer has been accepted and is now being processed by the finance.":"This offer has been rejected by the manager."}),t.jsxs("div",{className:"procurement-timeline",children:[t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(xn,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:"Offer Submitted"}),t.jsx("p",{className:"timeline-date",children:new Date(n.createdAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:`procurement-timeline-item ${n.status==="MANAGERACCEPTED"?"active":"rejected"}`,children:[t.jsx("div",{className:"timeline-icon",children:n.status==="MANAGERACCEPTED"?t.jsx(xn,{size:18}):t.jsx(si,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:n.status==="MANAGERACCEPTED"?"Offer Accepted":"Offer Rejected"}),t.jsx("p",{className:"timeline-date",children:new Date(n.updatedAt).toLocaleDateString()})]})]}),n.status==="MANAGERACCEPTED"&&t.jsxs("div",{className:"procurement-timeline-item",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(V3,{size:18})}),t.jsx("div",{className:"timeline-content",children:t.jsx("h5",{children:"Finance Processing"})})]})]}),n.status==="MANAGERREJECTED"&&t.jsxs("div",{className:"validated-rejection-reason",children:[t.jsx("h6",{children:"Rejection Reason:"}),t.jsx("p",{children:n.rejectionReason||"No rejection reason provided"})]})]}),t.jsxs("div",{className:"procurement-submitted-details",children:[t.jsx("h4",{children:"Procurement Solutions"}),t.jsx("div",{className:"procurement-submitted-items",children:(E=(S=n.requestOrder)==null?void 0:S.requestItems)==null?void 0:E.map(_=>{var R;const U=b(_.id);return t.jsxs("div",{className:"procurement-submitted-item-card",children:[t.jsxs("div",{className:"submitted-item-header",children:[t.jsxs("div",{className:"item-icon-name",children:[t.jsx("div",{className:"item-icon-container",children:t.jsx(La,{size:20})}),t.jsx("h5",{children:((R=_.itemType)==null?void 0:R.name)||"Item"})]}),t.jsxs("div",{className:"submitted-item-quantity",children:[_.quantity," ",_.itemType.measuringUnit]})]}),U.length>0&&t.jsx("div",{className:"submitted-offer-solutions",children:t.jsxs("table",{className:"procurement-offer-entries-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Merchant"}),t.jsx("th",{children:"Quantity"}),t.jsx("th",{children:"Unit Price"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Est. Delivery"})]})}),t.jsx("tbody",{children:U.map(($,L)=>{var z;return t.jsxs("tr",{children:[t.jsx("td",{children:((z=$.merchant)==null?void 0:z.name)||"Unknown"}),t.jsxs("td",{children:[$.quantity," ",_.itemType.measuringUnit]}),t.jsxs("td",{children:["$",parseFloat($.unitPrice).toFixed(2)]}),t.jsxs("td",{children:["$",parseFloat($.totalPrice).toFixed(2)]}),t.jsxs("td",{children:[$.estimatedDeliveryDays," days"]})]},$.id||L)})})]})})]},_.id)})})]}),t.jsxs("div",{className:"procurement-submitted-summary",children:[t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Items:"}),t.jsx("span",{children:((D=(k=n.requestOrder)==null?void 0:k.requestItems)==null?void 0:D.length)||0})]}),t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Value:"}),t.jsxs("span",{className:`submitted-total-value ${n.status==="MANAGERACCEPTED"?"text-success":"text-danger"}`,children:["$",a(n).toFixed(2)]})]})]})]}):t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading request order details..."})]})]}):t.jsx("div",{className:"procurement-empty-state-container",children:t.jsxs("div",{className:"procurement-empty-state",children:[t.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#CBD5E1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"}),t.jsx("path",{d:"M18 14v4"}),t.jsx("path",{d:"M15 18h6"})]}),t.jsx("h3",{children:"No Validated Offers Selected"}),e.length>0?t.jsx("p",{children:"Select an offer from the list to view details"}):t.jsx("p",{children:"Offers will appear here once they are accepted or rejected"})]})})})]})},gle=({offers:e,activeOffer:n,setActiveOffer:r,getTotalPrice:a,fetchWithAuth:s,API_URL:o,setError:l,setSuccess:u})=>{var w,T,A,O,P,S,E,k,D,_;const[d,h]=g.useState(!1),[f,p]=g.useState("");g.useEffect(()=>{const U=JSON.parse(localStorage.getItem("userInfo"));U&&U.role&&p(U.role)},[]);const y=async U=>{try{h(!0),await s(`${o}/offers/${U}/status?status=FINALIZING`,{method:"PUT"})}catch(R){console.error("Error updating offer status to FINALIZING:",R),l("Failed to update offer status. Please try again."),h(!1)}},b=U=>!n||!n.offerItems?[]:n.offerItems.filter(R=>{var $;return(($=R.requestOrderItem)==null?void 0:$.id)===U||R.requestOrderItemId===U}),x=U=>U?U.replace(/_/g," ").toLowerCase().split(" ").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "):"Not Reviewed",j=U=>U?U.replace(/_/g," ").toLowerCase().split(" ").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "):"Unknown Status";return t.jsxs("div",{className:"procurement-main-content",children:[t.jsxs("div",{className:"procurement-list-section",children:[t.jsx("div",{className:"procurement-list-header",children:t.jsx("h3",{children:"Finance Validated Offers"})}),d&&!e.length?t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading offers..."})]}):e.length===0?t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(tp,{size:48,className:"empty-icon"}),t.jsx("p",{children:"No finance validated offers yet. Offers will appear here after finance review."})]}):t.jsx("div",{className:"procurement-items-list",children:e.map(U=>t.jsxs("div",{className:`procurement-item-card ${(n==null?void 0:n.id)===U.id?"selected":""} 
                        ${U.status==="FINANCE_ACCEPTED"||U.status==="FINANCE_PARTIALLY_ACCEPTED"?"card-accepted":U.status==="FINANCE_REJECTED"?"card-rejected":"card-partial"}`,onClick:()=>r(U),children:[t.jsx("div",{className:"procurement-item-header",children:t.jsx("h4",{children:U.title})}),t.jsx("div",{className:"procurement-item-footer",children:t.jsxs("span",{className:"procurement-item-date",children:[t.jsx(_n,{})," ",new Date(U.updatedAt).toLocaleDateString()]})})]},U.id))})]}),t.jsx("div",{className:"procurement-details-section",children:n?t.jsxs("div",{className:"procurement-details-content",children:[t.jsxs("div",{className:"procurement-details-header",children:[t.jsx("div",{className:"procurement-header-content",children:t.jsxs("div",{className:"procurement-title-section",children:[t.jsx("h2",{className:"procurement-main-title",children:n.title}),t.jsxs("div",{className:"procurement-header-meta",children:[t.jsx("span",{className:`procurement-status-badge status-${n.status.toLowerCase()}`,children:j(n.status)}),t.jsxs("span",{className:"procurement-meta-item",children:[t.jsx(_n,{})," Updated: ",new Date(n.updatedAt).toLocaleDateString()]})]})]})}),t.jsx("div",{className:"procurement-header-actions",children:n&&(n.status==="FINANCE_ACCEPTED"||n.status==="FINANCE_PARTIALLY_ACCEPTED")&&t.jsxs("button",{className:"finalize-offer-button",onClick:()=>y(n.id),disabled:d,children:[t.jsx(xn,{})," ",d?"Processing...":"Finalize Offer"]})})]}),t.jsxs("div",{className:"procurement-request-order-info-card",children:[t.jsx("h4",{children:"Request Order Information"}),t.jsxs("div",{className:"procurement-request-order-details-grid",children:[t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Requester"}),t.jsx("span",{className:"request-order-detail-value",children:((w=n.requestOrder)==null?void 0:w.requesterName)||"Unknown"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Request Date"}),t.jsx("span",{className:"request-order-detail-value",children:(T=n.requestOrder)!=null&&T.createdAt?new Date(n.requestOrder.createdAt).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Deadline"}),t.jsx("span",{className:"request-order-detail-value",children:(A=n.requestOrder)!=null&&A.deadline?new Date(n.requestOrder.deadline).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Created By"}),t.jsx("span",{className:"request-order-detail-value",children:((O=n.requestOrder)==null?void 0:O.createdBy)||"Unknown"})]})]}),((P=n.requestOrder)==null?void 0:P.priority)&&t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vo,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Priority"}),t.jsx("span",{className:`request-order-detail-value request-priority ${n.requestOrder.priority.toLowerCase()}`,children:n.requestOrder.priority})]})]}),((S=n.requestOrder)==null?void 0:S.description)&&t.jsxs("div",{className:"request-order-detail-item description-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(Qn,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Description"}),t.jsx("p",{className:"request-order-detail-value description-text",children:n.requestOrder.description})]})]})]})]}),n&&(n.financeStatus==="FINANCE_ACCEPTED"||n.financeStatus==="FINANCE_PARTIALLY_ACCEPTED")&&t.jsxs("div",{className:"purchase-order-notification",children:[t.jsx("div",{className:"notification-icon",children:t.jsx(Qn,{size:20})}),t.jsxs("div",{className:"notification-content",children:[t.jsx("h4",{children:"Purchase Order Created"}),t.jsx("p",{children:"A purchase order has been generated for this offer. Visit the Purchase Orders section to view and manage it."})]}),t.jsx("button",{className:"view-purchase-order-button",onClick:()=>window.location.href="/procurement/purchase-orders",children:"View Purchase Orders"})]}),d?t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading details..."})]}):t.jsxs("div",{className:"procurement-submitted-info",children:[t.jsxs("div",{className:"finance-review-summary",children:[t.jsx("h4",{children:"Validated Offer Details"}),t.jsx("p",{className:"finance-review-description",children:n.status==="FINANCE_ACCEPTED"||n.status==="FINANCE_ACCEPTED"?"All items in this offer were accepted by finance. Please finalize the offer to create a purchase order.":n.status==="FINANCE_REJECTED"?"This offer was rejected by finance.":"Some items in this offer were accepted and some were rejected by finance."}),t.jsxs("div",{className:"procurement-timeline",children:[t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(xn,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:"Offer Submitted"}),t.jsx("p",{className:"timeline-date",children:new Date(n.updatedAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(Qd,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:"Offer Accepted"}),t.jsx("p",{className:"timeline-date",children:new Date(n.updatedAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(tp,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:"Finance Review Completed"}),t.jsx("p",{className:"timeline-date",children:new Date(n.updatedAt).toLocaleDateString()})]})]}),n.status==="FINANCE_ACCEPTED"&&t.jsxs("div",{className:"procurement-timeline-item",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(Qn,{size:18})}),t.jsx("div",{className:"timeline-content",children:t.jsx("h5",{children:"Waiting for Finalization"})})]})]})]}),t.jsxs("div",{className:"procurement-submitted-details",children:[t.jsx("h4",{children:"Item Review Details"}),t.jsx("div",{className:"procurement-submitted-items",children:(k=(E=n.requestOrder)==null?void 0:E.requestItems)==null?void 0:k.map(U=>{var $;const R=b(U.id);return t.jsxs("div",{className:"procurement-submitted-item-card",children:[t.jsxs("div",{className:"submitted-item-header",children:[t.jsxs("div",{className:"item-icon-name",children:[t.jsx("div",{className:"item-icon-container",children:t.jsx(La,{size:20})}),t.jsx("h5",{children:(($=U.itemType)==null?void 0:$.name)||"Item"})]}),t.jsxs("div",{className:"submitted-item-quantity",children:[U.quantity," ",U.itemType.measuringUnit]})]}),R.length>0&&t.jsx("div",{className:"submitted-offer-solutions",children:t.jsxs("table",{className:"procurement-offer-entries-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Merchant"}),t.jsx("th",{children:"Quantity"}),t.jsx("th",{children:"Unit Price"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Finance Status"})]})}),t.jsx("tbody",{children:R.map((L,z)=>{var W;return t.jsxs("tr",{className:L.financeStatus==="FINANCE_ACCEPTED"?"finance-accepted":L.financeStatus==="FINANCE_REJECTED"?"finance-rejected":"",children:[t.jsx("td",{children:((W=L.merchant)==null?void 0:W.name)||"Unknown"}),t.jsxs("td",{children:[L.quantity," ",U.itemType.measuringUnit]}),t.jsxs("td",{children:["$",parseFloat(L.unitPrice).toFixed(2)]}),t.jsxs("td",{children:["$",parseFloat(L.totalPrice).toFixed(2)]}),t.jsxs("td",{children:[t.jsx("span",{className:`finance-item-status status-${(L.financeStatus||"").toLowerCase()}`,children:x(L.financeStatus)}),L.financeStatus==="FINANCE_REJECTED"&&L.rejectionReason&&t.jsx("span",{className:"rejection-reason-icon",title:L.rejectionReason,children:t.jsx(si,{size:14})})]})]},L.id||z)})})]})})]},U.id)})})]}),t.jsxs("div",{className:"procurement-submitted-summary",children:[t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Items Accepted:"}),t.jsx("span",{children:((D=n.offerItems)==null?void 0:D.filter(U=>U.financeStatus==="FINANCE_ACCEPTED").length)||0})]}),t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Items Rejected:"}),t.jsx("span",{children:((_=n.offerItems)==null?void 0:_.filter(U=>U.financeStatus==="FINANCE_REJECTED").length)||0})]}),t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Approved Value:"}),t.jsxs("span",{className:"submitted-total-value text-success",children:["$",a(n).toFixed(2)]})]})]})]})]}):t.jsx("div",{className:"procurement-empty-state-container",children:t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(gN,{size:64,color:"#CBD5E1"}),t.jsx("h3",{children:"No Finance Validated Offer Selected"}),e.length>0?t.jsx("p",{children:"Select an offer from the list to view details"}):t.jsx("p",{children:"Finance validated offers will appear here after finance review"})]})})})]})},xle=({offers:e,activeOffer:n,setActiveOffer:r,getTotalPrice:a,fetchWithAuth:s,API_URL:o,setError:l,setSuccess:u,onOfferFinalized:d})=>{var W,M,F,G,J,I,q,B,H;const[h,f]=g.useState(!1),[p,y]=g.useState({}),[b,x]=g.useState(null),[j,w]=g.useState(!1),[T,A]=g.useState(""),[O,P]=g.useState("success"),S=(K,ie="success")=>{A(K),P(ie),w(!0)},E=()=>{w(!1)},k=K=>{typeof l=="function"?l(K):S(K,"error")},D=K=>{typeof u=="function"?u(K):S(K,"success")},_=K=>{y(ie=>({...ie,[K]:!ie[K]}))},U=async()=>{if(n){f(!0);try{const K=Object.entries(p).filter(([fe,X])=>X).map(([fe,X])=>fe);if(K.length===0){k("Please select at least one item to finalize"),f(!1);return}const ie=localStorage.getItem("token");console.log("Finalizing offer with ID:",n.id),console.log("Finalized item IDs:",K);const ae=await fetch(`${o}/purchaseOrders/offers/${n.id}/finalize`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`},body:JSON.stringify({finalizedItemIds:K})});if(!ae.ok){const fe=await ae.text();throw console.error("Server error response:",fe),new Error(`Server responded with ${ae.status}: ${fe}`)}const me=await ae.json();console.log("Response data:",me),me.purchaseOrder&&x(me.purchaseOrder);const de={...n,status:"FINALIZED"};r(de),typeof window<"u"&&window.refreshFinalizePage&&window.refreshFinalizePage(),D(me.message||"Offer finalized successfully! A purchase order has been created."),d&&d(n.id),setTimeout(()=>{r(null)},1500)}catch(K){console.error("Error finalizing offer:",K),k("Failed to finalize offer: "+(K.message||"Unknown error"))}finally{f(!1)}}},R=K=>K?K.replace(/_/g," ").toLowerCase().split(" ").map(ie=>ie.charAt(0).toUpperCase()+ie.slice(1)).join(" "):"Unknown Status",$=K=>!n||!n.offerItems?[]:n.offerItems.filter(ie=>{var ae;return(((ae=ie.requestOrderItem)==null?void 0:ae.id)===K||ie.requestOrderItemId===K)&&ie.financeStatus==="FINANCE_ACCEPTED"}),L=((W=n==null?void 0:n.offerItems)==null?void 0:W.filter(K=>K.financeStatus==="FINANCE_ACCEPTED").length)||0,z=Object.values(p).filter(K=>K).length;return t.jsxs("div",{className:"procurement-main-content",children:[t.jsx(Xn,{type:O,text:T,isVisible:j,onClose:E,duration:4e3}),t.jsxs("div",{className:"procurement-list-section",children:[t.jsx("div",{className:"procurement-list-header",children:t.jsx("h3",{children:"Finalize Offers"})}),h&&!e.length?t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading offers..."})]}):e.length===0?t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(gN,{size:48,className:"empty-icon"}),t.jsx("p",{children:"No offers to finalize yet. Offers accepted by finance will appear here."})]}):t.jsx("div",{className:"procurement-items-list",children:e.map(K=>t.jsxs("div",{className:`procurement-item-card ${(n==null?void 0:n.id)===K.id?"selected":""} 
                                           ${K.status==="FINANCE_ACCEPTED"||K.status==="FINANCE_PARTIALLY_ACCEPTED"?"card-accepted":K.status==="FINALIZING"?"card-partial":K.status==="FINALIZED"?"card-success":""}`,onClick:()=>{K.status!=="FINALIZED"&&(r(K),y({}),x(null))},children:[t.jsx("div",{className:"procurement-item-header",children:t.jsx("h4",{children:K.title})}),t.jsx("div",{className:"procurement-item-footer",children:t.jsxs("span",{className:"procurement-item-date",children:[t.jsx(_n,{})," ",new Date(K.updatedAt).toLocaleDateString()]})})]},K.id))})]}),t.jsx("div",{className:"procurement-details-section",children:n?t.jsxs("div",{className:"procurement-details-content",children:[t.jsxs("div",{className:"procurement-details-header",children:[t.jsx("div",{className:"procurement-header-content",children:t.jsxs("div",{className:"procurement-title-section",children:[t.jsx("h2",{className:"procurement-main-title",children:n.title}),t.jsxs("div",{className:"procurement-header-meta",children:[t.jsx("span",{className:`procurement-status-badge status-${n.status.toLowerCase()}`,children:R(n.status)}),t.jsxs("span",{className:"procurement-meta-item",children:[t.jsx(_n,{})," Updated: ",new Date(n.updatedAt).toLocaleDateString()]})]})]})}),t.jsx("div",{className:"procurement-header-actions",children:n.status!=="FINALIZED"&&!b&&t.jsx("button",{className:"finalize-all-offer-button",onClick:U,disabled:h||z===0||b!==null,children:h?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"button-spinner"})," Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(xn,{})," Confirm Finalization"]})})})]}),t.jsxs("div",{className:"procurement-request-order-info-card",children:[t.jsx("h4",{children:"Request Order Information"}),t.jsxs("div",{className:"procurement-request-order-details-grid",children:[t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Requester"}),t.jsx("span",{className:"request-order-detail-value",children:((M=n.requestOrder)==null?void 0:M.requesterName)||"Unknown"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Request Date"}),t.jsx("span",{className:"request-order-detail-value",children:(F=n.requestOrder)!=null&&F.createdAt?new Date(n.requestOrder.createdAt).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Deadline"}),t.jsx("span",{className:"request-order-detail-value",children:(G=n.requestOrder)!=null&&G.deadline?new Date(n.requestOrder.deadline).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Created By"}),t.jsx("span",{className:"request-order-detail-value",children:((J=n.requestOrder)==null?void 0:J.createdBy)||"Unknown"})]})]}),((I=n.requestOrder)==null?void 0:I.priority)&&t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vo,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Priority"}),t.jsx("span",{className:`request-order-detail-value request-priority ${n.requestOrder.priority.toLowerCase()}`,children:n.requestOrder.priority})]})]}),((q=n.requestOrder)==null?void 0:q.description)&&t.jsxs("div",{className:"request-order-detail-item description-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(Qn,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Description"}),t.jsx("p",{className:"request-order-detail-value description-text",children:n.requestOrder.description})]})]})]})]}),b&&t.jsxs("div",{className:"purchase-order-notification",children:[t.jsx("div",{className:"notification-icon",children:t.jsx(Qn,{size:20})}),t.jsxs("div",{className:"notification-content",children:[t.jsx("h4",{children:"Purchase Order Created"}),t.jsxs("p",{children:["A purchase order #",b.poNumber||b.id," has been generated for this offer."]})]}),t.jsx("button",{className:"view-purchase-order-button",onClick:()=>window.location.href="/procurement/purchase-orders",children:"View Purchase Orders"})]}),n.status==="FINALIZED"&&!b&&!h&&t.jsxs("div",{className:"purchase-order-notification",children:[t.jsx("div",{className:"notification-icon",children:t.jsx(Qn,{size:20})}),t.jsxs("div",{className:"notification-content",children:[t.jsx("h4",{children:"Offer Finalized"}),t.jsx("p",{children:"This offer has been finalized and a purchase order has been created."})]}),t.jsx("button",{className:"view-purchase-order-button",onClick:()=>window.location.href="/procurement/purchase-orders",children:"View Purchase Orders"})]}),h?t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading details..."})]}):t.jsxs("div",{className:"procurement-submitted-info",children:[t.jsxs("div",{className:"finance-review-summary",children:[t.jsx("h4",{children:"Finalize Offer Items"}),t.jsx("p",{className:"finance-review-description",children:"Please confirm each item that has been verified with the merchant. Check the box for each item once you've confirmed availability and delivery details. Only finance-accepted items are shown below."})]}),t.jsxs("div",{className:"procurement-submitted-details",children:[t.jsx("h4",{children:"Item Finalization"}),t.jsx("div",{className:"procurement-submitted-items",children:(H=(B=n.requestOrder)==null?void 0:B.requestItems)==null?void 0:H.map(K=>{var ae;const ie=$(K.id);return ie.length===0?null:t.jsxs("div",{className:"procurement-submitted-item-card",children:[t.jsxs("div",{className:"submitted-item-header",children:[t.jsxs("div",{className:"item-icon-name",children:[t.jsx("div",{className:"item-icon-container",children:t.jsx(La,{size:20})}),t.jsx("h5",{children:((ae=K.itemType)==null?void 0:ae.name)||"Item"})]}),t.jsxs("div",{className:"submitted-item-quantity",children:[K.quantity," ",K.itemType.measuringUnit]})]}),ie.length>0&&t.jsx("div",{className:"submitted-offer-solutions",children:t.jsxs("table",{className:"procurement-offer-entries-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Merchant"}),t.jsx("th",{children:"Quantity"}),t.jsx("th",{children:"Unit Price"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Finalize"})]})}),t.jsx("tbody",{children:ie.map((me,de)=>{var fe;return t.jsxs("tr",{className:p[me.id]?"item-finalized":"",children:[t.jsx("td",{children:((fe=me.merchant)==null?void 0:fe.name)||"Unknown"}),t.jsxs("td",{children:[me.quantity," ",K.itemType.measuringUnit]}),t.jsxs("td",{children:["$",parseFloat(me.unitPrice).toFixed(2)]}),t.jsxs("td",{children:["$",parseFloat(me.totalPrice).toFixed(2)]}),t.jsx("td",{children:t.jsxs("label",{className:"finalize-checkbox-container",children:[t.jsx("input",{type:"checkbox",checked:!!p[me.id],onChange:()=>_(me.id),disabled:n.status==="FINALIZED"||b!==null||h}),t.jsx("span",{className:"finalize-checkmark"})]})})]},me.id||de)})})]})})]},K.id)})})]}),t.jsxs("div",{className:"procurement-submitted-summary",children:[t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Finance-Accepted Items:"}),t.jsx("span",{children:L})]}),t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Items Finalized:"}),t.jsx("span",{children:z})]}),t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Value of Finance-Accepted Items:"}),t.jsxs("span",{className:"submitted-total-value text-success",children:["$",a(n).toFixed(2)]})]})]})]})]}):t.jsx("div",{className:"procurement-empty-state-container",children:t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(gN,{size:64,color:"#CBD5E1"}),t.jsx("h3",{children:"No Offer Selected"}),e.length>0?t.jsx("p",{children:"Select an offer from the list to begin finalization"}):t.jsx("p",{children:"Finance accepted offers will appear here for finalization"})]})})}),t.jsx(Xn,{type:O,text:T,isVisible:j,onClose:E,duration:4e3})]})},ble=({offers:e,activeOffer:n,setActiveOffer:r,getTotalPrice:a,fetchWithAuth:s,API_URL:o})=>{var b,x,j,w,T,A,O,P,S;const[l,u]=g.useState(!1),[d,h]=g.useState(null),f=E=>E?E.replace(/_/g," ").toLowerCase().split(" ").map(k=>k.charAt(0).toUpperCase()+k.slice(1)).join(" "):"Unknown Status",p=async E=>{if(E){u(!0);try{const k=await s(`${o}/purchaseOrders/offers/${E}/purchase-order`);h(k)}catch(k){console.error("Error fetching purchase order:",k)}finally{u(!1)}}},y=E=>!n||!n.offerItems?[]:n.offerItems.filter(k=>{var D;return(((D=k.requestOrderItem)==null?void 0:D.id)===E||k.requestOrderItemId===E)&&k.financeStatus==="FINANCE_ACCEPTED"});return le.useEffect(()=>{n&&n.status==="COMPLETED"?p(n.id):h(null)},[n]),t.jsxs("div",{className:"procurement-main-content",children:[t.jsxs("div",{className:"procurement-list-section",children:[t.jsx("div",{className:"procurement-list-header",children:t.jsx("h3",{children:"Completed Offers"})}),l&&!e.length?t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading offers..."})]}):e.length===0?t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(xn,{size:48,className:"empty-icon"}),t.jsx("p",{children:"No completed offers yet. Completed offers will appear here."})]}):t.jsx("div",{className:"procurement-items-list",children:e.map(E=>t.jsxs("div",{className:`procurement-item-card ${(n==null?void 0:n.id)===E.id?"selected":""} card-success`,onClick:()=>r(E),children:[t.jsx("div",{className:"procurement-item-header",children:t.jsx("h4",{children:E.title})}),t.jsx("div",{className:"procurement-item-footer",children:t.jsxs("span",{className:"procurement-item-date",children:[t.jsx(_n,{})," ",new Date(E.updatedAt).toLocaleDateString()]})})]},E.id))})]}),t.jsx("div",{className:"procurement-details-section",children:n?t.jsxs("div",{className:"procurement-details-content",children:[t.jsx("div",{className:"procurement-details-header",children:t.jsx("div",{className:"procurement-header-content",children:t.jsxs("div",{className:"procurement-title-section",children:[t.jsx("h2",{className:"procurement-main-title",children:n.title}),t.jsxs("div",{className:"procurement-header-meta",children:[t.jsx("span",{className:`procurement-status-badge status-${n.status.toLowerCase()}`,children:f(n.status)}),t.jsxs("span",{className:"procurement-meta-item",children:[t.jsx(_n,{})," Completed: ",new Date(n.updatedAt).toLocaleDateString()]})]})]})})}),d&&t.jsxs("div",{className:"purchase-order-notification",children:[t.jsx("div",{className:"notification-icon",children:t.jsx(Qn,{size:20})}),t.jsxs("div",{className:"notification-content",children:[t.jsx("h4",{children:"Purchase Order Created"}),t.jsxs("p",{children:["PO Number: ",t.jsxs("strong",{children:["#",d.poNumber]})]}),t.jsxs("p",{children:["Created: ",new Date(d.createdAt).toLocaleDateString()]})]}),t.jsx("button",{className:"view-purchase-order-details-button",onClick:()=>window.location.href=`/procurement/purchase-orders/${d.id}`,children:"View Details"})]}),t.jsxs("div",{className:"procurement-request-order-info-card",children:[t.jsx("h4",{children:"Request Order Information"}),t.jsxs("div",{className:"procurement-request-order-details-grid",children:[t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Requester"}),t.jsx("span",{className:"request-order-detail-value",children:((b=n.requestOrder)==null?void 0:b.requesterName)||"Unknown"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Request Date"}),t.jsx("span",{className:"request-order-detail-value",children:(x=n.requestOrder)!=null&&x.createdAt?new Date(n.requestOrder.createdAt).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(ir,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Deadline"}),t.jsx("span",{className:"request-order-detail-value",children:(j=n.requestOrder)!=null&&j.deadline?new Date(n.requestOrder.deadline).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vr,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Created By"}),t.jsx("span",{className:"request-order-detail-value",children:((w=n.requestOrder)==null?void 0:w.createdBy)||"Unknown"})]})]}),((T=n.requestOrder)==null?void 0:T.priority)&&t.jsxs("div",{className:"request-order-detail-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(vo,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Priority"}),t.jsx("span",{className:`request-order-detail-value request-priority ${n.requestOrder.priority.toLowerCase()}`,children:n.requestOrder.priority})]})]}),((A=n.requestOrder)==null?void 0:A.description)&&t.jsxs("div",{className:"request-order-detail-item description-item",children:[t.jsx("div",{className:"request-order-detail-icon",children:t.jsx(Qn,{size:18})}),t.jsxs("div",{className:"request-order-detail-content",children:[t.jsx("span",{className:"request-order-detail-label",children:"Description"}),t.jsx("p",{className:"request-order-detail-value description-text",children:n.requestOrder.description})]})]})]})]}),l?t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading details..."})]}):t.jsxs("div",{className:"procurement-submitted-info",children:[t.jsxs("div",{className:"finance-review-summary",children:[t.jsx("h4",{children:"Completed Offer Summary"}),t.jsx("p",{className:"finance-review-description",children:"This offer has been completed successfully. All items have been procured and a purchase order has been generated."}),t.jsxs("div",{className:"procurement-timeline",children:[t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(_n,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:"Offer Created"}),t.jsx("p",{className:"timeline-date",children:new Date(n.createdAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(xn,{size:18})}),t.jsx("div",{className:"timeline-content",children:t.jsx("h5",{children:"Offer Accepted & Finance Approved"})})]}),t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(Qn,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:"Offer finalized"}),d&&t.jsx("p",{className:"timeline-date",children:new Date(d.createdAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"procurement-timeline-item active",children:[t.jsx("div",{className:"timeline-icon",children:t.jsx(xn,{size:18})}),t.jsxs("div",{className:"timeline-content",children:[t.jsx("h5",{children:"Purchase Order Created"}),t.jsx("p",{className:"timeline-date",children:new Date(n.updatedAt).toLocaleDateString()})]})]})]})]}),t.jsxs("div",{className:"procurement-submitted-details",children:[t.jsx("h4",{children:"Procured Items"}),t.jsx("div",{className:"procurement-submitted-items",children:(P=(O=n.requestOrder)==null?void 0:O.requestItems)==null?void 0:P.map(E=>{var D;const k=y(E.id);return k.length===0?null:t.jsxs("div",{className:"procurement-submitted-item-card",children:[t.jsxs("div",{className:"submitted-item-header",children:[t.jsxs("div",{className:"item-icon-name",children:[t.jsx("div",{className:"item-icon-container",children:t.jsx(La,{size:20})}),t.jsx("h5",{children:((D=E.itemType)==null?void 0:D.name)||"Item"})]}),t.jsxs("div",{className:"submitted-item-quantity",children:[E.quantity," ",E.itemType.measuringUnit]})]}),k.length>0&&t.jsx("div",{className:"submitted-offer-solutions",children:t.jsxs("table",{className:"procurement-offer-entries-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Merchant"}),t.jsx("th",{children:"Quantity"}),t.jsx("th",{children:"Unit Price"}),t.jsx("th",{children:"Total"}),t.jsx("th",{children:"Status"})]})}),t.jsx("tbody",{children:k.map((_,U)=>{var R;return t.jsxs("tr",{className:"item-completed",children:[t.jsx("td",{children:((R=_.merchant)==null?void 0:R.name)||"Unknown"}),t.jsxs("td",{children:[_.quantity," ",E.itemType.measuringUnit]}),t.jsxs("td",{children:["$",parseFloat(_.unitPrice).toFixed(2)]}),t.jsxs("td",{children:["$",parseFloat(_.totalPrice).toFixed(2)]}),t.jsx("td",{children:t.jsxs("span",{className:"completed-item-status",children:[t.jsx(xn,{size:14})," Completed"]})})]},_.id||U)})})]})})]},E.id)})})]}),t.jsxs("div",{className:"procurement-submitted-summary",children:[t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Items Procured:"}),t.jsx("span",{children:((S=n.offerItems)==null?void 0:S.filter(E=>E.financeStatus==="FINANCE_ACCEPTED").length)||0})]}),t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Total Value:"}),t.jsxs("span",{className:"submitted-total-value text-success",children:["$",a(n).toFixed(2)]})]}),d&&t.jsxs("div",{className:"submitted-summary-row",children:[t.jsx("span",{children:"Purchase Order:"}),t.jsx("span",{className:"po-link",children:t.jsxs("a",{href:`/procurement/purchase-orders/${d.id}`,children:["#",d.poNumber]})})]})]})]})]}):t.jsx("div",{className:"procurement-empty-state-container",children:t.jsxs("div",{className:"procurement-empty-state",children:[t.jsx(xn,{size:64,color:"#10B981"}),t.jsx("h3",{children:"No Completed Offer Selected"}),e.length>0?t.jsx("p",{children:"Select an offer from the list to view completion details"}):t.jsx("p",{children:"Completed offers will appear here once procurement is finished"})]})})})]})},Gp="/assets/pro_icon-ByOWelmN.png",Wn="http://localhost:8080/api/v1",jle=()=>{const e=Tt(),[n,r]=g.useState(!0),[a,s]=g.useState([]),[o,l]=g.useState(""),[u,d]=g.useState("unstarted"),[h,f]=g.useState(null),[p,y]=g.useState(null),[b,x]=g.useState(null),[j,w]=g.useState(""),T=async(U,R={})=>{const $=localStorage.getItem("token");if(!$)throw new Error("Authentication token not found");const L={headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}},z={...L,...R,headers:{...L.headers,...R.headers}},W=await fetch(U,z);if(!W.ok){const M=await W.text();throw new Error(M||`Error: ${W.status}`)}return W.status===204||W.headers.get("content-length")==="0"?null:W.json()},A=async U=>{try{return await T(`${Wn}/offers/${U}/request-order`)}catch(R){return console.error(`Error fetching request order for offer ${U}:`,R),y("Failed to load request order details. Please try again."),null}};g.useEffect(()=>{const U=JSON.parse(localStorage.getItem("userInfo"));U&&U.role&&w(U.role),(async()=>{r(!0);try{let $;if(u==="unstarted")$=await T(`${Wn}/offers?status=UNSTARTED`);else if(u==="inprogress")$=await T(`${Wn}/offers?status=INPROGRESS`);else if(u==="submitted")$=await T(`${Wn}/offers?status=SUBMITTED`);else if(u==="validated"){const L=await T(`${Wn}/offers?status=MANAGERACCEPTED`),z=await T(`${Wn}/offers?status=MANAGERREJECTED`);$=[...L,...z]}else if(u==="finance"){const L=await T(`${Wn}/offers?status=FINANCE_ACCEPTED`),z=await T(`${Wn}/offers?status=FINANCE_PARTIALLY_ACCEPTED`),W=await T(`${Wn}/offers?status=FINANCE_REJECTED`);$=[...L,...z,...W]}else u==="finalize"?$=await T(`${Wn}/offers?status=FINALIZING`):u==="completed"?$=await T(`${Wn}/offers?status=COMPLETED`):$=[];s($),$.length>0?f($[0]):f(null),r(!1)}catch($){console.error("Error fetching data:",$),y("Failed to load data. Please try again."),r(!1)}})()},[u]),g.useEffect(()=>{(async()=>{if(h&&!h.requestOrder){r(!0);try{const R=await A(h.id);R&&f({...h,requestOrder:R}),r(!1)}catch(R){console.error("Error loading request order:",R),r(!1)}}})()},[h]);const O=async(U,R)=>{try{await T(`${Wn}/offers/${U}/status?status=${R}`,{method:"PUT"});const $=a.filter(L=>L.id!==U);s($),h&&h.id===U&&f($.length>0?$[0]:null),x(`Offer ${R.toLowerCase()} successfully!`),setTimeout(()=>x(null),3e3)}catch($){console.error("Error updating offer status:",$),y("Failed to update offer status. Please try again."),setTimeout(()=>y(null),3e3)}},P=U=>!U||!U.offerItems?0:U.offerItems.reduce((R,$)=>{const L=$.totalPrice?parseFloat($.totalPrice):0;return R+L},0);({unstarted:u==="unstarted"?a.length:0,inprogress:u==="inprogress"?a.length:0,submitted:u==="submitted"?a.length:0,completed:u==="completed"?a.length:0});const E=()=>{switch(u){case"unstarted":return"(New offers created when request order was accepted - need items added)";case"inprogress":return"(Offers that are being worked on but not yet submitted)";case"submitted":return"(Offers that have been sent to managers for review)";case"validated":return"(Offers that have been accepted or rejected by managers and are sent to the finance)";case"finance":return"(Offers that have been reviewed by finance)";case"finalize":return"(Offers that have been accepted by finance and are ready for final confirmation)";case"completed":return"(Offers that have been fully processed and completed)";default:return""}},k=a.filter(U=>{var R,$;return o?((R=U.title)==null?void 0:R.toLowerCase().includes(o.toLowerCase()))||(($=U.description)==null?void 0:$.toLowerCase().includes(o.toLowerCase())):!0}),D=U=>{d("inprogress"),f(U)},_=U=>{s(R=>R.filter($=>$.id!==U))};return t.jsxs("div",{className:"procurement-offers-container",children:[t.jsxs("div",{className:"procurement-intro-card",children:[t.jsx("div",{className:"procurement-intro-left",children:t.jsx("img",{src:Gp,alt:"Offers",className:"procurement-intro-image"})}),t.jsxs("div",{className:"procurement-intro-content",children:[t.jsxs("div",{className:"procurement-intro-header",children:[t.jsx("span",{className:"procurement-label",children:"PROCUREMENT CENTER"}),t.jsx("h2",{className:"procurement-intro-title",children:"Offers"})]}),t.jsxs("div",{className:"procurement-stats",children:[t.jsxs("div",{className:"procurement-stat-item",children:[t.jsx("span",{className:"procurement-stat-value",children:a.length}),t.jsx("span",{className:"procurement-stat-label",children:u==="unstarted"?"Unstarted Offers":u==="inprogress"?"In Progress Offers":u==="submitted"?"Submitted Offers":u==="validated"?"Validated Offers":u==="finance"?"Finance Validated Offers":u==="finalize"?"Finalize Offers":"Completed Offers"})]}),t.jsxs("div",{className:"procurement-stat-item",children:[t.jsxs("span",{className:"procurement-stat-value",children:["$",a.reduce((U,R)=>U+P(R),0).toFixed(2)]}),t.jsx("span",{className:"procurement-stat-label",children:"Total Value"})]})]})]}),t.jsx("div",{className:"procurement-intro-right",children:t.jsxs("button",{className:"procurement-back-button",onClick:()=>e("/procurement/request-orders"),children:[t.jsx(i8,{className:"icon-rotate-180"})," Back to Request Orders"]})})]}),t.jsxs("div",{className:"procurement-tabs",children:[t.jsxs("button",{className:`procurement-tab ${u==="unstarted"?"active":""}`,onClick:()=>d("unstarted"),children:[t.jsx(o8,{})," Unstarted"]}),t.jsxs("button",{className:`procurement-tab ${u==="inprogress"?"active":""}`,onClick:()=>d("inprogress"),children:[t.jsx(_d,{})," In Progress"]}),t.jsxs("button",{className:`procurement-tab ${u==="submitted"?"active":""}`,onClick:()=>d("submitted"),children:[t.jsx(F2,{})," Submitted"]}),t.jsxs("button",{className:`procurement-tab ${u==="validated"?"active":""}`,onClick:()=>d("validated"),children:[t.jsx(Qd,{})," Manager Validated"]}),t.jsxs("button",{className:`procurement-tab ${u==="finance"?"active":""}`,onClick:()=>d("finance"),children:[t.jsx(tp,{})," Finance Validated"]}),t.jsxs("button",{className:`procurement-tab ${u==="finalize"?"active":""}`,onClick:()=>d("finalize"),children:[t.jsx(xn,{})," Finalize"]}),t.jsxs("button",{className:`procurement-tab ${u==="completed"?"active":""}`,onClick:()=>d("completed"),children:[t.jsx(xn,{})," Completed"]})]}),t.jsxs("div",{className:"procurement-section-description",children:[E(),t.jsxs("div",{className:"procurement-search-container",children:[t.jsx("input",{type:"text",placeholder:"Search offers...",className:"procurement-search-input",value:o,onChange:U=>l(U.target.value)}),t.jsxs("svg",{className:"procurement-search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"M21 21l-4.35-4.35"})]})]})]}),n?t.jsxs("div",{className:"procurement-loading",children:[t.jsx("div",{className:"procurement-spinner"}),t.jsx("p",{children:"Loading offers data..."})]}):t.jsxs(t.Fragment,{children:[u==="unstarted"&&t.jsx(fle,{offers:k,activeOffer:h,setActiveOffer:f,handleOfferStatusChange:O}),u==="inprogress"&&t.jsx(ple,{offers:k,activeOffer:h,setActiveOffer:f,handleOfferStatusChange:O,fetchWithAuth:T,API_URL:Wn,setError:y,setSuccess:x}),u==="submitted"&&t.jsx(vle,{offers:k,setOffers:s,activeOffer:h,setActiveOffer:f,getTotalPrice:P}),u==="validated"&&t.jsx(yle,{offers:k,activeOffer:h,setActiveOffer:f,getTotalPrice:P,onRetryOffer:D}),u==="finance"&&t.jsx(gle,{offers:k,activeOffer:h,setActiveOffer:f,getTotalPrice:P,fetchWithAuth:T,API_URL:Wn}),u==="finalize"&&t.jsx(xle,{offers:k,activeOffer:h,setActiveOffer:f,getTotalPrice:P,fetchWithAuth:T,API_URL:Wn,setError:y,setSuccess:x,onOfferFinalized:_}),u==="completed"&&t.jsx(ble,{offers:k,activeOffer:h,setActiveOffer:f,getTotalPrice:P,fetchWithAuth:T,API_URL:Wn})]})]})},Nle=()=>{var w,T;const{id:e}=ya(),n=Tt(),[r,a]=g.useState(null),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState("overview");g.useEffect(()=>{f()},[e]);const f=async()=>{try{const A=localStorage.getItem("token"),O=await fetch(`http://localhost:8080/api/v1/requestOrders/${e}`,{method:"GET",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(!O.ok)throw new Error("Failed to load request order details");const P=await O.json();a(P)}catch(A){u("Failed to load request order details. "+A.message)}finally{o(!1)}},p=()=>{n(-1)},y=A=>{if(!A)return{color:"#6b7280",bg:"#f3f4f6",icon:""};switch(A.toLowerCase()){case"pending":return{color:"#d97706",bg:"#fef3c7",icon:"",label:"Pending Review"};case"approved":return{color:"#059669",bg:"#d1fae5",icon:"",label:"Approved"};case"rejected":return{color:"#dc2626",bg:"#fee2e2",icon:"",label:"Rejected"};case"completed":return{color:"#7c3aed",bg:"#ede9fe",icon:"",label:"Completed"};default:return{color:"#6b7280",bg:"#f3f4f6",icon:"",label:A}}},b=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",x=A=>{if(!A)return null;const O=Math.floor((new Date-new Date(A))/(1e3*60*60*24));return O===0?"Today":O===1?"1 day ago":`${O} days ago`};if(s)return t.jsx("div",{className:"request-details-container",children:t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("h3",{children:"Loading Request Details"}),t.jsx("p",{children:"Please wait while we fetch the request information..."})]})});if(l)return t.jsx("div",{className:"request-details-container",children:t.jsxs("div",{className:"error-state",children:[t.jsx("div",{className:"error-icon",children:""}),t.jsx("h3",{children:"Unable to Load Request"}),t.jsx("p",{children:l}),t.jsx("button",{className:"primary-button",onClick:p,children:"Return to Requests"})]})});if(!r)return t.jsx("div",{className:"request-details-container",children:t.jsxs("div",{className:"not-found-state",children:[t.jsx("div",{className:"not-found-icon",children:""}),t.jsx("h3",{children:"Request Not Found"}),t.jsx("p",{children:"The request order you're looking for doesn't exist or you don't have permission to view it."}),t.jsx("button",{className:"primary-button",onClick:p,children:"Return to Requests"})]})});const j=y(r.status);return t.jsxs("div",{className:"request-details-container",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("div",{className:"header-top",children:t.jsxs("button",{className:"back-button",onClick:p,children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back"]})}),t.jsxs("div",{className:"header-content",children:[t.jsxs("div",{className:"request-info",children:[t.jsxs("div",{className:"request-id",children:["Request #",((w=r.id)==null?void 0:w.slice(-8))||"N/A"]}),t.jsx("h1",{className:"request-title",children:r.title}),t.jsxs("div",{className:"request-meta",children:[t.jsxs("span",{className:"meta-item",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Created by ",r.createdBy]}),t.jsxs("span",{className:"meta-item",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12,6 12,12 16,14"})]}),x(r.createdAt)]})]})]}),t.jsx("div",{className:"status-section",children:t.jsxs("div",{className:"status-badge",style:{backgroundColor:j.bg,color:j.color},children:[t.jsx("span",{className:"status-icon",children:j.icon}),j.label]})})]})]}),t.jsxs("div",{className:"tab-navigation2",children:[t.jsxs("button",{className:`tab-button ${d==="overview"?"active":""}`,onClick:()=>h("overview"),children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M9 11H5a2 2 0 00-2 2v5a2 2 0 002 2h4a2 2 0 002-2v-5a2 2 0 00-2-2zM19 11h-4a2 2 0 00-2 2v5a2 2 0 002 2h4a2 2 0 002-2v-5a2 2 0 00-2-2zM9 3H5a2 2 0 00-2 2v4a2 2 0 002 2h4a2 2 0 002-2V5a2 2 0 00-2-2zM19 3h-4a2 2 0 00-2 2v4a2 2 0 002 2h4a2 2 0 002-2V5a2 2 0 00-2-2z"})}),"Overview"]}),t.jsxs("button",{className:`tab-button ${d==="items"?"active":""}`,onClick:()=>h("items"),children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"}),t.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),"Requested Items",r.requestItems&&t.jsx("span",{className:"item-count",children:r.requestItems.length})]}),r.purchaseOrder&&t.jsxs("button",{className:`tab-button ${d==="po"?"active":""}`,onClick:()=>h("po"),children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),t.jsx("polyline",{points:"14,2 14,8 20,8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t.jsx("polyline",{points:"10,9 9,9 8,9"})]}),"Purchase Order"]})]}),t.jsxs("div",{className:"tab-content",children:[d==="overview"&&t.jsxs("div",{className:"overview-content",children:[t.jsxs("div",{className:"details-grid",children:[t.jsxs("div",{className:"detail-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Request Information"}),t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"3"}),t.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]})]}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Requester"}),t.jsx("span",{className:"value",children:t.jsxs("div",{className:"requester-info",children:[t.jsx("div",{className:"avatar",children:((T=r.requesterName)==null?void 0:T.charAt(0))||"U"}),r.requesterName||"Unknown"]})})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Request Type"}),t.jsx("span",{className:"value type-badge",children:r.partyType||"Standard"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Created Date"}),t.jsx("span",{className:"value",children:b(r.createdAt)})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Last Updated"}),t.jsx("span",{className:"value",children:b(r.updatedAt)})]})]})]}),t.jsxs("div",{className:"detail-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Status & Timeline"}),t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12,6 12,12 16,14"})]})]}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Current Status"}),t.jsx("span",{className:"value",children:t.jsxs("div",{className:"status-indicator",style:{backgroundColor:j.bg,color:j.color},children:[j.icon," ",j.label]})})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Deadline"}),t.jsx("span",{className:"value",children:r.deadline?t.jsxs("span",{className:"deadline-info",children:[b(r.deadline),new Date(r.deadline)<new Date&&t.jsx("span",{className:"overdue-badge",children:"Overdue"})]}):"No deadline set"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Processing Time"}),t.jsx("span",{className:"value",children:r.createdAt&&r.updatedAt?`${Math.floor((new Date(r.updatedAt)-new Date(r.createdAt))/(1e3*60*60))} hours`:"In progress"})]})]})]})]}),r.description&&t.jsxs("div",{className:"description-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{children:"Description"}),t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),t.jsx("polyline",{points:"14,2 14,8 20,8"}),t.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})]}),t.jsx("div",{className:"card-content",children:t.jsx("p",{className:"description-text",children:r.description})})]})]}),d==="items"&&t.jsxs("div",{className:"items-content",children:[t.jsxs("div",{className:"items-header",children:[t.jsx("h2",{children:"Requested Items"}),t.jsx("div",{className:"items-summary",children:t.jsxs("span",{className:"total-items",children:[r.requestItems?r.requestItems.length:0," Items"]})})]}),r.requestItems&&r.requestItems.length>0?t.jsx("div",{className:"items-grid",children:r.requestItems.map((A,O)=>t.jsxs("div",{className:"item-card",children:[t.jsxs("div",{className:"item-header",children:[t.jsx("div",{className:"item-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"}),t.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]})}),t.jsxs("div",{className:"item-info",children:[t.jsx("h4",{className:"item-name",children:A.itemType.name}),t.jsxs("p",{className:"item-id",children:["ID: ",A.itemType.id]})]}),t.jsxs("div",{className:"quantity-badge",children:[t.jsx("span",{className:"quantity",children:A.quantity}),t.jsx("span",{className:"unit",children:A.itemType.measuringUnit})]})]}),A.comment&&t.jsxs("div",{className:"item-comment",children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),t.jsx("span",{children:A.comment})]}),t.jsx("div",{className:"item-details",children:t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Category"}),t.jsx("span",{className:"detail-value",children:A.itemType.category||"Standard"})]})})]},O))}):t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No Items Requested"}),t.jsx("p",{children:"This request doesn't contain any items."})]})]}),d==="po"&&r.purchaseOrder&&t.jsxs("div",{className:"po-content",children:[t.jsxs("div",{className:"po-header",children:[t.jsx("h2",{children:"Purchase Order Details"}),t.jsxs("button",{className:"view-po-button",onClick:()=>n(`/procurement/purchase-orders/${r.purchaseOrder.id}`),children:["View Complete PO",t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),t.jsxs("div",{className:"po-card",children:[t.jsxs("div",{className:"po-summary",children:[t.jsxs("div",{className:"po-number",children:[t.jsx("span",{className:"label",children:"Purchase Order"}),t.jsxs("span",{className:"number",children:["#",r.purchaseOrder.poNumber]})]}),t.jsx("div",{className:"po-status",children:t.jsx("span",{className:"status-badge",style:{backgroundColor:y(r.purchaseOrder.status).bg,color:y(r.purchaseOrder.status).color},children:r.purchaseOrder.status})}),t.jsxs("div",{className:"po-amount",children:[t.jsx("span",{className:"label",children:"Total Amount"}),t.jsxs("span",{className:"amount",children:["$",r.purchaseOrder.totalAmount||"N/A"]})]}),t.jsxs("div",{className:"po-date",children:[t.jsx("span",{className:"label",children:"Created"}),t.jsx("span",{className:"date",children:b(r.purchaseOrder.createdAt)})]})]}),t.jsxs("div",{className:"po-message",children:[t.jsx("div",{className:"message-icon",children:""}),t.jsxs("div",{className:"message-content",children:[t.jsx("h4",{children:"Request Approved & Processed"}),t.jsx("p",{children:"This request has been approved and converted into a purchase order. All items have been processed and are ready for procurement."})]})]})]})]})]})]})},wle=()=>{const[e,n]=g.useState([]),[r,a]=g.useState(!0),[s,o]=g.useState(null),l=Tt(),[u,d]=g.useState(!1),[h,f]=g.useState(null),[p,y]=g.useState([]),[b,x]=g.useState("add"),[j,w]=g.useState(null),[T,A]=g.useState(!1),[O,P]=g.useState(""),[S,E]=g.useState("success"),[k,D]=g.useState(""),[_,U]=g.useState({name:"",merchantType:"",contactEmail:"",contactPhone:"",contactSecondPhone:"",contactPersonName:"",address:"",siteId:"",preferredPaymentMethod:"",taxIdentificationNumber:"",reliabilityScore:"",averageDeliveryTime:"",lastOrderDate:"",notes:""});g.useEffect(()=>{const H=localStorage.getItem("token");a(!0),fetch("http://localhost:8080/api/v1/merchants",{headers:{Authorization:`Bearer ${H}`}}).then(K=>{if(!K.ok)throw new Error("Failed to fetch");return K.json()}).then(K=>{n(K),a(!1)}).catch(K=>{console.error("Error fetching merchants:",K),o(K.message),a(!1)}),fetch("http://localhost:8080/api/v1/site",{headers:{Authorization:`Bearer ${H}`}}).then(K=>{if(!K.ok)throw new Error("Failed to fetch sites");return K.json()}).then(K=>{y(K)}).catch(K=>{console.error("Error fetching sites:",K)})},[]),g.useEffect(()=>{const H=JSON.parse(localStorage.getItem("userInfo"));H&&H.role&&D(H.role)},[]);const R=H=>{console.log("Editing merchant:",H),U({name:H.name,merchantType:H.merchantType,contactEmail:H.contactEmail||"",contactPhone:H.contactPhone||"",contactSecondPhone:H.contactSecondPhone||"",contactPersonName:H.contactPersonName||"",address:H.address||"",siteId:H.site?H.site.id:"",preferredPaymentMethod:H.preferredPaymentMethod||"",taxIdentificationNumber:H.taxIdentificationNumber||"",reliabilityScore:H.reliabilityScore||"",averageDeliveryTime:H.averageDeliveryTime||"",lastOrderDate:H.lastOrderDate?new Date(H.lastOrderDate).toISOString().split("T")[0]:"",notes:H.notes||""}),x("edit"),w(H.id),d(!0)},$=H=>{console.log("Deleting merchant with id:",H.id),window.confirm(`Are you sure you want to delete ${H.name}?`)},L=()=>{d(!0)},z=()=>{d(!1),x("add"),w(null),U({name:"",merchantType:"",contactEmail:"",contactPhone:"",contactSecondPhone:"",contactPersonName:"",address:"",siteId:"",preferredPaymentMethod:"",taxIdentificationNumber:"",reliabilityScore:"",averageDeliveryTime:"",lastOrderDate:"",notes:""}),f(null)},W=H=>{const K=H.target.files[0];if(K){const ie=new FileReader;ie.onload=ae=>{f(ae.target.result)},ie.readAsDataURL(K)}},M=H=>{const{name:K,value:ie}=H.target;U({..._,[K]:ie})},F=H=>{H.preventDefault();const K=localStorage.getItem("token"),ie={name:_.name,merchantType:_.merchantType,contactEmail:_.contactEmail||"",contactPhone:_.contactPhone||"",contactSecondPhone:_.contactSecondPhone||"",contactPersonName:_.contactPersonName||"",address:_.address||"",preferredPaymentMethod:_.preferredPaymentMethod||"",taxIdentificationNumber:_.taxIdentificationNumber||"",reliabilityScore:_.reliabilityScore?parseFloat(_.reliabilityScore):null,averageDeliveryTime:_.averageDeliveryTime?parseFloat(_.averageDeliveryTime):null,lastOrderDate:_.lastOrderDate?new Date(_.lastOrderDate).getTime():null,notes:_.notes||""};_.siteId&&_.siteId.trim()!==""&&(ie.siteId=_.siteId),fetch("http://localhost:8080/api/v1/procurement",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify(ie)}).then(ae=>{if(!ae.ok)throw new Error("Failed to add merchant");return ae.json()}).then(ae=>{n([...e,ae]),z(),P("Merchant successfully added"),E("success"),A(!0)}).catch(ae=>{console.error("Error adding merchant:",ae),P("Failed to add merchant. Please try again."),E("error"),A(!0)})},G=H=>{H.preventDefault();const K=localStorage.getItem("token"),ie={name:_.name,merchantType:_.merchantType,contactEmail:_.contactEmail||"",contactPhone:_.contactPhone||"",contactSecondPhone:_.contactSecondPhone||"",contactPersonName:_.contactPersonName||"",address:_.address||"",preferredPaymentMethod:_.preferredPaymentMethod||"",taxIdentificationNumber:_.taxIdentificationNumber||"",reliabilityScore:_.reliabilityScore?parseFloat(_.reliabilityScore):null,averageDeliveryTime:_.averageDeliveryTime?parseFloat(_.averageDeliveryTime):null,lastOrderDate:_.lastOrderDate?new Date(_.lastOrderDate).getTime():null,notes:_.notes||""};_.siteId&&_.siteId.trim()!==""&&(ie.siteId=_.siteId),fetch(`http://localhost:8080/api/v1/procurement/${j}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify(ie)}).then(ae=>{if(!ae.ok)throw new Error("Failed to update merchant");return ae.json()}).then(ae=>{const me=e.map(de=>de.id===ae.id?ae:de);n(me),z(),P("Merchant successfully updated"),E("success"),A(!0)}).catch(ae=>{console.error("Error updating merchant:",ae),P("Failed to update merchant. Please try again."),E("error"),A(!0)})},J=[{id:"name",header:"MERCHANT",accessor:"name",sortable:!0,minWidth:"150px",flexWeight:2},{id:"type",header:"TYPE",accessor:"merchantType",sortable:!0,minWidth:"120px"},{id:"email",header:"EMAIL",accessor:"contactEmail",sortable:!0,minWidth:"180px",render:(H,K)=>K||"-"},{id:"phone",header:"PHONE",accessor:"contactPhone",sortable:!0,minWidth:"130px",render:(H,K)=>K||"-"},{id:"address",header:"ADDRESS",accessor:"address",sortable:!0,minWidth:"150px",flexWeight:2,render:(H,K)=>K||"-"},{id:"site",header:"SITE",accessor:"site.name",sortable:!0,minWidth:"120px",render:(H,K)=>K||"None"}],I=[{header:"Merchant",accessor:"name",filterType:"text"},{header:"Type",accessor:"merchantType",filterType:"select"},{header:"Site",accessor:"site.name",filterType:"select"}],q=[{label:"Edit",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]}),onClick:R,className:"edit"},{label:"Delete",icon:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}),t.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),onClick:$,className:"delete"}],B=H=>{l(`/merchants/${H.id}`)};return t.jsxs("div",{className:"procurement-merchants-container",children:[t.jsxs("div",{className:"procurement-intro-card",children:[t.jsx("div",{className:"procurement-intro-left",children:t.jsx("img",{src:Gp,alt:"Merchants",className:"procurement-intro-image"})}),t.jsxs("div",{className:"procurement-intro-content",children:[t.jsxs("div",{className:"procurement-intro-header",children:[t.jsx("span",{className:"procurement-label",children:"PROCUREMENT CENTER"}),t.jsx("h2",{className:"procurement-intro-title",children:"Merchants"})]}),t.jsx("div",{className:"procurement-stats",children:t.jsxs("div",{className:"procurement-stat-item",children:[t.jsx("span",{className:"procurement-stat-value",children:e.length}),t.jsx("span",{className:"procurement-stat-label",children:"Total Merchants"})]})})]}),t.jsx("div",{className:"procurement-intro-right",children:t.jsx("button",{className:"procurement-info-button",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})})})]}),t.jsx("div",{className:"procurement-requests-section-description",children:"(Vendors, suppliers, and business partners that provide products or services)"}),t.jsxs("div",{className:"procurement-merchants-table-container",children:[t.jsx(Nt,{data:e,columns:J,loading:r,onRowClick:B,showSearch:!0,showFilters:!0,filterableColumns:I,actions:q,itemsPerPageOptions:[10,20,50],defaultItemsPerPage:10,defaultSortField:"name",defaultSortDirection:"asc",emptyMessage:"No merchants found",className:"procurement-merchants-datatable"}),k==="PROCUREMENT"&&t.jsx("div",{className:"procurement-merchants-add-button-container",children:t.jsx("button",{className:"procurement-merchants-add-button",onClick:L,children:t.jsx("svg",{className:"plus-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})})})})]}),u&&t.jsx("div",{className:"merchant-modal-overlay",children:t.jsxs("div",{className:"merchant-modal-content",children:[t.jsxs("div",{className:"merchant-modal-header",children:[t.jsx("h2",{children:b==="add"?"Add New Merchant":"Edit Merchant"}),t.jsx("button",{className:"merchant-modal-close-button",onClick:z,children:""})]}),t.jsx("div",{className:"merchant-modal-body",children:t.jsx("div",{className:"merchant-form-container",children:t.jsxs("div",{className:"merchant-form-card",children:[t.jsxs("div",{className:"merchant-form-profile-section",children:[t.jsxs("label",{htmlFor:"merchantImageUpload",className:"merchant-form-image-label",children:[h?t.jsx("img",{src:h,alt:"Merchant",className:"merchant-form-image"}):t.jsx("div",{className:"merchant-form-image-placeholder"}),t.jsx("span",{className:"merchant-form-upload-text",children:"Upload Logo"})]}),t.jsx("input",{type:"file",id:"merchantImageUpload",name:"photo",accept:"image/*",onChange:W,style:{display:"none"}})]}),t.jsx("div",{className:"merchant-form-fields-section",children:t.jsxs("form",{onSubmit:b==="add"?F:G,children:[t.jsxs("div",{className:"merchant-form-grid",children:[t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Merchant Name"}),t.jsx("input",{type:"text",name:"name",value:_.name,onChange:M,required:!0,className:"merchant-form-input",placeholder:"Enter merchant name"})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Merchant Type *"}),t.jsxs("select",{name:"merchantType",value:_.merchantType,onChange:M,required:!0,className:"merchant-form-select",children:[t.jsx("option",{value:"",children:"Select a Type"}),t.jsx("option",{value:"SUPPLIER",children:"Supplier"})]})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Contact Person Name "}),t.jsx("input",{type:"text",name:"contactPersonName",value:_.contactPersonName,onChange:M,className:"merchant-form-input",placeholder:"Enter contact person name"})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Contact Email"}),t.jsx("input",{type:"email",name:"contactEmail",value:_.contactEmail,onChange:M,className:"merchant-form-input",placeholder:"Enter contact email"})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Primary Phone"}),t.jsx("input",{type:"tel",name:"contactPhone",value:_.contactPhone,onChange:M,className:"merchant-form-input",placeholder:"Enter primary phone"})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label",children:"Secondary Phone"}),t.jsx("input",{type:"tel",name:"contactSecondPhone",value:_.contactSecondPhone,onChange:M,className:"merchant-form-input",placeholder:"Enter secondary phone"})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Address"}),t.jsx("input",{type:"text",name:"address",value:_.address,onChange:M,className:"merchant-form-input",placeholder:"Enter address"})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Site"}),t.jsxs("select",{name:"siteId",value:_.siteId,onChange:M,className:"merchant-form-select",children:[t.jsx("option",{value:"",children:"Select a Site"}),p.map(H=>t.jsx("option",{value:H.id,children:H.name},H.id))]})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Preferred Payment Method"}),t.jsxs("select",{name:"preferredPaymentMethod",value:_.preferredPaymentMethod,onChange:M,className:"merchant-form-select",children:[t.jsx("option",{value:"",children:"Select Payment Method"}),t.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),t.jsx("option",{value:"CREDIT_CARD",children:"Credit Card"}),t.jsx("option",{value:"CASH",children:"Cash"}),t.jsx("option",{value:"CHECK",children:"Check"}),t.jsx("option",{value:"PAYPAL",children:"PayPal"}),t.jsx("option",{value:"OTHER",children:"Other"})]})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Tax Identification Number"}),t.jsx("input",{type:"text",name:"taxIdentificationNumber",value:_.taxIdentificationNumber,onChange:M,className:"merchant-form-input",placeholder:"Enter tax ID number"})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label required-field",children:"Reliability Score"}),t.jsx("input",{type:"number",name:"reliabilityScore",value:_.reliabilityScore,onChange:M,className:"merchant-form-input",placeholder:"Enter score (0-5)",min:"0",max:"5",step:"0.1"})]}),t.jsxs("div",{className:"merchant-form-group",children:[t.jsx("label",{className:"merchant-form-label",children:"Average Delivery Time (days)"}),t.jsx("input",{type:"number",name:"averageDeliveryTime",value:_.averageDeliveryTime,onChange:M,className:"merchant-form-input",placeholder:"Enter avg. delivery time",min:"0",step:"0.1"})]}),t.jsxs("div",{className:"merchant-form-group merchant-description-group",children:[t.jsx("label",{className:"merchant-form-label",children:"Notes"}),t.jsx("textarea",{name:"notes",value:_.notes,onChange:M,className:"merchant-form-textarea",placeholder:"Enter notes about this merchant",rows:"3"})]})]}),t.jsxs("div",{className:"merchant-form-button-group",children:[t.jsx("button",{type:"submit",className:"merchant-form-add-button",children:b==="add"?"Add Merchant":"Update Merchant"}),t.jsx("button",{type:"button",className:"merchant-form-cancel-button",onClick:z,children:"Cancel"})]})]})})]})})})]})}),t.jsx(Ss,{type:S,message:O,show:T,onClose:()=>A(!1),duration:3e3})]})},j8=({columns:e=[],data:n=[],onRowClick:r,isLoading:a=!1,emptyMessage:s="No data available",actionConfig:o=null,className:l="",itemsPerPage:u=10,enablePagination:d=!0,enableSorting:h=!0,enableFiltering:f=!0,initialSort:p=null,initialFilters:y={}})=>{const[b,x]=g.useState(!1),[j,w]=g.useState(1),[T,A]=g.useState(p),[O,P]=g.useState(y),[S,E]=g.useState(!1),k=g.useRef(null),D=g.useRef(null),_=o?[...e,{id:"actions",label:o.label||"ACTIONS",width:o.width||"120px",minWidth:o.minWidth||"120px",sortable:!1,filterable:!1}]:e,U=(Z,V)=>V.split(".").reduce((Y,ee)=>Y==null?void 0:Y[ee],Z),R=(Z,V)=>{let Y=U(Z,V.id);if((Y==null||Y===void 0)&&V.render){const ee=V.render(Z);if(typeof ee=="string")return ee;if(ee&&typeof ee=="object"&&ee.props){if(typeof ee.props.children=="string")return ee.props.children;if(Array.isArray(ee.props.children)){const re=ee.props.children.filter(te=>typeof te=="string").join(" ");if(re)return re}}const ce=[`${V.id}.name`,`itemType.${V.id}`,"itemType.name","itemType.itemCategory.name","itemType.measuringUnit"];for(const re of ce){const te=U(Z,re);if(te!=null&&te!==void 0)return te}}return Y},$=g.useCallback(Z=>{const V=e.find(ee=>ee.id===Z),Y=n.map(ee=>R(ee,V)).filter(ee=>ee!=null);return[...new Set(Y)].sort()},[n,e]),L=g.useMemo(()=>!f||Object.keys(O).length===0?n:n.filter(Z=>Object.entries(O).every(([V,Y])=>{if(!Y||Y==="")return!0;const ee=e.find(he=>he.id===V);if(!ee)return!0;let ce=R(Z,ee);if(ce==null||ce===void 0)return!1;const re=String(ce),te=String(Y);if((ee==null?void 0:ee.filterType)==="select")return re===te;if((ee==null?void 0:ee.filterType)==="number"){const he=parseFloat(re),se=parseFloat(te);return!isNaN(he)&&!isNaN(se)&&he===se}else return re.toLowerCase().includes(te.toLowerCase())})),[n,O,e,f]),z=g.useMemo(()=>{if(!h||!T)return L;const{column:Z,direction:V}=T,Y=e.find(ee=>ee.id===Z);return[...L].sort((ee,ce)=>{let re=R(ee,Y),te=R(ce,Y);return Y!=null&&Y.sortFunction?V==="asc"?Y.sortFunction(ee,ce):Y.sortFunction(ce,ee):re==null&&te==null?0:re==null?V==="asc"?1:-1:te==null||((Y==null?void 0:Y.sortType)==="number"?(re=parseFloat(re)||0,te=parseFloat(te)||0):(Y==null?void 0:Y.sortType)==="date"?(re=new Date(re).getTime(),te=new Date(te).getTime()):(re=re.toString().toLowerCase(),te=te.toString().toLowerCase()),re<te)?V==="asc"?-1:1:re>te?V==="asc"?1:-1:0})},[L,T,e,h]),W=z.length,M=d?Math.ceil(W/u):1,F=d?(j-1)*u:0,G=d?F+u:W,J=d?z.slice(F,G):z;g.useEffect(()=>{w(1)},[O,n]);const I=Z=>{if(!h)return;const V=e.find(Y=>Y.id===Z);V&&V.sortable===!1||A(Y=>(Y==null?void 0:Y.column)===Z?Y.direction==="asc"?{column:Z,direction:"desc"}:null:{column:Z,direction:"asc"})},q=(Z,V)=>{P(Y=>({...Y,[Z]:V}))},B=()=>{P({})},H=Z=>{P(V=>{const Y={...V};return delete Y[Z],Y})},K=g.useCallback(()=>_.reduce((Z,V)=>{const Y=V.width||V.minWidth||"150px",ee=parseInt(Y.replace("px",""))||150;return Z+ee},0),[_]),ie=g.useCallback(()=>{if(D.current){const Z=D.current.clientWidth,Y=K()>Z;x(Y)}},[K,_.length]);g.useEffect(()=>{const Z=setTimeout(()=>{ie()},10),V=()=>{setTimeout(ie,10)};return window.addEventListener("resize",V),()=>{clearTimeout(Z),window.removeEventListener("resize",V)}},[ie,n,e,o]);const ae=Z=>{Z>=1&&Z<=M&&w(Z)},me=()=>{j>1&&w(j-1)},de=()=>{j<M&&w(j+1)},fe=()=>{const Z=[];if(M<=5)for(let Y=1;Y<=M;Y++)Z.push(Y);else if(j<=3){for(let Y=1;Y<=Math.min(5,M);Y++)Z.push(Y);M>5&&(Z.push("..."),Z.push(M))}else if(j>=M-2){Z.push(1),M>5&&Z.push("...");for(let Y=Math.max(M-4,2);Y<=M;Y++)Z.push(Y)}else{Z.push(1),Z.push("...");for(let Y=j-1;Y<=j+1;Y++)Z.push(Y);Z.push("..."),Z.push(M)}return Z},X=Object.values(O).filter(Z=>Z&&Z!=="").length;return t.jsxs("div",{className:`custom-table-container ${l}`,children:[f&&t.jsxs("div",{className:"table-controls",children:[t.jsxs("div",{className:"table-controls-left",children:[t.jsxs("button",{className:`filter-toggle-button ${S?"active":""}`,onClick:()=>E(!S),children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})}),"Filters",X>0&&t.jsx("span",{className:"filter-count-badge",children:X})]}),X>0&&t.jsx("button",{className:"clear-filters-button",onClick:B,children:"Clear All Filters"})]}),t.jsx("div",{className:"table-controls-right",children:t.jsxs("span",{className:"results-count",children:[W," ",W===1?"result":"results",W!==n.length&&` (filtered from ${n.length})`]})})]}),f&&S&&t.jsx("div",{className:"table-filters",children:e.filter(Z=>Z.filterable!==!1).map(Z=>t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{className:"filter-label",children:Z.label}),Z.filterType==="select"?t.jsxs("select",{className:"filter-select",value:O[Z.id]||"",onChange:V=>q(Z.id,V.target.value),children:[t.jsx("option",{value:"",children:"All"}),$(Z.id).map(V=>t.jsx("option",{value:V,children:V},V))]}):t.jsxs("div",{className:"filter-input-group",children:[t.jsx("input",{type:Z.filterType==="number"?"number":"text",className:"filter-input",placeholder:`Filter ${Z.label.toLowerCase()}...`,value:O[Z.id]||"",onChange:V=>q(Z.id,V.target.value)}),O[Z.id]&&t.jsx("button",{className:"clear-filter-button",onClick:()=>H(Z.id),title:"Clear filter",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]},`filter-${Z.id}`))}),t.jsx("div",{ref:D,className:`custom-table-wrapper ${b?"scrollable":"full-width"}`,children:t.jsxs("table",{ref:k,className:"custom-table",style:b?{minWidth:`${K()}px`}:{},children:[t.jsx("thead",{className:"custom-table-header",children:t.jsx("tr",{children:_.map((Z,V)=>t.jsx("th",{className:`custom-table-header-cell ${h&&Z.sortable!==!1?"sortable":""} ${(T==null?void 0:T.column)===Z.id?`sorted-${T.direction}`:""}`,style:b?{width:Z.width||"150px",minWidth:Z.width||"150px",maxWidth:Z.width||"150px",textAlign:Z.align||"left",whiteSpace:"nowrap"}:{textAlign:Z.align||"left",minWidth:Z.minWidth||"auto"},"data-flex-weight":Z.flexWeight||1,onClick:()=>I(Z.id),children:t.jsxs("div",{className:"header-content",children:[t.jsx("span",{children:Z.label}),h&&Z.sortable!==!1&&t.jsxs("div",{className:"sort-icons",children:[t.jsx("svg",{className:"sort-icon sort-asc",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"18,15 12,9 6,15"})}),t.jsx("svg",{className:"sort-icon sort-desc",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6,9 12,15 18,9"})})]})]})},Z.id))})}),t.jsx("tbody",{children:a?t.jsx("tr",{children:t.jsx("td",{colSpan:_.length,className:"custom-table-loading-cell",children:t.jsxs("div",{className:"custom-table-loading",children:[t.jsx("div",{className:"custom-table-loading-spinner"}),t.jsx("p",{children:"Loading data..."})]})})}):J.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:_.length,className:"custom-table-empty-cell",children:t.jsxs("div",{className:"custom-table-empty",children:[t.jsx("p",{children:X>0?"No results match your filters":s}),X>0&&t.jsx("button",{className:"clear-filters-button",onClick:B,children:"Clear Filters"})]})})}):J.map((Z,V)=>t.jsxs("tr",{className:"custom-table-row",onClick:()=>r&&r(Z),style:{cursor:r?"pointer":"default"},children:[e.map(Y=>t.jsx("td",{className:`custom-table-cell ${Y.className||""}`,style:b?{width:Y.width||"150px",minWidth:Y.width||"150px",maxWidth:Y.width||"150px",textAlign:Y.align||"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}:{textAlign:Y.align||"left",minWidth:Y.minWidth||"auto"},"data-flex-weight":Y.flexWeight||1,children:Y.render?Y.render(Z):Z[Y.id]},`${V}-${Y.id}`)),o&&t.jsx("td",{className:"custom-table-cell custom-table-actions-cell",style:b?{width:o.width||"120px",minWidth:o.width||"120px",maxWidth:o.width||"120px",textAlign:"left",whiteSpace:"nowrap"}:{textAlign:"left",minWidth:o.minWidth||"auto"},onClick:Y=>Y.stopPropagation(),"data-flex-weight":o.flexWeight||1,children:o.renderActions(Z)})]},Z.id||V))})]})}),d&&W>u&&t.jsxs("div",{className:"custom-table-pagination",children:[t.jsxs("div",{className:"pagination-info",children:["Showing ",F+1," to ",Math.min(G,W)," of ",W," entries"]}),t.jsxs("div",{className:"pagination-controls",children:[t.jsxs("button",{className:"pagination-button pagination-prev",onClick:me,disabled:j===1,children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"15,18 9,12 15,6"})}),"Previous"]}),t.jsx("div",{className:"pagination-pages",children:fe().map((Z,V)=>Z==="..."?t.jsx("span",{className:"pagination-ellipsis",children:"..."},`ellipsis-${V}`):t.jsx("button",{className:`pagination-page ${j===Z?"active":""}`,onClick:()=>ae(Z),children:Z},Z))}),t.jsxs("button",{className:"pagination-button pagination-next",onClick:de,disabled:j===M,children:["Next",t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"9,18 15,12 9,6"})})]})]})]})]})},Sle=({onEditRequest:e,onDataChange:n,requestOrders:r,loading:a})=>{const s=Tt(),[o,l]=g.useState([]),[u,d]=g.useState(""),[h,f]=g.useState(!1),[p,y]=g.useState(""),[b,x]=g.useState("success");g.useEffect(()=>{const P=u.toLowerCase(),S=r.filter(E=>E.status==="PENDING");l(S.filter(E=>{var k,D;return((k=E.title)==null?void 0:k.toLowerCase().includes(P))||((D=E.requesterName)==null?void 0:D.toLowerCase().includes(P))}))},[u,r]);const j=P=>{s(`/procurement/request-orders/${P.id}`)},w=async(P,S)=>{if(S.stopPropagation(),window.confirm("Are you sure you want to approve this request and create an offer?"))try{const E=localStorage.getItem("token");if(!(await fetch(`http://localhost:8080/api/v1/requestOrders/${P.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({status:"APPROVED"})})).ok)throw new Error("Failed to update request order status");const D={requestOrderId:P.id,title:`Procurement Offer for: ${P.title}`,description:`This procurement offer responds to the request "${P.title}".
            Original request description: ${P.description}`,status:"UNSTARTED",validUntil:new Date(new Date().getTime()+30*24*60*60*1e3).toISOString(),offerItems:[]};if(!(await fetch("http://localhost:8080/api/v1/offers",{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify(D)})).ok){y("Failed to accept request order"),f(!0),x("error");return}y("Request Order accepted successfully, Visit Offers to start on the offer."),f(!0),x("success"),n&&n()}catch(E){console.error("Error approving request order:",E),y(`Error: ${E.message}`),f(!0),x("error")}},T=(P,S)=>{S.stopPropagation(),e&&e(P)},A=[{id:"title",label:"TITLE",width:"250px"},{id:"requesterName",label:"REQUESTER",width:"250px"},{id:"deadline",label:"DEADLINE",width:"250px",render:P=>t.jsx("span",{className:"date-cell",children:new Date(P.deadline).toLocaleDateString()})},{id:"createdBy",label:"CREATED BY",width:"250px"},{id:"createdAt",label:"CREATED AT",width:"250px",render:P=>t.jsx("span",{className:"date-cell",children:new Date(P.createdAt).toLocaleDateString()})}],O={label:"ACTIONS",width:"200px",renderActions:P=>t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"custom-table-action-button approve",onClick:S=>w(P,S),title:"Approve request",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M20 6L9 17l-5-5"})})}),t.jsx("button",{className:"custom-table-action-button edit",onClick:S=>T(P,S),title:"Edit request",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),t.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]})};return t.jsxs("div",{className:"incoming-requests-container",children:[t.jsx(j8,{columns:A,data:o,onRowClick:j,isLoading:a,emptyMessage:"No incoming requests found",actionConfig:O,className:"incoming-requests-table"}),t.jsx(Xn,{type:b,text:p,isVisible:h,onClose:()=>f(!1),duration:3e3})]})},Ele=({onDataChange:e})=>{const n=Tt(),[r,a]=g.useState(!0),[s,o]=g.useState(null),[l,u]=g.useState([]),[d,h]=g.useState([]),[f,p]=g.useState(""),[y,b]=g.useState(!1),[x,j]=g.useState(""),[w,T]=g.useState("success");g.useEffect(()=>{A()},[]),g.useEffect(()=>{const S=f.toLowerCase();h(l.filter(E=>{var k,D,_,U;return(((k=E.title)==null?void 0:k.toLowerCase().includes(S))||((D=E.requesterName)==null?void 0:D.toLowerCase().includes(S))||((_=E.createdBy)==null?void 0:_.toLowerCase().includes(S))||((U=E.approvedBy)==null?void 0:U.toLowerCase().includes(S)))&&E.status==="APPROVED"}))},[f,l]);const A=async()=>{try{a(!0);const S=localStorage.getItem("token"),E=await fetch("http://localhost:8080/api/v1/requestOrders",{method:"GET",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}});if(!E.ok)throw new Error("Failed to load request orders");const k=await E.json();u(k),h(k.filter(D=>D.status==="APPROVED")),o(null),e&&e()}catch(S){o("Failed to load request orders."),console.error(S)}finally{a(!1)}},O=S=>{n(`/procurement/request-orders/${S.id}`)},P=[{id:"title",label:"TITLE",width:"200px"},{id:"requesterName",label:"REQUESTER",width:"250px"},{id:"deadline",label:"DEADLINE",width:"200px",render:S=>t.jsx("span",{className:"date-cell",children:S.deadline?new Date(S.deadline).toLocaleDateString():"-"})},{id:"createdBy",label:"CREATED BY",width:"200px",render:S=>S.createdBy||"-"},{id:"createdAt",label:"CREATED AT",width:"200px",render:S=>t.jsx("span",{className:"date-cell",children:new Date(S.createdAt).toLocaleDateString()})},{id:"updatedAt",label:"APPROVED AT",width:"200px",render:S=>t.jsx("span",{className:"date-cell",children:new Date(S.approvedAt).toLocaleDateString()})},{id:"updatedBy",label:"APPROVED BY",width:"200px",render:S=>S.approvedBy||"-"}];return t.jsxs("div",{className:"approved-requests-container",children:[t.jsx(j8,{columns:P,data:d,onRowClick:O,isLoading:r,emptyMessage:"No approved requests found",className:"approved-requests-table"}),t.jsx(Xn,{type:w,text:x,isVisible:y,onClose:()=>b(!1),duration:3e3})]})},Tle=({onEdit:e,onDelete:n})=>{const[r,a]=g.useState([]),[s,o]=g.useState(!0),[l,u]=g.useState(null);Tt();const[d,h]=g.useState(!1),[f,p]=g.useState(!1),[y,b]=g.useState(""),[x,j]=g.useState("success"),[w,T]=g.useState("incoming"),[A,O]=g.useState({title:"",description:"",siteId:"",requesterId:"",requesterName:"",items:[{itemTypeId:"",quantity:"",comment:""}],status:"PENDING",deadline:"",employeeRequestedBy:""}),[P,S]=g.useState([]),[E,k]=g.useState([]),[D,_]=g.useState([]),[U,R]=g.useState([]),[$,L]=g.useState(!1),[z,W]=g.useState(null);g.useEffect(()=>{M(),F(),G()},[]);const M=async()=>{try{o(!0);const X=localStorage.getItem("token"),Z=await fetch("http://localhost:8080/api/v1/requestOrders",{method:"GET",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"}});if(!Z.ok)throw new Error("Failed to load request orders");const V=await Z.json();a(V),u(null)}catch(X){u("Failed to load request orders."),console.error(X)}finally{o(!1)}},F=async()=>{try{const X=localStorage.getItem("token"),Z=await fetch("http://localhost:8080/api/v1/site",{method:"GET",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"}});if(!Z.ok)throw new Error("Failed to load sites");const V=await Z.json();k(V)}catch(X){console.error("Error fetching sites:",X)}},G=async()=>{try{const X=localStorage.getItem("token"),Z=await fetch("http://localhost:8080/api/v1/itemTypes",{method:"GET",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"}});if(!Z.ok)throw new Error("Failed to load item types");const V=await Z.json();_(V)}catch(X){console.error("Error fetching item types:",X)}},J=async X=>{const Z=X.target.value;if(O(V=>({...V,siteId:Z,requesterId:"",requesterName:""})),Z)try{const V=localStorage.getItem("token"),Y=await fetch(`http://localhost:8080/api/v1/warehouses/site/${Z}`,{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(!Y.ok)throw new Error("Failed to load warehouses");const ee=await Y.json();R(ee)}catch(V){console.error("Error fetching warehouses:",V),R([])}else R([])},I=X=>{const Z=X.target.value,V=U.find(ee=>ee.id===Z),Y=V?V.name:"";O(ee=>({...ee,requesterId:Z,requesterName:Y}))},q=X=>{const{name:Z,value:V}=X.target;O(Y=>({...Y,[Z]:V}))},B=(X,Z,V)=>{O(Y=>{const ee=[...Y.items];return ee[X]={...ee[X],[Z]:V},{...Y,items:ee}})},H=()=>{O(X=>({...X,items:[...X.items,{itemTypeId:"",quantity:"",comment:""}]}))},K=X=>{A.items.length<=1||O(Z=>{const V=[...Z.items];return V.splice(X,1),{...Z,items:V}})},ie=async X=>{X.preventDefault();let Z="system";const V=localStorage.getItem("userInfo");if(V)try{const ee=JSON.parse(V);ee.username&&(Z=ee.username)}catch(ee){console.error("Error parsing user info:",ee)}const Y={title:A.title,description:A.description,createdBy:Z,status:"PENDING",partyType:"WAREHOUSE",requesterId:A.requesterId,employeeRequestedBy:A.employeeRequestedBy,deadline:A.deadline,items:A.items.map(ee=>({itemTypeId:ee.itemTypeId,quantity:ee.quantity,comment:ee.comment||""}))};try{const ee=localStorage.getItem("token");if(!(await fetch("http://localhost:8080/api/v1/requestOrders",{method:"POST",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify(Y)})).ok){b("Failed to create request order"),p(!0),j("error");return}de(),M(),b("Request Order created successfully"),p(!0),j("success"),O({title:"",description:"",siteId:"",requesterId:"",requesterName:"",items:[{itemTypeId:"",quantity:"",comment:""}],status:"PENDING"})}catch(ee){console.error("Error creating request order:",ee),b(`Error: ${ee.message}`),p(!0),j("error")}},ae=async X=>{X.preventDefault();let Z="system";const V=localStorage.getItem("userInfo");if(V)try{const ee=JSON.parse(V);ee.username&&(Z=ee.username)}catch(ee){console.error("Error parsing user info:",ee)}const Y={title:A.title,description:A.description,updatedBy:Z,status:A.status,partyType:"WAREHOUSE",requesterId:A.requesterId,employeeRequestedBy:A.employeeRequestedBy,deadline:A.deadline,items:A.items.map(ee=>({id:ee.id,itemTypeId:ee.itemTypeId,quantity:ee.quantity,comment:ee.comment||""}))};try{const ee=localStorage.getItem("token");if(!(await fetch(`http://localhost:8080/api/v1/requestOrders/${z}`,{method:"PUT",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify(Y)})).ok)throw new Error("Failed to update request order");de(),M(),b("Request Order updated successfully"),p(!0),j("success")}catch(ee){console.error("Error updating request order:",ee),b(`Error: ${ee.message}`),p(!0),j("error")}},me=()=>{h(!0)},de=()=>{h(!1),L(!1),W(null),O({title:"",description:"",siteId:"",requesterId:"",requesterName:"",items:[{itemTypeId:"",quantity:"",comment:""}],status:"PENDING"}),R([])},fe=async X=>{L(!0),W(X.id);const Z=X.deadline?new Date(X.deadline).toISOString().slice(0,16):"";let V=[{itemTypeId:"",quantity:"",comment:""}];if(X.items&&Array.isArray(X.items)&&X.items.length>0?V=X.items.map(Y=>({id:Y.id,itemTypeId:Y.itemTypeId,quantity:Y.quantity,comment:Y.comment||""})):X.requestItems&&Array.isArray(X.requestItems)&&X.requestItems.length>0&&(V=X.requestItems.map(Y=>{var ee;return{id:Y.id,itemTypeId:Y.itemTypeId||((ee=Y.itemType)==null?void 0:ee.id),quantity:Y.quantity,comment:Y.comment||""}})),O({title:X.title||"",description:X.description||"",siteId:X.siteId||"",requesterId:X.requesterId||"",requesterName:X.requesterName||"",status:X.status||"PENDING",deadline:Z,employeeRequestedBy:X.employeeRequestedBy||"",items:V}),X.siteId)try{const Y=localStorage.getItem("token"),ee=await fetch(`http://localhost:8080/api/v1/warehouses/site/${X.siteId}`,{method:"GET",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(ee.ok){const ce=await ee.json();R(ce)}}catch(Y){console.error("Error fetching warehouses:",Y)}h(!0)};return t.jsxs("div",{className:"procurement-requests-container",children:[t.jsxs("div",{className:"procurement-intro-card",children:[t.jsx("div",{className:"procurement-intro-left",children:t.jsx("img",{src:Gp,alt:"Procurement",className:"procurement-intro-image"})}),t.jsxs("div",{className:"procurement-intro-content",children:[t.jsxs("div",{className:"procurement-intro-header",children:[t.jsx("span",{className:"procurement-label",children:"PROCUREMENT CENTER"}),t.jsx("h2",{className:"procurement-intro-title",children:"Request Orders"})]}),t.jsxs("div",{className:"procurement-stats",children:[t.jsxs("div",{className:"procurement-stat-item",children:[t.jsx("span",{className:"procurement-stat-value",children:r.filter(X=>X.status==="PENDING").length}),t.jsx("span",{className:"procurement-stat-label",children:"Pending Requests"})]}),t.jsxs("div",{className:"procurement-stat-item",children:[t.jsx("span",{className:"procurement-stat-value",children:r.filter(X=>X.status==="APPROVED").length}),t.jsx("span",{className:"procurement-stat-label",children:"Approved Requests"})]})]})]}),t.jsx("div",{className:"procurement-intro-right",children:t.jsx("button",{className:"procurement-info-button",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),"c",t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})})})]}),t.jsxs("div",{className:"procurement-tabs",children:[t.jsx("button",{className:`procurement-tab ${w==="incoming"?"active":""}`,onClick:()=>T("incoming"),children:"Incoming Requests"}),t.jsx("button",{className:`procurement-tab ${w==="approved"?"active":""}`,onClick:()=>T("approved"),children:"Approved Requests"})]}),w==="incoming"?t.jsx(Sle,{onEditRequest:fe,onDataChange:M,requestOrders:r,loading:s}):t.jsx(Ele,{onDataChange:M,requestOrders:r,loading:s}),t.jsx("div",{className:"procurement-requests-add-button-container",children:t.jsx("button",{className:"procurement-requests-add-button",onClick:me,children:t.jsx("svg",{className:"plus-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})})})}),d&&t.jsx("div",{className:"ro-modal-backdrop",children:t.jsxs("div",{className:"ro-modal",children:[t.jsxs("div",{className:"ro-modal-header",children:[t.jsx("h2",{children:$?"Update Request Order":"Create New Request"}),t.jsx("button",{className:"ro-close-modal",onClick:de,children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsx("div",{className:"ro-modal-content",children:t.jsxs("form",{className:"ro-form",onSubmit:$?ae:ie,children:[t.jsxs("div",{className:"ro-form-section",children:[t.jsxs("div",{className:"ro-form-field ro-full-width",children:[t.jsx("label",{htmlFor:"title",children:"Title"}),t.jsx("input",{type:"text",id:"title",name:"title",value:A.title||"",onChange:q,required:!0,placeholder:"Enter request title"})]}),t.jsxs("div",{className:"ro-form-field",children:[t.jsx("label",{htmlFor:"employeeRequestedBy",children:"Requested By (Employee)"}),t.jsxs("select",{id:"employeeRequestedBy",name:"employeeRequestedBy",value:A.employeeRequestedBy||"",onChange:q,children:[t.jsx("option",{value:"",children:"Select Employee"}),P.map(X=>t.jsx("option",{value:X.id,children:X.name},X.id))]})]}),t.jsxs("div",{className:"ro-form-field",children:[t.jsx("label",{htmlFor:"deadline",children:"Deadline"}),t.jsx("input",{type:"datetime-local",id:"deadline",name:"deadline",value:A.deadline||"",onChange:q,required:!0})]}),t.jsxs("div",{className:"ro-form-field ro-full-width",children:[t.jsx("label",{htmlFor:"description",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",value:A.description||"",onChange:q,placeholder:"Enter request description",rows:4,required:!0})]})]}),t.jsxs("div",{className:"ro-form-section",children:[t.jsxs("div",{className:"ro-section-header",children:[t.jsx("h3",{children:"Request Items"}),t.jsxs("button",{type:"button",className:"ro-add-item-button",onClick:H,children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Another Item"]})]}),A.items.map((X,Z)=>{var V;return t.jsxs("div",{className:"ro-item-card",children:[t.jsxs("div",{className:"ro-item-header",children:[t.jsxs("span",{children:["Item ",Z+1]}),A.items.length>1&&t.jsxs("button",{type:"button",className:"ro-remove-button",onClick:()=>K(Z),children:[t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Remove"]})]}),t.jsxs("div",{className:"ro-item-fields",children:[t.jsxs("div",{className:"ro-form-field",children:[t.jsx("label",{children:"Item Type"}),t.jsxs("select",{value:X.itemTypeId||"",onChange:Y=>B(Z,"itemTypeId",Y.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Item Type"}),D.filter(Y=>Y.id===X.itemTypeId||!A.items.some(ee=>ee!==X&&ee.itemTypeId===Y.id)).map(Y=>t.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),t.jsxs("div",{className:"ro-form-field",children:[t.jsx("label",{children:"Quantity"}),t.jsxs("div",{className:"ro-quantity-unit-container",children:[t.jsx("input",{type:"number",value:X.quantity||"",onChange:Y=>B(Z,"quantity",Y.target.value),min:"0.01",step:"0.01",required:!0,className:"ro-quantity-input"}),X.itemTypeId&&t.jsx("span",{className:"ro-unit-label",children:((V=D.find(Y=>Y.id===X.itemTypeId))==null?void 0:V.measuringUnit)||""})]})]})]}),t.jsxs("div",{className:"ro-form-field ro-full-width",children:[t.jsx("label",{children:"Comment (Optional)"}),t.jsx("input",{type:"text",value:X.comment||"",onChange:Y=>B(Z,"comment",Y.target.value),placeholder:"Add any additional details about this item"})]})]},Z)})]}),t.jsxs("div",{className:"ro-form-section",children:[t.jsx("div",{className:"ro-section-header",children:t.jsx("h3",{children:"Requester Information"})}),t.jsxs("div",{className:"ro-form-field",children:[t.jsx("label",{htmlFor:"site",children:"Site"}),t.jsxs("select",{id:"site",name:"siteId",value:A.siteId||"",onChange:J,required:!0,children:[t.jsx("option",{value:"",children:"Select Site"}),E.map(X=>t.jsx("option",{value:X.id,children:X.name},X.id))]})]}),A.siteId&&t.jsxs("div",{className:"ro-form-field",children:[t.jsx("label",{htmlFor:"requesterId",children:"Select Warehouse"}),t.jsxs("select",{id:"requesterId",name:"requesterId",value:A.requesterId||"",onChange:I,required:!0,children:[t.jsx("option",{value:"",children:"Select Warehouse"}),U.map(X=>t.jsx("option",{value:X.id,children:X.name},X.id))]})]}),A.requesterId&&t.jsxs("div",{className:"ro-form-field ro-selected-requester",children:[t.jsx("span",{className:"ro-requester-label",children:"Selected Warehouse:"}),t.jsx("span",{className:"ro-requester-value",children:A.requesterName})]})]}),t.jsxs("div",{className:"ro-modal-footer",children:[t.jsx("button",{type:"button",className:"ro-cancel-button",onClick:de,children:"Cancel"}),t.jsx("button",{type:"submit",className:"ro-submit-button",disabled:!A.requesterId||!A.title||A.items.length===0,children:$?"Update Request":"Submit Request"})]})]})})]})}),t.jsx(Xn,{type:x,text:y,isVisible:f,onClose:()=>p(!1),duration:3e3})]})},Ale=()=>{const[e,n]=g.useState([]),[r,a]=g.useState(!0),[s,o]=g.useState(null),[l,u]=g.useState("pending"),[d,h]=g.useState(""),f=Tt(),p="http://localhost:8080/api/v1";g.useEffect(()=>{b()},[l]);const y=async(S,E={})=>{const D={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}},_=await fetch(S,{...D,...E});if(!_.ok)throw new Error(`HTTP error! Status: ${_.status}`);return _.json()},b=async()=>{try{a(!0);const S=`${p}/purchaseOrders`,E=await y(S);let k;l==="pending"?k=E.filter(D=>D.status!=="COMPLETED"):k=E.filter(D=>D.status==="COMPLETED"),n(k)}catch(S){console.error("Error fetching purchase orders:",S),o("Failed to load purchase orders. Please try again later.")}finally{a(!1)}},x=S=>S.totalAmount||0,j=()=>l==="pending"?"Pending Purchase Orders":"Completed Purchase Orders",w=()=>l==="pending"?"(Purchase orders with items not yet received)":"(Purchase orders with all items received)",T=S=>S?new Date(S).toLocaleDateString("en-GB"):"-",A=S=>{f(`/procurement/purchase-orders/${S}`)},O=e.filter(S=>{var U,R,$,L,z;const E=((U=S.poNumber)==null?void 0:U.toLowerCase())||"",k=(($=(R=S.requestOrder)==null?void 0:R.requesterName)==null?void 0:$.toLowerCase())||"",D=((z=(L=S.requestOrder)==null?void 0:L.title)==null?void 0:z.toLowerCase())||"",_=d.toLowerCase();return E.includes(_)||k.includes(_)||D.includes(_)}),P=O.length===0?"300px":"auto";return t.jsxs("div",{className:"purchase-orders-container",children:[t.jsxs("div",{className:"procurement-intro-card",children:[t.jsx("div",{className:"procurement-intro-left",children:t.jsx("img",{src:Gp,alt:"Purchase Orders",className:"procurement-intro-image"})}),t.jsxs("div",{className:"procurement-intro-content",children:[t.jsxs("div",{className:"procurement-intro-header",children:[t.jsx("span",{className:"procurement-label",children:"PROCUREMENT CENTER"}),t.jsx("h2",{className:"procurement-intro-title",children:"Purchase Orders"})]}),t.jsxs("div",{className:"procurement-stats",children:[t.jsxs("div",{className:"procurement-stat-item",children:[t.jsx("span",{className:"procurement-stat-value",children:e.length}),t.jsx("span",{className:"procurement-stat-label",children:j()})]}),t.jsxs("div",{className:"procurement-stat-item",children:[t.jsxs("span",{className:"procurement-stat-value",children:["$",e.reduce((S,E)=>S+x(E),0).toFixed(2)]}),t.jsx("span",{className:"procurement-stat-label",children:"Total Value"})]})]})]}),t.jsx("div",{className:"procurement-intro-right",children:t.jsxs("button",{className:"procurement-back-button",onClick:()=>f("/procurement/offers"),children:[t.jsx(i8,{className:"icon-rotate-180"})," Back to Offers"]})})]}),t.jsxs("div",{className:"tabs",children:[t.jsx("button",{className:`tab ${l==="pending"?"active":""}`,onClick:()=>u("pending"),children:"Pending Orders"}),t.jsx("button",{className:`tab ${l==="completed"?"active":""}`,onClick:()=>u("completed"),children:"Completed Orders"})]}),t.jsxs("div",{className:"purchase-orders-section-description",children:[t.jsx("div",{className:"purchase-orders-left-section",children:t.jsx("p",{children:w()})}),t.jsx("div",{className:"purchase-orders-right-section",children:t.jsxs("div",{style:{position:"relative"},children:[t.jsx(kie,{className:"purchase-orders-search-icon"}),t.jsx("input",{type:"text",placeholder:"Search purchase orders...",className:"purchase-orders-search-input",value:d,onChange:S=>h(S.target.value)})]})})]}),t.jsx("div",{className:"purchase-orders-table-card",style:{minHeight:P,position:"relative"},children:r?t.jsxs("div",{className:"purchase-orders-loading-container",children:[t.jsx("div",{className:"purchase-orders-loading-spinner"}),t.jsx("p",{children:"Loading purchase orders..."})]}):s?t.jsx("div",{className:"purchase-orders-error-container",children:t.jsx("p",{children:s})}):t.jsxs("div",{className:"purchase-orders-table-body",children:[t.jsxs("div",{className:"purchase-orders-header-row",children:[t.jsx("div",{className:"purchase-orders-header-cell",children:"PO NUMBER"}),t.jsx("div",{className:"purchase-orders-header-cell",children:"REQUESTER"}),t.jsx("div",{className:"purchase-orders-header-cell",children:"DEADLINE"}),t.jsx("div",{className:"purchase-orders-header-cell",children:"EXPECTED DELIVERY"}),t.jsx("div",{className:"purchase-orders-header-cell",children:"CREATED AT"})]}),O.length>0?O.map(S=>{var E,k;return t.jsxs("div",{className:"purchase-orders-table-row clickable-row",onClick:()=>A(S.id),children:[t.jsx("div",{className:"purchase-orders-table-cell",children:S.poNumber||"-"}),t.jsx("div",{className:"purchase-orders-table-cell",children:((E=S.requestOrder)==null?void 0:E.requesterName)||"-"}),t.jsx("div",{className:"purchase-orders-table-cell",children:T((k=S.requestOrder)==null?void 0:k.deadline)||"-"}),t.jsx("div",{className:"purchase-orders-table-cell",children:T(S.expectedDeliveryDate)}),t.jsx("div",{className:"purchase-orders-table-cell",children:T(S.createdAt)})]},S.id)}):t.jsxs("div",{className:"purchase-orders-empty-state",children:[t.jsx("div",{className:"purchase-orders-empty-icon",children:t.jsx(xn,{})}),t.jsx("h3",{children:"No purchase orders found"}),t.jsx("p",{children:l==="pending"?"No pending purchase orders. All items have been received.":"No completed purchase orders found."})]})]})})]})};var Cle={};const kle=()=>{var w,T,A,O,P,S,E,k;const{id:e}=ya(),n=Tt(),[r,a]=g.useState(null),[s,o]=g.useState(!0),[l,u]=g.useState(null),[d,h]=g.useState(!1),f=Cle.REACT_APP_API_URL||"http://localhost:8080/api/v1";g.useEffect(()=>{y()},[e]);const p=async(D,_={})=>{const R={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}},$=await fetch(D,{...R,..._});if(!$.ok)throw new Error(`HTTP error! Status: ${$.status}`);return $.json()},y=async()=>{try{o(!0);const D=await p(`${f}/purchaseOrders/purchase-orders/${e}`);a(D)}catch(D){console.error("Error fetching purchase order details:",D),u("Failed to load purchase order details. Please try again later.")}finally{o(!1)}},b=D=>D?new Date(D).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",x=(D,_="USD")=>D?new Intl.NumberFormat("en-US",{style:"currency",currency:_}).format(D):"$0.00",j=D=>{switch(D==null?void 0:D.toLowerCase()){case"completed":case"approved":case"accepted":return t.jsx(xn,{});case"cancelled":case"rejected":return t.jsx(bj,{});case"pending":case"created":return t.jsx(yN,{});default:return t.jsx(_n,{})}};return s?t.jsx("div",{className:"po-detail-loading",children:t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("h3",{children:"Loading Purchase Order"}),t.jsx("p",{children:"Please wait while we fetch the details..."})]})}):l?t.jsx("div",{className:"po-detail-error",children:t.jsxs("div",{className:"error-container",children:[t.jsx(bj,{className:"error-icon"}),t.jsx("h3",{children:"Something went wrong"}),t.jsx("p",{children:l}),t.jsxs("button",{className:"btn btn-primary",onClick:()=>n("/procurement/purchase-orders"),children:[t.jsx(xj,{})," Back to Purchase Orders"]})]})}):r?t.jsxs("div",{className:"po-detail-container",children:[t.jsxs("div",{className:"po-header",children:[t.jsxs("div",{className:"po-header-top",children:[t.jsxs("button",{className:"back-btn",onClick:()=>n("/procurement/purchase-orders"),children:[t.jsx(xj,{}),t.jsx("span",{children:"Back"})]}),t.jsxs("div",{className:"header-actions",children:[t.jsxs("button",{className:"btn btn-secondary",children:[t.jsx(Sie,{}),"Export"]}),t.jsxs("button",{className:"btn btn-secondary",children:[t.jsx(Tie,{}),"Share"]}),t.jsxs("div",{className:"action-dropdown",children:[t.jsx("button",{className:"btn btn-secondary dropdown-trigger",onClick:()=>h(!d),children:t.jsx(Aie,{})}),d&&t.jsxs("div",{className:"dropdown-menu",children:[t.jsxs("button",{className:"dropdown-item",children:[t.jsx(Eie,{}),"Edit Order"]}),t.jsxs("button",{className:"dropdown-item",children:[t.jsx(xn,{}),"Mark Complete"]}),t.jsxs("button",{className:"dropdown-item danger",children:[t.jsx(bj,{}),"Cancel Order"]})]})]})]})]}),t.jsxs("div",{className:"po-header-main",children:[t.jsxs("div",{className:"po-title-section",children:[t.jsxs("div",{className:"po-number",children:["#",r.poNumber]}),t.jsx("h1",{className:"po-title",children:"Purchase Order Details"}),t.jsxs("div",{className:"po-subtitle",children:["Created on ",b(r.createdAt)]})]}),t.jsx("div",{className:"po-status-section",children:t.jsxs("div",{className:`status-badge status-${(w=r.status)==null?void 0:w.toLowerCase()} large`,children:[j(r.status),t.jsx("span",{children:r.status})]})})]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(tp,{})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:x(r.totalAmount,r.currency)}),t.jsx("div",{className:"stat-label",children:"Total Amount"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(ir,{})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:b(r.expectedDeliveryDate)}),t.jsx("div",{className:"stat-label",children:"Expected Delivery"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(vr,{})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:((T=r.requestOrder)==null?void 0:T.requesterName)||"-"}),t.jsx("div",{className:"stat-label",children:"Requester"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx(La,{})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:((O=(A=r.offer)==null?void 0:A.offerItems)==null?void 0:O.length)||0}),t.jsx("div",{className:"stat-label",children:"Items"})]})]})]}),t.jsxs("div",{className:"content-grid",children:[t.jsxs("div",{className:"content-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"card-title",children:[t.jsx(Qn,{className:"card-icon"}),t.jsx("h3",{children:"Request Order"})]}),((P=r.requestOrder)==null?void 0:P.status)&&t.jsxs("div",{className:`status-badge status-${r.requestOrder.status.toLowerCase()}`,children:[j(r.requestOrder.status),t.jsx("span",{children:r.requestOrder.status})]})]}),r.requestOrder?t.jsxs("div",{className:"card-content",children:[t.jsx("h4",{className:"request-title",children:r.requestOrder.title}),t.jsx("p",{className:"request-description",children:r.requestOrder.description}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Created By"}),t.jsx("span",{className:"detail-value",children:r.requestOrder.createdBy})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Created Date"}),t.jsx("span",{className:"detail-value",children:b(r.requestOrder.createdAt)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Approved By"}),t.jsx("span",{className:"detail-value",children:r.requestOrder.approvedBy||"Pending"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Deadline"}),t.jsx("span",{className:"detail-value",children:b(r.requestOrder.deadline)})]})]})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(Qn,{className:"empty-icon"}),t.jsx("p",{children:"No request order information available"})]})]}),t.jsxs("div",{className:"content-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-title",children:[t.jsx(Y3,{className:"card-icon"}),t.jsx("h3",{children:"Offer Details"})]})}),r.offer?t.jsxs("div",{className:"card-content",children:[t.jsx("h4",{className:"offer-title",children:r.offer.title}),t.jsx("p",{className:"offer-description",children:r.offer.description}),t.jsxs("div",{className:"detail-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Created By"}),t.jsx("span",{className:"detail-value",children:r.offer.createdBy})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Created Date"}),t.jsx("span",{className:"detail-value",children:b(r.offer.createdAt)})]}),t.jsxs("div",{className:"detail-item span-2",children:[t.jsx("span",{className:"detail-label",children:"Notes"}),t.jsx("span",{className:"detail-value",children:r.offer.notes||"No additional notes"})]})]})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(Y3,{className:"empty-icon"}),t.jsx("p",{children:"No offer information available"})]})]})]}),t.jsxs("div",{className:"content-card full-width",children:[t.jsxs("div",{className:"card-header",children:[t.jsxs("div",{className:"card-title",children:[t.jsx(La,{className:"card-icon"}),t.jsx("h3",{children:"Order Items"})]}),t.jsxs("div",{className:"items-summary",children:[((E=(S=r.offer)==null?void 0:S.offerItems)==null?void 0:E.length)||0," items"]})]}),(k=r.offer)!=null&&k.offerItems&&r.offer.offerItems.length>0?t.jsxs("div",{className:"items-table-container",children:[t.jsxs("div",{className:"items-table",children:[t.jsxs("div",{className:"table-header",children:[t.jsx("div",{className:"th",children:"Item Details"}),t.jsx("div",{className:"th",children:"Quantity"}),t.jsx("div",{className:"th",children:"Unit Price"}),t.jsx("div",{className:"th",children:"Total"}),t.jsx("div",{className:"th",children:"Merchant"}),t.jsx("div",{className:"th",children:"Delivery"}),t.jsx("div",{className:"th",children:"Status"})]}),t.jsx("div",{className:"table-body",children:r.offer.offerItems.map((D,_)=>{var U,R,$,L,z,W,M;return t.jsxs("div",{className:"table-row",children:[t.jsxs("div",{className:"td item-details",children:[t.jsx("div",{className:"item-name",children:((R=(U=D.requestOrderItem)==null?void 0:U.itemType)==null?void 0:R.name)||"Unknown Item"}),t.jsxs("div",{className:"item-meta",children:["ID: ",D.id]})]}),t.jsx("div",{className:"td",children:t.jsxs("span",{className:"quantity",children:[D.quantity," ",((L=($=D.requestOrderItem)==null?void 0:$.itemType)==null?void 0:L.measuringUnit)||""]})}),t.jsx("div",{className:"td",children:t.jsx("span",{className:"price",children:x(D.unitPrice,D.currency)})}),t.jsx("div",{className:"td",children:t.jsx("span",{className:"total-price",children:x(D.totalPrice,D.currency)})}),t.jsx("div",{className:"td",children:t.jsx("div",{className:"merchant-info",children:t.jsx("span",{className:"merchant-name",children:((z=D.merchant)==null?void 0:z.name)||"TBD"})})}),t.jsx("div",{className:"td",children:t.jsxs("div",{className:"delivery-info",children:[t.jsx(_n,{className:"delivery-icon"}),t.jsxs("span",{children:[D.estimatedDeliveryDays," days"]})]})}),t.jsx("div",{className:"td",children:t.jsxs("div",{className:`status-badge status-${(W=D.financeStatus)==null?void 0:W.toLowerCase()}`,children:[j(D.financeStatus),t.jsx("span",{children:((M=D.financeStatus)==null?void 0:M.replace(/_/g," "))||"Pending"})]})})]},D.id)})})]}),t.jsxs("div",{className:"order-summary",children:[t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{className:"summary-label",children:"Subtotal:"}),t.jsx("span",{className:"summary-value",children:x(r.totalAmount,r.currency)})]}),t.jsxs("div",{className:"summary-row total",children:[t.jsx("span",{className:"summary-label",children:"Total Amount:"}),t.jsx("span",{className:"summary-value",children:x(r.totalAmount,r.currency)})]})]})]}):t.jsxs("div",{className:"empty-state large",children:[t.jsx(La,{className:"empty-icon"}),t.jsx("h4",{children:"No Items Found"}),t.jsx("p",{children:"This purchase order doesn't have any items yet."})]})]})]}):t.jsx("div",{className:"po-detail-not-found",children:t.jsxs("div",{className:"not-found-container",children:[t.jsx(Qn,{className:"not-found-icon"}),t.jsx("h3",{children:"Purchase Order Not Found"}),t.jsx("p",{children:"The purchase order you're looking for doesn't exist."}),t.jsxs("button",{className:"btn btn-primary",onClick:()=>n("/procurement/purchase-orders"),children:[t.jsx(xj,{})," Back to Purchase Orders"]})]})})},Ole=({selectedDate:e,setSelectedDate:n,attendanceData:r,selectedEmployee:a,onEditAttendance:s,onQuickCheckIn:o,onQuickCheckOut:l})=>{var E;const[u,d]=g.useState([]),[h,f]=g.useState(e);g.useEffect(()=>{p()},[h,r,a]);const p=()=>{const k=h.getFullYear(),D=h.getMonth(),_=new Date(k,D,1),U=new Date(_);U.setDate(U.getDate()-_.getDay());const R=[];let $=new Date(U);for(let L=0;L<42;L++){const z={date:new Date($),isCurrentMonth:$.getMonth()===D,isToday:y($),isWeekend:$.getDay()===0||$.getDay()===6,attendanceRecord:b($),workingStatus:x($)};R.push(z),$.setDate($.getDate()+1)}d(R)},y=k=>{const D=new Date;return k.toDateString()===D.toDateString()},b=k=>!r||!Array.isArray(r)?null:r.find(D=>new Date(D.date).toDateString()===k.toDateString()),x=k=>{if(!a||!a.jobPosition)return"unknown";const D=k.getDay(),_=a.jobPosition;switch(_.contractType){case"HOURLY":const U=_.workingDaysPerWeek||5;return U===5?D>=1&&D<=5?"working":"dayoff":U===6?D>=1&&D<=6?"working":"dayoff":D===0?"dayoff":"working";case"DAILY":return _.includesWeekends||D>=1&&D<=5?"working":"dayoff";case"MONTHLY":return D>=1&&D<=5?"working":"dayoff";default:return"working"}},j=k=>{const{attendanceRecord:D,workingStatus:_,date:U}=k;if(_==="dayoff")return"dayoff";if(!D)return _==="working"&&U<=new Date?"absent":"nodata";if(D.isLeave||D.status==="ON_LEAVE")return"leave";switch(D.contractType){case"HOURLY":return D.checkInTime&&!D.checkOutTime?"checkedin":D.checkInTime&&D.checkOutTime?D.isLate?"late":"present":"absent";case"DAILY":return D.dailyStatus==="PRESENT"?"present":"absent";case"MONTHLY":return D.status==="PRESENT"?"present":"absent";default:return"unknown"}},w=k=>{switch(k){case"present":return t.jsx(Pr,{className:"status-icon present",size:16});case"absent":return t.jsx(Zl,{className:"status-icon absent",size:16});case"late":return t.jsx(hr,{className:"status-icon late",size:16});case"checkedin":return t.jsx(hr,{className:"status-icon checkedin",size:16});case"leave":return t.jsx(D3,{className:"status-icon leave",size:16});case"dayoff":return t.jsx(T3,{className:"status-icon dayoff",size:16});default:return null}},T=k=>{switch(k){case"present":return"Present";case"absent":return"Absent";case"late":return"Late";case"checkedin":return"Checked In";case"leave":return"On Leave";case"dayoff":return"Day Off";case"nodata":return"";default:return""}},A=k=>{const D=new Date(h);D.setMonth(D.getMonth()+k),f(D),n(D)},O=k=>{var D;k.workingStatus==="working"&&a&&(k.attendanceRecord?s(k.attendanceRecord):s({employeeId:a.id,date:k.date.toISOString().split("T")[0],contractType:((D=a.jobPosition)==null?void 0:D.contractType)||"MONTHLY"}))},P=k=>k.toLocaleDateString("en-US",{month:"long",year:"numeric"}),S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a?t.jsxs("div",{className:"rockops-attendance-calendar",children:[t.jsxs("div",{className:"rockops-attendance-calendar-header",children:[t.jsxs("div",{className:"rockops-attendance-month-navigation",children:[t.jsx("button",{className:"rockops-attendance-nav-btn",onClick:()=>A(-1),children:t.jsx(Mre,{size:20})}),t.jsx("h2",{className:"rockops-attendance-month-title",children:P(h)}),t.jsx("button",{className:"rockops-attendance-nav-btn",onClick:()=>A(1),children:t.jsx(Ire,{size:20})})]}),t.jsxs("div",{className:"rockops-attendance-employee-info",children:[t.jsx("img",{src:a.photoUrl||"/default-avatar.png",alt:a.fullName,className:"rockops-attendance-employee-avatar"}),t.jsxs("div",{className:"rockops-attendance-employee-details",children:[t.jsx("h3",{children:a.fullName}),t.jsxs("p",{children:[a.jobPositionName,"  ",(E=a.jobPosition)==null?void 0:E.contractType]})]})]})]}),t.jsxs("div",{className:"rockops-attendance-calendar-grid",children:[t.jsx("div",{className:"rockops-attendance-week-header",children:S.map(k=>t.jsx("div",{className:"rockops-attendance-week-day-header",children:k},k))}),t.jsx("div",{className:"rockops-attendance-calendar-days",children:u.map((k,D)=>{const _=j(k),U=w(_),R=T(_);return t.jsxs("div",{className:`rockops-attendance-calendar-day ${k.isCurrentMonth?"":"rockops-attendance-other-month"} ${k.isToday?"rockops-attendance-today":""} ${k.workingStatus==="working"?"rockops-attendance-clickable":""} rockops-attendance-${_}`,onClick:()=>O(k),children:[t.jsx("div",{className:"rockops-attendance-day-number",children:k.date.getDate()}),t.jsxs("div",{className:"rockops-attendance-day-content",children:[U&&t.jsxs("div",{className:"rockops-attendance-status-indicator",children:[U,t.jsx("span",{className:"rockops-attendance-status-text",children:R})]}),k.attendanceRecord&&t.jsxs("div",{className:"rockops-attendance-attendance-details",children:[k.attendanceRecord.checkInTime&&t.jsxs("div",{className:"rockops-attendance-time-info",children:[t.jsxs("span",{className:"rockops-attendance-check-time",children:["In: ",k.attendanceRecord.checkInTime]}),k.attendanceRecord.checkOutTime&&t.jsxs("span",{className:"rockops-attendance-check-time",children:["Out: ",k.attendanceRecord.checkOutTime]})]}),k.attendanceRecord.hoursWorked&&t.jsxs("div",{className:"rockops-attendance-hours-worked",children:[k.attendanceRecord.hoursWorked,"h"]})]})]})]},D)})})]}),t.jsxs("div",{className:"rockops-attendance-calendar-legend",children:[t.jsx("h4",{children:"Status Legend"}),t.jsxs("div",{className:"rockops-attendance-legend-items",children:[t.jsxs("div",{className:"rockops-attendance-legend-item",children:[t.jsx(Pr,{className:"status-icon present",size:16}),t.jsx("span",{children:"Present"})]}),t.jsxs("div",{className:"rockops-attendance-legend-item",children:[t.jsx(Zl,{className:"status-icon absent",size:16}),t.jsx("span",{children:"Absent"})]}),t.jsxs("div",{className:"rockops-attendance-legend-item",children:[t.jsx(hr,{className:"status-icon late",size:16}),t.jsx("span",{children:"Late"})]}),t.jsxs("div",{className:"rockops-attendance-legend-item",children:[t.jsx(hr,{className:"status-icon checkedin",size:16}),t.jsx("span",{children:"Checked In"})]}),t.jsxs("div",{className:"rockops-attendance-legend-item",children:[t.jsx(D3,{className:"status-icon leave",size:16}),t.jsx("span",{children:"On Leave"})]}),t.jsxs("div",{className:"rockops-attendance-legend-item",children:[t.jsx(T3,{className:"status-icon dayoff",size:16}),t.jsx("span",{children:"Day Off"})]})]})]})]}):t.jsx("div",{className:"rockops-attendance-calendar-placeholder",children:t.jsxs("div",{className:"rockops-attendance-placeholder-content",children:[t.jsx(hr,{size:48,className:"rockops-attendance-placeholder-icon"}),t.jsx("h3",{children:"Select an Employee"}),t.jsx("p",{children:"Choose an employee from the filters to view their attendance calendar"})]})})},Dle=({attendanceData:e,employees:n,selectedDate:r,onEditAttendance:a,onQuickCheckIn:s,onQuickCheckOut:o,onBulkAction:l,loading:u})=>{const[d,h]=g.useState({key:"name",direction:"asc"}),[f,p]=g.useState("all"),[y,b]=g.useState(""),[x,j]=g.useState(null),[w,T]=g.useState([]),A=g.useMemo(()=>{if(!e)return[];let I=[];return Array.isArray(e)?I=e:typeof e=="object"&&(I=["present","absent","late","checkedIn"].reduce((B,H)=>e[H]&&Array.isArray(e[H])?[...B,...e[H]]:B,[])),I.map(q=>{var H,K,ie,ae;const B=n.find(me=>me.id===q.employeeId);return{id:q.id||`${q.employeeId}-${q.date||r.toISOString().split("T")[0]}`,...q,employee:B?{id:B.id,fullName:B.fullName||"Unknown Employee",jobPositionName:B.jobPositionName||((H=B.jobPosition)==null?void 0:H.positionName)||"Unknown Position",photoUrl:B.photoUrl||null,siteName:B.siteName||((K=B.site)==null?void 0:K.name)||"Unknown Site",departmentName:B.departmentName||((ie=B.department)==null?void 0:ie.name)||"Unknown Department",contractType:((ae=B.jobPosition)==null?void 0:ae.contractType)||"MONTHLY"}:{id:q.employeeId,fullName:"Unknown Employee",jobPositionName:"Unknown Position",photoUrl:null,siteName:"Unknown Site",departmentName:"Unknown Department",contractType:"MONTHLY"}}})},[e,n,r]),O=g.useMemo(()=>{let I=[...A];if(f!=="all"&&(I=I.filter(q=>P(q)===f)),y.trim()){const q=y.toLowerCase();I=I.filter(B=>B.employee.fullName.toLowerCase().includes(q)||B.employee.jobPositionName.toLowerCase().includes(q)||B.employee.siteName.toLowerCase().includes(q)||B.employee.departmentName.toLowerCase().includes(q))}return d.key&&I.sort((q,B)=>{let H,K;switch(d.key){case"name":H=q.employee.fullName,K=B.employee.fullName;break;case"position":H=q.employee.jobPositionName,K=B.employee.jobPositionName;break;case"status":H=P(q),K=P(B);break;case"checkIn":H=q.checkInTime||"",K=B.checkInTime||"";break;case"checkOut":H=q.checkOutTime||"",K=B.checkOutTime||"";break;case"hours":H=parseFloat(q.hoursWorked)||0,K=parseFloat(B.hoursWorked)||0;break;case"site":H=q.employee.siteName,K=B.employee.siteName;break;case"contract":H=q.employee.contractType,K=B.employee.contractType;break;default:H=q[d.key]||"",K=B[d.key]||""}return typeof H=="string"&&(H=H.toLowerCase()),typeof K=="string"&&(K=K.toLowerCase()),H<K?d.direction==="asc"?-1:1:H>K?d.direction==="asc"?1:-1:0}),I},[A,f,y,d]),P=I=>{var q;if(!I)return"absent";if(I.isLeave||I.status==="ON_LEAVE"||I.dailyStatus==="LEAVE")return"leave";if(I.isHoliday||I.dailyStatus==="HOLIDAY")return"holiday";switch(I.contractType||((q=I.employee)==null?void 0:q.contractType)){case"HOURLY":return I.checkInTime&&!I.checkOutTime?"checkedin":I.checkInTime&&I.checkOutTime?I.isLate?"late":"present":"absent";case"DAILY":return I.dailyStatus==="PRESENT"?"present":"absent";case"MONTHLY":return I.status==="PRESENT"?"present":I.status==="LATE"?"late":"absent";default:return"unknown"}},S=I=>{const q={present:{icon:Pr,className:"status-present",text:"Present",color:"#4caf50"},absent:{icon:Zl,className:"status-absent",text:"Absent",color:"#f44336"},late:{icon:hr,className:"status-late",text:"Late",color:"#ff9800"},checkedin:{icon:Fu,className:"status-checkedin",text:"Checked In",color:"#2196f3"},leave:{icon:da,className:"status-leave",text:"On Leave",color:"#9c27b0"},holiday:{icon:da,className:"status-holiday",text:"Holiday",color:"#673ab7"},unknown:{icon:Zl,className:"status-unknown",text:"Unknown",color:"#9e9e9e"}},B=q[I]||q.unknown,H=B.icon;return t.jsxs("span",{className:`rockops-attendance-status-badge rockops-attendance-${B.className}`,children:[t.jsx(H,{size:14,style:{color:B.color}}),B.text]})},E=I=>{h(q=>({key:I,direction:q.key===I&&q.direction==="asc"?"desc":"asc"}))},k=I=>d.key!==I?null:d.direction==="asc"?t.jsx(oN,{size:16}):t.jsx(iN,{size:16}),D=I=>{var B;return(I.contractType||((B=I.employee)==null?void 0:B.contractType))==="HOURLY"&&(!I.checkInTime||I.checkInTime&&I.checkOutTime)},_=I=>{var B;return(I.contractType||((B=I.employee)==null?void 0:B.contractType))==="HOURLY"&&I.checkInTime&&!I.checkOutTime},U=I=>I?typeof I=="string"?I:I.toString():"-",R=I=>{if(!I)return"-";const q=parseFloat(I);return isNaN(q)?"-":`${q.toFixed(1)}h`},$=(I,q)=>{if(!I||!q)return"-";try{const B=new Date(`2000-01-01T${I}`),K=(new Date(`2000-01-01T${q}`)-B)/(1e3*60*60);return K>0?`${K.toFixed(1)}h`:"-"}catch{return"-"}},L=(I,q)=>{T(B=>q?[...B,I]:B.filter(H=>H!==I))},z=I=>{T(I?O.map(q=>q.employeeId):[])},W=()=>{w.length!==0&&(l("checkIn",w),T([]))},M=I=>{j(x===I?null:I)},F=I=>({HOURLY:"#2196f3",DAILY:"#ff9800",MONTHLY:"#4caf50"})[I]||"#9e9e9e",G=({status:I,label:q,count:B})=>t.jsxs("button",{className:`status-filter-btn ${f===I?"active":""}`,onClick:()=>p(f===I?"all":I),children:[q,B>0&&t.jsxs("span",{className:"count",children:["(",B,")"]})]}),J=g.useMemo(()=>{const I={present:0,absent:0,late:0,checkedin:0,leave:0};return A.forEach(q=>{const B=P(q);I.hasOwnProperty(B)&&I[B]++}),I},[A]);return u?t.jsxs("div",{className:"rockops-attendance-loading",children:[t.jsx("div",{className:"rockops-attendance-loading-spinner"}),t.jsx("p",{children:"Loading attendance data..."})]}):t.jsxs("div",{className:"rockops-attendance-list-view",children:[t.jsxs("div",{className:"rockops-attendance-list-header",children:[t.jsxs("div",{className:"rockops-attendance-list-filters",children:[t.jsxs("div",{className:"rockops-attendance-search-box",children:[t.jsx(ec,{size:16}),t.jsx("input",{type:"text",placeholder:"Search employees, positions, or sites...",value:y,onChange:I=>b(I.target.value),className:"rockops-attendance-search-input"})]}),t.jsxs("div",{className:"rockops-attendance-status-filters",children:[t.jsx(G,{status:"all",label:"All",count:A.length}),t.jsx(G,{status:"present",label:"Present",count:J.present}),t.jsx(G,{status:"absent",label:"Absent",count:J.absent}),t.jsx(G,{status:"late",label:"Late",count:J.late}),t.jsx(G,{status:"checkedin",label:"Checked In",count:J.checkedin}),t.jsx(G,{status:"leave",label:"On Leave",count:J.leave})]})]}),w.length>0&&t.jsxs("div",{className:"rockops-attendance-bulk-actions",children:[t.jsxs("div",{className:"bulk-selection-info",children:[t.jsxs("span",{children:[w.length," employee(s) selected"]}),t.jsx("button",{onClick:()=>T([]),className:"clear-selection-btn",children:"Clear"})]}),t.jsx("div",{className:"bulk-action-buttons",children:t.jsxs("button",{onClick:W,className:"rockops-btn rockops-btn--primary rockops-attendance-bulk-btn",children:[t.jsx(Fu,{size:16}),"Bulk Check In"]})})]})]}),t.jsxs("div",{className:"rockops-attendance-results-summary",children:[t.jsxs("span",{className:"results-count",children:["Showing ",O.length," of ",A.length," records"]}),t.jsxs("span",{className:"results-date",children:["for ",r.toLocaleDateString()]})]}),t.jsx("div",{className:"rockops-attendance-list-table",children:t.jsxs("table",{className:"rockops-attendance-table",children:[t.jsx("thead",{className:"rockops-attendance-table-header",children:t.jsxs("tr",{children:[t.jsx("th",{className:"checkbox-col",children:t.jsx("input",{type:"checkbox",checked:w.length===O.length&&O.length>0,onChange:I=>z(I.target.checked),className:"rockops-attendance-checkbox"})}),t.jsxs("th",{className:"rockops-attendance-sortable name-col",onClick:()=>E("name"),children:["Employee ",k("name")]}),t.jsxs("th",{className:"rockops-attendance-sortable position-col",onClick:()=>E("position"),children:["Position ",k("position")]}),t.jsxs("th",{className:"rockops-attendance-sortable contract-col",onClick:()=>E("contract"),children:["Contract ",k("contract")]}),t.jsxs("th",{className:"rockops-attendance-sortable status-col",onClick:()=>E("status"),children:["Status ",k("status")]}),t.jsxs("th",{className:"rockops-attendance-sortable checkin-col",onClick:()=>E("checkIn"),children:["Check In ",k("checkIn")]}),t.jsxs("th",{className:"rockops-attendance-sortable checkout-col",onClick:()=>E("checkOut"),children:["Check Out ",k("checkOut")]}),t.jsxs("th",{className:"rockops-attendance-sortable hours-col",onClick:()=>E("hours"),children:["Hours ",k("hours")]}),t.jsxs("th",{className:"rockops-attendance-sortable site-col",onClick:()=>E("site"),children:["Site ",k("site")]}),t.jsx("th",{className:"actions-col",children:"Actions"})]})}),t.jsx("tbody",{className:"rockops-attendance-table-body",children:O.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"10",className:"no-data-cell",children:t.jsxs("div",{className:"no-data-message",children:[t.jsx(tc,{size:48}),t.jsx("p",{children:"No attendance records found"}),y&&t.jsx("button",{onClick:()=>b(""),className:"clear-search-btn",children:"Clear search"})]})})}):O.map(I=>t.jsxs(le.Fragment,{children:[t.jsxs("tr",{className:"rockops-attendance-table-row",children:[t.jsx("td",{className:"checkbox-col",children:t.jsx("input",{type:"checkbox",checked:w.includes(I.employeeId),onChange:q=>L(I.employeeId,q.target.checked),className:"rockops-attendance-checkbox"})}),t.jsx("td",{className:"name-col",children:t.jsxs("div",{className:"rockops-attendance-employee-info",children:[t.jsx("img",{src:I.employee.photoUrl||"/default-avatar.png",alt:I.employee.fullName,className:"rockops-attendance-employee-avatar",onError:q=>{q.target.src="/default-avatar.png"}}),t.jsxs("div",{className:"rockops-attendance-employee-details",children:[t.jsx("span",{className:"rockops-attendance-employee-name",children:I.employee.fullName}),t.jsxs("span",{className:"rockops-attendance-employee-id",children:["ID: ",I.employeeId]})]})]})}),t.jsx("td",{className:"position-col",children:t.jsx("span",{className:"position-name",children:I.employee.jobPositionName})}),t.jsx("td",{className:"contract-col",children:t.jsx("span",{className:"contract-badge",style:{backgroundColor:`${F(I.employee.contractType)}20`,color:F(I.employee.contractType)},children:I.employee.contractType})}),t.jsx("td",{className:"status-col",children:S(P(I))}),t.jsx("td",{className:"checkin-col",children:U(I.checkInTime)}),t.jsx("td",{className:"checkout-col",children:U(I.checkOutTime)}),t.jsx("td",{className:"hours-col",children:R(I.hoursWorked)}),t.jsx("td",{className:"site-col",children:I.employee.siteName}),t.jsx("td",{className:"actions-col",children:t.jsxs("div",{className:"rockops-attendance-action-buttons",children:[D(I)&&t.jsx("button",{onClick:()=>s(I.employeeId),className:"action-btn check-in-btn",title:"Quick Check In",children:t.jsx(Fu,{size:16})}),_(I)&&t.jsx("button",{onClick:()=>o(I.employeeId),className:"action-btn check-out-btn",title:"Quick Check Out",children:t.jsx(P6,{size:16})}),t.jsx("button",{onClick:()=>a(I),className:"action-btn edit-btn",title:"Edit Attendance",children:t.jsx(lN,{size:16})}),t.jsx("button",{onClick:()=>M(I.id),className:"action-btn details-btn",title:"View Details",children:x===I.id?t.jsx(oN,{size:16}):t.jsx(iN,{size:16})})]})})]}),x===I.id&&t.jsx("tr",{className:"rockops-attendance-details-row",children:t.jsx("td",{colSpan:"10",className:"rockops-attendance-details-cell",children:t.jsxs("div",{className:"rockops-attendance-details-content",children:[t.jsxs("div",{className:"details-section",children:[t.jsxs("h4",{className:"details-title",children:[t.jsx(hr,{size:16}),"Time Details"]}),t.jsxs("div",{className:"details-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Check In:"}),t.jsx("span",{className:"detail-value",children:U(I.checkInTime)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Check Out:"}),t.jsx("span",{className:"detail-value",children:U(I.checkOutTime)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Duration:"}),t.jsx("span",{className:"detail-value",children:$(I.checkInTime,I.checkOutTime)})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Break Time:"}),t.jsx("span",{className:"detail-value",children:I.breakDurationMinutes?`${I.breakDurationMinutes}min`:"-"})]})]})]}),t.jsxs("div",{className:"details-section",children:[t.jsxs("h4",{className:"details-title",children:[t.jsx(Pd,{size:16}),"Location & Department"]}),t.jsxs("div",{className:"details-grid",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Site:"}),t.jsx("span",{className:"detail-value",children:I.employee.siteName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Department:"}),t.jsx("span",{className:"detail-value",children:I.employee.departmentName})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("span",{className:"detail-label",children:"Location:"}),t.jsx("span",{className:"detail-value",children:I.location||"-"})]})]})]}),I.notes&&t.jsxs("div",{className:"details-section",children:[t.jsx("h4",{className:"details-title",children:"Notes"}),t.jsx("p",{className:"notes-content",children:I.notes})]})]})})})]},I.id))})]})})]})},Ple=({filters:e,setFilters:n,employees:r,selectedDate:a,setSelectedDate:s})=>{var x,j,w;const[o,l]=g.useState([]),[u,d]=g.useState([]),[h]=g.useState(["HOURLY","DAILY","MONTHLY"]);g.useEffect(()=>{const T=[...new Set(r.filter(O=>{var P;return(P=O.department)==null?void 0:P.name}).map(O=>{var P,S,E;return{id:((P=O.department)==null?void 0:P.id)||((S=O.department)==null?void 0:S.name),name:(E=O.department)==null?void 0:E.name}}))].filter((O,P,S)=>P===S.findIndex(E=>E.id===O.id)),A=[...new Set(r.filter(O=>{var P;return(P=O.site)==null?void 0:P.name}).map(O=>{var P,S,E;return{id:((P=O.site)==null?void 0:P.id)||((S=O.site)==null?void 0:S.name),name:(E=O.site)==null?void 0:E.name}}))].filter((O,P,S)=>P===S.findIndex(E=>E.id===O.id));l(T),d(A)},[r]);const f=(T,A)=>{n(O=>({...O,[T]:A}))},p=T=>{const A=new Date(T.target.value);s(A)},y=()=>{n({employeeId:"",department:"",site:"",status:"",contractType:""})},b=()=>{const T=a.getFullYear(),A=a.getMonth(),O=new Date(T,A,1),P=new Date(T,A+1,0);return{start:O.toLocaleDateString(),end:P.toLocaleDateString()}};return t.jsxs("div",{className:"rockops-attendance-filters",children:[t.jsxs("div",{className:"rockops-attendance-filters-header",children:[t.jsxs("h3",{children:[t.jsx(q2,{size:20}),"Filters"]}),t.jsxs("button",{className:"rockops-btn rockops-btn-tertiary rockops-attendance-reset-btn",onClick:y,title:"Reset all filters",children:[t.jsx(Yd,{size:16}),"Reset"]})]}),t.jsxs("div",{className:"rockops-attendance-filters-grid",children:[t.jsxs("div",{className:"rockops-attendance-filter-group",children:[t.jsxs("label",{htmlFor:"date-filter",children:[t.jsx(da,{size:16}),"Date"]}),t.jsx("input",{id:"date-filter",type:"date",value:a.toISOString().split("T")[0],onChange:p,className:"rockops-attendance-filter-input"}),t.jsxs("div",{className:"rockops-attendance-date-info",children:["Month: ",b().start," - ",b().end]})]}),t.jsxs("div",{className:"rockops-attendance-filter-group",children:[t.jsxs("label",{htmlFor:"employee-filter",children:[t.jsx(L2,{size:16}),"Employee"]}),t.jsxs("select",{id:"employee-filter",value:e.employeeId,onChange:T=>f("employeeId",T.target.value),className:"rockops-attendance-filter-select",children:[t.jsx("option",{value:"",children:"All Employees"}),r.map(T=>{var A;return t.jsxs("option",{value:T.id,children:[T.fullName," - ",((A=T.jobPosition)==null?void 0:A.name)||"Unknown Position"]},T.id)})]}),e.employeeId&&t.jsx("div",{className:"rockops-attendance-filter-info",children:"Showing individual calendar view"})]}),t.jsxs("div",{className:"rockops-attendance-filter-group",children:[t.jsxs("label",{htmlFor:"department-filter",children:[t.jsx(E3,{size:16}),"Department"]}),t.jsxs("select",{id:"department-filter",value:e.department,onChange:T=>f("department",T.target.value),className:"rockops-attendance-filter-select",children:[t.jsx("option",{value:"",children:"All Departments"}),o.map(T=>t.jsx("option",{value:T.id,children:T.name},T.id))]})]}),t.jsxs("div",{className:"rockops-attendance-filter-group",children:[t.jsxs("label",{htmlFor:"site-filter",children:[t.jsx(Are,{size:16}),"Site"]}),t.jsxs("select",{id:"site-filter",value:e.site,onChange:T=>f("site",T.target.value),className:"rockops-attendance-filter-select",children:[t.jsx("option",{value:"",children:"All Sites"}),u.map(T=>t.jsx("option",{value:T.id,children:T.name},T.id))]})]}),t.jsxs("div",{className:"rockops-attendance-filter-group",children:[t.jsxs("label",{htmlFor:"contract-type-filter",children:[t.jsx(E3,{size:16}),"Contract Type"]}),t.jsxs("select",{id:"contract-type-filter",value:e.contractType,onChange:T=>f("contractType",T.target.value),className:"rockops-attendance-filter-select",children:[t.jsx("option",{value:"",children:"All Contract Types"}),h.map(T=>t.jsx("option",{value:T,children:T},T))]})]}),t.jsxs("div",{className:"rockops-attendance-filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status"}),t.jsxs("select",{id:"status-filter",value:e.status,onChange:T=>f("status",T.target.value),className:"rockops-attendance-filter-select",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"present",children:"Present"}),t.jsx("option",{value:"absent",children:"Absent"}),t.jsx("option",{value:"late",children:"Late"}),t.jsx("option",{value:"checkedin",children:"Checked In"}),t.jsx("option",{value:"leave",children:"On Leave"}),t.jsx("option",{value:"holiday",children:"Holiday"})]})]})]}),Object.values(e).some(T=>T!=="")&&t.jsxs("div",{className:"rockops-attendance-active-filters",children:[t.jsx("h4",{children:"Active Filters:"}),t.jsxs("div",{className:"rockops-attendance-filter-tags",children:[e.employeeId&&t.jsxs("span",{className:"rockops-attendance-filter-tag",children:["Employee: ",(x=r.find(T=>T.id===e.employeeId))==null?void 0:x.fullName,t.jsx("button",{onClick:()=>f("employeeId",""),children:""})]}),e.department&&t.jsxs("span",{className:"rockops-attendance-filter-tag",children:["Department: ",(j=o.find(T=>T.id===e.department))==null?void 0:j.name,t.jsx("button",{onClick:()=>f("department",""),children:""})]}),e.site&&t.jsxs("span",{className:"rockops-attendance-filter-tag",children:["Site: ",(w=u.find(T=>T.id===e.site))==null?void 0:w.name,t.jsx("button",{onClick:()=>f("site",""),children:""})]}),e.contractType&&t.jsxs("span",{className:"rockops-attendance-filter-tag",children:["Contract: ",e.contractType,t.jsx("button",{onClick:()=>f("contractType",""),children:""})]}),e.status&&t.jsxs("span",{className:"rockops-attendance-filter-tag",children:["Status: ",e.status,t.jsx("button",{onClick:()=>f("status",""),children:""})]})]})]}),t.jsxs("div",{className:"quick-filters",children:[t.jsx("h4",{children:"Quick Filters:"}),t.jsxs("div",{className:"quick-filter-buttons",children:[t.jsx("button",{className:`quick-filter-btn ${e.status==="present"?"active":""}`,onClick:()=>f("status",e.status==="present"?"":"present"),children:"Present Only"}),t.jsx("button",{className:`quick-filter-btn ${e.status==="absent"?"active":""}`,onClick:()=>f("status",e.status==="absent"?"":"absent"),children:"Absent Only"}),t.jsx("button",{className:`quick-filter-btn ${e.status==="late"?"active":""}`,onClick:()=>f("status",e.status==="late"?"":"late"),children:"Late Only"}),t.jsx("button",{className:`quick-filter-btn ${e.contractType==="HOURLY"?"active":""}`,onClick:()=>f("contractType",e.contractType==="HOURLY"?"":"HOURLY"),children:"Hourly Workers"}),t.jsx("button",{className:`quick-filter-btn ${e.contractType==="DAILY"?"active":""}`,onClick:()=>f("contractType",e.contractType==="DAILY"?"":"DAILY"),children:"Daily Workers"})]})]})]})},Mle=({stats:e,employee:n})=>{var l,u;if(!e||!n)return null;const r=()=>{var d;switch((d=n.jobPosition)==null?void 0:d.contractType){case"HOURLY":return{primary:{label:"Total Hours",value:e.totalHours||0,unit:"hrs",icon:hr,color:"primary"},secondary:[{label:"Days Worked",value:e.daysWorked||0,unit:"days",icon:da},{label:"Overtime Hours",value:e.totalOvertimeHours||0,unit:"hrs",icon:Jf},{label:"Late Days",value:e.lateDays||0,unit:"days",icon:Qi},{label:"Avg Hours/Day",value:e.averageHoursPerDay||0,unit:"hrs",icon:fj}]};case"DAILY":return{primary:{label:"Present Days",value:e.presentDays||0,unit:"days",icon:Pr,color:"success"},secondary:[{label:"Absent Days",value:e.absentDays||0,unit:"days",icon:Zl},{label:"Leave Days",value:e.leaveDays||0,unit:"days",icon:da},{label:"Attendance Rate",value:e.attendancePercentage||0,unit:"%",icon:fj}]};case"MONTHLY":return{primary:{label:"Attendance Rate",value:e.attendancePercentage||0,unit:"%",icon:fj,color:"success"},secondary:[{label:"Present Days",value:e.presentDays||0,unit:"days",icon:Pr},{label:"Absent Days",value:e.absentDays||0,unit:"days",icon:Zl},{label:"Late Days",value:e.lateDays||0,unit:"days",icon:Qi},{label:"Leave Days",value:e.leaveDays||0,unit:"days",icon:da}]};default:return{primary:null,secondary:[]}}},a=(d,h)=>typeof d=="number"?h==="%"?`${d.toFixed(1)}%`:h==="hrs"?`${d.toFixed(1)}${h}`:`${Math.round(d)}${h}`:`${d}${h}`,s=d=>d>=95?"success":d>=85?"warning":"danger",o=r();return t.jsxs("div",{className:"rockops-attendance-stats",children:[t.jsxs("div",{className:"rockops-attendance-stats-header",children:[t.jsxs("div",{className:"rockops-attendance-employee-summary",children:[t.jsx("img",{src:n.photoUrl||"/default-avatar.png",alt:n.fullName,className:"rockops-attendance-employee-avatar"}),t.jsxs("div",{className:"rockops-attendance-employee-info",children:[t.jsx("h3",{children:n.fullName}),t.jsx("p",{children:n.jobPositionName}),t.jsxs("span",{className:"rockops-attendance-contract-badge",children:[(l=n.jobPosition)==null?void 0:l.contractType," Contract"]})]})]}),t.jsxs("div",{className:"rockops-attendance-period-info",children:[t.jsx(da,{size:16}),t.jsx("span",{children:e.startDate&&e.endDate?`${new Date(e.startDate).toLocaleDateString()} - ${new Date(e.endDate).toLocaleDateString()}`:"Current Month"})]})]}),t.jsxs("div",{className:"rockops-attendance-stats-grid",children:[o.primary&&t.jsxs("div",{className:`rockops-attendance-stat-card rockops-attendance-stat-primary rockops-attendance-stat-${o.primary.color||"primary"}`,children:[t.jsx("div",{className:"rockops-attendance-stat-icon",children:t.jsx(o.primary.icon,{size:24})}),t.jsxs("div",{className:"rockops-attendance-stat-content",children:[t.jsx("div",{className:"rockops-attendance-stat-value",children:a(o.primary.value,o.primary.unit)}),t.jsx("div",{className:"rockops-attendance-stat-label",children:o.primary.label})]})]}),o.secondary.map((d,h)=>{const f=d.icon;let p="";return d.label.includes("Attendance Rate")?p=s(d.value):d.label.includes("Late")&&d.value>0?p="warning":d.label.includes("Absent")&&d.value>0&&(p="danger"),t.jsxs("div",{className:`rockops-attendance-stat-card rockops-attendance-stat-${p}`,children:[t.jsx("div",{className:"rockops-attendance-stat-icon",children:t.jsx(f,{size:20})}),t.jsxs("div",{className:"rockops-attendance-stat-content",children:[t.jsx("div",{className:"rockops-attendance-stat-value",children:a(d.value,d.unit)}),t.jsx("div",{className:"rockops-attendance-stat-label",children:d.label})]})]},h)}),e.totalEarnings&&t.jsxs("div",{className:"rockops-attendance-stat-card rockops-attendance-stat-success",children:[t.jsx("div",{className:"rockops-attendance-stat-icon",children:t.jsx(zre,{size:20})}),t.jsxs("div",{className:"rockops-attendance-stat-content",children:[t.jsxs("div",{className:"rockops-attendance-stat-value",children:["$",e.totalEarnings.toFixed(2)]}),t.jsx("div",{className:"rockops-attendance-stat-label",children:"Total Earnings"})]})]})]}),e.statusCounts&&Object.keys(e.statusCounts).length>0&&t.jsxs("div",{className:"rockops-attendance-status-breakdown",children:[t.jsx("h4",{children:"Status Breakdown"}),t.jsx("div",{className:"rockops-attendance-status-grid",children:Object.entries(e.statusCounts).map(([d,h])=>t.jsxs("div",{className:`rockops-attendance-status-item rockops-attendance-status-${d.toLowerCase()}`,children:[t.jsx("div",{className:"rockops-attendance-status-count",children:h}),t.jsx("div",{className:"rockops-attendance-status-label",children:d})]},d))})]}),t.jsxs("div",{className:"performance-indicators",children:[((u=n.jobPosition)==null?void 0:u.contractType)==="HOURLY"&&e.averageHoursPerDay&&t.jsxs("div",{className:"performance-item",children:[t.jsx("div",{className:"indicator-label",children:"Daily Performance"}),t.jsx("div",{className:"indicator-bar",children:t.jsx("div",{className:"indicator-fill",style:{width:`${Math.min(e.averageHoursPerDay/8*100,100)}%`,backgroundColor:e.averageHoursPerDay>=8?"#4caf50":"#ff9800"}})}),t.jsxs("div",{className:"indicator-text",children:[e.averageHoursPerDay.toFixed(1)," / 8 hrs avg"]})]}),e.attendancePercentage!==void 0&&t.jsxs("div",{className:"performance-item",children:[t.jsx("div",{className:"indicator-label",children:"Attendance Rate"}),t.jsx("div",{className:"indicator-bar",children:t.jsx("div",{className:"indicator-fill",style:{width:`${e.attendancePercentage}%`,backgroundColor:e.attendancePercentage>=95?"#4caf50":e.attendancePercentage>=85?"#ff9800":"#f44336"}})}),t.jsxs("div",{className:"indicator-text",children:[e.attendancePercentage.toFixed(1),"%"]})]})]})]})},_le=({isOpen:e,onClose:n,onSubmit:r,employees:a,initialData:s,selectedDate:o,loading:l})=>{var U;const[u,d]=g.useState({employeeId:"",date:"",contractType:"MONTHLY",checkInTime:"",checkOutTime:"",breakDurationMinutes:0,dailyStatus:"PRESENT",status:"PRESENT",notes:"",location:"",latitude:null,longitude:null,isLeave:!1,isHoliday:!1}),[h,f]=g.useState({}),[p,y]=g.useState(null),[b,x]=g.useState(!1),[j,w]=g.useState(!1);g.useEffect(()=>{e&&(T(),s?A():O())},[e,s,o]),g.useEffect(()=>{var R;if(u.employeeId){const $=a.find(L=>L.id===u.employeeId);y($),(R=$==null?void 0:$.jobPosition)!=null&&R.contractType&&d(L=>({...L,contractType:$.jobPosition.contractType}))}else y(null)},[u.employeeId,a]);const T=()=>{f({}),y(null),x(!1),w(!1)},A=()=>{d({employeeId:s.employeeId||"",date:s.date||(o==null?void 0:o.toISOString().split("T")[0])||"",contractType:s.contractType||"MONTHLY",checkInTime:s.checkInTime||"",checkOutTime:s.checkOutTime||"",breakDurationMinutes:s.breakDurationMinutes||0,dailyStatus:s.dailyStatus||"PRESENT",status:s.status||"PRESENT",notes:s.notes||"",location:s.location||"",latitude:s.latitude||null,longitude:s.longitude||null,isLeave:s.isLeave||!1,isHoliday:s.isHoliday||!1});const R=a.find($=>$.id===s.employeeId);y(R)},O=()=>{const R=(o==null?void 0:o.toISOString().split("T")[0])||new Date().toISOString().split("T")[0];d($=>({...$,date:R}))},P=R=>{const{name:$,value:L,type:z,checked:W}=R.target;d(M=>({...M,[$]:z==="checkbox"?W:L})),h[$]&&f(M=>{const F={...M};return delete F[$],F})},S=()=>{const R={};if(u.employeeId||(R.employeeId="Employee selection is required"),u.date||(R.date="Date is required"),u.date){const $=new Date(u.date),L=new Date,z=new Date;z.setDate(L.getDate()+7),$>z&&(R.date="Cannot record attendance more than 7 days in the future")}switch(u.contractType){case"HOURLY":if(u.checkInTime||(R.checkInTime="Check-in time is required for hourly employees"),u.checkOutTime&&u.checkInTime){u.checkOutTime<=u.checkInTime&&(R.checkOutTime="Check-out time must be after check-in time");const $=new Date(`2000-01-01T${u.checkInTime}`);(new Date(`2000-01-01T${u.checkOutTime}`)-$)/(1e3*60*60)>24&&(R.checkOutTime="Work duration cannot exceed 24 hours")}(u.breakDurationMinutes<0||u.breakDurationMinutes>480)&&(R.breakDurationMinutes="Break duration must be between 0 and 480 minutes");break;case"DAILY":u.dailyStatus||(R.dailyStatus="Daily status is required");break;case"MONTHLY":u.status||(R.status="Attendance status is required");break}return f(R),Object.keys(R).length===0},E=async R=>{if(R.preventDefault(),!!S()){w(!0);try{const $={...u,breakDurationMinutes:parseInt(u.breakDurationMinutes)||0};await r($)&&n()}catch($){console.error("Error submitting form:",$)}finally{w(!1)}}},k=async()=>{if(!navigator.geolocation){f(R=>({...R,location:"Geolocation is not supported by this browser"}));return}x(!0);try{const R=await new Promise((W,M)=>{navigator.geolocation.getCurrentPosition(W,M,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),{latitude:$,longitude:L}=R.coords,z=`${$.toFixed(6)}, ${L.toFixed(6)}`;d(W=>({...W,latitude:$,longitude:L,location:z})),h.location&&f(W=>{const M={...W};return delete M.location,M})}catch(R){let $="Unable to get location";switch(R.code){case R.PERMISSION_DENIED:$="Location access denied. Please enable location permissions.";break;case R.POSITION_UNAVAILABLE:$="Location information unavailable.";break;case R.TIMEOUT:$="Location request timed out.";break;default:$="An unknown error occurred while getting location.";break}f(L=>({...L,location:$}))}finally{x(!1)}},D=R=>{const L=new Date().toTimeString().slice(0,5);d(z=>({...z,[R]:L}))},_=()=>{switch(u.contractType){case"HOURLY":return t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Hourly Attendance"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"checkInTime",children:[t.jsx(hr,{size:16}),"Check In Time *"]}),t.jsxs("div",{className:"time-input-group",children:[t.jsx("input",{type:"time",id:"checkInTime",name:"checkInTime",value:u.checkInTime,onChange:P,className:h.checkInTime?"error":""}),t.jsx("button",{type:"button",onClick:()=>D("checkInTime"),className:"time-now-btn",title:"Set to current time",children:"Now"})]}),h.checkInTime&&t.jsx("span",{className:"error-text",children:h.checkInTime})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"checkOutTime",children:[t.jsx(hr,{size:16}),"Check Out Time"]}),t.jsxs("div",{className:"time-input-group",children:[t.jsx("input",{type:"time",id:"checkOutTime",name:"checkOutTime",value:u.checkOutTime,onChange:P,className:h.checkOutTime?"error":""}),t.jsx("button",{type:"button",onClick:()=>D("checkOutTime"),className:"time-now-btn",title:"Set to current time",children:"Now"})]}),h.checkOutTime&&t.jsx("span",{className:"error-text",children:h.checkOutTime})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"breakDurationMinutes",children:"Break Duration (minutes)"}),t.jsx("input",{type:"number",id:"breakDurationMinutes",name:"breakDurationMinutes",value:u.breakDurationMinutes,onChange:P,min:"0",max:"480",className:h.breakDurationMinutes?"error":""}),h.breakDurationMinutes&&t.jsx("span",{className:"error-text",children:h.breakDurationMinutes})]})]});case"DAILY":return t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Daily Attendance"}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"dailyStatus",children:[t.jsx(Pr,{size:16}),"Status *"]}),t.jsxs("select",{id:"dailyStatus",name:"dailyStatus",value:u.dailyStatus,onChange:P,className:h.dailyStatus?"error":"",children:[t.jsx("option",{value:"PRESENT",children:"Present"}),t.jsx("option",{value:"ABSENT",children:"Absent"}),t.jsx("option",{value:"HOLIDAY",children:"Holiday"}),t.jsx("option",{value:"LEAVE",children:"Leave"})]}),h.dailyStatus&&t.jsx("span",{className:"error-text",children:h.dailyStatus})]})]});case"MONTHLY":return t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Monthly Attendance"}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"status",children:[t.jsx(Pr,{size:16}),"Status *"]}),t.jsxs("select",{id:"status",name:"status",value:u.status,onChange:P,className:h.status?"error":"",children:[t.jsx("option",{value:"PRESENT",children:"Present"}),t.jsx("option",{value:"ABSENT",children:"Absent"}),t.jsx("option",{value:"LATE",children:"Late"}),t.jsx("option",{value:"HALF_DAY",children:"Half Day"}),t.jsx("option",{value:"ON_LEAVE",children:"On Leave"})]}),h.status&&t.jsx("span",{className:"error-text",children:h.status})]})]});default:return null}};return e?t.jsx("div",{className:"modal-overlay",onClick:n,children:t.jsxs("div",{className:"modal-content attendance-modal",onClick:R=>R.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:[t.jsx(hr,{size:24}),s?"Edit Attendance":"Record Attendance"]}),t.jsx("button",{className:"modal-close",onClick:n,disabled:j,children:t.jsx(cN,{size:24})})]}),t.jsxs("form",{onSubmit:E,className:"attendance-form",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Basic Information"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"employeeId",children:[t.jsx(L2,{size:16}),"Employee *"]}),t.jsxs("select",{id:"employeeId",name:"employeeId",value:u.employeeId,onChange:P,className:h.employeeId?"error":"",disabled:!!s||j,children:[t.jsx("option",{value:"",children:"Select Employee"}),a.map(R=>t.jsxs("option",{value:R.id,children:[R.fullName," - ",R.jobPositionName||"Unknown Position"]},R.id))]}),h.employeeId&&t.jsx("span",{className:"error-text",children:h.employeeId})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"date",children:[t.jsx(da,{size:16}),"Date *"]}),t.jsx("input",{type:"date",id:"date",name:"date",value:u.date,onChange:P,className:h.date?"error":"",disabled:j}),h.date&&t.jsx("span",{className:"error-text",children:h.date})]})]}),p&&t.jsxs("div",{className:"employee-info-card",children:[t.jsx("img",{src:p.photoUrl||"/default-avatar.png",alt:p.fullName,className:"employee-avatar"}),t.jsxs("div",{className:"employee-details",children:[t.jsx("h4",{children:p.fullName}),t.jsx("p",{children:p.jobPositionName||"Unknown Position"}),t.jsxs("span",{className:"contract-badge",children:[((U=p.jobPosition)==null?void 0:U.contractType)||"MONTHLY"," Contract"]})]})]})]}),_(),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Additional Information"}),t.jsxs("div",{className:"form-row",children:[t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"isLeave",checked:u.isLeave,onChange:P,disabled:j}),"On Leave"]})}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"isHoliday",checked:u.isHoliday,onChange:P,disabled:j}),"Holiday"]})})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"location",children:[t.jsx(Pd,{size:16}),"Location"]}),t.jsxs("div",{className:"location-input-group",children:[t.jsx("input",{type:"text",id:"location",name:"location",value:u.location,onChange:P,placeholder:"Enter location or use GPS",className:h.location?"error":"",disabled:j}),t.jsx("button",{type:"button",className:"location-btn",onClick:k,disabled:b||j,children:b?t.jsx(k3,{size:16,className:"spinning"}):"Get GPS"})]}),h.location&&t.jsx("span",{className:"error-text",children:h.location})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"notes",children:"Notes"}),t.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:P,rows:"3",placeholder:"Additional notes...",disabled:j})]})]}),Object.keys(h).length>0&&t.jsxs("div",{className:"error-summary",children:[t.jsx(Lre,{size:16}),t.jsx("span",{children:"Please fix the errors above before submitting"})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:n,disabled:j,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-primary",disabled:j||Object.keys(h).length>0,children:j?t.jsxs(t.Fragment,{children:[t.jsx(k3,{size:16,className:"spinning"}),s?"Updating...":"Recording..."]}):s?"Update Attendance":"Record Attendance"})]})]})]})}):null},Ile=({onQuickCheckIn:e,onQuickCheckOut:n,onBulkAction:r,selectedDate:a,loading:s})=>{const[o,l]=g.useState(!1),[u,d]=g.useState([]),[h,f]=g.useState(""),[p,y]=g.useState(""),[b,x]=g.useState([]),[j,w]=g.useState({HOURLY:[],DAILY:[],MONTHLY:[]}),[T,A]=g.useState(!1),[O,P]=g.useState(null);g.useEffect(()=>{o&&b.length===0&&S()},[o]);const S=async()=>{try{A(!0),P(null);const F=(await co.getGroupedByContractType()).data,G=Object.values(F).flat();x(G),w({HOURLY:F.HOURLY||[],DAILY:F.DAILY||[],MONTHLY:F.MONTHLY||[]})}catch(M){console.error("Error fetching employees:",M),P("Failed to load employees. Please try again."),x([]),w({HOURLY:[],DAILY:[],MONTHLY:[]})}finally{A(!1)}},E=async()=>{co.cache.clear(),await S()},k=g.useMemo(()=>b.filter(M=>{var I,q,B;const F=!h||((I=M.fullName)==null?void 0:I.toLowerCase().includes(h.toLowerCase()))||((q=M.jobPositionName)==null?void 0:q.toLowerCase().includes(h.toLowerCase()))||((B=M.siteName)==null?void 0:B.toLowerCase().includes(h.toLowerCase())),G=!p||M.contractType===p,J=M.status==="ACTIVE";return F&&G&&J}),[b,h,p]),D=g.useMemo(()=>{const M={HOURLY:[],DAILY:[],MONTHLY:[]};return k.forEach(F=>{const G=F.contractType||"MONTHLY";M[G]&&M[G].push(F)}),M},[k]),_=(M,F)=>{d(G=>F?[...G,M]:G.filter(J=>J!==M))},U=M=>{const F=D[M].map(G=>G.id);d(G=>[...new Set([...G,...F])])},R=()=>{d([])},$=async()=>{if(u.length!==0)try{await r("checkIn",u),d([])}catch(M){console.error("Bulk check-in failed:",M)}},L=async()=>{const M=D.MONTHLY.map(F=>F.id);if(M.length!==0)try{await r("generateMonthly",M)}catch(F){console.error("Monthly generation failed:",F)}},z=({employee:M,contractType:F})=>{const G=u.includes(M.id),J=F==="HOURLY"&&M.status==="ACTIVE";return t.jsxs("div",{className:`quick-action-card ${G?"selected":""}`,children:[t.jsxs("div",{className:"employee-quick-info",children:[t.jsx("input",{type:"checkbox",checked:G,onChange:I=>_(M.id,I.target.checked),className:"employee-checkbox"}),t.jsx("img",{src:M.photoUrl||"/default-avatar.png",alt:M.fullName,className:"employee-quick-avatar",onError:I=>{I.target.src="/default-avatar.png"}}),t.jsxs("div",{className:"employee-quick-details",children:[t.jsx("span",{className:"employee-quick-name",children:M.fullName}),t.jsxs("span",{className:"employee-quick-position",children:[M.jobPositionName,"  ",F]}),t.jsx("span",{className:"employee-quick-site",children:M.siteName})]})]}),J&&t.jsxs("div",{className:"employee-quick-actions",children:[t.jsx("button",{onClick:()=>e(M.id),disabled:s,className:"quick-action-btn check-in",title:`Check in ${M.fullName}`,children:t.jsx(Fu,{size:16})}),t.jsx("button",{onClick:()=>n(M.id),disabled:s,className:"quick-action-btn check-out",title:`Check out ${M.fullName}`,children:t.jsx(P6,{size:16})})]})]})},W=({contractType:M,employees:F,title:G})=>F.length===0?null:t.jsxs("div",{className:"contract-group",children:[t.jsxs("h4",{className:"contract-group-title",children:[G," (",F.length,")",t.jsxs("button",{onClick:()=>U(M),className:"select-all-btn",title:`Select all ${G.toLowerCase()}`,children:[t.jsx(tc,{size:14}),"Select All"]})]}),t.jsx("div",{className:"employee-cards",children:F.map(J=>t.jsx(z,{employee:J,contractType:M},J.id))})]});return t.jsxs("div",{className:"quick-action-panel",children:[t.jsxs("div",{className:"quick-action-header",onClick:()=>l(!o),children:[t.jsxs("div",{className:"quick-action-title",children:[t.jsx(Oae,{size:20}),t.jsx("h3",{children:"Quick Actions"}),t.jsxs("span",{className:"employee-count",children:["(",k.length," employees)"]}),O&&t.jsx("span",{className:"error-indicator",title:O,children:""})]}),t.jsxs("div",{className:"quick-action-header-actions",children:[o&&t.jsx("button",{onClick:M=>{M.stopPropagation(),E()},disabled:T,className:"refresh-btn",title:"Refresh employee data",children:t.jsx(Yd,{size:16,className:T?"spinning":""})}),t.jsx("button",{className:"expand-toggle",children:o?t.jsx(oN,{size:20}):t.jsx(iN,{size:20})})]})]}),o&&t.jsx("div",{className:"quick-action-content",children:T?t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading employees..."})]}):O?t.jsxs("div",{className:"error-state",children:[t.jsx("p",{className:"error-message",children:O}),t.jsx("button",{onClick:S,className:"retry-btn",children:"Try Again"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"quick-action-filters",children:[t.jsxs("div",{className:"search-box",children:[t.jsx(ec,{size:16}),t.jsx("input",{type:"text",placeholder:"Search employees, positions, or sites...",value:h,onChange:M=>f(M.target.value),className:"search-input"})]}),t.jsxs("div",{className:"filter-box",children:[t.jsx(q2,{size:16}),t.jsxs("select",{value:p,onChange:M=>y(M.target.value),className:"contract-filter",children:[t.jsx("option",{value:"",children:"All Contract Types"}),t.jsxs("option",{value:"HOURLY",children:["Hourly (",j.HOURLY.length,")"]}),t.jsxs("option",{value:"DAILY",children:["Daily (",j.DAILY.length,")"]}),t.jsxs("option",{value:"MONTHLY",children:["Monthly (",j.MONTHLY.length,")"]})]})]})]}),u.length>0&&t.jsxs("div",{className:"bulk-action-controls",children:[t.jsxs("div",{className:"selection-info",children:[t.jsxs("span",{children:[u.length," employee(s) selected"]}),t.jsx("button",{onClick:R,className:"clear-selection",children:"Clear Selection"})]}),t.jsx("div",{className:"bulk-actions",children:t.jsxs("button",{onClick:$,disabled:s,className:"bulk-action-btn primary",children:[t.jsx(Fu,{size:16}),"Bulk Check In (",u.length,")"]})})]}),t.jsx("div",{className:"quick-action-buttons",children:D.MONTHLY.length>0&&t.jsxs("button",{onClick:L,disabled:s,className:"quick-action-btn monthly-generate",children:[t.jsx(da,{size:16}),"Generate Monthly Attendance (",D.MONTHLY.length,")"]})}),t.jsxs("div",{className:"employee-grid",children:[t.jsx(W,{contractType:"HOURLY",employees:D.HOURLY,title:"Hourly Employees"}),t.jsx(W,{contractType:"DAILY",employees:D.DAILY,title:"Daily Employees"}),t.jsx(W,{contractType:"MONTHLY",employees:D.MONTHLY,title:"Monthly Employees"})]}),k.length===0&&!T&&t.jsxs("div",{className:"no-employees",children:[t.jsx(tc,{size:48}),t.jsx("p",{children:"No active employees found"}),(h||p)&&t.jsx("button",{onClick:()=>{f(""),y("")},className:"clear-filters-btn",children:"Clear Filters"})]})]})})]})},Rle="http://localhost:8080",tr=Qt.create({baseURL:`${Rle}/api/v1/attendance`,headers:{"Content-Type":"application/json"},timeout:3e4});tr.interceptors.request.use(e=>{const n=localStorage.getItem("token");return n?n.includes(".")?(e.headers.Authorization=`Bearer ${n}`,e):(localStorage.removeItem("token"),window.location.href="/login",Promise.reject("Invalid token format")):(window.location.href="/login",Promise.reject("No auth token found"))},e=>Promise.reject(e));tr.interceptors.response.use(e=>e,e=>{var n,r,a,s;return e.code==="ECONNABORTED"?e.message="Request timeout. Please try again.":((n=e.response)==null?void 0:n.status)===401?(localStorage.removeItem("token"),window.location.href="/login"):((r=e.response)==null?void 0:r.status)===403?e.message="Access denied. You do not have permission to perform this action.":((a=e.response)==null?void 0:a.status)===404?e.message="Resource not found.":((s=e.response)==null?void 0:s.status)>=500?e.message="Server error. Please try again later.":e.response||(e.message="Network error. Please check your connection."),Promise.reject(e)});const Lt={recordAttendance:async e=>{try{return await tr.post("/record",e)}catch(n){throw console.error("Error recording attendance:",n),n}},checkIn:async(e,n,r=null,a=null,s=null)=>{try{const o=new URLSearchParams({employeeId:e,checkInTime:n});return r&&o.append("location",r),a!==null&&o.append("latitude",a.toString()),s!==null&&o.append("longitude",s.toString()),await tr.post(`/check-in?${o.toString()}`)}catch(o){throw console.error("Error checking in employee:",o),o}},checkOut:async(e,n)=>{try{const r=new URLSearchParams({employeeId:e,checkOutTime:n});return await tr.post(`/check-out?${r.toString()}`)}catch(r){throw console.error("Error checking out employee:",r),r}},markDailyAttendance:async(e,n,r,a=null)=>{try{const s=new URLSearchParams({employeeId:e,date:n,status:r});return a&&s.append("notes",a),await tr.post(`/daily?${s.toString()}`)}catch(s){throw console.error("Error marking daily attendance:",s),s}},generateMonthlyAttendance:async(e,n,r)=>{try{const a=new URLSearchParams({employeeId:e,year:n.toString(),month:r.toString()});return await tr.post(`/generate-monthly?${a.toString()}`)}catch(a){throw console.error("Error generating monthly attendance:",a),a}},getEmployeeAttendance:async(e,n,r)=>{try{const a=new URLSearchParams({startDate:n,endDate:r});return await tr.get(`/employee/${e}?${a.toString()}`)}catch(a){throw console.error("Error fetching employee attendance:",a),a}},getMonthlyAttendanceSummary:async(e,n,r)=>{try{const a=new URLSearchParams({year:n.toString(),month:r.toString()});return await tr.get(`/employee/${e}/monthly-summary?${a.toString()}`)}catch(a){throw console.error("Error fetching monthly attendance summary:",a),a}},getDailyAttendanceSummary:async e=>{try{const n=new URLSearchParams({date:e});return await tr.get(`/daily-summary?${n.toString()}`)}catch(n){throw console.error("Error fetching daily attendance summary:",n),n}},updateAttendanceStatus:async(e,n)=>{try{const r=new URLSearchParams({status:n});return await tr.put(`/${e}/status?${r.toString()}`)}catch(r){throw console.error("Error updating attendance status:",r),r}},getAttendanceStatistics:async(e,n,r)=>{try{const a=new URLSearchParams({startDate:n,endDate:r});return await tr.get(`/employee/${e}/statistics?${a.toString()}`)}catch(a){throw console.error("Error fetching attendance statistics:",a),a}},getMonthlyAttendance:async(e,n,r)=>{try{const a=new URLSearchParams({year:n.toString(),month:r.toString()});return await tr.get(`/employee/${e}/monthly?${a.toString()}`)}catch(a){throw console.error("Error fetching monthly attendance:",a),a}},recordHourlyAttendance:async e=>{try{return await tr.post("/hourly",e)}catch(n){throw console.error("Error recording hourly attendance:",n),n}},markPresent:async e=>{try{return await tr.post("/mark-present",e)}catch(n){throw console.error("Error marking employee present:",n),n}},bulk:{recordMultiple:async e=>{try{const n=e.map(a=>Lt.recordAttendance(a).catch(s=>({status:"rejected",reason:s,record:a}))),r=await Promise.allSettled(n);return{results:r,successful:r.filter(a=>a.status==="fulfilled").length,failed:r.filter(a=>a.status==="rejected").length,total:r.length}}catch(n){throw console.error("Error in bulk record operation:",n),n}},checkInMultiple:async e=>{try{const n=e.map(a=>Lt.checkIn(a.employeeId,a.checkInTime,a.location).then(s=>({status:"fulfilled",value:s,employeeId:a.employeeId})).catch(s=>({status:"rejected",reason:s.message||"Check-in failed",employeeId:a.employeeId}))),r=await Promise.all(n);return{results:r,successful:r.filter(a=>a.status==="fulfilled").length,failed:r.filter(a=>a.status==="rejected").length,total:r.length,details:r}}catch(n){throw console.error("Error in bulk check-in operation:",n),n}},checkOutMultiple:async e=>{try{const n=e.map(a=>Lt.checkOut(a.employeeId,a.checkOutTime).then(s=>({status:"fulfilled",value:s,employeeId:a.employeeId})).catch(s=>({status:"rejected",reason:s.message||"Check-out failed",employeeId:a.employeeId}))),r=await Promise.all(n);return{results:r,successful:r.filter(a=>a.status==="fulfilled").length,failed:r.filter(a=>a.status==="rejected").length,total:r.length,details:r}}catch(n){throw console.error("Error in bulk check-out operation:",n),n}},generateMonthlyMultiple:async(e,n,r)=>{try{const a=e.map(o=>Lt.generateMonthlyAttendance(o,n,r).then(l=>({status:"fulfilled",value:l,employeeId:o})).catch(l=>({status:"rejected",reason:l.message||"Monthly generation failed",employeeId:o}))),s=await Promise.all(a);return{results:s,successful:s.filter(o=>o.status==="fulfilled").length,failed:s.filter(o=>o.status==="rejected").length,total:s.length,details:s}}catch(a){throw console.error("Error in bulk monthly generation:",a),a}}},utils:{formatTime:e=>{try{if(e instanceof Date)return e.toTimeString().slice(0,5);if(typeof e=="string"){if(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e))return e;const r=new Date(`2000-01-01T${e}`);if(!isNaN(r.getTime()))return r.toTimeString().slice(0,5)}return e}catch(n){return console.warn("Error formatting time:",n),e}},formatDate:e=>{try{if(e instanceof Date)return e.toISOString().split("T")[0];if(typeof e=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const r=new Date(e);if(!isNaN(r.getTime()))return r.toISOString().split("T")[0]}return e}catch(n){return console.warn("Error formatting date:",n),e}},validateAttendanceData:e=>{const n=[],r=[];if(e.employeeId||n.push("Employee ID is required"),!e.date)n.push("Date is required");else{const a=new Date(e.date),s=new Date,o=new Date;o.setDate(s.getDate()+7);const l=new Date;l.setDate(s.getDate()-30),a>o?n.push("Cannot record attendance more than 7 days in the future"):a<l&&r.push("Recording attendance for more than 30 days ago")}switch(e.contractType){case"HOURLY":if(e.checkInTime||n.push("Check-in time is required for hourly employees"),e.checkOutTime&&e.checkInTime){const a=new Date(`2000-01-01T${e.checkInTime}`),s=new Date(`2000-01-01T${e.checkOutTime}`);if(s<=a)n.push("Check-out time must be after check-in time");else{const o=(s-a)/36e5;o>16&&r.push("Work duration exceeds 16 hours"),o>24&&n.push("Work duration cannot exceed 24 hours")}}if(e.breakDurationMinutes){const a=parseInt(e.breakDurationMinutes);(a<0||a>480)&&n.push("Break duration must be between 0 and 480 minutes")}break;case"DAILY":e.dailyStatus||n.push("Daily status is required for daily employees");break;case"MONTHLY":e.status||n.push("Attendance status is required for monthly employees");break;default:n.push("Invalid or missing contract type")}if(e.latitude&&e.longitude){const a=parseFloat(e.latitude),s=parseFloat(e.longitude);(a<-90||a>90)&&n.push("Invalid latitude value"),(s<-180||s>180)&&n.push("Invalid longitude value")}return{isValid:n.length===0,errors:n,warnings:r,hasWarnings:r.length>0}},calculateWorkDuration:(e,n,r=0)=>{try{if(!e||!n)return{hours:0,minutes:0,totalMinutes:0,formatted:"0h 0m"};const a=new Date(`2000-01-01T${e}`);let o=(new Date(`2000-01-01T${n}`)-a)/(1e3*60);o-=r,o<0&&(o=0);const l=Math.floor(o/60),u=Math.round(o%60);return{hours:l,minutes:u,totalMinutes:o,formatted:`${l}h ${u}m`,decimal:Number((o/60).toFixed(2))}}catch(a){return console.warn("Error calculating work duration:",a),{hours:0,minutes:0,totalMinutes:0,formatted:"0h 0m",decimal:0}}},getCurrentLocation:(e={})=>{const n={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4,...e};return new Promise((r,a)=>{if(!navigator.geolocation){a(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(s=>{r({latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,timestamp:s.timestamp,formatted:`${s.coords.latitude.toFixed(6)}, ${s.coords.longitude.toFixed(6)}`})},s=>{let o="Unable to get location";switch(s.code){case s.PERMISSION_DENIED:o="Location access denied. Please enable location permissions.";break;case s.POSITION_UNAVAILABLE:o="Location information unavailable.";break;case s.TIMEOUT:o="Location request timed out.";break}a(new Error(o))},n)})},getAttendanceStatusInfo:e=>{if(!e)return{status:"unknown",label:"Unknown",color:"#9e9e9e"};const n={present:{label:"Present",color:"#4caf50"},absent:{label:"Absent",color:"#f44336"},late:{label:"Late",color:"#ff9800"},checkedin:{label:"Checked In",color:"#2196f3"},leave:{label:"On Leave",color:"#9c27b0"},holiday:{label:"Holiday",color:"#673ab7"},unknown:{label:"Unknown",color:"#9e9e9e"}};let r="unknown";if(e.isLeave||e.status==="ON_LEAVE"||e.dailyStatus==="LEAVE")r="leave";else if(e.isHoliday||e.dailyStatus==="HOLIDAY")r="holiday";else switch(e.contractType){case"HOURLY":e.checkInTime&&!e.checkOutTime?r="checkedin":e.checkInTime&&e.checkOutTime?r=e.isLate?"late":"present":r="absent";break;case"DAILY":r=e.dailyStatus==="PRESENT"?"present":"absent";break;case"MONTHLY":e.status==="PRESENT"?r="present":e.status==="LATE"?r="late":r="absent";break}return{status:r,...n[r]}}}},qle=()=>{const[e,n]=g.useState("calendar"),[r,a]=g.useState(new Date),[s,o]=g.useState(null),[l,u]=g.useState([]),[d,h]=g.useState([]),[f,p]=g.useState(!1),[y,b]=g.useState(!1),[x,j]=g.useState({employeeId:"",department:"",site:"",status:"",contractType:""}),[w,T]=g.useState(!1),[A,O]=g.useState(null),[P,S]=g.useState({}),{showSnackbar:E}=cn();g.useEffect(()=>{k()},[]),g.useEffect(()=>{(x.employeeId||e==="list")&&_()},[r,x,e]),g.useEffect(()=>{if(x.employeeId){const I=d.find(q=>q.id===x.employeeId);o(I)}else o(null)},[x.employeeId,d]);const k=async()=>{await D()},D=async()=>{try{p(!0);let I;try{I=await co.getMinimal()}catch(q){console.warn("Minimal endpoint not available, falling back to full data:",q),I=await co.getAll()}h(I.data||[])}catch(I){console.error("Error fetching employees:",I),E("Failed to fetch employees","error"),h([])}finally{p(!1)}},_=async()=>{if(!(!x.employeeId&&e!=="list"))try{b(!0);const I=new Date(r.getFullYear(),r.getMonth(),1),q=new Date(r.getFullYear(),r.getMonth()+1,0);if(x.employeeId){const[B,H]=await Promise.all([Lt.getEmployeeAttendance(x.employeeId,Lt.utils.formatDate(I),Lt.utils.formatDate(q)),Lt.getMonthlyAttendanceSummary(x.employeeId,r.getFullYear(),r.getMonth()+1).catch(()=>({data:{}}))]);u(B.data||[]),S(H.data||{})}else if(e==="list"){const B=await Lt.getDailyAttendanceSummary(Lt.utils.formatDate(r));u(B.data||{}),S({})}}catch(I){console.error("Error fetching attendance data:",I),E("Failed to fetch attendance data","error"),u(e==="list"?{}:[]),S({})}finally{b(!1)}},U=async I=>{var q,B;try{p(!0);const H=Lt.utils.validateAttendanceData(I);return H.isValid?(A!=null&&A.id?(await Lt.recordAttendance({...I,id:A.id}),E("Attendance updated successfully","success")):(await Lt.recordAttendance(I),E("Attendance recorded successfully","success")),T(!1),O(null),await _(),!0):(E(`Validation Error: ${H.errors.join(", ")}`,"error"),!1)}catch(H){console.error("Error recording attendance:",H);const K=((B=(q=H.response)==null?void 0:q.data)==null?void 0:B.message)||"Failed to record attendance";return E(K,"error"),!1}finally{p(!1)}},R=async(I,q=null)=>{var B,H;try{p(!0);const K=new Date,ie=Lt.utils.formatTime(K);let ae={latitude:null,longitude:null};if(!q&&navigator.geolocation)try{const me=await W();ae.latitude=me.coords.latitude,ae.longitude=me.coords.longitude,q=`${ae.latitude.toFixed(6)}, ${ae.longitude.toFixed(6)}`}catch(me){console.warn("Could not get location:",me)}await Lt.checkIn(I,ie,q,ae.latitude,ae.longitude),E("Employee checked in successfully","success"),await _()}catch(K){console.error("Error checking in employee:",K);const ie=((H=(B=K.response)==null?void 0:B.data)==null?void 0:H.message)||"Failed to check in employee";E(ie,"error")}finally{p(!1)}},$=async I=>{var q,B;try{p(!0);const H=new Date,K=Lt.utils.formatTime(H);await Lt.checkOut(I,K),E("Employee checked out successfully","success"),await _()}catch(H){console.error("Error checking out employee:",H);const K=((B=(q=H.response)==null?void 0:q.data)==null?void 0:B.message)||"Failed to check out employee";E(K,"error")}finally{p(!1)}},L=async(I,q)=>{try{p(!0);let B=[];switch(I){case"checkIn":const ie=q.map(ae=>({employeeId:ae,checkInTime:Lt.utils.formatTime(new Date),location:null}));B=await Lt.bulk.checkInMultiple(ie);break;case"generateMonthly":B=await Lt.bulk.generateMonthlyMultiple(q,r.getFullYear(),r.getMonth()+1);break;default:throw new Error("Unknown bulk action")}const H=B.filter(ie=>ie.status==="fulfilled").length,K=B.filter(ie=>ie.status==="rejected").length;K===0?E(`Successfully processed ${H} employees`,"success"):E(`Processed ${H} employees, ${K} failed`,"warning"),await _()}catch(B){console.error("Error in bulk action:",B),E("Bulk operation failed","error")}finally{p(!1)}},z=async()=>{try{p(!0);let I=[],q="";if(x.employeeId&&s){const B=new Date(r.getFullYear(),r.getMonth(),1),H=new Date(r.getFullYear(),r.getMonth()+1,0);I=(await Lt.getEmployeeAttendance(x.employeeId,Lt.utils.formatDate(B),Lt.utils.formatDate(H))).data||[],q=`${s.fullName}_Attendance_${r.getFullYear()}-${r.getMonth()+1}.csv`}else{const B=await Lt.getDailyAttendanceSummary(Lt.utils.formatDate(r));I=M(B.data),q=`Daily_Attendance_${Lt.utils.formatDate(r)}.csv`}if(I.length===0){E("No data to export","warning");return}F(I,q),E("Attendance data exported successfully","success")}catch(I){console.error("Error exporting attendance:",I),E("Failed to export attendance data","error")}finally{p(!1)}},W=()=>new Promise((I,q)=>{navigator.geolocation.getCurrentPosition(I,q,{timeout:5e3,enableHighAccuracy:!1})}),M=I=>{if(!I||typeof I!="object")return[];const q=[];return["present","absent","late","checkedIn"].forEach(B=>{I[B]&&Array.isArray(I[B])&&I[B].forEach(H=>{q.push({employeeName:H.employeeName||"Unknown",employeeId:H.employeeId||"",status:B,date:H.date||Lt.utils.formatDate(r),checkInTime:H.checkInTime||"",checkOutTime:H.checkOutTime||"",hoursWorked:H.hoursWorked||0,location:H.location||""})})}),q},F=(I,q)=>{if(!I||I.length===0)return;const B=Object.keys(I[0]),H=[B.join(","),...I.map(ae=>B.map(me=>{const de=ae[me];return typeof de=="string"&&de.includes(",")?`"${de}"`:de}).join(","))].join(`
`),K=new Blob([H],{type:"text/csv;charset=utf-8;"}),ie=document.createElement("a");if(ie.download!==void 0){const ae=URL.createObjectURL(K);ie.setAttribute("href",ae),ie.setAttribute("download",q),ie.style.visibility="hidden",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)}},G=I=>{const q=new Date(r);e==="calendar"?q.setMonth(q.getMonth()+I):q.setDate(q.getDate()+I),a(q)},J=async()=>{await Promise.all([D(),_()])};return g.useEffect(()=>{const I=q=>{if(q.ctrlKey||q.metaKey)switch(q.key){case"ArrowLeft":q.preventDefault(),G(-1);break;case"ArrowRight":q.preventDefault(),G(1);break;case"n":q.preventDefault(),T(!0);break;case"e":q.preventDefault(),z();break;case"r":q.preventDefault(),J();break}};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r,e,x]),t.jsxs("div",{className:"rockops-attendance-page",children:[t.jsxs("div",{className:"rockops-attendance-header",children:[t.jsxs("div",{className:"rockops-attendance-header-left",children:[t.jsxs("h1",{className:"rockops-attendance-title",children:[t.jsx(hr,{className:"rockops-attendance-title-icon"}),"Attendance Management"]}),t.jsx("p",{className:"rockops-attendance-subtitle",children:"Track and manage employee attendance across different contract types"})]}),t.jsxs("div",{className:"rockops-attendance-header-actions",children:[t.jsxs("button",{className:"rockops-btn rockops-btn--outline",onClick:J,disabled:f||y,title:"Refresh data (Ctrl+R)",children:[t.jsx(Yd,{size:16,className:y?"spinning":""}),"Refresh"]}),t.jsxs("button",{className:"rockops-btn rockops-btn--outline",onClick:z,disabled:f,title:"Export attendance data (Ctrl+E)",children:[t.jsx(Vre,{size:16}),"Export"]}),t.jsxs("button",{className:"rockops-btn rockops-btn--primary",onClick:()=>T(!0),disabled:f,title:"Record new attendance (Ctrl+N)",children:[t.jsx(M6,{size:16}),"Record Attendance"]})]})]}),t.jsx(Ile,{onQuickCheckIn:R,onQuickCheckOut:$,onBulkAction:L,selectedDate:r,loading:f}),s&&Object.keys(P).length>0&&t.jsx(Mle,{stats:P,employee:s}),t.jsx(Ple,{filters:x,setFilters:j,employees:d,selectedDate:r,setSelectedDate:a}),t.jsxs("div",{className:"rockops-attendance-view-controls",children:[t.jsxs("div",{className:"rockops-attendance-view-toggle",children:[t.jsxs("button",{className:`rockops-attendance-toggle-btn ${e==="calendar"?"rockops-attendance-toggle-btn--active":""}`,onClick:()=>n("calendar"),disabled:f,children:[t.jsx(da,{size:16}),"Calendar View"]}),t.jsxs("button",{className:`rockops-attendance-toggle-btn ${e==="list"?"rockops-attendance-toggle-btn--active":""}`,onClick:()=>n("list"),disabled:f,children:[t.jsx(tc,{size:16}),"List View"]})]}),t.jsx("div",{className:"rockops-attendance-navigation-hint",children:t.jsx("span",{className:"rockops-attendance-hint-text",children:"Keyboard shortcuts: Ctrl+  (navigate), Ctrl+N (new), Ctrl+E (export), Ctrl+R (refresh)"})})]}),t.jsx("div",{className:"rockops-attendance-content",children:f&&!y?t.jsxs("div",{className:"rockops-attendance-loading",children:[t.jsx("div",{className:"rockops-attendance-loading-spinner"}),t.jsx("p",{children:"Loading attendance data..."})]}):t.jsx(t.Fragment,{children:e==="calendar"?t.jsx(Ole,{selectedDate:r,setSelectedDate:a,attendanceData:l,selectedEmployee:s,onEditAttendance:I=>{O(I),T(!0)},onQuickCheckIn:R,onQuickCheckOut:$,loading:y}):t.jsx(Dle,{attendanceData:l,employees:d,selectedDate:r,onEditAttendance:I=>{O(I),T(!0)},onQuickCheckIn:R,onQuickCheckOut:$,onBulkAction:L,loading:y})})}),w&&t.jsx(_le,{isOpen:w,onClose:()=>{T(!1),O(null)},onSubmit:U,employees:d,initialData:A,selectedDate:r,loading:f})]})},Lle=()=>{const{currentUser:e,isAuthenticated:n,loading:r}=Xt();return r?t.jsx(pc,{}):n?t.jsx(Vu,{to:(e==null?void 0:e.role)==="ADMIN"?"/admin":"/dashboard",replace:!0}):t.jsx(Vu,{to:"/login",replace:!0})},an=({allowedRoles:e,children:n,redirectPath:r="/dashboard"})=>{const{currentUser:a,isAuthenticated:s,loading:o}=Xt();return o?t.jsx(pc,{}):s?e.includes(a==null?void 0:a.role)?n:t.jsx(Vu,{to:r,replace:!0}):t.jsx(Vu,{to:"/login",replace:!0})},Vn=["ADMIN","USER","SITE_ADMIN","PROCUREMENT","WAREHOUSE_MANAGER","SECRETARY","EQUIPMENT_MANAGER","HR_MANAGER","HR_EMPLOYEE","FINANCE_EMPLOYEE","FINANCE_MANAGER"],$le=()=>t.jsx(N9,{children:t.jsxs("div",{className:"app-container",children:[t.jsx(w9,{}),t.jsxs("div",{className:"main-content-wrapper",children:[t.jsx(A9,{}),t.jsx("main",{className:"main-content",children:t.jsx(SN,{})})]})]})});function Ble(){const[e,n]=g.useState(0);return t.jsx(a$,{children:t.jsx(Nie,{children:t.jsx(A7,{children:t.jsx(k7,{children:t.jsx(O7,{children:t.jsxs(_L,{children:[t.jsx(ut,{path:"/login",element:t.jsx(D7,{})}),t.jsx(ut,{path:"/",element:t.jsx(Lle,{})}),t.jsxs(ut,{element:t.jsx($le,{}),children:[t.jsx(ut,{path:"/admin",element:t.jsx(an,{allowedRoles:["ADMIN"],children:t.jsx(T9,{})})}),t.jsx(ut,{path:"/dashboard",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(xie,{})})}),t.jsx(ut,{path:"/partners",element:t.jsx(an,{allowedRoles:["ADMIN","SITE_ADMIN"],children:t.jsx(soe,{})})}),t.jsxs(ut,{path:"/sites",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Om,{})}),children:[t.jsx(ut,{index:!0,element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(aoe,{})})}),t.jsx(ut,{path:"details/:siteId",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(hoe,{})})}),t.jsx(ut,{path:"employee-details/:id",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Q3,{})})})]}),t.jsxs(ut,{path:"/warehouses",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Om,{})}),children:[t.jsx(ut,{index:!0,element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(ele,{})})}),t.jsx(ut,{path:":id",element:t.jsx(dle,{})}),t.jsx(ut,{path:"warehouse-details/:id",element:t.jsx(hle,{})})]}),t.jsx(ut,{path:"/merchants",element:t.jsx(an,{allowedRoles:["ADMIN","PROCUREMENT","SITE_ADMIN","WAREHOUSE_MANAGER"],children:t.jsx(wle,{})})}),t.jsx(ut,{path:"/merchants/:id",element:t.jsx(an,{allowedRoles:["ADMIN","PROCUREMENT","SITE_ADMIN"],children:t.jsx(mle,{})})}),t.jsxs(ut,{path:"/procurement",element:t.jsx(an,{allowedRoles:["PROCUREMENT","SITE_ADMIN","ADMIN"],children:t.jsx(Om,{})}),children:[t.jsx(ut,{path:"request-orders",element:t.jsx(Tle,{})}),t.jsx(ut,{path:"request-orders/:id",element:t.jsx(Nle,{})}),t.jsx(ut,{path:"offers",element:t.jsx(jle,{})}),t.jsx(ut,{path:"purchase-orders",element:t.jsx(Ale,{})}),t.jsx(ut,{path:"purchase-orders/:id",element:t.jsx(kle,{})})]}),t.jsxs(ut,{path:"/hr",element:t.jsx(an,{allowedRoles:["HR_MANAGER","HR_EMPLOYEE","ADMIN"],children:t.jsx(qie,{})}),children:[t.jsx(ut,{path:"vacancies",element:t.jsx(wie,{})}),t.jsx(ut,{path:"positions",element:t.jsx(Pie,{})}),t.jsx(ut,{path:"employees",element:t.jsx(Rie,{})}),t.jsx(ut,{path:"employee-details/:id",element:t.jsx(Q3,{})}),t.jsx(ut,{path:"attendance",element:t.jsx(qle,{})}),t.jsx(ut,{path:"vacancies/:id",element:t.jsx(toe,{})}),t.jsx(ut,{path:"departments",element:t.jsx(noe,{})})]}),t.jsxs(ut,{path:"/equipment",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Om,{})}),children:[t.jsx(ut,{index:!0,element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Noe,{})})}),t.jsx(ut,{path:"brand-management",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Soe,{})})}),t.jsx(ut,{path:"type-management",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Eoe,{})})}),t.jsx(ut,{path:"work-type-management",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Toe,{})})}),t.jsx(ut,{path:"maintenance-type-management",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Aoe,{})})}),t.jsx(ut,{path:"info/:EquipmentID",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Coe,{})})}),t.jsx(ut,{path:":EquipmentID",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Joe,{})})})]}),t.jsx(ut,{path:"/related-documents/:entityType/:entityId",element:t.jsx(an,{allowedRoles:Vn,children:t.jsx(Zoe,{})})})]}),t.jsx(ut,{path:"*",element:t.jsx(Vu,{to:"/",replace:!0})})]})})})})})})}U5.createRoot(document.getElementById("root")).render(t.jsx(g.StrictMode,{children:t.jsx(Ble,{})}));export{um as c,kt as g};
